<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>NEWS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            NEWS
        </h1>
        <ul class="files">
            
            <li>
                NEWS
                
            </li>
            <li>Last modified: 2015-12-24 15:02:02 +0100</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-NEWS+for+Ruby+2.3.0"><a href="NEWS.html">NEWS</a> for Ruby 2.3.0</h1>

<p>This document is a list of user visible feature changes made between
releases except for bug fixes.</p>

<p>Note that each entry is kept so brief that no reason behind or reference
information is supplied with.  For a full list of changes with all
sufficient information, see the <a href="ChangeLog.html">ChangeLog</a> file
or Redmine (e.g.
<code>https://bugs.ruby-lang.org/issues/$FEATURE_OR_BUG_NUMBER</code>)</p>

<h2 id="label-Changes+since+the+2.2.0+release">Changes since the 2.2.0 release</h2>

<h3 id="label-Language+changes">Language changes</h3>
<ul><li>
<p>frozen-string-literal pragma:</p>
<ul><li>
<p>new pragma, frozen-string-literal has been experimentally introduced.</p>
<dl class="rdoc-list label-list"><dt>Feature #8976
<dd></dd></dl>
</li><li>
<p>besides, –enable/–disable=frozen-string-literal options also have been
introduced. [Feature #8976]</p>
</li><li>
<p>command line options –debug or –debug=frozen-string-literal enable
additional debugging mode which shows created location with at frozen
object error (RuntimeError).</p>
<dl class="rdoc-list label-list"><dt>Feature #11725
<dd></dd></dl>
</li></ul>
</li><li>
<p>safe navigation operator:</p>
<ul><li>
<p>new method call syntax, `object&amp;.foo&#39;, method foo is called on
`object&#39; if it is not nil. this is similar to `try!&#39; in Active
Support, except:</p>
<ul><li>
<p>method name is syntactically required</p>

<pre><code>obj.try! {} # valid
obj&amp;. {}    # syntax error</code></pre>
</li><li>
<p>arguments are evaluated only if a call is made:</p>

<pre><code>obj.try!(:foo, bar())  # bar() is always evaluated
obj&amp;.foo(bar())        # bar() is conditionally evaluated
</code></pre>
</li><li>
<p>attribute assignment is valid</p>

<pre><code>obj&amp;.attr += 1
</code></pre>
</li></ul>
<dl class="rdoc-list label-list"><dt>Feature #11537
<dd></dd></dl>
</li></ul>
</li><li>
<p>the did_you_mean gem:</p>
<ul><li>
<p>When a <a href="../classes/NameError.html">NameError</a> or <a
href="../classes/NoMethodError.html">NoMethodError</a> occurs because of a
typo in the name, the did_you_mean gem automatically suggests other names
similar to the method name.</p>

<pre><code>&quot;Yuki&quot;.starts_with?(&quot;Y&quot;)
# =&gt; NoMethodError: undefined method `starts_with?&#39; for &quot;Yuki&quot;:String
#    Did you mean?  start_with?
</code></pre>
</li></ul>
</li><li>
<p>indented here document:</p>
<ul><li>
<p>new string literal, here document starts with `&lt;&lt;~`. refer <a
href="doc/syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a> for more
details.</p>
<dl class="rdoc-list label-list"><dt>Feature #9098
<dd></dd></dl>
</li></ul>
</li></ul>

<h3 id="label-Core+classes+updates+-28outstanding+ones+only-29">Core classes updates (outstanding ones only)</h3>
<ul><li>
<p>ARGF</p>
<ul><li>
<p>ARGF.read_nonblock supports `exception: false&#39; like <a
href="../classes/IO.html#method-i-read_nonblock">IO#read_nonblock</a>.</p>
<dl class="rdoc-list label-list"><dt>Feature #11358
<dd></dd></dl>
</li></ul>
</li><li>
<p>Array</p>
<ul><li>
<p><a
href="../classes/Array.html#method-i-bsearch_index">Array#bsearch_index</a>
[Feature #10730]</p>
</li><li>
<p><a href="../classes/Array.html#method-i-dig">Array#dig</a> [Feature #11643]</p>
</li></ul>
</li><li>
<p><a href="../classes/Comparable.html">Comparable</a></p>
<ul><li>
<p>Comparable#== no longer rescues exceptions [Feature #7688]</p>
</li></ul>
</li><li>
<p><a href="../classes/Encoding.html">Encoding</a></p>
<ul><li>
<p>new Encoding::IBM037 (alias ebcdic-cp-us; dummy)</p>
</li></ul>
</li><li>
<p><a href="../classes/Enumerable.html">Enumerable</a></p>
<ul><li>
<p><a href="../classes/Enumerable.html#method-i-grep_v">Enumerable#grep_v</a>
is added as inverse version of <a
href="../classes/Enumerable.html#method-i-grep">Enumerable#grep</a>.</p>
<dl class="rdoc-list label-list"><dt>Feature #11049
<dd></dd></dl>
</li><li>
<p><a
href="../classes/Enumerable.html#method-i-chunk_while">Enumerable#chunk_while</a>
[Feature #10769]</p>
</li></ul>
</li><li>
<p><a href="../classes/Enumerator/Lazy.html">Enumerator::Lazy</a></p>
<ul><li>
<p><a
href="../classes/Enumerator/Lazy.html#method-i-grep_v">Enumerator::Lazy#grep_v</a>
[Feature #11773]</p>
</li></ul>
</li><li>
<p><a href="../classes/File.html">File</a></p>
<ul><li>
<p><a href="../classes/File.html#method-c-mkfifo">File.mkfifo</a> [Feature
#11536]</p>
</li><li>
<p>Add File::TMPFILE corresponding to O_TMPFILE</p>
</li></ul>
</li><li>
<p><a href="../classes/Hash.html">Hash</a></p>
<ul><li>
<p><a href="../classes/Hash.html#method-i-fetch_values">Hash#fetch_values</a>
[Feature #10017]</p>
</li><li>
<p><a href="../classes/Hash.html#method-i-dig">Hash#dig</a> [Feature #11643]</p>
</li><li>
<p>Hash#&lt;=, Hash#&lt;, Hash#&gt;=, Hash#&gt; [Feature #10984]</p>
</li><li>
<p><a href="../classes/Hash.html#method-i-to_proc">Hash#to_proc</a> [Feature
#11653]</p>
</li></ul>
</li><li>
<p><a href="../classes/IO.html">IO</a></p>
<ul><li>
<p>new mode flag File::SHARE_DELETE is available. this flag means to permit
deleting opened file on Windows, but currently this affect only files
opened as binary.  [Feature #11218]</p>
</li><li>
<p>new option parameter `flags&#39; is added. this parameter is bitwise-ORed
to oflags generated by normal mode argument.</p>
<dl class="rdoc-list label-list"><dt>Feature #11253
<dd></dd></dl>
</li><li>
<p><a href="../classes/IO.html#method-i-advise">IO#advise</a> no longer raises
Errno::ENOSYS in cases where it was detected at build time but not
available at runtime.  [Feature #11806]</p>
</li></ul>
</li><li>
<p><a href="../classes/Kernel.html">Kernel</a></p>
<ul><li>
<p><a href="../classes/Kernel.html#method-i-loop">Kernel#loop</a>, when
stopped by a <a href="../classes/StopIteration.html">StopIteration</a>
exception, returns what the enumerator has returned instead of nil.
[Feature #11498]</p>
</li></ul>
</li><li>
<p><a href="../classes/Module.html">Module</a></p>
<ul><li>
<p><a
href="../classes/Module.html#method-i-deprecate_constant">Module#deprecate_constant</a>
[Feature #11398]</p>
</li></ul>
</li><li>
<p><a href="../classes/NameError.html">NameError</a></p>
<ul><li>
<p><a
href="../classes/NameError.html#method-i-receiver">NameError#receiver</a>
is added to take the receiver object. [Feature #10881]</p>
</li></ul>
</li><li>
<p><a href="../classes/Numeric.html">Numeric</a></p>
<ul><li>
<p><a
href="../classes/Numeric.html#method-i-positive-3F">Numeric#positive?</a>
and <a
href="../classes/Numeric.html#method-i-negative-3F">Numeric#negative?</a>
are added, which return true when the receiver is positive and negative
respectively.</p>
<dl class="rdoc-list label-list"><dt>Feature #11151
<dd></dd></dl>
</li></ul>
</li><li>
<p><a href="../classes/Proc.html">Proc</a></p>
<ul><li>
<p>Proc#call (and also [], ===, yield) are optimized. Backtrace doesn&#39;t
show each method (show block lines directly). <a
href="../classes/TracePoint.html">TracePoint</a> also ignores these calls.
[Feature #11569]</p>
</li></ul>
</li><li>
<p><a href="../classes/Queue.html">Queue</a> (Thread::Queue)</p>
<ul><li>
<p><a href="../classes/Queue.html#method-i-close">Queue#close</a> is added to
notice a termination. [Feature #10600]</p>
</li></ul>
</li><li>
<p>Regexp/String: Updated Unicode version from 7.0.0 to 8.0.0</p>
</li><li>
<p><a
href="../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a></p>
<ul><li>
<p>add the following methods as a primitive tool of iseq loader. See
sample/iseq_loader.rb for usage. Note that loader does not have verifier so
it is easy to cause critical problem by loading modified/broken binary
data. See [Feature #11788] for more details. (experimental feature)</p>
<ul><li>
<p><a
href="../classes/RubyVM/InstructionSequence.html#method-i-to_binary">RubyVM::InstructionSequence#to_binary</a>(extra_data
= nil)</p>
</li><li>
<p><a
href="../classes/RubyVM/InstructionSequence.html#method-c-load_from_binary">RubyVM::InstructionSequence.load_from_binary</a></p>
</li><li>
<p><a
href="../classes/RubyVM/InstructionSequence.html#method-c-load_from_binary_extra_data">RubyVM::InstructionSequence.load_from_binary_extra_data</a></p>
</li></ul>
</li></ul>
</li><li>
<p>String</p>
<ul><li>
<p>String#+@ and String#-@ are added to get mutable/frozen strings.</p>
<dl class="rdoc-list label-list"><dt>Feature #11782
<dd></dd></dl>
</li><li>
<p><a href="../classes/String.html#method-c-new">String.new</a> now accepts
new option parameter `encoding&#39;.</p>
<dl class="rdoc-list label-list"><dt>Feature #11785
<dd></dd></dl>
</li></ul>
</li><li>
<p><a href="../classes/Struct.html">Struct</a></p>
<ul><li>
<p><a href="../classes/Struct.html#method-i-dig">Struct#dig</a> [Feature
#11688]</p>
</li></ul>
</li><li>
<p><a href="../classes/Thread.html">Thread</a></p>
<ul><li>
<p><a href="../classes/Thread.html#method-i-name">Thread#name</a>, <a
href="../classes/Thread.html#method-i-name-3D">Thread#name=</a> are added
to handle thread names [Feature #11251]</p>
</li></ul>
</li></ul>

<h3 id="label-Core+classes+compatibility+issues+-28excluding+feature+bug+fixes-29">Core classes compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p>Array</p>
<ul><li>
<p><a href="../classes/Array.html#method-i-select-21">Array#select!</a>, <a
href="../classes/Array.html#method-i-keep_if">Array#keep_if</a>, <a
href="../classes/Array.html#method-i-reject-21">Array#reject!</a>, and <a
href="../classes/Array.html#method-i-delete_if">Array#delete_if</a> no
longer changes the receiver array instantly every time the block is called.
[Feature #10714]</p>
</li><li>
<p><a href="../classes/Array.html#method-i-flatten">Array#flatten</a> and <a
href="../classes/Array.html#method-i-flatten-21">Array#flatten!</a> no
longer try to call to_ary method on elements beyond the given level.  [Bug
#10748]</p>
</li><li>
<p><a href="../classes/Array.html#method-i-inspect">Array#inspect</a>
doesn&#39;t raise error even if its content returns a string which is not
compatible with <a
href="../classes/Encoding.html#method-c-default_external">Encoding.default_external</a>
as inspected result. [Feature #11801]</p>
</li></ul>
</li><li>
<p><a href="../classes/Enumerable.html">Enumerable</a></p>
<ul><li>
<p><a href="../classes/Enumerable.html#method-i-chunk">Enumerable#chunk</a>
and <a
href="../classes/Enumerable.html#method-i-slice_before">Enumerable#slice_before</a>
no longer takes the initial_state argument.  [Feature #10958] Use a local
variable instead to maintain a state.</p>
</li></ul>
</li><li>
<p><a href="../classes/File/Stat.html">File::Stat</a></p>
<ul><li>
<p>On Windows <a
href="../classes/File/Stat.html#method-i-ino">File::Stat#ino</a> always
returned 0, but now returns BY_HANDLE_FILE_INFORMATION.nFileIndexHigh/Low. 
[Feature #11216]</p>
</li></ul>
</li><li>
<p><a href="../classes/Hash.html">Hash</a></p>
<ul><li>
<p><a href="../classes/Hash.html#method-i-inspect">Hash#inspect</a>
doesn&#39;t raise error even if its content returns a string which is not
compatible with <a
href="../classes/Encoding.html#method-c-default_external">Encoding.default_external</a>
as inspected result. [Feature #11801]</p>
</li></ul>
</li><li>
<p><a href="../classes/IO.html">IO</a></p>
<ul><li>
<p><a href="../classes/IO.html#method-i-close">IO#close</a> doesn&#39;t raise
when the <a href="../classes/IO.html">IO</a> object is closed.  [Feature
#10718]</p>
</li><li>
<p><a href="../classes/IO.html#method-i-each_codepoint">IO#each_codepoint</a>
raises an exception at incomplete character before EOF when conversion
takes place.  [Bug #11444]</p>
</li></ul>
</li><li>
<p><a href="../classes/Module.html">Module</a></p>
<ul><li>
<p>Module#define_method and <a
href="../classes/Object.html#method-i-define_singleton_method">Object#define_singleton_method</a>
now require method body, <a href="../classes/Proc.html">Proc</a>, <a
href="../classes/Method.html">Method</a>, or a block, and raise <a
href="../classes/ArgumentError.html">ArgumentError</a> if no block is given
directly.  [Bug #11283]</p>
</li></ul>
</li><li>
<p>pack/unpack (Array/String)</p>
<ul><li>
<p>j and J directives for pointer width integer type.  [Feature #11215]</p>
</li></ul>
</li></ul>

<h3 id="label-Stdlib+updates+-28outstanding+ones+only-29">Stdlib updates (outstanding ones only)</h3>
<ul><li>
<p><a href="../classes/Logger.html">Logger</a></p>
<ul><li>
<p><a href="../classes/Logger.html#method-i-level-3D">Logger#level=</a> now
supports symbol and string levels such as :debug, :info, :warn, :error,
:fatal (case insensitive) [Feature #11695]</p>
</li><li>
<p><a href="../classes/Logger.html#method-i-reopen">Logger#reopen</a> is added
to reopen a log device. [Feature #11696]</p>
</li></ul>
</li><li>
<p>io/wait</p>
<ul><li>
<p><a href="../classes/IO.html#method-i-wait_readable">IO#wait_readable</a> no
longer checks FIONREAD, it may be used for non-bytestream <a
href="../classes/IO.html">IO</a> such as listen sockets.</p>
</li></ul>
</li><li>
<p><a href="../classes/Net/FTP.html">Net::FTP</a></p>
<ul><li>
<p><a href="../classes/Net/FTP.html#method-i-mlst">Net::FTP#mlst</a> is added.</p>
</li><li>
<p><a href="../classes/Net/FTP.html#method-i-mlsd">Net::FTP#mlsd</a> is added.</p>
</li></ul>
</li><li>
<p>nkf</p>
<ul><li>
<p>Merge nkf 2.1.4.</p>
</li></ul>
</li><li>
<p><a href="../classes/ObjectSpace.html">ObjectSpace</a> (objspace)</p>
<ul><li>
<p><a
href="../classes/ObjectSpace.html#method-c-count_symbols">ObjectSpace.count_symbols</a>
is added.</p>
</li><li>
<p><a
href="../classes/ObjectSpace.html#method-c-count_imemo_objects">ObjectSpace.count_imemo_objects</a>
is added.</p>
</li><li>
<p><a
href="../classes/ObjectSpace.html#method-c-internal_class_of">ObjectSpace.internal_class_of</a>
is added.</p>
</li><li>
<p><a
href="../classes/ObjectSpace.html#method-c-internal_super_of">ObjectSpace.internal_super_of</a>
is added.</p>
</li></ul>
</li><li>
<p><a href="../classes/OpenSSL.html">OpenSSL</a></p>
<ul><li>
<p><a
href="../classes/OpenSSL/SSL/SSLSocket.html#method-i-accept_nonblock">OpenSSL::SSL::SSLSocket#accept_nonblock</a>
and <a
href="../classes/OpenSSL/SSL/SSLSocket.html#method-i-connect_nonblock">OpenSSL::SSL::SSLSocket#connect_nonblock</a>
supports `exception: false`.</p>
<dl class="rdoc-list label-list"><dt>Feature #10532
<dd></dd></dl>
</li></ul>
</li><li>
<p><a href="../classes/Pathname.html">Pathname</a></p>
<ul><li>
<p><a href="../classes/Pathname.html#method-i-descend">Pathname#descend</a>
and <a href="../classes/Pathname.html#method-i-ascend">Pathname#ascend</a>
supported blockless form.</p>
<dl class="rdoc-list label-list"><dt>Feature #11052
<dd></dd></dl>
</li></ul>
</li><li>
<p><a href="../classes/Socket.html">Socket</a></p>
<ul><li>
<p><a
href="../classes/Socket.html#method-i-connect_nonblock">Socket#connect_nonblock</a>,
<a
href="../classes/Socket.html#method-i-accept_nonblock">Socket#accept_nonblock</a>,
<a
href="../classes/TCPServer.html#method-i-accept_nonblock">TCPServer#accept_nonblock</a>,
<a
href="../classes/UNIXServer.html#method-i-accept_nonblock">UNIXServer#accept_nonblock</a>,
<a
href="../classes/BasicSocket.html#method-i-recv_nonblock">BasicSocket#recv_nonblock</a>,
<a
href="../classes/BasicSocket.html#method-i-recvmsg_nonblock">BasicSocket#recvmsg_nonblock</a>,
<a
href="../classes/BasicSocket.html#method-i-sendmsg_nonblock">BasicSocket#sendmsg_nonblock</a>
all support `exception: false` to return :wait_readable or :wait_writable
symbols instead of raising <a
href="../classes/IO/WaitReadable.html">IO::WaitReadable</a> or <a
href="../classes/IO/WaitWritable.html">IO::WaitWritable</a> exceptions</p>
<dl class="rdoc-list label-list"><dt>Feature #10532
<dd><dl class="rdoc-list label-list"><dt>Feature #11229
<dd></dd></dl>
</dd></dl>
</li><li>
<p><a href="../classes/BasicSocket.html#method-i-recv">BasicSocket#recv</a>
and <a
href="../classes/BasicSocket.html#method-i-recv_nonblock">BasicSocket#recv_nonblock</a>
allow an output String buffer argument like <a
href="../classes/IO.html#method-i-read">IO#read</a> and <a
href="../classes/IO.html#method-i-read_nonblock">IO#read_nonblock</a> to
reduce <a href="../classes/GC.html">GC</a> overhead [Feature #11242]</p>
</li></ul>
</li><li>
<p><a href="../classes/StringIO.html">StringIO</a></p>
<ul><li>
<p>In read-only mode, <a
href="../classes/StringIO.html#method-i-set_encoding">StringIO#set_encoding</a>
no longer sets the encoding of its buffer string.  Setting the encoding of
the string directly without <a
href="../classes/StringIO.html#method-i-set_encoding">StringIO#set_encoding</a>
may cause unpredictable behavior now.</p>
<dl class="rdoc-list label-list"><dt>Bug #11827
<dd></dd></dl>
</li></ul>
</li><li>
<p>timeout</p>
<ul><li>
<p><a href="../classes/Object.html#method-i-timeout">Object#timeout</a> is now
warned as deprecated when called.</p>
</li></ul>
</li></ul>

<h3 id="label-Stdlib+compatibility+issues+-28excluding+feature+bug+fixes-29">Stdlib compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p>ext/coverage/coverage.c</p>
<ul><li>
<p><a
href="../classes/Coverage.html#method-c-peek_result">Coverage.peek_result</a>:
new method to allow coverage to be captured without stopping the coverage
tool.  [Feature #10816]</p>
</li></ul>
</li><li>
<p><a href="../classes/Fiddle.html">Fiddle</a></p>
<ul><li>
<p><a
href="../classes/Fiddle/Function.html#method-i-call">Fiddle::Function#call</a>
releases the GVL.  [Feature #11607]</p>
</li></ul>
</li><li>
<p>io-console</p>
<ul><li>
<p>Update to io-console 0.4.5, and change the license to BSD 2-clause
“Simplified” License.</p>
</li></ul>
</li><li>
<p>lib/base64.rb</p>
<ul><li>
<p><a
href="../classes/Base64.html#method-i-urlsafe_encode64">Base64#urlsafe_encode64</a>:
added a “padding” option to suppress the padding character (“=”).  [Feature
#10740]</p>
</li><li>
<p><a
href="../classes/Base64.html#method-i-urlsafe_decode64">Base64#urlsafe_decode64</a>:
now it accepts not only correctly-padded input but also unpadded input. 
[Feature #10740]</p>
</li></ul>
</li><li>
<p>lib/drb/drb.rb</p>
<ul><li>
<p>removed unused argument. <a
href="https://github.com/ruby/ruby/pull/515">github.com/ruby/ruby/pull/515</a></p>
</li></ul>
</li><li>
<p>lib/matrix.rb</p>
<ul><li>
<p>Add <a href="../classes/Vector.html#method-i-round">Vector#round</a>. <a
href="https://github.com/ruby/ruby/pull/802">github.com/ruby/ruby/pull/802</a></p>
</li></ul>
</li><li>
<p>lib/webrick/utils.rb</p>
<ul><li>
<p>removed unused argument. <a
href="https://github.com/ruby/ruby/pull/356">github.com/ruby/ruby/pull/356</a></p>
</li></ul>
</li><li>
<p><a href="../classes/Net/FTP.html">Net::FTP</a></p>
<ul><li>
<p>Connections are in passive mode per default now.  The default mode can be
changed by <a
href="../classes/Net/FTP.html#method-c-default_passive-3D">Net::FTP.default_passive=</a>.
[Feature #11612]</p>
</li></ul>
</li><li>
<p><a href="../classes/Net/HTTP.html">Net::HTTP</a></p>
<ul><li>
<p>default value of <a
href="../classes/Net/HTTP.html#attribute-i-open_timeout">Net::HTTP#open_timeout</a>
is now 60 (was nil).</p>
</li></ul>
</li><li>
<p>Net::Telnet</p>
<ul><li>
<p>Net::Telnet is extracted to net-telnet gem. It&#39;s unmaintain code.</p>
<dl class="rdoc-list label-list"><dt>Feature #11083
<dd></dd></dl>
</li></ul>
</li><li>
<p><a href="../classes/Psych.html">Psych</a></p>
<ul><li>
<p>Updated to <a href="../classes/Psych.html">Psych</a> 2.0.17</p>
</li></ul>
</li><li>
<p>Rake</p>
<ul><li>
<p>Rake is removed from stdlib.  [Feature #11025]</p>
</li></ul>
</li><li>
<p><a href="../classes/RDoc.html">RDoc</a></p>
<ul><li>
<p>Updated to <a href="../classes/RDoc.html">RDoc</a> 4.2.1.  For full release
notes see:</p>

<p><a
href="https://github.com/rdoc/rdoc/blob/master/History.rdoc#421--2015-12-22">github.com/rdoc/rdoc/blob/master/History.rdoc#421–2015-12-22</a></p>
</li></ul>
</li><li>
<p>RubyGems</p>
<ul><li>
<p>Updated to RubyGems 2.5.1.  For full release notes see:</p>

<p><a
href="http://docs.seattlerb.org/rubygems/History_txt.html#label-2.5.0+-2F+2015-11-03">docs.seattlerb.org/rubygems/History_txt.html#label-2.5.0+-2F+2015-11-03</a>
and <a
href="http://docs.seattlerb.org/rubygems/History_txt.html#label-2.5.1+-2F+2015-12-10">docs.seattlerb.org/rubygems/History_txt.html#label-2.5.1+-2F+2015-12-10</a></p>
</li></ul>
</li></ul>

<h3 id="label-Built-in+global+variables+compatibility+issues">Built-in global variables compatibility issues</h3>
<ul><li>
<p>$SAFE</p>
<ul><li>
<p>$SAFE=2 and $SAFE=3 are obsolete.  If $SAFE is set to 2 or larger, an <a
href="../classes/ArgumentError.html">ArgumentError</a> is raised.  [Feature
#5455]</p>
</li></ul>
</li></ul>

<h3 id="label-C+API+updates">C API updates</h3>
<ul><li>
<p>rb_define_class_id_under() now raises a <a
href="../classes/TypeError.html">TypeError</a> exception when the class is
already defined but its superclass does not match the given superclass, as
well as definitions in ruby level.</p>
</li><li>
<p>rb_timespec_now() is added to fetch current datetime as struct timespec.</p>
<dl class="rdoc-list label-list"><dt>Feature #11558
<dd></dd></dl>
</li><li>
<p>rb_time_timespec_new() is added to create a time object with epoch,
nanosecond, and UTC/localtime/time offset arguments.  [Feature #11558]</p>
</li><li>
<p>rb_autoload() deprecated, use rb_funcall() instead.  [Feature #11664]</p>
</li><li>
<p>rb_compile_error_with_enc(), rb_compile_error(), and rb_compile_bug()
deprecated.  these functions are exposed but only for internal use.
external libraries should not use them.</p>
</li></ul>

<h3 id="label-Supported+platform+changes">Supported platform changes</h3>
<ul><li>
<p>OS/2 is no longer supported</p>
</li><li>
<p>BeOS is no longer supported</p>
</li><li>
<p>Borland-C is no longer supported</p>
</li><li>
<p>Haiku now stable and best effort</p>
</li></ul>

<h3 id="label-Implementation+improvements">Implementation improvements</h3>
<ul><li>
<p>Optimize Proc#call to eliminate method frame construction.</p>
<dl class="rdoc-list label-list"><dt>Feature #11569
<dd></dd></dl>
</li><li>
<p>Reconsidering method entry data structure.</p>
<dl class="rdoc-list label-list"><dt>Bug #11278
<dd></dd></dl>
</li><li>
<p>Introducing new table data structure for ID keys tables used by method
table and so on. New table structure is simple and fast than st_table.
[Feature #11420]</p>
</li><li>
<p>Machine code level tuning for object allocation and method calling code.
r52099, r52254</p>
</li><li>
<p><a
href="../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a>
is extended for future improvement.</p>
<dl class="rdoc-list label-list"><dt>Feature #11788
<dd></dd></dl>
</li><li>
<p>Case dispatch is now optimized for all special constant literals including
nil, true, and false.  Previously, only literal strings, symbols, integers
and floats compiled to optimized case dispatch.</p>
<dl class="rdoc-list label-list"><dt>Feature #11769
<dd></dd></dl>
</li><li>
<p>Instance variables on non-pure Ruby classes (T_DATA, T_FILE, etc..) is less
expensive to store than before. [Feature #11170]</p>
</li><li>
<p>All accesses to members of big <a href="../classes/Struct.html">Struct</a>
objects are performed in constant-time.  Previously, <a
href="../classes/Struct.html">Struct</a> elements beyond the first 10 10
elements used a linear scan. [Feature #10585]</p>
</li><li>
<p>The <a href="../classes/Set.html">Set</a> class got several speed up.</p>
<dl class="rdoc-list label-list"><dt>Misc #10754], [r52591
<dd></dd></dl>
</li><li>
<p><a href="../classes/Socket.html">Socket</a> and I/O-related improvements</p>
<ul><li>
<p>Calling overhead of most of new keyword-using I/O methods in</p>
<dl class="rdoc-list label-list"><dt>Feature #11229
<dd>
<p>is reduced by avoiding the inefficient C API</p>
</dd></dl>

<p>to parse keywords.  [Feature #11339]</p>
</li><li>
<p>The standard library is updated to use the improved exception-free
non-blocking I/O from [Feature #11229]. This has the additional benefit of
quieter $DEBUG output in addition to reducing expensive exceptions.
[Feature #11044]</p>
</li><li>
<p>(Linux-only) waiting on a single FD anywhere in the stdlib no longer uses
select(2), making it immune to slowdowns with high-numbered FDs.</p>
<dl class="rdoc-list label-list"><dt>Feature #11081
<dd><dl class="rdoc-list label-list"><dt>Feature #11377
<dd></dd></dl>
</dd></dl>
</li></ul>
</li><li>
<p>CGI.escapeHTML is optimized with C extention. <a
href="https://github.com/ruby/ruby/pull/1164">github.com/ruby/ruby/pull/1164</a></p>
</li></ul>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>