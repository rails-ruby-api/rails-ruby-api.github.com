<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ChangeLog-2.1.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            ChangeLog-2.1.0
        </h1>
        <ul class="files">
            
            <li>
                doc/ChangeLog-2.1.0
                
            </li>
            <li>Last modified: 2013-12-25 17:05:13 +0100</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-ChangeLog-2.1.0">ChangeLog-2.1.0</h1>

<h2 id="label-2013-12-20">2013-12-20</h2>

<h3 id="label-Fri+Dec+20+17-3A52-3A50+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 20 17:52:50 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>check definition of GLOBAL_METHOD_CACHE_SIZE and GLOBAL_METHOD_CACHE_MASK.</p>
</dd></dl>

<h3 id="label-Fri+Dec+20+17-3A03-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 20 17:03:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>rename OBJ_WRITE and OBJ_WRITTEN into RB_OBJ_WRITE and RB_OBJ_WRITTEN.</p>
</dd><dt>array.c, class.c, compile.c, hash.c, internal.h, iseq.c, proc.c, process.c, re.c, string.c, variable.c, vm.c, vm_eval.c, vm_insnhelper.c, vm_insnhelper.h, vm_method.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Fri+Dec+20+16-3A01-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 20 16:01:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add a comment for WB interfaces.</p>
</dd></dl>

<h3 id="label-Fri+Dec+20+16-3A00-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 20 16:00:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>DLDFLAGS is defined in –with-opt-dir handler, so ${DLDFLAGS=} does not work
now.  use RUBY_APPEND_OPTIONS instead. [ruby-dev:47855] [Bug #9256]</p>
</dd></dl>

<h3 id="label-Fri+Dec+20+14-3A19-3A12+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Dec 20 14:19:12 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (AC_ARG_WITH)
<dd>
<p>use withval directly. fix failure on FreeBSD. <a
href="http://fb32.rubyci.org/~chkbuild/ruby-trunk/log/20131217T070301Z.diff.html.gz">fb32.rubyci.org/~chkbuild/ruby-trunk/log/20131217T070301Z.diff.html.gz</a></p>
</dd></dl>

<h3 id="label-Fri+Dec+20+14-3A00-3A01+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Dec 20 14:00:01 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RClass)
<dd>
<p>add super, remove iv_index_tbl. since RCLASS_SUPER() is commonly used
inside while loops, we move it back inside struct RClass to improve cache
hits. this provides a small improvement (1%) in hotspots like
rb_obj_is_kind_of()</p>
</dd><dt>internal.h (struct rb_classext_struct)
<dd>
<p>remove super, add iv_index_table</p>
</dd><dt>internal.h (RCLASS_SUPER)
<dd>
<p>update for new location</p>
</dd><dt>internal.h (RCLASS_SET_SUPER)
<dd>
<p>ditto</p>
</dd><dt>internal.h (RCLASS_IV_INDEX_TBL)
<dd>
<p>ditto</p>
</dd><dt>object.c (rb_class_get_superclass)
<dd>
<p>ditto</p>
</dd><dt>include/ruby/backward/classext.h (RCLASS_SUPER)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Dec+20+07-3A07-3A35+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Dec 20 07:07:35 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 03d6ae7.  Changes include: * Fixed typos. *
Relaxed <a href="../../classes/Gem.html#method-c-ruby">Gem.ruby</a> test
for ruby packagers that do not use `ruby`.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-19">2013-12-19</h2>

<h3 id="label-Thu+Dec+19+14-3A03-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 19 14:03:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_get_freeobj)
<dd>
<p>improve hot path performance.</p>
</dd><dt>gc.c (heap_get_freeobj_from_next_freepage)
<dd>
<p>replace with heap_get_freepage(). It returns freeobj instead of freepage.
This is not on hot path.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+12-3A05-3A17+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Dec 19 12:05:17 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master af60443.  Changes include: * Improved speed of
`gem install –ignore-dependencies`. * Open read-write for exclusive flock. 
[ruby-trunk - Bug #9257] * Remove specification before install to prevent
infinite loop.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+11-3A23-3A49+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec 19 11:23:49 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_iseq_setup_normal)
<dd>
<p>simple for loop condition optimization. this area shows up as a hotspot in
VM profiles.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+10-3A50-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 19 10:50:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_of)
<dd>
<p>don&#39;t need to RBASIC_SET_CLASS() which includes WB here because created
obj is always YOUNG/INFANT.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+10-3A48-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 19 10:48:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>check GC::OPTS availability for not MRI 2.1.0.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+03-3A10-3A30+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec 19 03:10:30 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_get_freeobj)
<dd>
<p>remove redundant assignment. heap-&gt;freelist is set after the while()
loop already.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+01-3A54-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 19 01:54:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>fix commit miss on r44278.</p>
</dd></dl>

<h3 id="label-Thu+Dec+19+00-3A26-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 19 00:26:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>lazy_sweep setting should work without USE_RGENGC.</p>
</dd></dl>

<h2 id="label-2013-12-18">2013-12-18</h2>

<h3 id="label-Wed+Dec+18+23-3A31-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 18 23:31:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_dump_major_reason)
<dd>
<p>fix this function because major_reason can be OR of multiple reasons.</p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+18+17-3A03-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 18 17:03:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_record_get)
<dd>
<p>should return an empty array when profiling is active.</p>
</dd></dl>

<h3 id="label-Wed+Dec+18+16-3A49-3A40+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 18 16:49:40 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_clear, gc_profile_enable)
<dd>
<p>remove rest_sweep().</p>
</dd><dt>gc.c
<dd>
<p>check objspace-&gt;profile.current_record before inserting profiling record
by new macro gc_prof_enabled().</p>
</dd></dl>

<h3 id="label-Wed+Dec+18+14-3A32-3A06+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 18 14:32:06 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h (VM_DEBUG_STACKOVERFLOW)
<dd>
<p>added. disable stack overflow check for every stack pushing as default.</p>
</dd><dt>vm_exec.c (vm_stack_overflow_for_insn)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+18+10-3A00-3A22+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Dec 18 10:00:22 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master d8f12e2.  This increases the speed of `gem
install –ignore-dependencies` which helps bundler tests.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+18+09-3A00-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 18 09:00:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (test_expand_heap)
<dd>
<p>allow +/-1 diff.</p>
</dd></dl>

<h2 id="label-2013-12-17">2013-12-17</h2>

<h3 id="label-Tue+Dec+17+23-3A44-3A15+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Dec 17 23:44:15 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>fix duplicated test name.</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+20-3A15-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 17 20:15:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_reject)
<dd>
<p>revert to deprecated behavior, with warnings, due to compatibility for
HashWithDifferentAccess. [ruby-core:59154] [Bug #9223]</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+17-3A30-3A56+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Dec 17 17:30:56 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import version 2.1.1 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>.
* ruby-electric-delete-backward-char: Enable support for number prefix. *
ruby-electric-curlies: Fix electric operation after an open curly.</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+16-3A19-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 17 16:19:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>isolate exceptions in postponed jobs and restore outer ones.  based on a
patch by tarui.  [ruby-core:58652] [Bug #9168]</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+10-3A48-3A04+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec 17 10:48:04 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_DTRACE_POSTPROCESS)
<dd>
<p>Fix compatibility with systemtap on linux. stap requires `dtrace -G`
post-processing, but the dtrace compatibility wrapper is very strict about
probes.d syntax.</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+05-3A18-3A17+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Dec 17 05:18:17 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 1c5f4b3.  Allows rubygems repackagers to disable
backward-compatible shared gem directory behavior.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+17+05-3A14-3A35+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Dec 17 05:14:35 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a> (RDoc)
<dd>
<p>Update version number so I don&#39;t have to change it for the final
release.</p>
</dd></dl>

<h2 id="label-2013-12-16">2013-12-16</h2>

<h3 id="label-Mon+Dec+16+19-3A19-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 19:19:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_markable_object_p)
<dd>
<p>should check special_const_p first (by is_markable_object()).</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+19-3A12-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 19:12:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (reachable_object_from_root_i)
<dd>
<p>use compare_by_identity hash to avoid hash modify problem during iteration.
[Bug #9252]</p>
</dd><dt>ext/objspace/objspace.c (reachable_objects_from_root)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+18-3A16-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 18:16:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_verify_internal_consistency)
<dd>
<p>should not use rb_objspace_each_objects() because it call rest_sweep().</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+18-3A07-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 18:07:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_markable_object_p)
<dd>
<p>fix last commit (build error).</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+18-3A04-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 18:04:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_markable_object_p)
<dd>
<p>it should be live objects.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+18-3A00-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 18:00:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_each_objects)
<dd>
<p>should not clear dont_lazy_sweep flag in nested case.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+16-3A40-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 16:40:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>fix WB miss. Note that rb_method_entry_t::klass is not constified. We may 
constify this field.</p>
</dd><dt>test/ruby/test_alias.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+14-3A14-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 14:14:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>use gc_verify_internal_consistency() instead of gc_check_before_marks_i()
for check consistency on RGENGC_CHECK_MODE &gt;= 2.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+14-3A01-3A48+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Dec 16 14:01:48 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (make_clock_result)
<dd>
<p>add :second as a unit for <a
href="../../classes/Process.html#method-c-clock_gettime">Process.clock_gettime</a>.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+13-3A10-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 16 13:10:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce <a
href="../../classes/GC.html#method-c-verify_internal_consistency">GC.verify_internal_consistency</a>
method to verify <a href="../../classes/GC.html">GC</a> internal data
structure. Now this method only checks generation (old/young) consistency.</p>
</dd></dl>

<h3 id="label-Mon+Dec+16+11-3A49-3A26+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Mon Dec 16 11:49:26 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_info_decode)
<dd>
<p>Fix build errors when compiled with RGENGC_ESTIMATE_OLDMALLOC=0</p>
</dd><dt>gc.c (objspace_malloc_increase)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2013-12-15">2013-12-15</h2>

<h3 id="label-Sun+Dec+15+13-3A38-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Dec 15 13:38:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (reachable_object_from_root_i)
<dd>
<p>reachable objects should not include categories and category_objects
because it is noisy information. In fact, objects created after calling <a
href="../../classes/ObjectSpace.html#method-c-reachable_objects_from_root">ObjectSpace.reachable_objects_from_root</a>
should not be included as a returning hash objects. Currently, mswin64
platform has a problem because of this behavior. Should we trace new
objects?</p>
</dd></dl>

<h3 id="label-Sun+Dec+15+07-3A09-3A28+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 15 07:09:28 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> master 263a9e5.  This
improves the accessibility of the search box.</p>
</dd></dl>

<h2 id="label-2013-12-14">2013-12-14</h2>

<h3 id="label-Sat+Dec+14+17-3A39-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 17:39:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_arg_complex)
<dd>
<p>count post arguments as mandatory arguments.  [ruby-core:57706] [Bug #8993]</p>
</dd><dt>vm_insnhelper.c (vm_yield_setup_block_args)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+16-3A26-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 16:26:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rubylibprefix)
<dd>
<p>replace exec_prefix as well as bindir and libdir.  a patch by kimuraw
(Wataru Kimura) at [ruby-dev:47852].  [Bug #9160]</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+14-3A42-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 14:42:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (lock_shift_log)
<dd>
<p>no need to rotate the log file if it has been rotated by another process. 
based on the patch by no6v (Nobuhiro IMAI) in [ruby-core:58620].  [Bug
#9133]</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+13-3A01-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 13:01:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew_from_me)
<dd>
<p>method by respond_to_missing? should be owned by the original class.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+11-3A55-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 11:55:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/scanf.rb (IO#scanf)
<dd>
<p>fix mistaken use of rescue modifier. a patch by Mon_Ouie at
[ruby-core:52813].  [Bug #7940]</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+11-3A44-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 11:44:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>util.c (ruby_qsort)
<dd>
<p>fix potential stack overflow on a large machine.  based on the patch by
Conrad Irwin &lt;conrad.irwin AT gmail.com&gt; at [ruby-core:51816].  [Bug
#7772]</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+11-3A25-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 11:25:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_const_defined)
<dd>
<p>support nested class path as well as const_get.  [Feature #7414]</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+01-3A31-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 01:31:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_rescue2)
<dd>
<p>reuse tags pushed for body proc to protect rescue proc too.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+01-3A15-3A51+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Dec 14 01:15:51 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_final_func)
<dd>
<p>Bugfix. Should update *value to new pointer.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+01-3A05-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Dec 14 01:05:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p>Don&#39;t test $! in “ensure” clause because it may be set before the body.
Reported by ko1 and mrkn.  [ruby-core:59088] [Bug #9247]</p>
</dd><dt>lib/cgi/core.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/drb/ssl.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+00-3A34-3A31+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Dec 14 00:34:31 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (ruby_sized_xrealloc2)
<dd>
<p>fix typo introduced in r44117, which cause compile error on Solaris.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+00-3A22-3A16+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 00:22:16 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>(exec_recursive): use rb_catch_protect() instead of rb_catch_obj() and
PUSH_TAG(), and reduce pushing tags and machine stack usage.</p>
</dd></dl>

<h3 id="label-Sat+Dec+14+00-3A18-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 14 00:18:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew_from_me)
<dd>
<p>achieve the original defined_class from prepended iclass, to fix inherited
owner.</p>
</dd><dt>proc.c (method_owner)
<dd>
<p>return the defined class, but not the class which the method object is
created from.</p>
</dd></dl>

<h2 id="label-2013-12-13">2013-12-13</h2>

<h3 id="label-Fri+Dec+13+22-3A29-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 13 22:29:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_owner)
<dd>
<p>return the class where alias is defined, not the class original method is
defined.</p>
</dd><dt>vm_method.c (rb_method_entry_make, rb_alias)
<dd>
<p>store the originally defined class in me.  [Bug #7993] [Bug #7842] [Bug
#9236]</p>
</dd><dt>vm_method.c (rb_method_entry_get_without_cache)
<dd>
<p>cache included module but not iclass.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+16-3A27-3A17+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Dec 13 16:27:17 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_info_decode)
<dd>
<p>Use :major_by=&gt;:nofree as fallback reason when other trigger conditions
are present.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+13-3A25-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 13 13:25:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>add <a
href="../../classes/Exception.html#method-i-backtrace_locations">Exception#backtrace_locations</a>.
Now, there are no setter and independent from <a
href="../../classes/Exception.html#method-i-backtrace">Exception#backtrace</a>.
[Feature #8960]</p>
</dd><dt>eval.c (setup_exception)
<dd>
<p>set backtrace locations for `bt_location&#39; special attribute.</p>
</dd><dt>vm_backtrace.c (rb_backtrace_to_location_ary)
<dd>
<p>added.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_backtrace.rb
<dd>
<p>add a test for <a
href="../../classes/Exception.html#method-i-backtrace_locations">Exception#backtrace_locations</a>.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+12-3A01-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 13 12:01:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>use rb_bug() and explicit error message instead of using assert(). [Bug
#9222]</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+11-3A52-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 13 11:52:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>fix comment to remove the word “shady”.</p>
</dd><dt>variable.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+11-3A33-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 13 11:33:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename <strong>shady</strong> func/macros. * RVALUE_RAW_SHADY()   -&gt;
RVALUE_WB_PROTECTED_RAW() * RVALUE_SHADY()       -&gt; RVALUE_RAW_SHADY() *
rgengc_check_shady() -&gt; rgengc_check_relation(). And fix some messages
using “shady” to “non-WB-protected”.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+10-3A04-3A23+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Dec 13 10:04:23 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/request_set/lockfile.rb
<dd>
<p>Import RubyGems master a8d0669 with a 1.8.7 compatibility fix.</p>
</dd><dt>test/rubygems/test_gem_request_set_lockfile.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+09-3A50-3A49+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Dec 13 09:50:49 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master ddac51f.  Changes: * Allow override for the
shared gem installation directory for rubygems packagers. * Lock gem cache
files for read and write to improve thread safety. * Use io/console when
available. * Minor cleanup.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec+13+08-3A15-3A31+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Dec 13 08:15:31 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (include_modules_at)
<dd>
<p>use RCLASS_M_TBL_WRAPPER for equality checks. this avoids an unnecessary
deference inside a tight loop, fixing a performance regression from r43973.</p>
</dd><dt>object.c (rb_obj_is_kind_of)
<dd>
<p>ditto.</p>
</dd><dt>object.c (rb_class_inherited_p)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+13+02-3A00-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Wed Dec 13 02:00:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VpSetPTR)
<dd>
<p>fix for limitation of the resulting precision. [ruby-core:50269] [Bug
#7458]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb (test_limit)
<dd>
<p>add tests for the above change.</p>
</dd></dl>

<h3 id="label-Wed+Dec+13+01-3A56-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Wed Dec 13 01:56:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VpAddAbs)
<dd>
<p>put out a conditional branch from the inside of while-loop.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (VpSubAbs)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+13+01-3A53-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Wed Dec 13 01:53:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VPrint)
<dd>
<p>be a static function, support another dump formats, and add more
information of the given bigdecimal.</p>
</dd><dt>ext/bigdecimal/bigdecimal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-11">2013-12-11</h2>

<h3 id="label-Wed+Dec+11+16-3A45-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 11 16:45:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_raise_jump)
<dd>
<p>call c_return hook immediately after popping `raise&#39; frame. Patches by
deivid (David Rodriguez). [Bug #8886]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Wed+Dec+11+16-3A01-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 11 16:01:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_reject)
<dd>
<p>return a plain hash, without copying the class, default value, instance
variables, and taintedness. they had been copied just by accident.
[ruby-core:59045] [Bug #9223]</p>
</dd></dl>

<h3 id="label-Wed+Dec+11+15-3A36-3A15+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Dec 11 15:36:15 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_specialized_instruction)
<dd>
<p>emit opt_aset instruction to optimize <a
href="../../classes/Hash.html#method-i-5B-5D-3D">Hash#[]=</a> and <a
href="../../classes/Array.html#method-i-5B-5D-3D">Array#[]=</a> when called
with <a href="../../classes/Fixnum.html">Fixnum</a> argument. [Bug #9227]
[ruby-core:58956]</p>
</dd></dl>

<h3 id="label-Wed+Dec+11+04-3A54-3A03+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Dec 11 04:54:03 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master ec8ed22.  Notable changes include: * Renamed
extension_install_dir to extension_dir (backwards compatible). * Fixed
creation of gem.deps.rb.lock file from
TestGemRequestSet#test_install_from_gemdeps_install_dir * Fixed a typo and
some documentation.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-10">2013-12-10</h2>

<h3 id="label-Tue+Dec+10+23-3A58-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 10 23:58:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_strptime.c (date__strptime_internal)
<dd>
<p>unset case-insensitive flag for [:alpha:], which already implies both
cases, to get rid of backtrack explosion.  [ruby-core:58984] [Bug #9221]</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+23-3A44-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 10 23:44:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_hash)
<dd>
<p>add salt to differentiate false and empty array.  [ruby-core:58993] [Bug
#9231]</p>
</dd><dt>hash.c (rb_any_hash, rb_hash_hash)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+18-3A16-3A09+2013++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Dec 10 18:16:09 2013  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>[DOC] Use <a href="www.ruby-toolbox.com">www.ruby-toolbox.com</a> instead
of RAA.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+17-3A21-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 10 17:21:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_finalize, wmap_aset_update)
<dd>
<p>use simple malloced array instead of T_ARRAY, to reduce <a
href="../../classes/GC.html">GC</a> pressure.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+15-3A56-3A48+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec 10 15:56:48 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (reflist_add)
<dd>
<p>revert changes from r44109. it is unnecessary after r44113</p>
</dd><dt>gc.c (allrefs_i)
<dd>
<p>fix whitespace</p>
</dd><dt>gc.c (allrefs_roots_i)
<dd>
<p>fix whitespace</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+15-3A46-3A03+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 10 15:46:03 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (allrefs_add)
<dd>
<p>push obj only if allrefs table doesn&#39;t have obj.</p>
</dd><dt>gc.c (allrefs_roots_i)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+15-3A28-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 10 15:28:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RGENGC_CHECK_MODE)
<dd>
<p>separate checkers to different modes. * 2: enable generational bits check
(for debugging) * 3: enable livness check * 4: show all references</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+15-3A15-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 10 15:15:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_check)
<dd>
<p>disable <a href="../../classes/GC.html">GC</a> during checking and restore
malloc_increase info.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+14-3A41-3A53+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec 10 14:41:53 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (reflist_add)
<dd>
<p>return 0 if reference already exists</p>
</dd><dt>gc.c (allrefs_add)
<dd>
<p>return 1 on newly added references</p>
</dd><dt>gc.c (allrefs_i)
<dd>
<p>follow references to construct complete object graph. before this patch,
RGENGC_CHECK could fail to verify some WB miss issues. [Bug #9226]
[ruby-core:58959]</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+11-3A20-3A56+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec 10 11:20:56 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_object)
<dd>
<p>include fstring flag on strings. include gc flags (old, remembered,
wb_protected) on all objects.</p>
</dd><dt>ext/objspace/objspace_dump.c (Init_objspace_dump)
<dd>
<p>initialize lazy IDs before first use.</p>
</dd><dt>gc.c (rb_obj_gc_flags)
<dd>
<p>new function to retrieve object flags</p>
</dd><dt>internal.h (RB_OBJ_GC_FLAGS_MAX)
<dd>
<p>maximum flags allowed for one obj</p>
</dd><dt>test/objspace/test_objspace.rb (test_dump_flags)
<dd>
<p>test for above</p>
</dd><dt>test/objspace/test_objspace.rb (test_trace_object_allocations)
<dd>
<p>resolve name before dump (for rb_class_path_cached)</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+07-3A48-3A29+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec 10 07:48:29 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_clear_method_cache_by_class)
<dd>
<p>fire ruby::method-cache-clear probe on global or klass-level method cache
clear [Bug #9190]</p>
</dd><dt>probes.d (provider ruby)
<dd>
<p>new dtrace probe</p>
</dd><dt><a href="dtrace_probes_rdoc.html">doc/dtrace_probes.rdoc</a>
<dd>
<p>docs for new probe</p>
</dd><dt>test/dtrace/test_method_cache.rb
<dd>
<p>test for new probe</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+06-3A14-3A11+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Dec 10 06:14:11 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/.document
<dd>
<p>Remove curses from documentable directories.</p>
</dd></dl>

<h3 id="label-Tue+Dec+10+04-3A55-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Dec 10 04:55:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/digest.rb
<dd>
<p>Deprecate OpenSSL::Digest::Digest [Fixes GH-446] <a
href="https://github.com/ruby/ruby/pull/446">github.com/ruby/ruby/pull/446</a></p>
</dd></dl>

<h3 id="label-Tue+Dec+10+00-3A41-3A42+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Dec 10 00:41:42 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c
<dd>
<p>[DOC] add call-seq alias for <a
href="../../classes/Queue.html#method-i-enq">Queue#enq</a>, <<, etc.</p>
</dd><dt>ext/thread/thread.c (Init_thread)
<dd>
<p>use rb_define_alias instead of rb_alias to document alias.</p>
</dd></dl>

<h2 id="label-2013-12-09">2013-12-09</h2>

<h3 id="label-Mon+Dec++9+20-3A00-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Dec  9 20:00:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (RCLASS_SERIAL)
<dd>
<p>Add RCLASS_SERIAL as a convenience accessor for
RCLASS_EXT(klass)-&gt;class_serial.</p>
</dd><dt>class.c, vm_insnhelper.c, vm_method.c
<dd>
<p>Use RCLASS_SERIAL</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+19-3A50-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Dec  9 19:50:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c, insns.def, test/ruby/test_rubyvm.rb, vm.c, vm_core.h, vm_insnhelper.c, vm_insnhelper.h, vm_method.c
<dd>
<p>Rename method_serial to global_method_state and constant_serial to
global_constant_state after discussion with ko1.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+18-3A50-3A43+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Mon Dec  9 18:50:43 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_replace)
<dd>
<p>fix segv on `{}.replace({})` introduced in r44060 [Bug #9230]
[ruby-core:58991]</p>
</dd><dt>test/ruby/test_hash.rb
<dd>
<p>regression test for above</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+18-3A10-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec  9 18:10:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_stat)
<dd>
<p>renamed from ruby_vm_stat. Should not use ruby_ prefix here.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+16-3A13-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec  9 16:13:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_size)
<dd>
<p>add <a
href="../../classes/ObjectSpace/WeakMap.html#method-i-size">ObjectSpace::WeakMap#size</a>
and length.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+15-3A26-3A17+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Dec  9 15:26:17 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_curses.rb
<dd>
<p>removed.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+13-3A36-3A55+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Dec  9 13:36:55 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses, sample/curses
<dd>
<p>removed curses.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>added an entry for the above change.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+12-3A26-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec  9 12:26:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c (newobj_i)
<dd>
<p>use cached class path only to get rid object allocation during NEWOBJ hook.
[ruby-core:58853] [Bug #9212]</p>
</dd><dt>variable.c (rb_class_path_cached)
<dd>
<p>returns cached class path only, without searching and allocating new class
path string.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+11-3A14-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec  9 11:14:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_parse.c (parse_time)
<dd>
<p>unset case-insensitive flag for [:alpha:], which already implies both
cases, to get rid of backtrack explosion.  [ruby-core:58876] [Bug #9221]</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+08-3A40-3A40+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  9 08:40:40 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master bf37240.  Fixes useless error message with `gem
install -g` with no gem dependencies file.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+04-3A52-3A25+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  9 04:52:25 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Update RubyGems entry with notable features.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+04-3A43-3A54+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  9 04:43:54 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/.document
<dd>
<p>Add syslog/lib and thread/thread.c to documentable items.  [ruby-trunk -
Bug #9228]</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+04-3A28-3A50+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  9 04:28:50 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 096db36.  Changes include support for PATH in
Gemfile.lock and a typo fix from Akira Matsuda.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec++9+02-3A10-3A32+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Dec  9 02:10:32 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/responses.rb
<dd>
<p>Add `HTTPIMUsed`, as it is also supported by rack/rails. RFC - <a
href="http://tools.ietf.org/html/rfc3229">tools.ietf.org/html/rfc3229</a>
by Vipul A M &lt;vipulnsward@gmail.com&gt; <a
href="https://github.com/ruby/ruby/pull/447">github.com/ruby/ruby/pull/447</a>
fix GH-447</p>
</dd></dl>

<h2 id="label-2013-12-08">2013-12-08</h2>

<h3 id="label-Sun+Dec++8+20-3A47-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec  8 20:47:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_get_kwargs)
<dd>
<p>when values is non-null, remove extracted keywords from the rest keyword
argument.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+20-3A26-3A54+2013++Yutaka+Kanemoto++-3Ckanemoto-40ruby-lang.org-3E">Sun Dec  8 20:26:54 2013  Yutaka Kanemoto  &lt;kanemoto@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ruby.imp)
<dd>
<p>avoid circular dependency on AIX</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+20-3A21-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sun Dec  8 20:21:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>bigdecimal.c (BigDecimal_coerce)
<dd>
<p>convert a <a href="../../classes/Float.html">Float</a> to a <a
href="../../classes/BigDecimal.html">BigDecimal</a> instead of converting
the receiver to a <a href="../../classes/Float.html">Float</a>.  The reason
is there are <a href="../../classes/BigDecimal.html">BigDecimal</a>
instances with precisions that is smaller than the Float&#39;s precision.
[ruby-core:58756] [Bug #9192]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb
<dd>
<p>add tests for the above change.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+18-3A28-3A20+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Dec  8 18:28:20 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>[DOC] update <a href="../NEWS.html">NEWS</a> about <a
href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+17-3A52-3A24+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Dec  8 17:52:24 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>[DOC] document <a
href="../../classes/Module.html#method-i-singleton_class-3F">Module#singleton_class?</a>.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+16-3A19-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec  8 16:19:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_get_kwargs)
<dd>
<p>if optional is negative, unknown keywords are allowed.</p>
</dd><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg)
<dd>
<p>check unknown keywords.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+14-3A55-3A12+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Dec  8 14:55:12 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_shuffle_bang, rb_ary_sample)
<dd>
<p>rename local variables.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+13-3A59-3A38+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Dec  8 13:59:38 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_shuffle_bang, rb_ary_sample)
<dd>
<p>check unknown keywords.</p>
</dd><dt>test/ruby/test_array.rb (test_shuffle, test_sample)
<dd>
<p>tests for the above.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+13-3A01-3A11+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  8 13:01:11 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (ruby_vm_stat)
<dd>
<p>add <a href="../../classes/RubyVM.html#method-c-stat">RubyVM.stat</a> for
access to internal cache counters. this methods behaves like <a
href="../../classes/GC.html#method-c-stat">GC.stat</a>, accepting an
optional hash or symbol argument. [Bug #9190] [ruby-core:58750]</p>
</dd><dt>test/ruby/test_rubyvm.rb
<dd>
<p>test for new method</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+11-3A59-3A40+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  8 11:59:40 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_replace)
<dd>
<p>add a write barrier to fix <a href="../../classes/GC.html">GC</a> mark miss
on hashes using <a
href="../../classes/Hash.html#method-i-replace">Hash#replace</a> [Bug
#9226] [ruby-core:58948]</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+11-3A21-3A00+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  8 11:21:00 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add RGENGC_WB_PROTECTED_NODE_CREF setting In a large app, this reduces the
size of remembered_shady_object_count by 80%. [Bug #9225] [ruby-core:58947]</p>
</dd><dt>gc.c (rb_node_newnode)
<dd>
<p>add FL_WB_PROTECTED flag to NODE_CREF</p>
</dd><dt>class.c (rewrite_cref_stack)
<dd>
<p>insert OBJ_WRITE for NODE_CREF</p>
</dd><dt>iseq.c (set_relation)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (rb_iseq_clone)
<dd>
<p>ditto</p>
</dd><dt>vm_eval.c (rb_yield_refine_block)
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.c (vm_cref_push)
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.h (COPY_CREF)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+10-3A45-3A05+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  8 10:45:05 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (hash_aset_str)
<dd>
<p>revert r43870 due to performance issue [Bug #9188] [ruby-core:58730]</p>
</dd><dt>parse.y (assoc)
<dd>
<p>convert literal string hash keys to fstrings</p>
</dd><dt>test/ruby/test_hash.rb (class TestHash)
<dd>
<p>expand test</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+10-3A22-3A38+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  8 10:22:38 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (register_symid_str)
<dd>
<p>use fstrings in symbol table [Bug #9171] [ruby-core:58656]</p>
</dd><dt>parse.y (rb_id2str)
<dd>
<p>ditto</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>create frozen_strings on first usage. this allows rb_fstring() calls from
the parser (before cString is created)</p>
</dd><dt>string.c (fstring_set_class_i)
<dd>
<p>set klass on fstrings generated before cString was defined</p>
</dd><dt>string.c (Init_String)
<dd>
<p>convert frozen_strings table to String objects after boot</p>
</dd><dt>ext/-test-/symbol/type.c (bug_sym_id2str)
<dd>
<p>expose rb_id2str()</p>
</dd><dt>test/-ext-/symbol/test_type.rb (module Test_Symbol)
<dd>
<p>verify symbol table entries are fstrings</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+10-3A24-3A20+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec  8 10:24:20 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>Update version for upcoming ruby 2.1.0 RC.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+10-3A21-3A36+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec  8 10:21:36 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 14749ce.  This fixes bugs handling of gem
dependencies lockfiles (Gemfile.lock).</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Dec++8+09-3A40-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sun Dec  8 09:40:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_or)
<dd>
<p>use RHASH_TBL_RAW instead of RHASH_TBL</p>
</dd><dt>process.c (rb_execarg_fixup)
<dd>
<p>use RHASH_TBL_RAW and insert write barriers where appropriate</p>
</dd><dt>vm.c (kwmerge_i)
<dd>
<p>use RHASH_TBL_RAW</p>
</dd><dt>vm.c (HASH_ASET)
<dd>
<p>use rb_hash_aset instead of calling directly into st_insert</p>
</dd></dl>

<h2 id="label-2013-12-07">2013-12-07</h2>

<h3 id="label-Sat+Dec++7+11-3A15-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec  7 11:15:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_reject)
<dd>
<p>copy unrejected elements only to new hash, so that the change on the
original receiver can affect. [ruby-core:58914] [Bug #9223]</p>
</dd></dl>

<h3 id="label-Sat+Dec++7+08-3A25-3A00+2013++Richo+Healey++-3Cricho-40psych0tik.net-3E">Sat Dec  7 08:25:00 2013  Richo Healey  &lt;richo@psych0tik.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_struct.rb
<dd>
<p>Add regression test for question marks and bangs in struct members. [Closes
GH-468]</p>
</dd></dl>

<h2 id="label-2013-12-06">2013-12-06</h2>

<h3 id="label-Fri+Dec++6+19-3A33-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  6 19:33:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_extract_keywords, rb_get_kwargs)
<dd>
<p>move from vm_insnhelper.c.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+19-3A18-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 19:18:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change oldmalloc meaning. Increase oldmalloc_increase with malloc_increase
instead of using obj_memsize_of(). This change will avoid the danger of
memory full without major <a href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+19-3A08-3A48+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 19:08:48 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (atomic_sub_nounderflow)
<dd>
<p>not 0 but val itself.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+18-3A37-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 18:37:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_alloc, Init_heap)
<dd>
<p>initialize oldmalloc_increase_limit at Init_heap. rb_objspace_alloc() is
not called on some platforms.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+18-3A33-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 18:33:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>bug fix. initialize after recording.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+17-3A49-3A46+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 17:49:46 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (atomic_sub_nounderflow)
<dd>
<p>added to simplify atomic sub with care about underflow.</p>
</dd><dt>gc.c (objspace_malloc_increase)
<dd>
<p>use it.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+17-3A10-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  6 17:10:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (rb_get_kwargs)
<dd>
<p>get keyword argument values from an option hash, not only checking keys.</p>
</dd><dt>dir.c (dir_initialize)
<dd>
<p>use rb_get_kwargs.</p>
</dd><dt>gc.c (gc_start_internal)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+16-3A47-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  6 16:47:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-mode.el (ruby-brace-to-do-end)
<dd>
<p>split single line block.</p>
</dd><dt>misc/ruby-mode.el (ruby-do-end-to-brace)
<dd>
<p>shrink single line block to one line.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+16-3A16-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 16:16:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_start_internal)
<dd>
<p>do not use rb_gc_start() and rb_gc().</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+15-3A24-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec  6 15:24:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_start_internal, rb_gc)
<dd>
<p>do not need heap_pages_free_unused_pages() here. It was done in
after_sweep().</p>
</dd><dt>gc.c (rb_gc)
<dd>
<p>The reason is now GPR_FLAG_CAPI.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+14-3A05-3A19+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Dec  6 14:05:19 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_start_internal)
<dd>
<p><a href="../../classes/GC.html#method-c-start">GC.start</a> now accepts two
optional keyword arguments. These can be used to disable full_mark (minor
mark only) or disable immediate_sweep (use lazy sweep). These new options
are useful for benchmarking <a href="../../classes/GC.html">GC</a>
behavior, or performing minor <a href="../../classes/GC.html">GC</a>
out-of-band.</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>tests for new options.</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+11-3A51-3A28+2013++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Dec  6 11:51:28 2013  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb
<dd>
<p>[DOC] fix broken link, Use rubygems.org and <a
href="www.ruby-toolbox.com">www.ruby-toolbox.com</a> instead of RAA. [Bug
#9197]</p>
</dd></dl>

<h3 id="label-Fri+Dec++6+10-3A50-3A54+2013++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Dec  6 10:50:54 2013  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httprequest.rb
<dd>
<p>[DOC] Fix broken link of <a href="../../classes/CGI.html">CGI</a>
specification by @udzura [fix GH-466]</p>
</dd></dl>

<h3 id="label-Thu+Dec++6+01-3A27-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Dec  6 01:27:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (GetVpValueWithPrec)
<dd>
<p>treat 0.0 and -0.0 of floating-point numbers specially for an optimization
and to correctly propagate its signbit to the result. [Bug #9214]
[ruby-core:58858]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb
<dd>
<p>add tests case for the above change.</p>
</dd><dt>test/bigdecimal/test_bigdecimal_util.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-05">2013-12-05</h2>

<h3 id="label-Thu+Dec++5+22-3A18-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  5 22:18:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (configuration)
<dd>
<p>strip destdir part from prefix to get rid of duplication.  a patch by arton
at [ruby-core:58859]. [ruby-core:58856] [Bug #9213]</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+21-3A53-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  5 21:53:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_or)
<dd>
<p>lhs elements are preferred, so should not replace with rhs elements.</p>
</dd><dt>test/ruby/test_array.rb (test_OR_in_order)
<dd>
<p>import the test failed by r43969 from rubyspec/core/array/union_spec.rb.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+21-3A05-3A42+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec  5 21:05:42 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_info_decode)
<dd>
<p>fix to avoid syntax error on VS2012.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+19-3A21-3A10+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec  5 19:21:10 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (struct rb_objspace)
<dd>
<p>rename internal last_collection_flags to latest_gc_info</p>
</dd><dt>gc.c (gc_latest_collection_info)
<dd>
<p>add <a
href="../../classes/GC.html#method-c-latest_gc_info">GC.latest_gc_info</a>
with similar behavior to <a
href="../../classes/GC.html#method-c-stat">GC.stat</a></p>
</dd><dt>gc.c (rb_gc_latest_gc_info)
<dd>
<p>new c-api for above</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>remove :last_collection_flags from <a
href="../../classes/GC.html#method-c-stat">GC.stat</a></p>
</dd><dt>gc.c (gc_profile_decode_flags)
<dd>
<p>remove GC::Profiler.decode_flags</p>
</dd><dt>include/ruby/intern.h (rb_gc_latest_gc_info)
<dd>
<p>export new c-api</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>test for new behavior</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>note about new api</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>raise <a href="../../classes/TypeError.html">TypeError</a> on wrong type</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>fix error message</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+18-3A18-3A08+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec  5 18:18:08 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/gc_hook.c
<dd>
<p>remove this file</p>
</dd><dt>ext/-test-/tracepoint/gc_hook.c
<dd>
<p>new filename for above</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>remove ObjectSpace.after_gc_start_hook=</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>remove test</p>
</dd><dt>test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>add above test for tracepoint re-entry</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+17-3A44-3A53+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec  5 17:44:53 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change function names vm_ prefix to objspace_ prefix. They are objspace_
functionality.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+16-3A11-3A04+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec  5 16:11:04 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h
<dd>
<p>add rb_gc_stat() for access to <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> variables from c-api</p>
</dd><dt>gc.c (rb_gc_stat)
<dd>
<p>new c-api method. accepts either VALUE hash like <a
href="../../classes/GC.html#method-c-stat">GC.stat</a>, or VALUE symbol key
and returns size_t directly. the second form is useful to avoid
allocations, i.e. for usage inside INTERNAL_EVENT_GC tracepoints.</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>add <a href="../../classes/GC.html#method-c-stat">GC.stat</a>(:key) to
return single value instead of hash</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>helper method to retrieve single or all stat values</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>test for new behavior</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>note about this new api</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+14-3A40-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  5 14:40:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash)
<dd>
<p>revert r43981 and bail out to the outermost frame when recursion is
detected.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+13-3A47-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec  5 13:47:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_malloc_size)
<dd>
<p>added. return malloc_usable_size() if possible.</p>
</dd><dt>gc.c (MALLOC_ALLOCATED_SIZE)
<dd>
<p>add new setting macro to enable GC.allocated_size. If platform supports
`malloc_usable_size()&#39; (or similar one), GC.allocated_size can be
implemented with this function. Default is 0.</p>
</dd><dt>gc.c (vm_xmalloc, vm_xrealloc, vm_xfree)
<dd>
<p>use vm_malloc_size() to detect collect allocated size.</p>
</dd><dt>gc.c (vm_malloc_increase)
<dd>
<p>refactoring.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+13-3A19-3A03+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec  5 13:19:03 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>remove INTERNAL_EVENT_GC_END and replace with two new events: GC_END_MARK
and GC_END_SWEEP</p>
</dd><dt>gc.c (gc_after_sweep)
<dd>
<p>emit GC_END_SWEEP after lazy sweep is done</p>
</dd><dt>gc.c (gc_marks_body)
<dd>
<p>emit GC_END_MARK at end of minor/major mark</p>
</dd><dt>ext/-test-/tracepoint/tracepoint.c (struct tracepoint_track)
<dd>
<p>tests for new events.</p>
</dd><dt>test/-ext-/tracepoint/test_tracepoint.rb (class TestTracepointObj)
<dd>
<p>ditto.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>remove ObjectSpace.after_gc_*_hook. These are only a sample, and will be
removed before ruby 2.1.</p>
</dd><dt>ext/objspace/gc_hook.c
<dd>
<p>remove ObjectSpace.after_gc_end_hook=</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+10-3A47-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  5 10:47:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_PTR_EXCHANGE)
<dd>
<p>atomic exchange function for a generic pointer.</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+10-3A47-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  5 10:47:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (finalize_deferred)
<dd>
<p>flush all deferred finalizers while other finalizers can get ready to run
newly by lazy sweep. [ruby-core:58833] [Bug #9205]</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+09-3A07-3A59+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Dec  5 09:07:59 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ruby_gc_set_params)
<dd>
<p>Accept safe_level argument so <a href="../../classes/GC.html">GC</a> tuning
settings can be applied before rb_safe_level() is available.</p>
</dd><dt>internal.h (rb_gc_set_params)
<dd>
<p>ditto.</p>
</dd><dt>ruby.c (process_options)
<dd>
<p>Apply <a href="../../classes/GC.html">GC</a> tuning early during boot
process so boot-time allocations can benefit. This also benefits any code
loaded in via `ruby -r`.</p>
</dd></dl>

<h2 id="label-2013-12-04">2013-12-04</h2>

<h3 id="label-Wed+Dec++4+13-3A02-3A13+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Dec  4 13:02:13 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_suppress_tracing)
<dd>
<p>Fix initialization of stack allocated rb_trace_arg_t structure. Without
this patch, sometimes INTERNAL_EVENT_GC would be skipped accidentally
inside rb_threadptr_exec_event_hooks_orig().</p>
</dd></dl>

<h3 id="label-Wed+Dec++4+12-3A57-3A24+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Dec  4 12:57:24 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (fstr_update_callback)
<dd>
<p>Improve implementation in r43968 based on feedback from @nagachika. In the
existing case, we can return ST_STOP to prevent any hash modification. In
the !existing case, set both key and value to the fstr.</p>
</dd></dl>

<h3 id="label-Wed+Dec++4+12-3A47-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  4 12:47:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb (Delegator#method_missing)
<dd>
<p>ignore the target if not set, and delegate to global methods. 
[ruby-core:58572] [Bug #9155]</p>
</dd><dt>lib/delegate.rb (Delegator#respond_to_missing)
<dd>
<p>ditto.</p>
</dd><dt>lib/delegate.rb (SimpleDelegator#__getobj__)
<dd>
<p>yield and return if not delegated but a block is given, like as <a
href="../../classes/Hash.html#method-i-fetch">Hash#fetch</a>.</p>
</dd><dt>lib/delegate.rb (DelegateClass#__getobj__)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-03">2013-12-03</h2>

<h3 id="label-Tue+Dec++3+23-3A48-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  3 23:48:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check malloc_size() availability.</p>
</dd><dt>gc.c
<dd>
<p>use malloc_size() with malloc/malloc.h if available.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+23-3A06-3A20+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Tue Dec  3 23:06:20 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_clone)
<dd>
<p>don&#39;t copy FL_WB_PROTECTED of a original object.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+22-3A32-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  3 22:32:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_recursive)
<dd>
<p>make similar (recursive) constructs return same hash value.  execute
recursively, and rewind to the topmost frame with an object which .eql? to
the recursive object, if recursion is detected.</p>
</dd><dt>hash.c (rb_hash)
<dd>
<p>detect recursion for all `hash&#39; methods.  each `hash&#39; methods no
longer need to use rb_exec_recursive().</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+21-3A53-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  3 21:53:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_catch_protect)
<dd>
<p>new function similar to rb_catch_obj(), but protect from all global jumps
like as rb_load_protect(), rb_protect(), etc.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+20-3A18-3A46+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Tue Dec  3 20:18:46 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_clone)
<dd>
<p>Protect FL_PROMOTED and FL_WB_PROTECTED flags of a destination object.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+20-3A16-3A38+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Dec  3 20:16:38 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_hash_rehash)
<dd>
<p>use hash_alloc() instead of rb_hash_new(), to hide temporary object from <a
href="../../classes/ObjectSpace.html">ObjectSpace</a>.  [Bug #9187]</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+17-3A11-3A47+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec  3 17:11:47 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (features_index_add_single)
<dd>
<p>Move loaded_features_index array values off the ruby heap. [Bug #9201]
[ruby-core:58805]</p>
</dd><dt>load.c (loaded_features_index_clear_i)
<dd>
<p>Clean up off-heap array structure.</p>
</dd><dt>vm.c (rb_vm_mark)
<dd>
<p>Remove unnecessary mark_tbl for loaded_features_index. This improves minor
<a href="../../classes/GC.html">GC</a> time by 15% in a large application.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+17-3A01-3A45+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec  3 17:01:45 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RClass)
<dd>
<p>Add wrapper struct around RClass-&gt;m_tbl with serial. This prevents
double marking method tables, since many classes/modules can share the same
method table. This improves minor mark time in a large application by 30%.</p>
</dd><dt>internal.h (struct method_table_wrapper)
<dd>
<p>Define new wrapper struct with additional serial.</p>
</dd><dt>internal.h (RCLASS_M_TBL_INIT)
<dd>
<p>New macro for initializing method table wrapper and st_table.</p>
</dd><dt>method.h (void rb_sweep_method_entry)
<dd>
<p>Rename rb_free_m_table to rb_free_m_tbl for consistency</p>
</dd><dt>.gdbinit (define rb_method_entry)
<dd>
<p>Update rb_method_entry gdb helper for new method table structure.</p>
</dd><dt>class.c
<dd>
<p>Use RCLASS_M_TBL_WRAPPER and RCLASS_M_TBL_INIT macros.</p>
</dd><dt>class.c (rb_include_class_new)
<dd>
<p>Share WRAPPER between module and iclass, so serial can prevent double
marking.</p>
</dd><dt>eval.c (rb_prepend_module)
<dd>
<p>ditto.</p>
</dd><dt>eval.c (rb_using_refinement)
<dd>
<p>ditto.</p>
</dd><dt>gc.c
<dd>
<p>Mark and free new wrapper struct.</p>
</dd><dt>gc.c (obj_memsize_of)
<dd>
<p>Count size of additional wrapper struct.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+14-3A05-3A49+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Dec  3 14:05:49 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq_bang)
<dd>
<p>remove duplicate code.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+13-3A40-3A42+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Dec  3 13:40:42 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_add_hash)
<dd>
<p>set and return values because string keys will be frozen. [ruby-core:58809]
[Bug #9202]</p>
</dd><dt>array.c (rb_ary_uniq_bang)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_or)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_uniq)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_array.rb
<dd>
<p>tests for above. The patch is from normalperson (Eric Wong).</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+12-3A20-3A21+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Dec  3 12:20:21 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring)
<dd>
<p>Use st_update instead of st_lookup + st_insert.</p>
</dd><dt>string.c (fstr_update_callback)
<dd>
<p>New callback for st_update.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+12-3A17-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  3 12:17:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/constant.rb (RDoc::Constant#documented?)
<dd>
<p>workaround for <a href="../../classes/NoMethodError.html">NoMethodError</a>
when the original of alias is not found.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+10-3A43-3A58+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Dec  3 10:43:58 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb
<dd>
<p>Return ASCII-8BIT strings from SSLSocket methods.  [ruby-trunk - Bug #9028]</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Tue+Dec++3+09-3A42-3A27+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Dec  3 09:42:27 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> master 900de99. 
Changes include: Fixed documentation display of constants Fixed handling of
unknown parsers</p>
</dd><dt>test/rdoc
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-12-02">2013-12-02</h2>

<h3 id="label-Mon+Dec++2+22-3A30-3A10+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Dec  2 22:30:10 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (getenv)
<dd>
<p>fixed test failures introduced by r43950. [ruby-core:58774] [Bug #9195]
reported by phasis68 (Heesob Park).</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+21-3A49-3A19+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Dec  2 21:49:19 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_rehash)
<dd>
<p>make temporary st_table under the control of <a
href="../../classes/GC.html">GC</a>. [Bug #9187]</p>
</dd><dt>test/ruby/test_hash.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+17-3A23-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Dec  2 17:23:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_mod_constants)
<dd>
<p>when calling <a
href="../../classes/Module.html#method-i-constants">Module#constants</a>
with inherit=false, there is no need to use a hashtable to deduplicate
constant names. [Feature #9196] [ruby-core:58786]</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+14-3A16-3A52+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  2 14:16:52 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/smtp.rb (Net::SMTP#critical)
<dd>
<p>Always return a <a
href="../../classes/Net/SMTP/Response.html">Net::SMTP::Response</a>.  Patch
by Pawel Veselov. [ruby-trunk - Bug #9125]</p>
</dd><dt>test/net/smtp/test_smtp.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+05-3A52-3A33+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Dec  2 05:52:33 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master baa965b.  Notable changes: Copy directories to
lib/ when installing extensions.  This completes the fix for [ruby-trunk -
Bug #9106]</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+02-3A03-3A47+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Mon Dec  2 02:03:47 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_case.rb (test_nomethoderror)
<dd>
<p>Add test related to r43913, r43914</p>
</dd></dl>

<h3 id="label-Mon+Dec++2+00-3A53-3A01+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Dec  2 00:53:01 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (getenv)
<dd>
<p>use ANSI codepage version of getenv() for miniruby on Windows.
[ruby-core:58732] [Bug #9189] reported by phasis68 (Heesob Park).</p>
</dd></dl>

<h2 id="label-2013-12-01">2013-12-01</h2>

<h3 id="label-Sun+Dec++1+22-3A14-3A27+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 22:14:27 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributors_rdoc.html">doc/contributors.rdoc</a>
<dd>
<p>[DOC] Import contributors from redmine wiki Many wiki pages have become
outdated and spam-ridden, we will import these to trunk and begin
maintaining them in ruby-trunk. This will also allow new contributors to
easily contribute patches to update these pages, where previously a redmine
account with wiki access was required. Another bonus is having a
contributors file to show thanks to all of the people who have submitted a
patch to Ruby.</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+18-3A03-3A26+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 18:03:26 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="maintainers_rdoc.html">doc/maintainers.rdoc</a>
<dd>
<p>[DOC] Current maintainers of Ruby</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+17-3A17-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 17:17:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Current branch maintainers</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+17-3A16-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 17:16:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Reporting other (ruby-lang.org) issues</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+17-3A15-3A51+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 17:15:51 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Current platform maintainers</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+17-3A14-3A55+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 17:14:55 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Reporting downstream distro issues</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+14-3A37-3A20+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Dec  1 14:37:20 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_to_a)
<dd>
<p>specify array capa.</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+14-3A15-3A36+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Dec  1 14:15:36 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_rehash)
<dd>
<p>fix to free new st_table when exception is raised in do_hash(). [Bug #9187]</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+11-3A57-3A59+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec  1 11:57:59 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb
<dd>
<p>Fix warning in copyright</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+08-3A27-3A28+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec  1 08:27:28 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 66e5c39.  Notable changes: Implement gem.deps.rb
(Gemfile) .lock support Fixed `gem uninstall` for a relative directory in
GEM_HOME.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Dec++1+06-3A00-3A49+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Dec  1 06:00:49 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (test_gc_reason)
<dd>
<p>Force minor <a href="../../classes/GC.html">GC</a> by consuming free slots
to fix test.</p>
</dd></dl>

<h2 id="label-2013-11-30">2013-11-30</h2>

<h3 id="label-Sat+Nov+30+21-3A22-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 21:22:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_initialize)
<dd>
<p>check unknown keywords.  [ruby-dev:47152] [Bug #8060]</p>
</dd></dl>

<h3 id="label-Sat+Nov+30+18-3A05-3A38+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 18:05:38 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (hash2named_arg)
<dd>
<p>correct declaration to fix build failure.  a patch by phasis68 (Heesob
Park) at [ruby-core:58710].  [Bug #9184]</p>
</dd></dl>

<h3 id="label-Sat+Nov+30+17-3A46-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 17:46:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (ruby_cleanup)
<dd>
<p>determine exit status and signal to terminate before finalization, to get
rid of access destroyed T_DATA exception object.  [ruby-core:58643] [Bug
#9167]</p>
</dd></dl>

<h3 id="label-Sat+Nov+30+16-3A25-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 16:25:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_with_index)
<dd>
<p>should not store local variable address to memoize the arguments.  it is
invalidated after the return. [ruby-core:58692] [Bug #9178]</p>
</dd></dl>

<h3 id="label-Sat+Nov+30+13-3A28-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 13:28:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>siphash.c (sip_hash24)
<dd>
<p>fix for aligned word access little endian platforms.  [ruby-core:58658]
[Bug #9172]</p>
</dd></dl>

<h3 id="label-Sat+Nov+30+13-3A21-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 30 13:21:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_yield_block)
<dd>
<p>implement non-nil block argument.</p>
</dd></dl>

<h2 id="label-2013-11-29">2013-11-29</h2>

<h3 id="label-Fri+Nov+29+20-3A59-3A39+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Nov 29 20:59:39 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_vmdebug_debug_print_pre)
<dd>
<p>Bugfix. Get PC directly. PC is cached into local stack and cfp-&gt;pc is
incorrect at next of branch or jump.</p>
</dd><dt>vm_exec.h (DEBUG_ENTER_INSN)
<dd>
<p>catch up this change.</p>
</dd><dt>vm_core.h
<dd>
<p>update signature of rb_vmdebug_debug_print_pre.</p>
</dd></dl>

<h3 id="label-Fri+Nov+29+20-3A43-3A57+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Nov 29 20:43:57 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>Bugsfix for dump_disasm_list. rb_inspect denies a hidden object. So, insert
wrapper that creates the unhidden one. adjust-&gt;label is null sometimes.
insn_data_line_no makes no sense at all.</p>
</dd></dl>

<h3 id="label-Fri+Nov+29+18-3A06-3A45+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Fri Nov 29 18:06:45 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_case.rb (test_method_missing)
<dd>
<p><a href="../../classes/Test.html">Test</a> for r43913.</p>
</dd></dl>

<h3 id="label-Fri+Nov+29+17-3A53-3A22+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Fri Nov 29 17:53:22 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (check_match)
<dd>
<p>Fix SEGV with VM_CHECKMATCH_TYPE_CASE and class of `pattern` has
`method_missing` [Bug #8872] [ruby-core:58606]</p>
</dd></dl>

<h3 id="label-Fri+Nov+29+17-3A06-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 29 17:06:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_yield_block)
<dd>
<p>yield block with rb_block_call_func arguments.</p>
</dd><dt>range.c (range_each)
<dd>
<p>use rb_yield_block.</p>
</dd><dt>include/ruby/ruby.h (RB_BLOCK_CALL_FUNC_ARGLIST)
<dd>
<p>constify argv.</p>
</dd><dt>enum.c (rb_enum_values_pack)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_block_call, rb_check_block_call)
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/ruby.h (RB_BLOCK_CALL_FUNC_ARGLIST)
<dd>
<p>for declaration argument list of rb_block_call_func.</p>
</dd></dl>

<h3 id="label-Fri+Nov+29+11-3A26-3A43+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 29 11:26:43 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (rb_block_call_func)
<dd>
<p>add blockarg.  block function can take block argument, e.g., proc
{|&amp;blockarg| …}.</p>
</dd></dl>

<h2 id="label-2013-11-28">2013-11-28</h2>

<h3 id="label-Thu+Nov+28+21-3A43-3A48+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 28 21:43:48 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="dtrace_probes_rdoc.html">doc/dtrace_probes.rdoc</a>
<dd>
<p>[DOC] Import dtrace probes doc from wiki</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+21-3A17-3A32+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 28 21:17:32 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Add heading above <a href="../ChangeLog.html">ChangeLog</a> tips to
setup entry for commits, its not required. Actually easier if contributors
don&#39;t include a <a href="../ChangeLog.html">ChangeLog</a> entry.</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+21-3A16-3A18+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 28 21:16:18 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Add coding style heading for patch rules</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+21-3A15-3A45+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 28 21:15:45 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Add notes about deciding what to patch</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+19-3A43-3A45+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 19:43:45 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_hash_flatten.rb
<dd>
<p>added. r43896 is about 4 times faster than 2.0.0p353.</p>
</dd><dt>benchmark/bm_hash_keys.rb
<dd>
<p>added. r43896 is about 5 times faster than 2.0.0p353.</p>
</dd><dt>benchmark/bm_hash_values.rb
<dd>
<p>added. r43896 is about 5 times faster than 2.0.0p353.</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+19-3A29-3A04+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 28 19:29:04 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] Add notes about slideshow proposals from wiki page:
HowToRequestFeatures</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+17-3A34-3A42+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 17:34:42 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c
<dd>
<p>add st_values() and st_values_check().</p>
</dd><dt>include/ruby/st.h
<dd>
<p>add prototypes for above.</p>
</dd><dt>hash.c (rb_hash_values)
<dd>
<p>use st_values_check() for performance improvement if VALUE and st_data_t
are compatible.</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+17-3A14-3A14+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 17:14:14 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_keys)
<dd>
<p>fix not to use Qundef in st.c.</p>
</dd><dt>include/ruby/st.h
<dd>
<p>define modified prototype.</p>
</dd><dt>hash.c (rb_hash_keys)
<dd>
<p>use modified st_keys().</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+16-3A34-3A43+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Nov 28 16:34:43 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Expose details about last garbage collection via <a
href="../../classes/GC.html#method-c-stat">GC.stat</a>.</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>Add :last_collection_flags for reason/trigger/type of last <a
href="../../classes/GC.html">GC</a> run.</p>
</dd><dt>gc.c (gc_prof_sweep_timer_stop)
<dd>
<p>Record HAVE_FINALIZE GPR even without GC_PROFILE_MORE_DETAIL.</p>
</dd><dt>gc.c (gc_profile_flags)
<dd>
<p>Add GC::Profiler.decode_flags to make sense of <a
href="../../classes/GC.html#method-c-stat">GC.stat</a></p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p><a href="../../classes/Test.html">Test</a> for above.</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+16-3A15-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 28 16:15:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_dup2)
<dd>
<p>extract from rb_cloexec_dup2() and redirect_dup2().</p>
</dd></dl>

<h3 id="label-Tue+Nov+28+14-3A40-3A00+2013++Akira+Matsuda++-3Cronnie-40dio.jp-3E">Tue Nov 28 14:40:00 2013  Akira Matsuda  &lt;ronnie@dio.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/ssl.rb
<dd>
<p>[Doc] Fix typo</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+13-3A56-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 28 13:56:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (Doxyfile)
<dd>
<p>tool/file2lastrev.rb needs running with BASERUBY since r43617. 
[ruby-dev:47823] [Bug #9169]</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+09-3A18-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 28 09:18:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring)
<dd>
<p>fstrings should be ELTS_SHARED. If we resurrect dying objects (non-marked,
but not swept yet), pointing shared string can be collected. To avoid such
issue, fstrings (recorded to fstring_table) should not be ELTS_SHARED
(should not have a shared string).</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+01-3A35-3A08+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 01:35:08 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_keys)
<dd>
<p>fix to use st_index_t for size of hash.</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+00-3A36-3A52+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 00:36:52 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_keys)
<dd>
<p>define st_keys(). it writes each key to buffer.</p>
</dd><dt>hash.c (rb_hash_keys)
<dd>
<p>use st_keys() for performance improvement if st_data_t and VALUE are
compatible.</p>
</dd><dt>include/ruby/st.h
<dd>
<p>define macro ST_DATA_COMPATIBLE_P() to predicate whether st_data_t and
passed type are compatible.</p>
</dd><dt>configure.in
<dd>
<p>check existence of builtin function to use in ST_DATA_COMPATIBLE_P().</p>
</dd></dl>

<h3 id="label-Thu+Nov+28+00-3A07-3A28+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov 28 00:07:28 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h
<dd>
<p>remove duplicate definitions between ATOMIC_XXX and ATOMIC_SIZE_XXX.</p>
</dd></dl>

<h2 id="label-2013-11-27">2013-11-27</h2>

<h3 id="label-Wed+Nov+27+23-3A55-3A50+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Nov 27 23:55:50 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h
<dd>
<p>define ATOMIC_SIZE_CAS() with __atomic_compare_exchange_n() and
refactoring.</p>
</dd></dl>

<h3 id="label-Tue+Nov+27+21-3A43-3A00+2013++Akira+Matsuda++-3Cronnie-40dio.jp-3E">Tue Nov 27 21:43:00 2013  Akira Matsuda  &lt;ronnie@dio.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/notifier.rb
<dd>
<p>[Doc] Fix typo</p>
</dd><dt>ext/json/lib/json/common.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+27+18-3A04-3A57+2013++Akira+Matsuda++-3Cronnie-40dio.jp-3E">Tue Nov 27 18:04:57 2013  Akira Matsuda  &lt;ronnie@dio.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/notifier.rb
<dd>
<p>Fix typo</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+17-3A54-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 27 17:54:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_stacked_objects)
<dd>
<p>check only when check_mode &gt; 0.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+16-3A07-3A19+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 16:07:19 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>Fix warning in test_expand_heap.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+15-3A55-3A52+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 15:55:52 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (Init_GC)
<dd>
<p>Add new GC::INTERNAL_CONSTANTS for information about <a
href="../../classes/GC.html">GC</a> heap/page/slot sizing.</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+15-3A21-3A17+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 15:21:17 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_page_sweep)
<dd>
<p>Fix compile warning from last commit.</p>
</dd><dt>hash.c (hash_aset_str)
<dd>
<p>Re-use existing variable to avoid unnecessary pointer dereferencing.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+15-3A12-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 27 15:12:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_page_sweep)
<dd>
<p>disable debug print.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+15-3A05-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 27 15:05:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>add new information heap_eden_page_length and heap_tomb_page_length.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>fix to use <a href="../../classes/GC.html#method-c-stat">GC.stat</a>
instead of <a href="../../classes/GC.html#method-c-stat">GC.stat</a>. This
test expects `heap_eden_page_length&#39; (used pages size).</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+15-3A02-3A53+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 15:02:53 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_eval.rb (class TestEval)
<dd>
<p>Use assert_same instead of assert_equal.</p>
</dd><dt>test/ruby/test_hash.rb (class TestHash)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_iseq.rb (class TestISeq)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+14-3A50-3A02+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Nov 27 14:50:02 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb
<dd>
<p>Announce RingServer for the same process. [ruby-trunk - Bug #9163]</p>
</dd><dt>test/rinda/test_rinda.rb
<dd>
<p>Tests for the above.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+14-3A37-3A33+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 14:37:33 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_eval.rb (class TestEval)
<dd>
<p>Add test for shared eval filenames via rb_fstring().</p>
</dd><dt>test/ruby/test_iseq.rb (class TestISeq)
<dd>
<p>Add test for shared iseq labels via rb_fstring(). [Bug #9159]</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+14-3A24-3A55+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 14:24:55 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (hash_aset_str)
<dd>
<p>Use rb_fstring() to de-duplicate hash string keys. Patch by Eric Wong. [Bug
#8998] [ruby-core:57727]</p>
</dd><dt>test/ruby/test_hash.rb (class TestHash)
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+10-3A39-3A39+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 10:39:39 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Rename rb_heap_t members: used -&gt; page_length limit -&gt; total_slots</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+08-3A24-3A49+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Nov 27 08:24:49 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>Use rb_fstring() to de-duplicate string literals in code. [ruby-core:58599]
[Bug #9159] [ruby-core:54405]</p>
</dd><dt>iseq.c (prepare_iseq_build)
<dd>
<p>De-duplicate iseq labels and source locations.</p>
</dd><dt>re.c (rb_reg_initialize)
<dd>
<p>Use rb_fstring() for regex string.</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>Handle non-string and already-fstr arguments.</p>
</dd><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>De-duplicate eval source filename.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+07-3A13-3A54+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Nov 27 07:13:54 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>psych version 2.0.2</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+06-3A40-3A18+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Nov 27 06:40:18 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/scalar_scanner.rb
<dd>
<p>fix support for negative years.</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/test_date_time.rb
<dd>
<p>test for change. Fixes: <a
href="https://github.com/tenderlove/psych/issues/168">github.com/tenderlove/psych/issues/168</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+27+04-3A46-3A55+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Nov 27 04:46:55 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/scalar_scanner.rb
<dd>
<p>fix regexp for matching TIME strings.</p>
</dd><dt>test/psych/test_date_time.rb
<dd>
<p>test for change. Fixes: <a
href="https://github.com/tenderlove/psych/issues/171">github.com/tenderlove/psych/issues/171</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+27+02-3A26-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 27 02:26:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_new4)
<dd>
<p>copy the original capacity so that memsize of frozen shared string returns
correct size.</p>
</dd></dl>

<h3 id="label-Wed+Nov+27+02-3A20-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 27 02:20:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_hash)
<dd>
<p>should not ignore the rest of recursive constructs.</p>
</dd><dt>hash.c (rb_hash_hash)
<dd>
<p>ditto.</p>
</dd><dt>range.c (range_hash)
<dd>
<p>ditto.</p>
</dd><dt>struct.c (rb_struct_hash)
<dd>
<p>ditto.</p>
</dd><dt>test/-ext-/test_recursion.rb (TestRecursion)
<dd>
<p>separate from test/ruby/test_thread.rb.</p>
</dd></dl>

<h2 id="label-2013-11-26">2013-11-26</h2>

<h3 id="label-Tue+Nov+26+22-3A43-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 26 22:43:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash)
<dd>
<p>cut off if recursion detected to get rid of stack overflow. 
[ruby-core:58567] [Bug #9151]</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+20-3A02-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 26 20:02:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add tests for a_call/a_return by Brandur &lt;brandur@mutelight.org&gt;
[Feature #9120]</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+19-3A29-3A52+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 26 19:29:52 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>add useful config “set breakpoint pending on” for run.gdb.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+19-3A17-3A47+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 26 19:17:47 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c (newobj_i)
<dd>
<p>skip class_path if class is frozen. rb_class_path() can modify frozen
classes (and causes errors). This patch is temporary. We need
no-modification/no-allocation class path function.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+18-3A12-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 26 18:12:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>skip “exception check” and “reentrant check (only normal events)  for
internal events. Reentrant check for internal events are remaining.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+17-3A38-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 26 17:38:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>prohibit to specify normal events and internal events simultaneously. I
will introduce special care for internal events later.</p>
</dd><dt>ext/-test-/tracepoint/tracepoint.c
<dd>
<p>test this behavior.</p>
</dd><dt>test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+16-3A30-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 26 16:30:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_readlink)
<dd>
<p>fix buffer overflow on a long symlink. since rb_str_modify_expand() expands
from its length but not its capacity, need to set the length properly for
each expansion. [ruby-core:58592] [Bug #9157]</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+14-3A23-3A17+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Nov 26 14:23:17 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_append_string_value)
<dd>
<p>Escape control characters for strict json parsers.</p>
</dd><dt>ext/objspace/objspace_dump.c (objspace_dump)
<dd>
<p>Document File/IO output option.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+11-3A43-3A19+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Nov 26 11:43:19 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h
<dd>
<p>use __atomic builtin functions supported by GCC. __sync family are legacy
functions now and it is recommended that new code use the __atomic
functions. <a
href="http://gcc.gnu.org/onlinedocs/gcc/_005f_005fatomic-Builtins.html">gcc.gnu.org/onlinedocs/gcc/_005f_005fatomic-Builtins.html</a></p>
</dd><dt>configure.in
<dd>
<p>check existence of __atomic functions.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+10-3A57-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 26 10:57:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>revert <a
href="../../classes/Gem/Specification.html#method-i-date">Gem::Specification#date</a>
for snapshot/release tarballs.</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+06-3A42-3A50+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Nov 26 06:42:50 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add ObjectSpace.after_gc_{start,end}_hook=</p>
</dd><dt>ext/objspace/objspace_dump.c
<dd>
<p>[DOC] catch up dump/dump_all to r43679</p>
</dd></dl>

<h3 id="label-Tue+Nov+26+04-3A12-3A10+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 26 04:12:10 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 612f85a.  Notable changes: Fixed installation and
activation of git: and path: gems via <a
href="../../classes/Gem.html#method-c-use_gemdeps">Gem.use_gemdeps</a>
Improved documentation coverage</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-11-25">2013-11-25</h2>

<h3 id="label-Mon+Nov+25+22-3A23-3A03+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Nov 25 22:23:03 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc.rb
<dd>
<p>[DOC] Fix link to xmlrpc4r site [Bug #9148] Patch by Giorgos Tsiftsis</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+19-3A48-3A10+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Nov 25 19:48:10 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>[DOC] typo fixes by @vipulnsward [Fixes GH-456] <a
href="https://github.com/ruby/ruby/pull/456">github.com/ruby/ruby/pull/456</a></p>
</dd><dt>lib/uri/generic.rb
<dd>
<p>[DOC] ditto.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+14-3A34-3A42+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Nov 25 14:34:42 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>bump <a href="../../classes/BigDecimal.html">BigDecimal</a> to 1.2.3 for
proper release date in RubyGems</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+14-3A25-3A08+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Nov 25 14:25:08 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>Remove <a
href="../../classes/Gem/Specification.html#method-i-date">Gem::Specification#date</a>
We should rely on rubygems to create the date the gem was released for each
version.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+06-3A53-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 06:53:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>do not use ruby_sized_xrealloc() and ruby_sized_xfree() if
HAVE_MALLOC_USABLE_SIZE (or _WIN32) is defined. We don&#39;t need these
function if malloc_usable_size() is available.</p>
</dd><dt>gc.c
<dd>
<p>catch up this change.</p>
</dd><dt>gc.c
<dd>
<p>define HAVE_MALLOC_USABLE_SIZE on _WIN32.</p>
</dd><dt>array.c (ary_resize_capa)
<dd>
<p>do not use ruby_sized_xfree() with local variable to avoid “unused local
variable” warning. This change only has few impact.</p>
</dd><dt>string.c (rb_str_resize)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+05-3A05-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 05:05:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>catch up <a href="../../classes/GC.html#method-c-stat">GC.stat</a> changes
at r43835.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+04-3A45-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 04:45:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>continue to change OLDSPACE -&gt; OLDMALLOC. RGENGC_ESTIMATE_OLDSPACE -&gt;
RGENGC_ESTIMATE_OLDMALLOC.</p>
</dd><dt>gc.c
<dd>
<p>add a new major <a href="../../classes/GC.html">GC</a> reason
GPR_FLAG_MAJOR_BY_OLDMALLOC.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+04-3A16-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 04:16:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change terminology “…_num” to “…_slots” about slot operation. * final_num
-&gt; final_slots * objspace_live_num() -&gt; objspace_live_slots() *
objspace_limit_num() -&gt; objspace_limit_slots() * objspace_free_num()
-&gt; objspace_free_slots()</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+04-3A03-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 04:03:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>add internal information. * heap_swept_slot * malloc_increase *
malloc_limit * remembered_shady_object * remembered_shady_object_limit *
old_object * old_object_limit * oldmalloc_increase * oldmalloc_limit</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>rename names. * heap_live_num -&gt; heap_live_slot * heap_free_num -&gt;
heap_free_slot * heap_final_slot -&gt; heap_final_slot Quote from <a
href="../../classes/RDoc.html">RDoc</a> of <a
href="../../classes/GC.html#method-c-stat">GC.stat</a>: “The contents of
the hash are implementation specific and may be changed in the future.”</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+03-3A59-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 03:59:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>catch up last commit. Now RUBY_GC_OLDSPACE_LIMIT(…) is
RUBY_GC_OLDMALLOC_LIMIT(…).</p>
</dd></dl>

<h3 id="label-Mon+Nov+25+03-3A10-3A46+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 25 03:10:46 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change terminology OLDSPACE -&gt; OLDMALLOC.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Nov+25+00-3A50-3A03+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Nov 25 00:50:03 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>use __builtin_bswap16() if possible.</p>
</dd><dt>configure.in
<dd>
<p>check existence of __builtin_bswap16().</p>
</dd></dl>

<h2 id="label-2013-11-24">2013-11-24</h2>

<h3 id="label-Sun+Nov+24+22-3A24-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 24 22:24:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigxor_int)
<dd>
<p>Apply BIGLO for long in a BDIGIT expression.</p>
</dd><dt>(bigor_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigand_int)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+18-3A13-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 24 18:13:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (SIZEOF_ACTUAL_BDIGIT)
<dd>
<p>Defined.</p>
</dd><dt>include/ruby/ruby.h (RBIGNUM_EMBED_LEN_MAX)
<dd>
<p>Use SIZEOF_ACTUAL_BDIGIT instead of SIZEOF_BDIGITS. SIZEOF_BDIGITS can be
different to sizeof(BDIGIT).</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+13-3A49-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 24 13:49:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h
<dd>
<p>Don&#39;t use int128_t for <a href="../../classes/Bignum.html">Bignum</a>.
It&#39;s not always faster.</p>
</dd><dt>bignum.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+10-3A18-3A15+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Nov 24 10:18:15 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add details about new debugging features and APIs.</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+09-3A37-3A20+2013++Andrew+Vit++-3Candrew-40avit.ca-3E">Sun Nov 24 09:37:20 2013  Andrew Vit  &lt;andrew@avit.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>Optimize header hashes by freezing string keys. [ruby-core:58510]</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+09-3A18-3A06+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Nov 24 09:18:06 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_object)
<dd>
<p>Use PRIuSIZE to print size_t for better win32 compatibility.</p>
</dd><dt>test/objspace/test_objspace.rb (test_dump_all)
<dd>
<p>Hold reference to test string to avoid failure due to <a
href="../../classes/GC.html">GC</a>. Reduce size of failure message using
grep(/TEST STRING/).</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+08-3A38-3A00+2013++Kyle+Stevens++-3Ckstevens715-40gmail.com-3E">Sun Nov 24 08:38:00 2013  Kyle Stevens  &lt;kstevens715@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>If skip_lines is set to a String, convert it to a <a
href="../../classes/Regexp.html">Regexp</a> to prevent the alternative,
which is that each line in the <a href="../../classes/CSV.html">CSV</a>
gets converted to a <a href="../../classes/Regexp.html">Regexp</a> when
calling skip_lines#match.</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+01-3A03-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sun Nov 24 01:03:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_power)
<dd>
<p>Use FIX2LONG instead of FIX2INT to avoid conversion error.</p>
</dd></dl>

<h3 id="label-Sun+Nov+24+00-3A44-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 24 00:44:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RBIGNUM_EMBED_LEN_MAX)
<dd>
<p>define by macros defined in defines.h, instead of complex and repeated
expression.</p>
</dd></dl>

<h2 id="label-2013-11-23">2013-11-23</h2>

<h3 id="label-Sat+Nov+23+22-3A22-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 23 22:22:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RBIGNUM_EMBED_LEN_MAX)
<dd>
<p>Limit the value to less than 8.</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+19-3A52-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sat Nov 23 19:52:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/math.rb (BigMath.E)
<dd>
<p>Use <a href="../../classes/BigMath.html#method-c-exp">BigMath.exp</a>.
[Feature #6857] [ruby-core:47130]</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+19-3A46-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sat Nov 23 19:46:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_exp)
<dd>
<p>Optimize the calculation algorithm to reduce the number of divisions. This
optimization was proposed by Rafal Michalski. [Feature #6857]
[ruby-core:47130]</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+19-3A20-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sat Nov 23 19:20:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_div2)
<dd>
<p>The signature was changed to allow us to pass arguments directly.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_div3)
<dd>
<p>Added for the role of the old BigDecimal_div2.</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+12-3A31-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 23 12:31:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix global variable name. Now we have following environments (and related
variable names). * RUBY_GC_HEAP_INIT_SLOTS * RUBY_GC_HEAP_FREE_SLOTS *
RUBY_GC_HEAP_GROWTH_FACTOR (new from 2.1) * RUBY_GC_HEAP_GROWTH_MAX_SLOTS
(new from 2.1) * obsolete * RUBY_FREE_MIN       -&gt;
RUBY_GC_HEAP_FREE_SLOTS (from 2.1) * RUBY_HEAP_MIN_SLOTS -&gt;
RUBY_GC_HEAP_INIT_SLOTS (from 2.1) * RUBY_GC_MALLOC_LIMIT *
RUBY_GC_MALLOC_LIMIT_MAX (new from 2.1) *
RUBY_GC_MALLOC_LIMIT_GROWTH_FACTOR (new from 2.1) * RUBY_GC_OLDSPACE_LIMIT
(new from 2.1) * RUBY_GC_OLDSPACE_LIMIT_MAX (new from 2.1) *
RUBY_GC_OLDSPACE_LIMIT_GROWTH_FACTOR (new from 2.1)</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+09-3A45-3A49+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sat Nov 23 09:45:49 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_object)
<dd>
<p>Use HASH_PROC_DEFAULT directly from internal.h</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+08-3A43-3A23+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sat Nov 23 08:43:23 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Rename heap_pages_swept_num to heap_pages_swept_slots to clarify meaning
(number of slots, not pages).</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+08-3A23-3A23+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sat Nov 23 08:23:23 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (class <a href="../../classes/SortedSet.html">SortedSet</a>)
<dd>
<p>Fix source_location for methods defined via eval.</p>
</dd></dl>

<h3 id="label-Sat+Nov+23+03-3A44-3A03+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Nov 23 03:44:03 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master dcce4ff.  Important changes in this commit:
Remove automatic detection of gem dependencies files.  This prevents a
security hole as described in [ruby-core:58490] Fixed bugs for installing
git gems.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-11-22">2013-11-22</h2>

<h3 id="label-Fri+Nov+22+22-3A30-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 22:30:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_power)
<dd>
<p>Round the result value only if the precision is given.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+17-3A20-3A50+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 22 17:20:50 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (str_transcode0)
<dd>
<p>don&#39;t scrub invalid chars if str.encode doesn&#39;t have explicit
invalid: :replace. workaround fix for see #8995</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+17-3A11-3A26+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Fri Nov 22 17:11:26 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h, internal.h
<dd>
<p>Expose rb_gc_count().</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+17-3A07-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 17:07:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>version 1.2.2.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+17-3A04-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 17:04:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_data_type)
<dd>
<p>Use RUBY_TYPED_FREE_IMMEDIATELY only if it is available.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+16-3A49-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 16:49:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_power)
<dd>
<p>Round the result value. [Bug #8818] [ruby-core:56802]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb
<dd>
<p>Add a test for the above fix.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+16-3A25-3A43+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 22 16:25:43 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_set_increment)
<dd>
<p>accept minimum additional page number.</p>
</dd><dt>gc.c (gc_after_sweep)
<dd>
<p>allocate pages to allocate at least RUBY_HEAP_MIN_SLOTS. [Bug #9137]</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+16-3A19-3A52+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Fri Nov 22 16:19:52 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_gc_set_params)
<dd>
<p>Deprecate rb_gc_set_params because it&#39;s only used in ruby internal.</p>
</dd><dt>internal.h (ruby_gc_set_params)
<dd>
<p>Declare rb_gc_set_params&#39;s alias function.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>ruby.c
<dd>
<p>use ruby_gc_set_params.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+14-3A55-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 14:55:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_exp)
<dd>
<p>Insert rb_thread_check_ints.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+14-3A35-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 14:35:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_exp)
<dd>
<p>Fix the inserting points of RB_GC_GUARDs.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+14-3A31-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Nov 22 14:31:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Fix indentation.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+14-3A03-3A00+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 22 14:03:00 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/nkf
<dd>
<p>merge nkf 2.1.3 2a2f2c5.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+12-3A43-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 22 12:43:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>util.c (ruby_strtod)
<dd>
<p>ignore too long fraction part, which does not affect the result.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+12-3A17-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 22 12:17:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb (OpenSSL::Buffering#initialize)
<dd>
<p>initialize of a module should pass arguments to super.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+12-3A02-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Nov 22 12:02:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_settracefunc.rb
<dd>
<p>Ignore events from other threads.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+10-3A35-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 22 10:35:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (ruby_vm_destruct)
<dd>
<p>do not use ruby_xfree() after freeing objspace.</p>
</dd><dt>gc.c (ruby_mimfree)
<dd>
<p>added. It is similar to ruby_mimmalloc().</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+09-3A42-3A35+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov 22 09:42:35 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/digest/test_digest.rb
<dd>
<p>Reverse order of assert_equal Reported by @splattael</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+09-3A03-3A16+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 22 09:03:16 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix build failure on FreeBSD introduced by r43763. malloc_usable_size() is
defined by malloc_np.h on FreeBSD.</p>
</dd><dt>configure.in
<dd>
<p>check malloc.h and malloc_np.h.</p>
</dd></dl>

<h3 id="label-Fri+Nov+22+08-3A27-3A13+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Nov 22 08:27:13 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 50a8210.  Important changes in this commit:
RubyGems now automatically checks for gem.deps.rb or Gemfile when running
ruby executables.  This behavior is similar to `bundle exec rake`.  This
change may be reverted before Ruby 2.1.0 if too many bugs are found.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-11-21">2013-11-21</h2>

<h3 id="label-Thu+Nov+21+22-3A33-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 21 22:33:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>RGENGC_CHECK_MODE should be 0.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+21-3A40-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Nov 21 21:40:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VpAlloc)
<dd>
<p>Fix the expr to adjust the size of the digit array.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+21-3A36-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Nov 21 21:36:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_sqrt)
<dd>
<p>Fix the precision of the result <a
href="../../classes/BigDecimal.html">BigDecimal</a> of sqrt. [Bug #5266]
[ruby-dev:44450]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb
<dd>
<p>add tests for the above changes.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+18-3A49-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 21 18:49:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_xrealloc, vm_xfree)
<dd>
<p>use malloc_usable_size() to obtain old size if available.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+18-3A47-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 21 18:47:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb (SimpleDelegator#__getobj__)
<dd>
<p>target object must be set.</p>
</dd><dt>lib/delegate.rb (DelegateClass#__getobj__)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+18-3A28-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 21 18:28:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile#initialize)
<dd>
<p>use class method to get rid of warnings when $VERBOSE.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+17-3A43-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 21 17:43:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename initial_xxx variables to gc_params.xxx. They are not only used
initial values. Chikanaga-san: Congratulations on RubyPrize!</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+17-3A16-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 21 17:16:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>enable “RGENGC_ESTIMATE_OLDSPACE” option as default. Without this option,
some application consumes huge memory.</p>
</dd><dt>(and there are only a few performance down) Introduced new environment variables
<dd>
<p>* RUBY_GC_HEAP_OLDSPACE (default 16MB) * RUBY_GC_HEAP_OLDSPACE_MAX (default
128 MB) * RUBY_GC_HEAP_OLDSPACE_GROWTH_FACTOR (default 1.2)</p>
</dd><dt>gc.c (initial_malloc_limit)
<dd>
<p>rename to initial_malloc_limit_min.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+16-3A51-3A34+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 16:51:34 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/bubblebabble/bubblebabble.c
<dd>
<p>Teach <a href="../../classes/RDoc.html">RDoc</a> digest/bubblebabble</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+16-3A50-3A16+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 16:50:16 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/digest/test_digest.rb
<dd>
<p>Add more tests for digest/bubblebabble</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+16-3A32-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 21 16:32:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb (Delegator#method_missing)
<dd>
<p>try private methods defined in <a
href="../../classes/Kernel.html">Kernel</a> after the target.  [Fixes
GH-449]</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+16-3A25-3A08+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Nov 21 16:25:08 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/uri/test_generic.rb (URI#test_merge)
<dd>
<p><a href="../../classes/Test.html">Test</a> uri + URI(path) in addition to
uri + path.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+15-3A36-3A08+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 15:36:08 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb
<dd>
<p>[DOC] Fix HEREDOC comment for <a
href="../../classes/OpenSSL/Buffering.html">OpenSSL::Buffering</a> which
breaks overview because of <a href="../../classes/RDoc.html">RDoc</a> bug</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+14-3A46-3A57+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 21 14:46:57 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h (SAVE_ROOT_JMPBUF)
<dd>
<p>workaround for the failure of test/ruby/test_exception.rb on Windows. wrap
by __try and __exception statements on mswin to raise SIGSEGV when
EXCEPTION_STACK_OVERFLOW is occurred, because MSVCRT doesn&#39;t handle the
exception. however, (1) mingw-gcc doesn&#39;t support __try and __exception
statements, and (2) we cannot retry <a
href="../../classes/SystemStackError.html">SystemStackError</a> after this
change yet (maybe crashed) because SEH and longjmp() are too uncongenial.</p>
</dd><dt>signal.c (check_stack_overflow, CHECK_STACK_OVERFLOW)
<dd>
<p>now defined on Windows, too.</p>
</dd><dt>thread_win32.c (ruby_stack_overflowed_p)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+14-3A18-3A24+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 14:18:24 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>[DOC] Clarify <a
href="../../classes/Object.html#method-i-dup">Object#dup</a> vs clone [Bug
#9128] Moving existing doc for this comparison to separate section of dup
Adding examples to document behavior of dup with <a
href="../../classes/Object.html#method-i-extend">Object#extend</a>. Based
on a patch by stevegoobermanhill</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+14-3A06-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 21 14:06:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_check)
<dd>
<p>do not dump all refs.</p>
</dd><dt>gc.c (allrefs_dump_i)
<dd>
<p>fix output format.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+13-3A43-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 21 13:43:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change RGENGC_CHECK_MODE (&gt;= 2) logic. Basically, make an object graph
of all of living objects before and after marking and check status. [Before
marking: check WB sanity] If there is a non-old object `obj&#39; pointed
from old object</p>
</dd><dt>(`parent&#39;) then `parent&#39; or `obj&#39; should be remembered. [After marking
<dd>
<p>check marking miss] Traversible objects with the object graph should be
marked.</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (init_mark_stack)
<dd>
<p>do not use push_mark_stack_chunk() at init. This pre-allocation causes
failure on is_mark_stack_empty() without any pushing.</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+13-3A40-3A20+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 13:40:20 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/observer.rb
<dd>
<p>[DOC] Clarify default observer method. By @edward [Fixes GH-450] <a
href="https://github.com/ruby/ruby/pull/450">github.com/ruby/ruby/pull/450</a></p>
</dd></dl>

<h3 id="label-Thu+Nov+21+13-3A32-3A53+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 13:32:53 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_engine.c
<dd>
<p>[DOC] Documentation for <a
href="../../classes/OpenSSL/Engine.html">OpenSSL::Engine</a> This patch is
based off work by @vbatts in GH-436 completing the documentation for this
class and its methods. <a
href="https://github.com/ruby/ruby/pull/436">github.com/ruby/ruby/pull/436</a></p>
</dd></dl>

<h3 id="label-Thu+Nov+21+10-3A45-3A22+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 10:45:22 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb
<dd>
<p>Remove unused arguments from <a
href="../../classes/OpenSSL/Buffering.html#method-c-new">OpenSSL::Buffering.new</a>
[Fixes GH-445]</p>
</dd></dl>

<h3 id="label-Thu+Nov+21+10-3A30-3A47+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 21 10:30:47 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/digest/test_digest.rb
<dd>
<p>Add test for Digest::SHA256.bubblebabble</p>
</dd></dl>

<h2 id="label-2013-11-20">2013-11-20</h2>

<h3 id="label-Wed+Nov+20+20-3A54-3A01+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Wed Nov 20 20:54:01 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/instruction.rb 
<dd>
<p>fix typo.</p>
</dd></dl>

<h3 id="label-Wed+Nov+20+19-3A45-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 20 19:45:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rand_init)
<dd>
<p>Make it possible to specify arbitrary array for init_genrand().</p>
</dd></dl>

<h3 id="label-Wed+Nov+20+17-3A34-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 20 17:34:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_gc_mark_symbols)
<dd>
<p>set global_symbols.minor_marked only when full_mark is 0.
rb_gc_mark_symbols() (with full_mark == 1) can be called by other than <a
href="../../classes/GC.html">GC</a> (such as
rb_objspace_reachable_objects_from_root()).</p>
</dd></dl>

<h3 id="label-Wed+Nov+20+11-3A46-3A38+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Nov 20 11:46:38 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json
<dd>
<p>merge <a href="../../classes/JSON.html">JSON</a> 1.8.1. <a
href="https://github.com/nurse/json/compare/002ac2771ce32776b32ccd2d06e5604de6c36dcd...e09ffc0d7da25d0393873936c118c188c78dbac3">github.com/nurse/json/compare/002ac2771ce32776b32ccd2d06e5604de6c36dcd…e09ffc0d7da25d0393873936c118c188c78dbac3</a></p>
</dd><dd>
<p></p>
</dd><dt>Fix https
<dd>
<p>//github.com/flori/json/issues/162 reported by Marc-Andre Lafortune
&lt;github_rocks@marc-andre.ca&gt;. Thanks!</p>
</dd><dd>
<p></p>
</dd><dd>
<p></p>
</dd><dt>Add load/dump interface to <a href="../../classes/JSON.html">JSON</a>
<dd>
<p>:GenericObject to make serialize :some_attribute, <a
href="../../classes/JSON/GenericObject.html">JSON::GenericObject</a> work
in Rails active models for convenient SomeModel#some_attribute.foo.bar
access to serialised <a href="../../classes/JSON.html">JSON</a> data.</p>
</dd></dl>

<h3 id="label-Wed+Nov+20+01-3A39-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 20 01:39:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/constant.rb (RDoc::Constant#documented?)
<dd>
<p>workaround for <a href="../../classes/NoMethodError.html">NoMethodError</a>
when the original of alias is not found.</p>
</dd></dl>

<h2 id="label-2013-11-19">2013-11-19</h2>

<h3 id="label-Tue+Nov+19+23-3A38-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 19 23:38:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (–with-os-version-style)
<dd>
<p>option to transform target OS version string.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+21-3A27-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 19 21:27:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/utils.rb (spawn_server)
<dd>
<p>Specify zero for port to avoid reusing an allocated port.</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p>Don&#39;t specify port here.</p>
</dd><dt>test/net/http/test_https.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+18-3A52-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 19 18:52:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_is_swept_object)
<dd>
<p>use heap_page::before_sweep flag.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+18-3A49-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 19 18:49:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_reachable_objects_from_root)
<dd>
<p>do major marking.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+18-3A45-3A40+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 19 18:45:40 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_resurrect)
<dd>
<p>added. rb_fstring() used rb_gc_mark() to avoid freeing used string.
However, rb_gc_mark() set mark bit <strong>and</strong> pushes mark_stack.
rb_gc_resurrect() does only set mark bit if it is before sweeping.</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>use rb_gc_resurrect.</p>
</dd><dt>internal.h
<dd>
<p>add decl.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+09-3A47-3A02+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 19 09:47:02 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> master a1195ce. 
Changes include: Improved accessibility of the main sidebar navigation.
Fixed handling of regexp options in HTML source highlighting.</p>
</dd><dt>test/rdoc
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+09-3A33-3A52+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 19 09:33:52 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 6a3d9f9.  Changes include: Compatibly renamed
Gem::DependencyResolver to <a
href="../../classes/Gem/Resolver.html">Gem::Resolver</a>. Added support for
git gems in gem.deps.rb and Gemfile. Fixed resolver bugs.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd><dt><a href="../lib/rubygems/LICENSE_txt.html">lib/rubygems/LICENSE.txt</a>
<dd>
<p>Updated to license from RubyGems trunk. [ruby-trunk - Bug #9086]</p>
</dd><dt>lib/rubygems/commands/which_command.rb
<dd>
<p>RubyGems now indicates failure when any file is missing.  [ruby-trunk - Bug
#9004]</p>
</dd><dt>lib/rubygems/ext/builder
<dd>
<p>Extensions are now installed into the extension install directory and the
first directory in the require path from the gem.  This allows backwards
compatibility with msgpack and other gems that calculate full require
paths. [ruby-trunk - Bug #9106]</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+07-3A21-3A56+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 19 07:21:56 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (LOCALTIME_OVERFLOW_PROBLEM)
<dd>
<p>Define it for cross compiling. [ruby-core:58391] [Bug #9119] Reported by
Luis Lavena. Analyzed by Heesob Park.</p>
</dd></dl>

<h3 id="label-Tue+Nov+19+05-3A55-3A05+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 19 05:55:05 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/rubygems_hook.rb
<dd>
<p>Remove debugging puts committed by accident.</p>
</dd></dl>

<h2 id="label-2013-11-18">2013-11-18</h2>

<h3 id="label-Mon+Nov+18+22-3A47-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 18 22:47:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h (TH_PUSH_TAG, TH_EXEC_TAG)
<dd>
<p>refine stack overflow detection.  chain local tag after setjmp() successed
on it, because calling setjmp() also can overflow the stack.
[ruby-dev:47804] [Bug #9109]</p>
</dd><dt>vm_eval.c (rb_catch_obj)
<dd>
<p>now th-&gt;tag points previous tag until TH_EXEC_TAG().</p>
</dd><dt>thread_pthread.c (ruby_init_stack)
<dd>
<p>set stack_start properly by get_main_stack() if possible.</p>
</dd></dl>

<h3 id="label-Mon+Nov+18+22-3A45-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 18 22:45:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_jump.c (rb_exec_end_proc)
<dd>
<p>unlink and free procs data before calling for each procs.  [Bug #9110]</p>
</dd></dl>

<h2 id="label-2013-11-17">2013-11-17</h2>

<h3 id="label-Sun+Nov+17+06-3A33-3A32+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sun Nov 17 06:33:32 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Use $LIBS for base of $SOLIBS, also in darwin. By this fix, environment
that libgmp is located in $LIBS can build ruby.</p>
</dd></dl>

<h3 id="label-Sun+Nov+17+01-3A56-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 17 01:56:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (rb_thread_create_timer_thread)
<dd>
<p>Show error message instead of error number.</p>
</dd><dt>(thread_create_core)
<dd>
<p>Ditto.</p>
</dd><dt>cont.c (fiber_machine_stack_alloc)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-11-16">2013-11-16</h2>

<h3 id="label-Sat+Nov+16+18-3A28-3A08+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 16 18:28:08 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/ultralightparser.rb (REXML::Parsers::UltraLightParser#parse)
<dd>
<p>Fix wrong :start_doctype position. [Bug #9061] [ruby-dev:47778] Patch by
Ippei Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/parser/test_ultra_light.rb
<dd>
<p>Add a test for this case.</p>
</dd></dl>

<h3 id="label-Sat+Nov+16+02-3A13-3A56+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Nov 16 02:13:56 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c 
<dd>
<p>Introduce ensure rollback mechanism. Please see below.</p>
</dd><dt>internal.h (ruby_register_rollback_func_for_ensure)
<dd>
<p>catch up above change. Add rollback mechanism API.</p>
</dd><dt>vm_core.h (typedef struct rb_vm_struct)
<dd>
<p>catch up above change. Introduce ensure-rollback relation table.</p>
</dd><dt>vm_core.h (typedef struct rb_thread_struct)
<dd>
<p>catch up above change. Introduce ensure stack.</p>
</dd><dt>eval.c (rb_ensure)
<dd>
<p>catch up above change. Introduce ensure stack.</p>
</dd><dt>hash.c 
<dd>
<p>New function for rollback ensure, and register it to ensure-rollback
relation table. [ruby-dev:47803] [Bug #9105] Ensure Rollback Mechanism: A
rollback&#39;s function is a function to rollback a state before
ensure&#39;s function execution. When the jump of callcc is across the
scope of rb_ensure, ensure&#39;s functions and rollback&#39;s functions are
executed appropriately for keeping consistency. Current API is unstable,
and only internal use.
ruby_register_rollback_func_for_ensure(ensure_func,rollback_func) This API
create relation ensure&#39;s function to rollback&#39;s function. By
registered rollback&#39;s function, it is executed When jumping into
corresponding rb_ensure scope.</p>
</dd></dl>

<h3 id="label-Sat+Nov+16+00-3A18-3A36+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sat Nov 16 00:18:36 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_jump.c (rb_exec_end_proc)
<dd>
<p>fix double free or corruption error when reentering by callcc.
[ruby-core:58329] [Bug #9110]</p>
</dd><dt>test/ruby/test_beginendblock.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h2 id="label-2013-11-15">2013-11-15</h2>

<h3 id="label-Fri+Nov+15+01-3A06-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 15 01:06:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_output)
<dd>
<p>allow <a href="../../classes/IO.html">IO</a> object as output, and use <a
href="../../classes/Tempfile.html#method-c-create">Tempfile.create</a> and
return open file instead of mkstemp() and path name for :file output.
[ruby-core:58266] [Bug #9102]</p>
</dd><dt>test/objspace/test_objspace.rb (TestObjSpace#dump_my_heap_please)
<dd>
<p>remove temporary output file.</p>
</dd></dl>

<h2 id="label-2013-11-14">2013-11-14</h2>

<h3 id="label-Thu+Nov+14+23-3A39-3A00+2013++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Thu Nov 14 23:39:00 2013  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/util.rb
<dd>
<p>[DOC] remove example of <a
href="../../classes/Rational.html#method-i-to_d">Rational#to_d</a> without
argument. [Bug #8958]</p>
</dd></dl>

<h3 id="label-Thu+Nov+14+20-3A24-3A15+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Nov 14 20:24:15 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_SIZE_CAS)
<dd>
<p>fix compile error on Solaris since r43460.</p>
</dd></dl>

<h3 id="label-Thu+Nov+14+19-3A53-3A00+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 14 19:53:00 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_cipher.rb (test_aes_gcm_wrong_tag)
<dd>
<p>Don&#39;t use <a
href="../../classes/String.html#method-i-succ">String#succ</a> because it
can make modified (wrong) auth_tag longer than 16 bytes.  The longer
auth_tag makes that EVP_CIPHER_CTX_ctrl (and internally aes_gcm_ctrl) fail.
[ruby-core:55143] [Bug #8439] reported by Vit Ondruch.</p>
</dd></dl>

<h3 id="label-Thu+Nov+14+11-3A33-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 14 11:33:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (foreach_safe_i, hash_foreach_iter)
<dd>
<p>deal with error detected by ST_CHECK.</p>
</dd><dt>st.c (st_foreach_check)
<dd>
<p>call with non-error argument in normal case.</p>
</dd></dl>

<h3 id="label-Thu+Nov+14+02-3A37-3A14+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 14 02:37:14 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c
<dd>
<p>[DOC] This patch accomplishes the following: - Teach <a
href="../../classes/RDoc.html">RDoc</a> about <a
href="../../classes/ConditionVariable.html">ConditionVariable</a> - Teach
<a href="../../classes/RDoc.html">RDoc</a> about <a
href="../../classes/Queue.html">Queue</a> - Teach <a
href="../../classes/RDoc.html">RDoc</a> about <a
href="../../classes/SizedQueue.html">SizedQueue</a> - Use fully-qualified
namespace for Document-method This is necessary to separate definitions
between classes - Fix rdoc bug in call_seq vs. call-seq - Correct doc for
<a href="../../classes/SizedQueue.html#method-i-pop">SizedQueue#pop</a>
patch by @jackdanger [Bug #8988]</p>
</dd></dl>

<h3 id="label-Thu+Nov+14+01-3A11-3A54+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Nov 14 01:11:54 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/util.rb
<dd>
<p>[DOC] <code>precision</code> is required</p>
</dd></dl>

<h2 id="label-2013-11-13">2013-11-13</h2>

<h3 id="label-Wed+Nov+13+19-3A21-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 19:21:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/util.rb
<dd>
<p>[DOC] Document the required <code>precision</code> argument for <a
href="../../classes/Rational.html#method-i-to_d">Rational#to_d</a> [Bug
#8958]</p>
</dd></dl>

<h3 id="label-Wed+Nov+13+19-3A02-3A05+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 19:02:05 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/*
<dd>
<p>[DOC] Fix several typos and broken http links. Improved examples for <a
href="../../classes/Digest.html">Digest</a> overview and fixed a broken
example in Digest::HMAC overview. This patch also adds a description of
Digest::SHA256.bubblebabble to the <a
href="../../classes/Digest.html">Digest</a> overview. Patched by @stomar
[Bug #9027]</p>
</dd></dl>

<h3 id="label-Wed+Nov+13+18-3A32-3A12+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 18:32:12 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_config.c
<dd>
<p>[DOC] Document the following: - <a
href="../../classes/OpenSSL/ConfigError.html">OpenSSL::ConfigError</a> -
OpenSSL::Config::DEFAULT_CONFIG_FILE Patched by @vbatts via GH-436 <a
href="https://github.com/ruby/ruby/pull/436">github.com/ruby/ruby/pull/436</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+13+18-3A03-3A00+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 18:03:00 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_asn1.c
<dd>
<p>[DOC] Document parts of <a
href="../../classes/OpenSSL/ASN1/ObjectId.html">OpenSSL::ASN1::ObjectId</a>
included a fix for the class overview, which previously showed the
documentation for Constructive due to missing ObjectId overview. This patch
also includes a note for Primitive. Based on a patch by @vbatts via GH-436
<a
href="https://github.com/ruby/ruby/pull/436">github.com/ruby/ruby/pull/436</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+13+17-3A19-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 17:19:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/config.rb
<dd>
<p>In parse use <code>string</code> for <code>str</code></p>
</dd></dl>

<h3 id="label-Wed+Nov+13+17-3A09-3A45+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 17:09:45 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/*.rb
<dd>
<p>[DOC] Document the following: - <a
href="../../classes/Integer.html#method-i-to_bn">Integer#to_bn</a> - <a
href="../../classes/OpenSSL/Buffering.html">OpenSSL::Buffering</a> module -
Deprecated OpenSSL::Digest::Digest compatibility class - <a
href="../../classes/OpenSSL/Config.html">OpenSSL::Config</a> These changes
were based on a patch by @vbatts via GH-436 <a
href="https://github.com/ruby/ruby/pull/436">github.com/ruby/ruby/pull/436</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+13+10-3A55-3A43+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 10:55:43 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>[DOC] Fix typo in Special global variables section. Reported by Alex
Johnson on ruby-doc.org</p>
</dd></dl>

<h3 id="label-Wed+Nov+13+10-3A43-3A19+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 10:43:19 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>[DOC] Adds an example for <a
href="../../classes/Hash.html#method-i-store">Hash#store</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+13+09-3A03-3A40+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Nov 13 09:03:40 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>[DOC] add note about Bug #4044 as suggested by duerst-san in
[ruby-core:43612] [Fixes GH-443] Patched by @rosenfeld <a
href="https://github.com/ruby/ruby/pull/443">github.com/ruby/ruby/pull/443</a></p>
</dd></dl>

<h2 id="label-2013-11-12">2013-11-12</h2>

<h3 id="label-Tue+Nov+12+10-3A15-3A14+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 12 10:15:14 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/insure_session.rb
<dd>
<p>Remove unused test file.</p>
</dd></dl>

<h3 id="label-Tue+Nov+12+09-3A16-3A24+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 12 09:16:24 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master b9213d7.  Changes include: Fixed tests on Windows
(I hope) by forcing platform for platform-dependent tests. Fixed <a
href="../../classes/File.html#method-c-exists-3F">File.exists?</a>
warnings. Improved testing infrastructure.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd><dt>test/rdoc/test_rdoc_rubygems_hook.rb
<dd>
<p>Switch to util_spec like RubyGems.</p>
</dd></dl>

<h2 id="label-2013-11-11">2013-11-11</h2>

<h3 id="label-Mon+Nov+11+18-3A31-3A12+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Mon Nov 11 18:31:12 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>move common string/hash flags to include file.</p>
</dd><dt>ext/objspace/objspace_dump.c
<dd>
<p>remove flags shared above.</p>
</dd><dt>hash.c
<dd>
<p>ditto.</p>
</dd><dt>string.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Nov+11+04-3A36-3A14+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Nov 11 04:36:14 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/specification.rb
<dd>
<p>Include 2.2.0.preview.2 when checking if extensions should be built.  Fixes
a ruby-ci failure.</p>
</dd><dt>test/rubygems/test_gem_specification.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Mon+Nov+11+03-3A15-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 11 03:15:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (symbol2event_flag)
<dd>
<p>add secret feature. add a_call/a_return events. a_call is call | b_call |
c_call, and same as a_return.</p>
</dd></dl>

<h3 id="label-Mon+Nov+11+02-3A51-3A17+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Nov 11 02:51:17 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 4bdc4f2.  Important changes in this commit:
RubyGems now chooses the test server port reliably.  Patch by akr. Partial
implementation of bundler&#39;s Gemfile format. Refactorings to improve the
new resolver. Fixes bugs in the resolver.</p>
</dd><dt>test/rubygems
<dd>
<p>Tests for the above.</p>
</dd></dl>

<h3 id="label-Mon+Nov+11+01-3A02-3A06+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Nov 11 01:02:06 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb
<dd>
<p>[DOC] Add note about change from #8730 [Fixes GH-440]</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>[DOC] Improve grammar on change to <a
href="../../classes/Timeout.html">Timeout</a> Patched by @srawlins in <a
href="https://github.com/ruby/ruby/pull/440">github.com/ruby/ruby/pull/440</a></p>
</dd></dl>

<h2 id="label-2013-11-10">2013-11-10</h2>

<h3 id="label-Sun+Nov+10+23-3A47-3A05+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Nov 10 23:47:05 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gcdebug_print_obj_condition)
<dd>
<p>catch up recent changes to compile on GC_DEBUG.</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+22-3A16-3A19+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 10 22:16:19 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (exc_cause)
<dd>
<p>captured previous exception.</p>
</dd><dt>eval.c (make_exception)
<dd>
<p>capture previous exception automagically. [Feature #8257]</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+08-3A37-3A20+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Nov 10 08:37:20 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>[DOC] Remove duplicate reference</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+08-3A09-3A29+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Nov 10 08:09:29 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>[DOC] promote better windows-safe filename regular expression in <a
href="../../classes/DRb.html">DRb</a> <a
href="../../classes/Logger.html">Logger</a> example. Reported by Chris
Pheonix [Bug #9074]</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+08-3A03-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 10 08:03:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_define_finalizer, rb_undefine_finalizer)
<dd>
<p>rename and export finalizer functions.</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+07-3A41-3A22+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Nov 10 07:41:22 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/weakref.rb
<dd>
<p>[DOC] fix typos by @xaviershay [Fixes GH-439] <a
href="https://github.com/ruby/ruby/pull/439">github.com/ruby/ruby/pull/439</a></p>
</dd></dl>

<h3 id="label-Sun+Nov+10+06-3A14-3A39+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sun Nov 10 06:14:39 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>emit opt_str_freeze if the freeze method is called on a static string
literal with no arguments.</p>
</dd><dt>defs/id.def (firstline)
<dd>
<p>add freeze so idFreeze is available</p>
</dd><dt>insns.def (opt_str_freeze)
<dd>
<p>add opt_str_freeze instruction which pushes a frozen string literal without
allocating a new object if <a
href="../../classes/String.html#method-i-freeze">String#freeze</a> is not
overridden</p>
</dd><dt>string.c (Init_String)
<dd>
<p>define <a
href="../../classes/String.html#method-i-freeze">String#freeze</a></p>
</dd><dt>vm.c (vm_init_redefined_flag)
<dd>
<p>define BOP_FREEZE on String class as a basic operation</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>ditto [Feature #8992] [ruby-core:57705]</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+01-3A34-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Nov 10 01:34:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_malloc_increase)
<dd>
<p>sweep immediately on <a href="../../classes/GC.html">GC</a> due to
malloc(). To reduce memory usage, sweep as soon as possible. This behavior
is same as Ruby 2.0.0 and before.</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+00-3A39-3A26+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Nov 10 00:39:26 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>output version description and GC::OPTS.</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+00-3A36-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 10 00:36:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (should_be_callable)
<dd>
<p>allow private call since rb_eval_cmd calls even private methods.</p>
</dd></dl>

<h3 id="label-Sun+Nov+10+00-3A33-3A17+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Nov 10 00:33:17 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../lib/racc/rdoc/grammar_en_rdoc.html">lib/racc/rdoc/grammar.en.rdoc</a>
<dd>
<p>[DOC] fix typo by Tsuyoshi Sawada [Bug #9077]</p>
</dd></dl>

<h2 id="label-2013-11-09">2013-11-09</h2>

<h3 id="label-Sat+Nov++9+22-3A35-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov  9 22:35:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (Gem::Specification.load)
<dd>
<p>obtain spec date from VCS for the case using git, RUBY_RELEASE_DATE is the
last resort. probably fixes [Bug #9085].</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+20-3A56-3A12+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Sat Nov  9 20:56:12 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>use declarations in internal.h.</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+20-3A32-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  9 20:32:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb (test_dump_all)
<dd>
<p>Make the test string shorter to be an embedded string on 32bit environment
as well as 64bit environment.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+15-3A00-3A16+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Nov  9 15:00:16 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c
<dd>
<p>[DOC] ARGF.gets may return nil [Bug #9029] patch by znz</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+14-3A54-3A52+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Nov  9 14:54:52 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/*
<dd>
<p>[DOC] document various constants @steveklabnik [Bug #8812]</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+14-3A50-3A09+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Nov  9 14:50:09 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/rss.rb
<dd>
<p>[DOC] document <a
href="../../classes/Time.html#method-i-w3cdtf">Time#w3cdtf</a> by
@steveklabnik [Bug #8821]</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+14-3A29-3A04+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Nov  9 14:29:04 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/cfunc.c
<dd>
<p>[DOC] fix typo in example [Bug #8944] Patched by Heesob Park</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+13-3A59-3A58+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Nov  9 13:59:58 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit/assertions.rb
<dd>
<p>[DOC] better example for assert_send() Patch by Andrew Grimm [Bug #8975]</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+12-3A45-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Nov  9 12:45:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def
<dd>
<p>unify ic_constant_serial and ic_class_serial into one field ic_serial. This
is possible because these fields are only ever used exclusively with each
other.</p>
</dd><dt>insns.def
<dd>
<p>ditto</p>
</dd><dt>vm_core.h
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+12-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Nov  9 12:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>unify names of vm state version counters to &#39;serial&#39;. This includes
renaming &#39;vm_state_version_t&#39; to &#39;rb_serial_t&#39;,
&#39;method_state&#39; to &#39;method_serial&#39;, &#39;seq&#39; to
&#39;class_serial&#39;, &#39;vmstat&#39; to &#39;constant_serial&#39;, etc.</p>
</dd><dt>insns.def
<dd>
<p>ditto</p>
</dd><dt>internal.h
<dd>
<p>ditto</p>
</dd><dt>vm.c
<dd>
<p>ditto</p>
</dd><dt>vm_core.h
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>ditto</p>
</dd><dt>vm_method.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+09-3A22-3A29+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Nov  9 09:22:29 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_page_sweep, rgengc_rememberset_mark)
<dd>
<p>Refactoring. Get bitmaps directly.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+09-3A16-3A36+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Nov  9 09:16:36 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RVALUE_PROMOTE_INFANT)
<dd>
<p>Refactoring. Remove duplicated nonsense code.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+09-3A04-3A48+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Nov  9 09:04:48 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_test)
<dd>
<p>Bugfix. Fix a struct member name for build with RGENGC_CHECK_MODE.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+08-3A58-3A23+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Nov  9 08:58:23 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c 
<dd>
<p>Add GC_PROFILE_DETAIL_MEMORY option. If GC_PROFILE_MORE_DETAIL &amp;&amp;
GC_PROFILE_DETAIL_MEMORY, maxrss, minflt and majflt are added to each
profile record.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+07-3A41-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov  9 07:41:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_vm_backtrace_object, rb_gc_count)
<dd>
<p>make prototype declarations, not old-K&amp;R style.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+06-3A11-3A14+2013++vo.x+-28Vit+Ondruch-29++-3Cvondruch-40redhat.com-3E">Sat Nov  9 06:11:14 2013  vo.x (Vit Ondruch)  &lt;vondruch@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (Gem::Specification#collect)
<dd>
<p>make stable <a
href="../../classes/Gem/Specification.html#method-i-files">Gem::Specification#files</a>
in default .gemspecs the different order of “files” in .gemspec files makes
them different therefore possibly conflicting in multilib scenario.  patch
by vo.x (Vit Ondruch) at [ruby-core:57544] [Bug #8623].</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+01-3A59-3A18+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sat Nov  9 01:59:18 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c
<dd>
<p>Add experimental methods to dump objectspace as json: <a
href="../../classes/ObjectSpace.html#method-c-dump_all">ObjectSpace.dump_all</a>
and <a
href="../../classes/ObjectSpace.html#method-c-dump">ObjectSpace.dump</a>.
These methods are useful for debugging reference leaks and memory growth in
large ruby applications. [Bug #9026] [ruby-core:57893] [Fixes GH-423]</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>tests for above.</p>
</dd></dl>

<h3 id="label-Sat+Nov++9+00-3A26-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov  9 00:26:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (GetLastError)
<dd>
<p>already defined in windows.h on nowadays cygwin, and caused the confliction
with the system provided definition on cygwin64.  by @kou1okada [Fixes
GH-433].</p>
</dd></dl>

<h2 id="label-2013-11-08">2013-11-08</h2>

<h3 id="label-Fri+Nov++8+18-3A35-3A31+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Nov  8 18:35:31 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p>receive arguments as keyword arguments.</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+13-3A19-3A26+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Nov  8 13:19:26 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_open_with_args)
<dd>
<p>use RARRAY_CONST_PTR().</p>
</dd><dt>io.c (rb_scan_open_args)
<dd>
<p>use const qualifier for above.</p>
</dd><dt>io.c (rb_open_file)
<dd>
<p>ditto.</p>
</dd><dt>io.c (rb_io_open_with_args)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+11-3A35-3A06+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Nov  8 11:35:06 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c, pack.c, ruby.c, struct.c, vm_eval.c
<dd>
<p>use RARRAY_CONST_PTR().</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+10-3A58-3A02+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Nov  8 10:58:02 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_build_from_ary_exception)
<dd>
<p>use RARRAY_CONST_PTR().</p>
</dd><dt>compile.c (iseq_build_from_ary_body)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+10-3A49-3A34+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Nov  8 10:49:34 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (append_method)
<dd>
<p>use RARRAY_CONST_PTR().</p>
</dd><dt>enumerator.c (lazy_init_iterator)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A44-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov  8 02:44:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_malloc_increase)
<dd>
<p>check GVL before gc_rest_sweep(). vm_malloc_increase() can be called
without GVL. However, gc_rest_sweep() assumes acquiring GVL. To avoid this
problem, check GVL before gc_rest_sweep(). [Bug #9090] This workaround
introduces possibility to set malloc_limit as wrong value (*1). However,
this may be rare case. So I commit it. *1: Without rest_sweep() here,
gc_rest_sweep() can decrease malloc_increase due to ruby_sized_xfree().</p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A50-3A25+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 02:50:25 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>[DOC] specify arguments passed to ::random_bytes By @chastell [Fixes
GH-412] <a
href="https://github.com/ruby/ruby/pull/412">github.com/ruby/ruby/pull/412</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A43-3A01+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 02:43:01 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>[DOC] trace_object_allocations_stop By @srawlins [Fixes GH-421] <a
href="https://github.com/ruby/ruby/pull/421">github.com/ruby/ruby/pull/421</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A34-3A20+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 02:34:20 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb
<dd>
<p>[DOC] Document <a
href="../../classes/Net/FTP.html#method-i-mdtm">Net::FTP#mdtm</a> and
.set_socket and fix spelling typo, based on patch by @artfuldodger [Fixes
GH-426] <a
href="https://github.com/ruby/ruby/pull/426">github.com/ruby/ruby/pull/426</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A14-3A37+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 02:14:37 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>[DOC] Add note about negative indices in Array overview By @ckaenzig [Fixes
GH-427] <a
href="https://github.com/ruby/ruby/pull/427">github.com/ruby/ruby/pull/427</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++8+02-3A09-3A12+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 02:09:12 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>[DOC] Fix typo in <a
href="../../classes/CSV.html#method-c-parse_line">CSV.parse_line</a> by
@funky-bibimbap [Fixes GH-430] <a
href="https://github.com/ruby/ruby/pull/430">github.com/ruby/ruby/pull/430</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++8+01-3A01-3A54+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Nov  8 01:01:54 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>golf_prelude.rb
<dd>
<p>syntax formatting for whitespace [Fixes GH-425] Patch by @edward <a
href="https://github.com/ruby/ruby/pull/425">github.com/ruby/ruby/pull/425</a></p>
</dd></dl>

<h2 id="label-2013-11-07">2013-11-07</h2>

<h3 id="label-Thu+Nov++7+19-3A36-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov  7 19:36:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>modify malloc_limit strategy. * fix default values:
GC_MALLOC_LIMIT_GROWTH_FACTOR GC_MALLOC_LIMIT: 8MB -&gt; 16MB
GC_MALLOC_LIMIT_MAX: 384MB -&gt; 32MB * algorithm of malloc_limit
increment. if (malloc_increase &lt; malloc_limit) { next_malloc_limit =
malloc_limit * factor if (malloc_limit &gt; malloc_limit_max) {
malloc_limit = malloc_increase } } This algorithm change malloc_limit from
16MB -&gt; 32MB slowly. If malloc_limit exceeds malloc_limit_max, then
increase with malloc_increase.</p>
</dd></dl>

<h3 id="label-Thu+Nov++7+11-3A06-3A05+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov  7 11:06:05 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_shuffle_bang)
<dd>
<p>use RARRAY_PTR_USE() without WB because there are not new relations.</p>
</dd></dl>

<h3 id="label-Thu+Nov++7+10-3A34-3A12+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Nov  7 10:34:12 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sample)
<dd>
<p>use rb_ary_dup().</p>
</dd></dl>

<h3 id="label-Thu+Nov++7+09-3A39-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  7 09:39:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_threadptr_exec_event_hooks_orig)
<dd>
<p>errinfo should not be propagated to trace blocks so that no argument raise
does not throw internal objects.  [ruby-dev:47793] [Bug #9088]</p>
</dd></dl>

<h2 id="label-2013-11-06">2013-11-06</h2>

<h3 id="label-Wed+Nov++6+21-3A30-3A55+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Wed Nov  6 21:30:55 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_sweep)
<dd>
<p>Change algorithm of malloc_limit to conservative for closing to memory
consumption of ruby 2.0.</p>
</dd><dt>gc.c (GC_MALLOC_LIMIT, GC_MALLOC_LIMIT_GROWTH_FACTOR)
<dd>
<p>Adjust parameters for new algorithm.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+21-3A16-3A51+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Nov  6 21:16:51 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_shift_m)
<dd>
<p>use RARRAY_PTR_USE() without WB because there are not new relations.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+21-3A05-3A20+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Nov  6 21:05:20 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_reverse)
<dd>
<p>use RARRAY_PTR_USE().</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+19-3A30-3A44+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Wed Nov  6 19:30:44 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (help)
<dd>
<p>add texts about gcbench.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+11-3A46-3A36+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Nov  6 11:46:36 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sample)
<dd>
<p>use RARRAY_AREF() and RARRAY_PTR_USE() instead of RARRAY_PTR().</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+10-3A37-3A07+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Nov  6 10:37:07 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_and)
<dd>
<p>defer hash creation and some refactoring.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+09-3A14-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov  6 09:14:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_vm1_gc_short_lived.rb
<dd>
<p>added. These <a href="../../classes/GC.html">GC</a> benchmarks do not
reflect practical applications. They are only for tuning.</p>
</dd><dt>benchmark/bm_vm1_gc_short_with_complex_long.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/bm_vm1_gc_short_with_long.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/bm_vm1_gc_short_with_symbol.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_ary.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_obj.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/bm_vm_thread_queue.rb
<dd>
<p>added. This benchmark is added to know how fast C version of thread.so.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+09-3A13-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov  6 09:13:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>define RGENGC_ESTIMATE_OLDSPACE == 0 if USE_RGENGC is 0.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+07-3A13-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov  6 07:13:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (Init_GC)
<dd>
<p>add GC::OPTS to show options.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+07-3A12-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov  6 07:12:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>add some options to make quiet.</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+04-3A14-3A25+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Nov  6 04:14:25 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>process merge keys before reviving objects. Fixes GH psych #168</p>
</dd><dt>test/psych/test_merge_keys.rb
<dd>
<p>test for change <a
href="https://github.com/tenderlove/psych/issues/168">github.com/tenderlove/psych/issues/168</a></p>
</dd></dl>

<h2 id="label-2013-11-05">2013-11-05</h2>

<h3 id="label-Tue+Nov++5+21-3A21-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov  5 21:21:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb (test_thread_join_in_trap)
<dd>
<p>Run the test in a different process.</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+20-3A14-3A32+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Tue Nov  5 20:14:32 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_live_object)
<dd>
<p>A hidden object may be a live object. [ruby-dev:47788] [Bug #9072]</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+13-3A37-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov  5 13:37:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add support to estimate increase of oldspace memory usage. This is another
approach to solve an issue discussed at r43530. This feature is disabled as
default. This feature measures an increment of memory consumption by oldgen
objects. It measures memory consumption for each objects when the object is
promoted. However, measurement of memory consumption is not accurate now.
So that this measurement is `estimation&#39;. To implement this feature,
move memsize_of() function from ext/objspace/objspace.c and expose
rb_obj_memsize_of(). Some memsize() functions for T_DATA (T_TYPEDDATA) have
problem to measure memory size, so that we ignores T_DATA objects now. For
example, some functions skip NULL check for pointer. The macro
RGENGC_ESTIMATE_OLDSPACE enables/disables this feature, and turned off as
default. We need to compare 3gen <a href="../../classes/GC.html">GC</a> and
this feature carefully.</p>
</dd><dd>
<p></p>
</dd><dt>internal.h
<dd>
<p>expose rb_obj_memsize_of().</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>use rb_obj_memsize_of() function.</p>
</dd><dt>cont.c (fiber_memsize)
<dd>
<p>fix to check NULL.</p>
</dd><dt>variable.c (autoload_memsize)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (vm_memsize)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+04-3A03-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov  5 04:03:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (GC_MALLOC_LIMIT_MAX)
<dd>
<p>fix default value 512MB -&gt; 384MB. 512MB is huge.</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+03-3A31-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov  5 03:31:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add 3gen <a href="../../classes/GC.html">GC</a> patch, but disabled as
default. RGenGC is designed as 2 generational <a
href="../../classes/GC.html">GC</a>, young and old generation. Young
objects will be promoted to old objects after one <a
href="../../classes/GC.html">GC</a>. Old objects are not collect until
major (full) <a href="../../classes/GC.html">GC</a>. The issue of this
approach is some objects can promoted as old objects accidentally and not
freed until major <a href="../../classes/GC.html">GC</a>. Major <a
href="../../classes/GC.html">GC</a> is not frequently so short-lived but
accidentally becoming old objects are not freed. For example, the program
“loop{Array.new(1_000_000)}” consumes huge memories because short lived
objects (an array which has 1M elements) are promoted while <a
href="../../classes/GC.html">GC</a> and they are not freed before major <a
href="../../classes/GC.html">GC</a>. To solve this problem, generational <a
href="../../classes/GC.html">GC</a> with more generations technique is
known. This patch implements three generations gen <a
href="../../classes/GC.html">GC</a>. At first, newly created objects are
“Infant” objects. After surviving one <a
href="../../classes/GC.html">GC</a>, “Infant” objects are promoted to
“Young” objects. “Young” objects are promoted to “Old” objects after
surviving next <a href="../../classes/GC.html">GC</a>. “Infant” and “Young”
objects are collected if it is not marked while minor <a
href="../../classes/GC.html">GC</a>. So that this technique solves this
problem. Representation of generations: * Infant: !FL_PROMOTED and
!oldgen_bitmap [00] * Young :  FL_PROMOTED and !oldgen_bitmap [10] * Old  
:  FL_PROMOTED and  oldgen_bitmap [11] The macro “RGENGC_THREEGEN”
enables/disables this feature, and turned off as default because there are
several problems.</p>
</dd><dd>
<p></p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>catch up 3gen <a href="../../classes/GC.html">GC</a>.</p>
</dd><dt>.gdbinit
<dd>
<p>fix to show a prompt “[PROMOTED]” for promoted objects.</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+00-3A05-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov  5 00:05:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.h
<dd>
<p>catch up comments for last commit.</p>
</dd></dl>

<h3 id="label-Tue+Nov++5+00-3A02-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov  5 00:02:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>rename FL_OLDGEN to FL_PROMOTED. This flag represents that “this object is
promoted at least once.”</p>
</dd><dt>gc.c, debug.c, object.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h2 id="label-2013-11-04">2013-11-04</h2>

<h3 id="label-Mon+Nov++4+22-3A20-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov  4 22:20:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc
<dd>
<p>Don&#39;t use fixed ports: 8070 and 8071.</p>
</dd></dl>

<h3 id="label-Mon+Nov++4+15-3A25-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov  4 15:25:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc/webrick_testing.rb (start_server)
<dd>
<p>Initialize the server at main thread to fail early.</p>
</dd></dl>

<h3 id="label-Mon+Nov++4+10-3A08-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov  4 10:08:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h (TH_EXEC_TAG, TH_JUMP_TAG)
<dd>
<p>get rid of undefined behavior of setjmp() in rhs of assignment expression.
[ISO/IEC 9899:1999] 7.13.1.1</p>
</dd></dl>

<h2 id="label-2013-11-03">2013-11-03</h2>

<h3 id="label-Sun+Nov++3+23-3A06-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  3 23:06:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/test.rb
<dd>
<p>Make temporary file names unique.</p>
</dd></dl>

<h3 id="label-Sun+Nov++3+20-3A41-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  3 20:41:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc
<dd>
<p>Wrap definitions by TestXMLRPC module.</p>
</dd></dl>

<h3 id="label-Sun+Nov++3+20-3A23-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  3 20:23:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc/webrick_testing.rb (stop_server)
<dd>
<p>Don&#39;t try to shutdown the server if the server is not started.</p>
</dd></dl>

<h3 id="label-Sun+Nov++3+09-3A35-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  3 09:35:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_feature_p)
<dd>
<p>deal with default loadable suffixes.</p>
</dd><dt>load.c (load_lock)
<dd>
<p>initialize statically linked extensions.</p>
</dd><dt>load.c (search_required, rb_require_safe)
<dd>
<p>deal with statically linked extensions.</p>
</dd><dt>load.c (ruby_init_ext)
<dd>
<p>defer initialization of statically linked extensions until required
actually.  [Bug #8883]</p>
</dd></dl>

<h2 id="label-2013-11-02">2013-11-02</h2>

<h3 id="label-Sat+Nov++2+15-3A14-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov  2 15:14:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (Logger::LogDevice::LogDeviceMutex#lock_shift_log)
<dd>
<p>open file can&#39;t be removed or renamed on Windows.  [ruby-dev:47790]
[Bug #9046]</p>
</dd><dt>test/logger/test_logger.rb (TestLogDevice#run_children)
<dd>
<p>don&#39;t use fork.</p>
</dd></dl>

<h3 id="label-Sat+Nov++2+07-3A08-3A43+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Nov  2 07:08:43 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>Inter-process locking for log rotation Current implementation fails log
rotation on multi process env. by sonots &lt;sonots@gmail.com&gt; <a
href="https://github.com/ruby/ruby/pull/428">github.com/ruby/ruby/pull/428</a>
fix GH-428 [Bug #9046]</p>
</dd></dl>

<h2 id="label-2013-11-01">2013-11-01</h2>

<h3 id="label-Fri+Nov++1+23-3A24-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  1 23:24:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_mark_map)
<dd>
<p>mark live objects only, but delete zombies. [ruby-dev:47787] [Bug #9069]</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+22-3A45-3A54+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Nov  1 22:45:54 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (struct heap_page, gc_page_sweep, gc_sweep)
<dd>
<p>Refactoring for performance. Add before_sweep condition to heap_page
structure.</p>
</dd><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>Use before_sweep member.</p>
</dd><dt>gc.c (heap_is_before_sweep, is_before_sweep)
<dd>
<p>Remove. They have not already been used.</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+22-3A20-3A28+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Nov  1 22:20:28 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (make_deferred)
<dd>
<p>Refactoring. Collect codes which should be atomic.</p>
</dd><dt>gc.c (make_io_deferred, obj_free, rb_objspace_call_finalizer, gc_page_sweep)
<dd>
<p>Correspond to the above.</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+21-3A40-3A35+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Nov  1 21:40:35 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (typedef struct rb_objspace)
<dd>
<p>Refactoring. Move some members into profile member.</p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>Correspond to the above.</p>
</dd><dt>gc.c (finalize_list)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (objspace_live_num)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_page_sweep)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (garbage_collect_body)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (rb_gc_count)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_set_heap_info)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+20-3A53-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  1 20:53:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_scrub)
<dd>
<p>fix typo, should yield invalid byte sequence to be scrubbed.  reported by
znz at IRC.</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+17-3A25-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  1 17:25:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_live_object)
<dd>
<p>finalizer may not run because of lazy-sweep. [ruby-dev:47786] [Bug #9069]</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+16-3A55-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  1 16:55:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_scrub)
<dd>
<p>export with fixed length arguments, and allow nil as replacement string
instead of omitting.</p>
</dd></dl>

<h3 id="label-Fri+Nov++1+06-3A20-3A44+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Nov  1 06:20:44 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_mutex_struct)
<dd>
<p>reduce rb_mutex_t size by 8 bytes on 64bit platform. Patch by Eric Wong.
[Feature #<a href="ruby-core:58114">9068]</a></p>
</dd></dl>

<h3 id="label-Fri+Nov++1+01-3A08-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov  1 01:08:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>print HWM (high water mark) if possible.</p>
</dd></dl>

<h2 id="label-2013-10-31">2013-10-31</h2>

<h3 id="label-Thu+Oct+31+21-3A48-3A31+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Oct 31 21:48:31 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/streamparser.rb
<dd>
<p>Add dependency file require. [Bug #9062] [ruby-dev:47779] Reported by Ippei
Obayashi. Thanks!!!</p>
</dd></dl>

<h3 id="label-Thu+Oct+31+14-3A09-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 31 14:09:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>fix to pass an ISeq value. OBJ_WRITTEN() accepts only VALUE.</p>
</dd></dl>

<h2 id="label-2013-10-30">2013-10-30</h2>

<h3 id="label-Wed+Oct+30+19-3A07-3A57+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Oct 30 19:07:57 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el (ruby-brace-to-do-end, ruby-do-end-to-brace, ruby-toggle-block)
<dd>
<p>Remove functions that are already in the latest released version of Emacs
(24.3). [Bug #7565]</p>
</dd></dl>

<h3 id="label-Wed+Oct+30+12-3A44-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 30 12:44:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (config.status)
<dd>
<p>add missing variables, PLATFORM_DIR and THREAD_MODEL.</p>
</dd></dl>

<h3 id="label-Wed+Oct+30+12-3A20-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Oct 30 12:20:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (v2w)
<dd>
<p>Normalize a rational value to an integer if possible. [ruby-core:58070]
[Bug #9059] reported by Isaac Schwabacher.</p>
</dd></dl>

<h3 id="label-Wed+Oct+30+12-3A08-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Oct 30 12:08:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq_bang)
<dd>
<p>use rb_ary_modify_check() instead of rb_ary_modify() because the array will
be unshared soon.</p>
</dd></dl>

<h3 id="label-Wed+Oct+30+03-3A25-3A10+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Oct 30 03:25:10 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>make less garbage when testing if a string is binary.</p>
</dd></dl>

<h3 id="label-Wed+Oct+30+03-3A08-3A24+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Oct 30 03:08:24 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>string subclasses should not be considered to be binary.  Fixes <a
href="../../classes/Psych.html">Psych</a> / GH 166 <a
href="https://github.com/tenderlove/psych/issues/166">github.com/tenderlove/psych/issues/166</a></p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h2 id="label-2013-10-29">2013-10-29</h2>

<h3 id="label-Tue+Oct+29+23-3A01-3A18+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Oct 29 23:01:18 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>some refactoring.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+22-3A11-3A37+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Oct 29 22:11:37 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq_bang)
<dd>
<p>use st_foreach() instead of for loop.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+20-3A01-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 20:01:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>add RUBY_TYPED_FREE_IMMEDIATELY to data types which only use safe functions during garbage collection such as xfree(). On default, T_DATA objects are freed at same points as finalizers. This approach protects issues such as reported by [ruby-dev
<dd>
<p>35578]. However, freeing T_DATA objects immediately helps heap usage. Most
of T_DATA (in other words, most of dfree functions) are safe. However, we
turned off RUBY_TYPED_FREE_IMMEDIATELY by default for safety.</p>
</dd><dt>cont.c
<dd>
<p>ditto.</p>
</dd><dt>dir.c
<dd>
<p>ditto.</p>
</dd><dt>encoding.c
<dd>
<p>ditto.</p>
</dd><dt>enumerator.c
<dd>
<p>ditto.</p>
</dd><dt>error.c
<dd>
<p>ditto.</p>
</dd><dt>file.c
<dd>
<p>ditto.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>io.c
<dd>
<p>ditto.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>marshal.c
<dd>
<p>ditto.</p>
</dd><dt>parse.y
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>process.c
<dd>
<p>ditto.</p>
</dd><dt>random.c
<dd>
<p>ditto.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd><dt>time.c
<dd>
<p>ditto.</p>
</dd><dt>transcode.c
<dd>
<p>ditto.</p>
</dd><dt>variable.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>vm_backtrace.c
<dd>
<p>ditto.</p>
</dd><dt>vm_trace.c
<dd>
<p>ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>ditto.</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>ditto.</p>
</dd><dt>ext/stringio/stringio.c
<dd>
<p>ditto.</p>
</dd><dt>ext/strscan/strscan.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+19-3A48-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 19:48:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>fix typo (FL_WB_PROTECT -&gt; FL_WB_PROTECTED).</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+18-3A45-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 18:45:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (tp_free)
<dd>
<p>removed because empty free function. Use RUBY_TYPED_NEVER_FREE instead.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+18-3A37-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 18:37:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>introduce new flags for T_TYPEDDATA. * RUBY_TYPED_FREE_IMMEDIATELY: free
the data given by DATA_PTR() with dfree function immediately.  Otherwise
(default), the data freed at finalization point. * RUBY_TYPED_WB_PROTECTED:
make this object with FL_WB_PROTECT</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (obj_free)
<dd>
<p>support RUBY_TYPED_FREE_IMMEDIATELY.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+16-3A49-3A03+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 16:49:03 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_malloc_increase)
<dd>
<p>decrease it more carefully.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+16-3A24-3A52+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 29 16:24:52 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_page_resurrect)
<dd>
<p>return a page in tomb heap even if freelist is NULL.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+15-3A46-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 29 15:46:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_SIZE_CAS)
<dd>
<p>new macro, compare and swap size_t.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+12-3A08-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct 29 12:08:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (readline_getc)
<dd>
<p>Consider NULL as input.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+11-3A10-3A08+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Oct 29 11:10:08 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_total_time)
<dd>
<p>fix off-by-one error in <a
href="../../classes/GC/Profiler.html#method-c-total_time">GC::Profiler.total_time</a>.</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Tue+Oct+29+09-3A53-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Oct 29 09:53:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def, vm.c, vm_insnhelper.c, vm_insnhelper.h, vm_method.c
<dd>
<p>split ruby_vm_global_state_version into two separate counters - one for the
global method state and one for the global constant state. This means
changes to constants do not affect method caches, and changes to methods do
not affect constant caches. In particular, this means inclusions of modules
containing constants no longer globally invalidate the method cache.</p>
</dd><dt>class.c, eval.c, include/ruby/intern.h, insns.def, vm.c, vm_method.c
<dd>
<p>rename rb_clear_cache_by_class to rb_clear_method_cache_by_class</p>
</dd><dt>class.c, include/ruby/intern.h, variable.c, vm_method.c
<dd>
<p>add rb_clear_constant_cache</p>
</dd><dt>compile.c, vm_core.h, vm_insnhelper.c
<dd>
<p>rename vmstat field in rb_call_info_struct to method_state</p>
</dd><dt>vm_method.c
<dd>
<p>rename vmstat field in struct cache_entry to method_state</p>
</dd></dl>

<h2 id="label-2013-10-28">2013-10-28</h2>

<h3 id="label-Mon+Oct+28+23-3A26-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct 28 23:26:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/readline/test_readline.rb (teardown)
<dd>
<p>Clear Readline.input and Readline.output.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+21-3A35-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct 28 21:35:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/file/depend, ext/-test-/postponed_job/depend, ext/-test-/tracepoint/depend
<dd>
<p>New files for dependencies.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+15-3A32-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 28 15:32:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/depend (ossl.o)
<dd>
<p>work around of dependency of thread_native.h, which depends on headers by
THREAD_MODEL. [ruby-dev:47777]</p>
</dd><dt>ext/openssl/extconf.rb
<dd>
<p>need THREAD_MODEL.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+14-3A57-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 28 14:57:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (ruby_init_ext)
<dd>
<p>share feature names between frame name and provided features.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+14-3A41-3A27+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Oct 28 14:41:27 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import ruby-electric.el 2.1 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>.
* Hitting the newline-and-indent key within a comment fires
comment-indent-new-line. * Introduce a new feature
`ruby-electric-autoindent-on-closing-char`. * Fix fallback behavior of
ruby-electric-space/return that caused error with auto-complete.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+13-3A17-3A17+2013++Or+Cohen++-3Corc-40fewbytes.com-3E">Mon Oct 28 13:17:17 2013  Or Cohen  &lt;orc@fewbytes.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (name_err_to_s)
<dd>
<p>remove no longer needed overriding, since r30455 which made exc_to_s almost
same.  Fixes [GH-413].</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+12-3A42-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct 28 12:42:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk, ext/objspace/depend, ext/coverage/depend, ext/-test-/debug/depend, ext/date/depend
<dd>
<p>Update dependencies.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+09-3A29-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Oct 28 09:29:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>vm_clear_all_cache is not necessary now we use a 64 bit counter for global
state version.</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>ruby_vm_global_state_version overflow is unnecessary</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+07-3A47-3A32+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Mon Oct 28 07:47:32 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c (rb_profile_frame_classpath)
<dd>
<p>do not use rb_inspect directly, since it might have a custom implementation
or show ivars.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+04-3A10-3A41+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Mon Oct 28 04:10:41 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c (rb_profile_frame_classpath)
<dd>
<p>handle singleton methods defined directly on an object.</p>
</dd><dt>test/-ext-/debug/test_profile_frames.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Mon+Oct+28+00-3A52-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 28 00:52:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (new_struct)
<dd>
<p>fix warning message, class name and encoding.</p>
</dd></dl>

<h2 id="label-2013-10-27">2013-10-27</h2>

<h3 id="label-Sun+Oct+27+20-3A53-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Oct 27 20:53:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c
<dd>
<p>Include ruby/thread.h for rb_thread_call_without_gvl2.</p>
</dd><dt>(readline_rl_instream, readline_rl_outstream)
<dd>
<p>Record FILE structures allocated by this extension.</p>
</dd><dt>(getc_body)
<dd>
<p>New function extracted from readline_getc.</p>
</dd><dt>(getc_func)
<dd>
<p>New function.</p>
</dd><dt>(readline_getc)
<dd>
<p>Use rb_thread_call_without_gvl2 to invoke getc_func. [ruby-dev:47033] [Bug
#8749]</p>
</dd><dt>(clear_rl_instream, clear_rl_outstream)
<dd>
<p>Close FILE structure allocated by this extension reliably. 
[ruby-core:57951] [Bug #9040]</p>
</dd><dt>(readline_readline)
<dd>
<p>Use clear_rl_instream and clear_rl_outstream.</p>
</dd><dt>(readline_s_set_input)
<dd>
<p><a href="../../classes/Set.html">Set</a> readline_rl_instream.</p>
</dd><dt>(readline_s_set_output)
<dd>
<p><a href="../../classes/Set.html">Set</a> readline_rl_outstream.</p>
</dd><dt>(Init_readline)
<dd>
<p>Don&#39;t call readline_s_set_input because readline_getc doesn&#39;t block
other threads for any FILE structure now. [ruby-dev:47033] [Bug #8749]
reported by Nobuhiro IMAI. [ruby-core:57951] [Bug #9040] reported by Eamonn
Webster.</p>
</dd></dl>

<h2 id="label-2013-10-26">2013-10-26</h2>

<h3 id="label-Sat+Oct+26+19-3A31-3A28+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Oct 26 19:31:28 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>catch up recent changes to compile on GC_DEBUG, RGENGC_CHECK_MODE.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+19-3A08-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 26 19:08:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (range_initialize_copy)
<dd>
<p>disallow to modify after initialized.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+17-3A48-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Oct 26 17:48:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb (meta_add_field)
<dd>
<p>: Re-implemented. [ruby-core:58017] [Bug #9051] patch by Eamonn Webster.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+14-3A35-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 26 14:35:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_dump_on)
<dd>
<p>use “Page” terminology.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+13-3A25-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 26 13:25:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_sweep, gc_heap_lazy_sweep)
<dd>
<p>fix measurement code. We only need one sweep time measurement without lazy
sweep.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+11-3A59-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Oct 26 11:59:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c
<dd>
<p>Include ELF header after system headers (especially sys/types.h) to avoid
compilation failure, “usr/include/sh3/elf_machdep.h:4:2: error: error
Define _BYTE_ORDER!”, on NetBSD/sh3 (dreamcast, hpcsh, landisk, mmeye).</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+11-3A35-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 26 11:35:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>tuning parameters.</p>
</dd><dt>gc.c (GC_MALLOC_LIMIT)
<dd>
<p>change default value to 16MB.</p>
</dd><dt>gc.c (GC_MALLOC_LIMIT_GROWTH_FACTOR)
<dd>
<p>change default value to 2.0.</p>
</dd><dt>gc.c (gc_before_sweep)
<dd>
<p>change decrease ratio of `malloc_limit&#39; from 1/4 to 1/10.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+11-3A30-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 26 11:30:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (vm_malloc_increase)
<dd>
<p>do gc_rest_sweep() before <a href="../../classes/GC.html">GC</a>.
gc_rest_sweep() can reduce malloc_increase, so try it before <a
href="../../classes/GC.html">GC</a>. Otherwise, malloc_increase can be less
than malloc_limit at gc_before_sweep(). This means that re-calculation of
malloc_limit may be wrong value.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+06-3A35-3A41+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sat Oct 26 06:35:41 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_heap_sweep)
<dd>
<p>Restructure code to mean clearly. heap-&gt;freelist is connected to end of
list.</p>
</dd></dl>

<h3 id="label-Sat+Oct+26+04-3A01-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 26 04:01:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_heap_sweep)
<dd>
<p>fix freelist management. After rb_gc_force_recycle() for a object belonging
to heap-&gt;freelist, `heap-&gt;using_page-&gt;freelist&#39; is not null.</p>
</dd></dl>

<h2 id="label-2013-10-24">2013-10-24</h2>

<h3 id="label-Thu+Oct+24+12-3A45-3A53+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Oct 24 12:45:53 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>[DOC] Document first argument also takes string for: rb_mod_const_get,
rb_mod_const_set, rb_mod_const_defined Also added note about <a
href="../../classes/NameError.html">NameError</a> exception for invalid
constant name</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+12-3A23-3A58+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 24 12:23:58 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_terminate_all)
<dd>
<p>add a comment why we need state check and call terminate_i again.</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+12-3A15-3A02+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 24 12:15:02 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_terminate_all)
<dd>
<p>add a comment why infinite sleep is safe.</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+07-3A41-3A42+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Thu Oct 24 07:41:42 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add new initial_growth_max tuning parameter. [ruby-core:57928] [Bug #9035]</p>
</dd><dt>gc.c (heap_set_increment)
<dd>
<p>when initial_growth_max is set, do not grow number of slots by more than
growth_max at a time.</p>
</dd><dt>gc.c (rb_gc_set_params)
<dd>
<p>load optional new tuning value from RUBY_HEAP_SLOTS_GROWTH_MAX environment
variable.</p>
</dd><dt>test/ruby/test_gc.rb (class TestGc)
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+01-3A34-3A12+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 24 01:34:12 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h (rb_infinity_float)
<dd>
<p>suppress overflow in constant arithmetic warnings.  [ruby-core:57981] [Bug
#9044]</p>
</dd></dl>

<h2 id="label-2013-10-23">2013-10-23</h2>

<h3 id="label-Wed+Oct+23+23-3A48-3A28+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Oct 23 23:48:28 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Rename free_min to min_free_slots and free_min_page to max_free_slots. The
algorithm for heap growth is: if (swept_slots &lt; min_free_slots) pages++
if (swept_slots &gt; max_free_slots) pages–</p>
</dd></dl>

<h3 id="label-Wed+Oct+23+22-3A51-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 23 22:51:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (config.h)
<dd>
<p>VC 2013 supports C99 mathematics functions.  [ruby-core:57981] [Bug #9044]</p>
</dd></dl>

<h3 id="label-Wed+Oct+23+19-3A13-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 23 19:13:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>move increment from heap to heap_pages. Share `increment&#39; information
with heaps.</p>
</dd><dt>gc.c
<dd>
<p>change ratio of heap_pages_free_min_page to 0.80. This change means slow
down page freeing speed.</p>
</dd></dl>

<h3 id="label-Wed+Oct+23+17-3A52-3A03+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 23 17:52:03 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_pages_free_unused_pages)
<dd>
<p>cast to (int) for size_t variable `i&#39;.</p>
</dd></dl>

<h3 id="label-Wed+Oct+23+17-3A39-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 23 17:39:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce tomb heap. Tomb heap is where zombie objects and ghost (freed
slot) lived in. Separate from other heaps (now there is only eden heap) at
sweeping helps freeing pages more efficiently. Before this patch, even if
there is an empty page at former phase of sweeping, we can&#39;t free it.
Algorithm:</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Oct+23+14-3A20-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 23 14:20:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prof_sweep_timer_stop)
<dd>
<p>catch up recent changes to compile on GC_PROFILE_MORE_DETAIL=1.</p>
</dd></dl>

<h3 id="label-Wed+Oct+23+11-3A43-3A27+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Oct 23 11:43:27 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>[DOC] fix rdoc format of File#expand_path from r43386</p>
</dd></dl>

<h2 id="label-2013-10-22">2013-10-22</h2>

<h3 id="label-Tue+Oct+22+21-3A58-3A28+2013++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Tue Oct 22 21:58:28 2013  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (enum)
<dd>
<p>avoid syntax error.</p>
</dd><dt>method.h
<dd>
<p>ditto.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+19-3A53-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 22 19:53:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (Init_heap)
<dd>
<p>move logics from heap_pages_init() and remove heap_pages_init().</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+19-3A19-3A05+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 22 19:19:05 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>allow multiple heaps. Now, objects are managed by page. And a set of pages
is called heap. This commit supports multiple heaps in the object space. *
Functions heap_* and rb_heap_t manages heap data structure. * Functions
heap_page_* and struct heap_page manage page data structure. * Functions
heap_pages_* and struct rb_objspace_t::heap_pages maintains all pages. For
example, pages are allocated from the heap_pages. See <a
href="https://bugs.ruby-lang.org/projects/ruby-trunk/wiki/GC_design">bugs.ruby-lang.org/projects/ruby-trunk/wiki/GC_design</a>
and <img
src="https://bugs.ruby-lang.org/attachments/4015/data-heap_structure_with_multiple_heaps.png"
/> for more details. Now, there is only one heap called `eden&#39;, which
is a space for all new generated objects.</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+18-3A26-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct 22 18:26:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb (object_address_group)
<dd>
<p>Use Kernel#to_s to obtain the class name and object address. This fix a
problem caused by %p in C generates variable length address. Reported by
ko1 via IRC.</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+16-3A57-3A48+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Tue Oct 22 16:57:48 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (File#expand_path)
<dd>
<p>[DOC] improve documentation of File#expand_path. Based on patch by
Prathamesh Sonpatki. [ruby-core:57734] [Bug #9002]</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+15-3A59-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 22 15:59:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>don&#39;t skip current directories if FNM_DOTMATCH is given. 
[ruby-core:53108] [Bug #8006]</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+14-3A53-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 22 14:53:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>exterminate Zombies. There is a bug that T_ZOMBIE objects are not
collected. Because there is a pass to miss finalizer postponed job with
multi-threading. This patch solve this issue.</p>
</dd><dt>vm_trace.c (rb_postponed_job_register_one)
<dd>
<p>set RUBY_VM_SET_POSTPONED_JOB_INTERRUPT(th) if another same job is
registered. There is a possibility to remain a postponed job without
interrupt flag.</p>
</dd><dt>vm_trace.c (rb_postponed_job_register_one)
<dd>
<p>check interrupt carefully.</p>
</dd><dt>vm_trace.c (rb_postponed_job_register_one)
<dd>
<p>use additional space to avoid buffer full.</p>
</dd><dt>gc.c (gc_finalize_deferred_register)
<dd>
<p>check failure.</p>
</dd><dt>thread.c (rb_threadptr_execute_interrupts)
<dd>
<p>check `postponed_job_interrupt&#39; immediately.  There is a possibility to
miss this flag.</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+12-3A11-3A16+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 22 12:11:16 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check if the given CFLAGS and LDFLAGS are working, and bail out early if
not.</p>
</dd></dl>

<h3 id="label-Tue+Oct+22+00-3A06-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 22 00:06:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_exists_p)
<dd>
<p>warn deprecated name.  [Bug #9041]</p>
</dd></dl>

<h2 id="label-2013-10-21">2013-10-21</h2>

<h3 id="label-Mon+Oct+21+23-3A57-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 21 23:57:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (load_encoding)
<dd>
<p>should preserve outer errinfo, so that expected exception may not be lost. 
[ruby-core:57949] [Bug #9038]</p>
</dd></dl>

<h2 id="label-2013-10-20">2013-10-20</h2>

<h3 id="label-Sun+Oct+20+15-3A41-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 20 15:41:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_reopen)
<dd>
<p>create a new, temporary FD via rb_sysopen and call rb_cloexec_dup2 on it to
atomically replace the file fptr-&gt;fd points to.  This leaves no possible
window where fptr-&gt;fd is invalid to userspace (even for any threads
running w/o GVL).  based on the patch by Eric Wong
&lt;normalperson@yhbt.net&gt; at [ruby-core:57943]. [Bug #9036]</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+15-3A29-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 20 15:29:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_syserr_fail_path_in)
<dd>
<p>new function split from rb_sys_fail_path_in to raise <a
href="../../classes/SystemCallError.html">SystemCallError</a> without
errno.</p>
</dd><dt>internal.h (rb_syserr_fail_path)
<dd>
<p>like rb_sys_fail_path but without errno.</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+13-3A58-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 20 13:58:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (rb_obj_wb_unprotect, rb_obj_written), (rb_obj_write)
<dd>
<p>suppress unused-parameter warnings.</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+10-3A32-3A48+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Oct 20 10:32:48 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update RubyGems to master 0886307.  This commit improves documentation and
should bring ruby above 75% documented on rubyci.</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+09-3A30-3A56+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Oct 20 09:30:56 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 3de7e0f.  Changes: Only attempt to build
extensions for newly-installed gems.  This prevents compilation attempts at
gem activation time for gems that already have extensions built. Fix crash
in the dependency resolver for dependencies that cannot be resolved.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+05-3A24-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 20 05:24:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_class2name)
<dd>
<p>should return real class name, not singleton class or iclass.</p>
</dd></dl>

<h3 id="label-Sun+Oct+20+04-3A18-3A48+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Sun Oct 20 04:18:48 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_class2name)
<dd>
<p>call rb_tmp_class_path() directly to avoid extra rb_str_dup() from
rb_class_name().</p>
</dd></dl>

<h2 id="label-2013-10-19">2013-10-19</h2>

<h3 id="label-Sat+Oct+19+19-3A59-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 19 19:59:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (code_page)
<dd>
<p>use simple array instead of st_table.</p>
</dd><dt>encoding.c (rb_locale_encindex)
<dd>
<p>defer initialization of win32 code page table until encoding db loaded.</p>
</dd></dl>

<h3 id="label-Sat+Oct+19+08-3A25-3A05+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 19 08:25:05 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix rb_objspace_t. * make “struct heap” and move most of variables in
rb_objspace_t::heap. * rename rb_objspace_t::heap::sorted to
rb_objspace_t::heap_sorted_pages and make a macro heap_sorted_pages. *
rename rb_objspace_t::heap::range to rb_objspace_t::heap_range and rename
macros lomem/himem to heap_lomem/heap_himem.</p>
</dd></dl>

<h3 id="label-Sat+Oct+19+07-3A14-3A40+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Oct 19 07:14:40 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 42543b6.  Changes: Fix `gem update` for gems with
multiple platforms.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Oct+19+06-3A55-3A52+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Oct 19 06:55:52 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 0a3814b.  Changes: Fixed extension directory in
<a
href="../../classes/Gem/BasicSpecification.html#method-i-require_paths">Gem::BasicSpecification#require_paths</a>.
Allow installation of gems when $HOME is nonexistent or unwritable. Use
proper API in InstallCommand. Improve support for path option in gem
dependency files. Remove warnings.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-10-18">2013-10-18</h2>

<h3 id="label-Fri+Oct+18+15-3A23-3A34+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 18 15:23:34 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change terminology of heap. Change “slot” to “page”. “Slot” is a space of
RVALUE. 1. “Heap” consists of a set of “heap_page”s (pages). 2. Each
“heap_page” has “heap_page_body”. 3. “heap_page_body” has RVALUE (a.k.a.
“slot”) spaces. 4. “sorted” is a sorted array of “heap_page”s, sorted by
address of heap_page_body (for “is_pointer_to_heap”). See <img
src="https://bugs.ruby-lang.org/attachments/4008/data-heap_structure.png"
/>.</p>
</dd></dl>

<h3 id="label-Fri+Oct+18+09-3A40-3A43+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Oct 18 09:40:43 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master cee6788.  Changes: Fix test failure on vc10-x64
Server on rubyci.org due to attempting to <a
href="../../classes/File.html#method-c-chmod">File.chmod</a> where it is
not supported. Continuing work on improved gem dependencies file (Gemfile)
support.</p>
</dd><dt>test
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct+18+06-3A02-3A49+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Oct 18 06:02:49 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master f738c67.  Changes: Fixed test bug for ruby with
ENABLE_SHARED = no</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct+18+00-3A57-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Oct 18 00:57:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tsort.rb (TSort.tsort)
<dd>
<p>Extracted from <a
href="../../classes/TSort.html#method-i-tsort">TSort#tsort</a>.</p>
</dd><dt>(TSort.tsort_each)
<dd>
<p>Extracted from <a
href="../../classes/TSort.html#method-i-tsort_each">TSort#tsort_each</a>.</p>
</dd><dt>(TSort.strongly_connected_components)
<dd>
<p>Extracted from <a
href="../../classes/TSort.html#method-i-strongly_connected_components">TSort#strongly_connected_components</a>.</p>
</dd><dt>(TSort.each_strongly_connected_component)
<dd>
<p>Extracted from <a
href="../../classes/TSort.html#method-i-each_strongly_connected_component">TSort#each_strongly_connected_component</a>.</p>
</dd></dl>

<h2 id="label-2013-10-17">2013-10-17</h2>

<h3 id="label-Thu+Oct+17+18-3A50-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 18:50:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (CALC_EXACT_MALLOC_SIZE_CHECK_OLD_SIZE)
<dd>
<p>introduced. This macro enable checker compare with allocated memory and
declared old_size of sized_xfree and sized_xrealloc.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+18-3A45-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 18:45:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (STR_HEAP_SIZE)
<dd>
<p>includes TERM_LEN(str).</p>
</dd><dt>string.c (rb_str_memsize)
<dd>
<p>use STR_HEAP_SIZE().</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+17-3A43-3A00+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Oct 17 17:43:00 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>set ci-&gt;me to 0 when the original method of a refined method is undef to
avoid SEGV.</p>
</dd><dt>vm_method.c (rb_method_entry_without_refinements)
<dd>
<p>return 0 when the original method of a refined method is undef to avoid
SEGV.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+17-3A38-3A36+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 17:38:36 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, internal.h
<dd>
<p>rename ruby_xsizefree/realloc to rb_sized_free/realloc.</p>
</dd><dt>array.c
<dd>
<p>catch up these changes.</p>
</dd><dt>string.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+17-3A32-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 17:32:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c, string.c
<dd>
<p>use ruby_xsizedfree() and ruby_xsizedrealloc().</p>
</dd><dt>internal.h (SIZED_REALLOC_N)
<dd>
<p>define a macro as REALLOC_N().</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+17-3A11-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 17 17:11:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (console_emulator_p)
<dd>
<p>check by comparison between module handle of WriteConsoleW and
kernel32.dll.</p>
</dd><dt>configure.in, win32/Makefile.sub, win32/setup.mak
<dd>
<p>no longer need psapi.lib.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+16-3A53-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 16:53:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, internal.h
<dd>
<p>add new internal memory management functions. * void
*ruby_xsizedrealloc(void *ptr, size_t new_size, size_t old_size) * void
ruby_xsizedfree(void *x, size_t size) These functions accept additional
size parameter to calculate more accurate malloc_increase parameter which
control <a href="../../classes/GC.html">GC</a> timing. [Feature #8985]</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+14-3A21-3A34+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 17 14:21:34 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>fix memory leaks at a non-absolute home exception.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+14-3A06-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 14:06:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c (newobj_i)
<dd>
<p>fix memory leak. There is possibility to remain info due to missing FREEOBJ
event. FREEOBJ events are skipped while suppress_tracing state, for
example, during trace events are invoking.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+12-3A30-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Oct 17 12:30:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tsort.rb (TSort.each_strongly_connected_component_from)
<dd>
<p>Extracted from <a
href="../../classes/TSort.html#method-i-each_strongly_connected_component_from">TSort#each_strongly_connected_component_from</a>.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+11-3A07-3A06+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Oct 17 11:07:06 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 941c21a.  Changes: Restored method bundler wants
to remove for compatibility. Improvements to Gemfile compatibility.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+08-3A08-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 08:08:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c (newobj_i)
<dd>
<p>add workaround. some bugs hits this check.</p>
</dd><dt>ext/objspace/object_tracing.c (object_allocations_reporter_i)
<dd>
<p>cast as pointer.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+07-3A36-3A53+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Oct 17 07:36:53 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 2abce58.  Changes: Fixed documentation generation
when sdoc and json are installed as gems. Added some missing documentation.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+07-3A10-3A26+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Oct 17 07:10:26 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/curses.c
<dd>
<p>[DOC] Cleaned up formatting consistency of rdoc comments for Curses,
including period spacing and column width. This patch also fixed some
typos. Thanks to @postmodern for the patch! [Fixes GH-420] <a
href="https://github.com/ruby/ruby/pull/420">github.com/ruby/ruby/pull/420</a></p>
</dd></dl>

<h3 id="label-Thu+Oct+17+06-3A58-3A42+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Oct 17 06:58:42 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>[DOC] plural grammar fixed by @scott113341 Contributed via
documenting-ruby.org: documenting-ruby/ruby#16 <a
href="https://github.com/documenting-ruby/ruby/pull/16">github.com/documenting-ruby/ruby/pull/16</a></p>
</dd></dl>

<h3 id="label-Thu+Oct+17+05-3A52-3A31+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Oct 17 05:52:31 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/nonblock/nonblock.c
<dd>
<p>[DOC] Document io/nonblock by reprah [Fixes GH-418] <a
href="https://github.com/ruby/ruby/pull/418">github.com/ruby/ruby/pull/418</a>
based on the original discussion from documenting-ruby/ruby#18</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+05-3A40-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 05:40:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_each_objects)
<dd>
<p>do not skip empty RVALUEs.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+05-3A31-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 05:31:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_bug_reporter_add)
<dd>
<p>return simply 0 if failed. Please check return value.</p>
</dd></dl>

<h3 id="label-Thu+Oct+17+05-3A17-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 17 05:17:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>add new method <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations_debug_start">ObjectSpace.trace_object_allocations_debug_start</a>
for <a href="../../classes/GC.html">GC</a> debugging. If you encounter the
BUG “… is T_NONE” (and so on) on your application, please try this method
at the beginning of your app.</p>
</dd></dl>

<h2 id="label-2013-10-16">2013-10-16</h2>

<h3 id="label-Wed+Oct+16+22-3A35-3A27+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Oct 16 22:35:27 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/nonblock/nonblock.c
<dd>
<p>use rb_cIO instead of VALUE</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+17-3A45-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 16 17:45:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/runner.rb
<dd>
<p>check nil before calling `signal?&#39; for a process status.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+17-3A37-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 16 17:37:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c, internal.h (rb_bug_reporter_add)
<dd>
<p>add a new C-API. rb_bug_reporter_add() allows to register a function which
is called at rb_bug() called.</p>
</dd><dt>ext/-test-/bug_reporter/bug_reporter.c
<dd>
<p>add a test for this C-API.</p>
</dd><dt>ext/-test-/bug_reporter/extconf.rb
<dd>
<p>ditto.</p>
</dd><dt>test/-ext-/bug_reporter/test_bug_reporter.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+15-3A14-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 16 15:14:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add a line into <a href="../NEWS.html">NEWS</a> for last commit.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+15-3A09-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct 16 15:09:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>add a new method `reachable_objects_from_root&#39;. <a
href="../../classes/ObjectSpace.html#method-c-reachable_objects_from_root">ObjectSpace.reachable_objects_from_root</a>
returns all objects referred from root (called “root objects”). This
feature is for deep object analysis.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+15-3A00-3A21+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Oct 16 15:00:21 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master b955554.  Changes: Fixed <a
href="../../classes/NameError.html">NameError</a> for <a
href="../../classes/Gem/Ext.html">Gem::Ext</a> due to re-entering file
lookup in RubyGems&#39; overridden require.  Bug by Koichi Sasada. Fixed
possible circular require warning in tests. Used existing constant for `gem
install -g` dependency file list.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+09-3A42-3A42+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Oct 16 09:42:42 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 278d00d.  Changes: Fixes building extensions
without a “clean” make rule Adds gem dependency file autodetection to “gem
install -g”</p>
</dd><dt>test/rubygems
<dd>
<p>Tests for the above.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+09-3A12-3A23+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Oct 16 09:12:23 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master commit 2a74263.  This fixes several bugs in
RubyGems 2.2.0.preview.1.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Oct+16+07-3A25-3A02+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Wed Oct 16 07:25:02 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_roots)
<dd>
<p>rename roots to be categories instead of function names.</p>
</dd></dl>

<h2 id="label-2013-10-15">2013-10-15</h2>

<h3 id="label-Tue+Oct+15+19-3A18-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct 15 19:18:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.h (rb_objspace_reachable_objects_from_root)
<dd>
<p>added. This API provides information which objects are root objects.
`category&#39; shows what kind of root objects.</p>
</dd><dt>gc.c (gc_mark_roots)
<dd>
<p>separate from gc_marks_body().</p>
</dd></dl>

<h3 id="label-Tue+Oct+15+17-3A47-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct 15 17:47:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Fix a typo.  MacOS X doesn&#39;t have ENOTSUPP.</p>
</dd></dl>

<h2 id="label-2013-10-14">2013-10-14</h2>

<h3 id="label-Mon+Oct+14+12-3A32-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 14 12:32:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (process_options)
<dd>
<p>load statically linked extensions before rubygems, because of ext/thread.</p>
</dd><dt>ruby.c (process_options)
<dd>
<p>use gem_prelude instead of requiring rubygems directly when –enable=gems is
given.</p>
</dd><dt>Makefile.in (DEFAULT_PRELUDES)
<dd>
<p>always use gem_prelude regardless of –disable-rubygems.</p>
</dd></dl>

<h3 id="label-Mon+Oct+14+11-3A07-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 14 11:07:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (have_framework)
<dd>
<p>should append framework options to $LIBS, not $LDFLAGS.  The former is
propagated to exts.mk when enable-static-linked-ext.</p>
</dd><dt>lib/mkmf.rb (create_makefile)
<dd>
<p>ranlib on static library, not DLLIB.</p>
</dd></dl>

<h2 id="label-2013-10-13">2013-10-13</h2>

<h3 id="label-Sun+Oct+13+23-3A53-3A40+2013++Andrew+Grimm++-3Candrew.j.grimm-40gmail.com-3E">Sun Oct 13 23:53:40 2013  Andrew Grimm  &lt;andrew.j.grimm@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vsnprintf.c
<dd>
<p>Fix spelling from compliment to complement. Patch by @agrimm.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Oct+13+20-3A59-3A27+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 13 20:59:27 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Init_BareVM)
<dd>
<p>initialize defined_module_hash here, Init_top_self() is too late to
register core classes/modules.</p>
</dd><dt>compile.c (compile_array_)
<dd>
<p>no hash to merge if it is empty.</p>
</dd><dt>vm.c (m_core_hash_merge_kwd)
<dd>
<p>just check keys if only one argument is given, without merging.</p>
</dd></dl>

<h2 id="label-2013-10-12">2013-10-12</h2>

<h3 id="label-Sat+Oct+12+06-3A35-3A01+2013-10-11++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Oct 12 06:35:01 2013-10-11  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake
<dd>
<p>Update to rake 10.1.0</p>
</dd><dt>bin/rake
<dd>
<p>ditto.</p>
</dd><dt>test/rake
<dd>
<p>ditto.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Update <a href="../NEWS.html">NEWS</a> to include rake 10.1.0 and links to
release notes.</p>
</dd></dl>

<h3 id="label-Sat+Oct+12+03-3A26-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 12 03:26:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c, variable.c, gc.c (rb_class_tbl)
<dd>
<p>removed.</p>
</dd><dt>vm.c, vm_core.h (rb_vm_add_root_module)
<dd>
<p>added to register as a defined root module or class. This guard helps mark
miss from defined classes/modules they are only referred from C&#39;s
global variables in C-exts. Basically, it is extension&#39;s bug. Register
to hash object VM has. Marking a hash objects allows generational <a
href="../../classes/GC.html">GC</a> supports.</p>
</dd><dt>gc.c (RGENGC_PRINT_TICK)
<dd>
<p>disable (revert).</p>
</dd></dl>

<h3 id="label-Sat+Oct+12+03-3A24-3A49+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 12 03:24:49 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_gc_mark_unlinked_live_method_entries)
<dd>
<p>revert last commit to introduce debug prints.</p>
</dd></dl>

<h2 id="label-2013-10-11">2013-10-11</h2>

<h3 id="label-Fri+Oct+11+21-3A05-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 21:05:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h, parse.y
<dd>
<p>use `full_mark&#39; instead of `full_marking&#39;.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+20-3A58-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 20:58:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>use terminology `full_mark&#39; instead of `minor_gc&#39; in mark
functions.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+20-3A46-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 20:46:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>use __GNUC__ instead of __GCC__.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+20-3A35-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 20:35:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, parse.y
<dd>
<p>support generational <a href="../../classes/Symbol.html">Symbol</a> related
marking. Each symbols has String objects respectively to represent Symbols.
These objects are marked only when: * full marking * new symbols are added
This hack reduce symbols (related strings) marking time. For example, on my
Linux environment, the following code “20_000_000.times{&#39;&#39;}” with
40k symbols (similar symbol number on Rails 3.2.14 app, @jugyo tells me)
boosts, from 7.3sec to 4.2sec.</p>
</dd><dt>internal.h
<dd>
<p>change prototype of rb_gc_mark_symbols().</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+19-3A27-3A22+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 11 19:27:22 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import ruby-electric.el 2.0.1 which fixes a bug and a flaw with auto-end
introduced in the revamp. * ruby-forward-sexp is inappropriate here because
it moves the cursor past the keyword. * Fix a reversed looking-back check
in ruby-electric–block-beg-keyword-at-point-p. * Do not add end again if
space or return is hit repeatedly after a block beginning keyword.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+18-3A12-3A47+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 18:12:47 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/gc_hook.c
<dd>
<p>prohibit reentrant.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+18-3A11-3A34+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 18:11:34 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>fix bit operation.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+17-3A33-3A24+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 11 17:33:24 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import ruby-electric.el 2.0 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>
which integrates changes from another fork by @qoobaa. * Allow
ruby-electric-mode to be disabled by introducing a dedicated key map. 
Electric key bindings are now defined in ruby-electric-mode-map instead of
overwriting ruby-mode-map. * Add ruby-electric-mode-hook. * Use a remap in
binding ruby-electric-delete-backward-char. * Totally revamp electric
keywords and then introduce electric return.  Modifier keywords are now
properly detected making use of ruby-mode&#39;s indentation level
calculator, and * block-mid keywords (then, else, elsif, when, rescue and
ensure) also become electric with automatic reindentation. * Add
standardized comments for ELPA integration. * Fix interaction with
smartparens-mode by disabling its end keyword completion, since
ruby-electric has become more clever at it. * The custom variable
`ruby-electric-keywords` is changed to `ruby-electric-keywords-alist`,
allowing user to fine-grained configuration.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+16-3A53-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 11 16:53:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>simplify.</p>
</dd></dl>

<h3 id="label-Fri+Oct+11+03-3A36-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 11 03:36:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_threadptr_execute_interrupts)
<dd>
<p>flush postponed job only once at last.</p>
</dd><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>defer calling postponed jobs registered while flushing to get rid of
infinite reentrance of ObjectSpace.after_gc_start_hook.  [ruby-dev:47400]
[Bug #8492]</p>
</dd></dl>

<h2 id="label-2013-10-10">2013-10-10</h2>

<h3 id="label-Thu+Oct+10+23-3A04-3A00+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Oct 10 23:04:00 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_or)
<dd>
<p>remove unused variables.</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+23-3A01-3A16+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Oct 10 23:01:16 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_or)
<dd>
<p>use rb_hash_keys().</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+21-3A36-3A16+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Oct 10 21:36:16 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_compact_bang)
<dd>
<p>use ary_resize_smaller().</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+17-3A25-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 10 17:25:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_exec)
<dd>
<p>support :b_return event for “lambda{return}.call”. [Bug #8622]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+13-3A52-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 10 13:52:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (postponed_job)
<dd>
<p>use preallocated buffer. Pre-allocate MAX_POSTPONED_JOB (1024) sized buffer
and use it. If rb_postponed_job_register() cause overflow, simply it fails
and returns 0. And maybe rb_postponed_job_register() is signal safe.</p>
</dd><dt>vm_core.h
<dd>
<p>change data structure.</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+11-3A11-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 10 11:11:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Init_VM)
<dd>
<p>hide also the singleton class of frozen-core, not only frozen-core itself.</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+06-3A02-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 10 06:02:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rand.rb
<dd>
<p>fix r43224. local variable `e&#39; is no longer available.</p>
</dd></dl>

<h3 id="label-Thu+Oct+10+00-3A02-3A35+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Thu Oct 10 00:02:35 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (fix_aref)
<dd>
<p>avoid a possible undefined behavior. 1L &lt;&lt; 63 on 64-bit platform is
undefined, at least, according to ISO/IEC 9899 (C99) 6.5.7.</p>
</dd></dl>

<h2 id="label-2013-10-09">2013-10-09</h2>

<h3 id="label-Wed+Oct++9+23-3A57-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  9 23:57:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (id_for_attr)
<dd>
<p>avoid inadvertent symbol creation.</p>
</dd></dl>

<h3 id="label-Wed+Oct++9+18-3A03-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  9 18:03:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_attr)
<dd>
<p>preserve encoding of the attribute ID in error message.</p>
</dd></dl>

<h3 id="label-Wed+Oct++9+17-3A40-3A16+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  9 17:40:16 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring)
<dd>
<p>because of lazy sweep, str may be unmarked already and swept at next time,
so mark it for the time being. [ruby-core:57756]</p>
</dd></dl>

<h3 id="label-Wed+Oct++9+13-3A53-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  9 13:53:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (cmp_eq)
<dd>
<p>fail if recursion.  [ruby-core:57736] [Bug #9003]</p>
</dd><dt>thread.c (rb_exec_recursive_paired_outer)
<dd>
<p>new function which is combination of paired and outer variants.</p>
</dd></dl>

<h3 id="label-Wed+Oct++9+09-3A18-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct  9 09:18:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/debug.h, vm_backtrace.c (rb_profile_frame_full_label)
<dd>
<p>add new C API rb_profile_frame_full_label() which returns label with
qualified method name. Note that in future version of Ruby label() may
return same return value of full_label().</p>
</dd><dt>ext/-test-/debug/profile_frames.c, test/-ext-/debug/test_profile_frames.rb
<dd>
<p>fix a test for this change.</p>
</dd></dl>

<h3 id="label-Wed+Oct++9+00-3A55-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  9 00:55:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (load_lock)
<dd>
<p>display backtrace to $stderr at circular require.</p>
</dd><dt>vm_backtrace.c (rb_backtrace_print_to)
<dd>
<p>new function to print backtrace to the given output.</p>
</dd></dl>

<h2 id="label-2013-10-08">2013-10-08</h2>

<h3 id="label-Tue+Oct++8+21-3A03-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  8 21:03:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c, include/ruby/debug.h
<dd>
<p>add new APIs * VALUE rb_profile_frame_method_name(VALUE frame) * VALUE
rb_profile_frame_qualified_method_name(VALUE frame)</p>
</dd><dt>iseq.c (rb_iseq_klass), internal.h
<dd>
<p>add new internal function rb_iseq_method_name().</p>
</dd><dt>ext/-test-/debug/profile_frames.c (profile_frames), test/-ext-/debug/test_profile_frames.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+16-3A11-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  8 16:11:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq)
<dd>
<p>use rb_hash_values(), as well as the case no block is given.</p>
</dd><dt>internal.h
<dd>
<p>define rb_hash_values() as internal API.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+13-3A53-3A21+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Oct  8 13:53:21 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq)
<dd>
<p>use rb_hash_keys().</p>
</dd><dt>internal.h
<dd>
<p>define rb_hash_keys() as internal API.</p>
</dd><dt>hash.c (rb_hash_keys)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+10-3A56-3A39+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Oct  8 10:56:39 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c
<dd>
<p>disable FIBER_USE_NATIVE on GNU/Hurd because it doesn&#39;t support a
combination getcontext() and threads. Patch by Gabriele Giacone
(1o5g4r8o@gmail.com). [Bug #<a href="ruby-core:57685">8990]</a></p>
</dd></dl>

<h3 id="label-Tue+Oct++8+05-3A58-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct  8 05:58:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.strptime)
<dd>
<p><a
href="../../classes/Time.html#method-c-strptime">Time.strptime</a>(&#39;0&#39;,
&#39;%s&#39;) returns local time <a href="../../classes/Time.html">Time</a>
object as Ruby 2.0 and before.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+05-3A40-3A37+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Oct  8 05:40:37 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>Rebuild Travis CI&#39;s “ruby-head” version on successful build.  Patch by
Konstantin Haase.  [Fixes GH-417] <a
href="https://github.com/ruby/ruby/pull/417">github.com/ruby/ruby/pull/417</a></p>
</dd></dl>

<h3 id="label-Tue+Oct++8+04-3A28-3A25+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Oct  8 04:28:25 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-mode.el
<dd>
<p>Use preceding-char/following-char</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Oct++8+04-3A12-3A45+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Oct  8 04:12:45 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el (ruby-mode-set-encoding)
<dd>
<p>Add a missing else clause to unbreak with `cp932`, etc.</p>
</dd><dt>misc/ruby-mode.el (ruby-mode-set-encoding)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+03-3A57-3A34+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Oct  8 03:57:34 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el (ruby-mode-set-encoding)
<dd>
<p>Use `default-buffer-file-coding-system` if the :prefer-utf-8 property is
not available.</p>
</dd><dt>misc/ruby-mode.el (ruby-mode-set-encoding)
<dd>
<p>Ditto.</p>
</dd><dt>misc/ruby-additional.el (ruby-encoding-map)
<dd>
<p>Override the default value.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+03-3A19-3A19+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Oct  8 03:19:19 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el (ruby-mode-set-encoding)
<dd>
<p>Add support for `prefer-utf-8` which was introduced in Emacs trunk.</p>
</dd><dt>misc/ruby-additional.el (ruby-encoding-map)
<dd>
<p>Add a mapping from `japanese-cp932` to `cp932` to fix the problem where
saving a source file written in Shift_JIS twice would end up having
`coding: japanese-cp932` which Ruby could not recognize.</p>
</dd><dt>misc/ruby-additional.el (ruby-mode-set-encoding)
<dd>
<p>Add support for encodings mapped to nil in `ruby-encoding-map`.</p>
</dd><dt>misc/ruby-additional.el (ruby-encoding-map)
<dd>
<p>Map `us-ascii` and `utf-8` to nil by default, meaning they need not be
explicitly declared in magic comment.</p>
</dd><dt>misc/ruby-additional.el (ruby-encoding-map)
<dd>
<p>Add type declaration for better customize UI.</p>
</dd><dt>misc/ruby-mode.el
<dd>
<p>Ditto for the above.</p>
</dd></dl>

<h3 id="label-Tue+Oct++8+00-3A14-3A53+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Oct  8 00:14:53 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el
<dd>
<p>Add a standard header and footer, including (provide &#39;ruby-additional).</p>
</dd></dl>

<h2 id="label-2013-10-07">2013-10-07</h2>

<h3 id="label-Mon+Oct++7+22-3A52-3A45+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Oct  7 22:52:45 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-space-can-be-expanded-p)
<dd>
<p>Return nil to avoid “end” insertion when in smartparens-mode that is
configured to insert “end” for the same keyword.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-keywords)
<dd>
<p>New custom variable to replace `ruby-electric-simple-keywords-re` with.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+22-3A52-3A16+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Oct  7 22:52:16 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el
<dd>
<p>Use preceding-char/following-char</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Oct++7+22-3A45-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  7 22:45:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (FIBER_USE_NATIVE)
<dd>
<p>split long conditions.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+20-3A29-3A31+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Oct  7 20:29:31 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>[DOC] typo in Time.rb overview by @srt32 [Fixes GH-416] <a
href="https://github.com/ruby/ruby/pull/416">github.com/ruby/ruby/pull/416</a></p>
</dd></dl>

<h3 id="label-Mon+Oct++7+20-3A07-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct  7 20:07:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.strptime)
<dd>
<p>Use :offset. Patch by Felipe Contreras.  [ruby-core:57694]</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+16-3A47-3A27+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct  7 16:47:27 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/debug/test_profile_frames.rb
<dd>
<p>rename class C to something long name because one test depends on absence
of class ::C.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+16-3A33-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct  7 16:33:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/debug/profile_frames.c
<dd>
<p>test/-ext-/debug/test_profile_frames.rb: add a test for new C-APIs.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+16-3A12-3A36+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct  7 16:12:36 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/debug.h
<dd>
<p>add backtrace collecting APIs for profiler. * int rb_profile_frames(int
start, int limit, VALUE *buff, int *lines); Collect information of frame
information. * VALUE rb_profile_frame_path(VALUE frame); * VALUE
rb_profile_frame_absolute_path(VALUE frame); * VALUE
rb_profile_frame_label(VALUE frame); * VALUE
rb_profile_frame_base_label(VALUE frame); * VALUE
rb_profile_frame_first_lineno(VALUE frame); * VALUE
rb_profile_frame_classpath(VALUE frame); * VALUE
rb_profile_frame_singleton_method_p(VALUE frame); Get information about
each frame. These APIs are designed for profilers, for example, no object
allocation, and enough information for profilers. In this version, this API
collects only Ruby level frames. This issue will be fixed after Ruby 2.1.</p>
</dd><dt>vm_backtrace.c
<dd>
<p>implement above APIs.</p>
</dd><dt>iseq.c (rb_iseq_klass)
<dd>
<p>return local_iseq&#39;s class.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+14-3A26-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct  7 14:26:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>catch up last commit. Type of return value of rb_iseq_first_lineno() is now
VALUE.</p>
</dd><dt>vm_insnhelper.c (argument_error)
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Oct++7+14-3A07-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct  7 14:07:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c, internal.h
<dd>
<p>change to public (but internal) functions * VALUE rb_iseq_path(VALUE
iseqval); * VALUE rb_iseq_absolute_path(VALUE iseqval); * VALUE
rb_iseq_label(VALUE iseqval); * VALUE rb_iseq_base_label(VALUE iseqval); *
VALUE rb_iseq_first_lineno(VALUE iseqval); And new (temporary) function: *
VALUE rb_iseq_klass(VALUE iseqval);</p>
</dd><dt>iseq.c. vm_core.h (int rb_iseq_first_lineno)
<dd>
<p>remove function `int rb_iseq_first_lineno(const rb_iseq_t *iseq)&#39;. Use
`VALUE rb_iseq_first_lineno(VALUE iseqval)&#39; instead.</p>
</dd><dt>proc.c. vm_insnhelper.c, vm_method.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h2 id="label-2013-10-06">2013-10-06</h2>

<h3 id="label-Sun+Oct++6+08-3A37-3A39+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Oct  6 08:37:39 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick.rb
<dd>
<p>[DOC] fix grammar in <a href="../../classes/WEBrick.html">WEBrick</a>
overview [Fixes GH-413] Based on patch by @chastell <a
href="https://github.com/ruby/ruby/pull/413">github.com/ruby/ruby/pull/413</a></p>
</dd></dl>

<h2 id="label-2013-10-05">2013-10-05</h2>

<h3 id="label-Sat+Oct++5+11-3A21-3A01+2013++Aaron+Pfeifer++-3Caaron.pfeifer-40gmail.com-3E">Sat Oct  5 11:21:01 2013  Aaron Pfeifer  &lt;aaron.pfeifer@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (terminate_atfork_i)
<dd>
<p>fix locking mutexes not unlocked in forks when not tracked in thread. 
[ruby-core:55102] [Bug #8433]</p>
</dd></dl>

<h2 id="label-2013-10-04">2013-10-04</h2>

<h3 id="label-Fri+Oct++4+19-3A54-3A09+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Oct  4 19:54:09 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dbm/dbm.c
<dd>
<p>[DOC] Fix wrong constant name in <a href="../../classes/DBM.html">DBM</a>
by @edward [Fixes GH-409] <a
href="https://github.com/ruby/ruby/pull/409">github.com/ruby/ruby/pull/409</a></p>
</dd></dl>

<h3 id="label-Fri+Oct++4+19-3A49-3A42+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Oct  4 19:49:42 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename heap.free_num as heap.swept_num to clarify meaning and avoid
confusion with objspace_free_num().</p>
</dd></dl>

<h3 id="label-Fri+Oct++4+19-3A02-3A01+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Oct  4 19:02:01 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_free_num)
<dd>
<p>new method for available/free slots on heap. [ruby-core:57633] [Bug #8983]</p>
</dd><dt>gc.c (gc_stat)
<dd>
<p>change heap_free_num definition to use new method.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Fri+Oct++4+18-3A53-3A42+2013++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Oct  4 18:53:42 2013  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add rb_objspace.limit to keep accurate count of total heap slots
[ruby-core:57633] [Bug #8983]</p>
</dd></dl>

<h3 id="label-Fri+Oct++4+09-3A32-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct  4 09:32:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb (CSV.foreach)
<dd>
<p>support enumerator.  based on a patch by Hanmac (Hans Mackowiak) at
[ruby-core:57643].  [ruby-core:57283] [Feature #8929]</p>
</dd></dl>

<h2 id="label-2013-10-03">2013-10-03</h2>

<h3 id="label-Thu+Oct++3+18-3A20-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct  3 18:20:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (console_emulator_p, constat_handle)
<dd>
<p>disable built-in console colorizing when console-emulator-like DLL is
injected. [Feature #8201]</p>
</dd></dl>

<h3 id="label-Thu+Oct++3+18-3A01-3A44+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct  3 18:01:44 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>define gc_profile_record::allocated_size if CALC_EXACT_MALLOC_SIZE is true.</p>
</dd></dl>

<h3 id="label-Thu+Oct++3+13-3A42-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct  3 13:42:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (yes-test-sample)
<dd>
<p>use RUNRUBY instead of MINIRUBY to set runtime library path and run the
built ruby.  [Bug #8971]</p>
</dd></dl>

<h3 id="label-Thu+Oct++3+00-3A17-3A15+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Oct  3 00:17:15 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-additional.el
<dd>
<p>Properly quote the body.  An unquoted body given to eval-after-load is
evaluated immediately!</p>
</dd></dl>

<h2 id="label-2013-10-02">2013-10-02</h2>

<h3 id="label-Wed+Oct++2+21-3A38-3A30+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Wed Oct  2 21:38:30 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ifaddr.c (rsock_getifaddrs)
<dd>
<p>fix possible memory leak. When a system had no interface, this function
used xmalloc for root but did not return any reference to it.  This patch
fixes it by immediately returning an empty array if no interface is found.
Coverity Scan found this bug.</p>
</dd></dl>

<h3 id="label-Wed+Oct++2+21-3A37-3A04+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Wed Oct  2 21:37:04 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (make_seed_value)
<dd>
<p>a local array declaration was accessed out of scope.  Coverity Scan found
this bug.</p>
</dd></dl>

<h3 id="label-Wed+Oct++2+18-3A52-3A40+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct  2 18:52:40 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>relax <a href="../../classes/GC.html">GC</a> condition due to malloc_limit.</p>
</dd><dt>gc.c (GC_MALLOC_LIMIT_MAX)
<dd>
<p>change default value</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (vm_malloc_increase, vm_xrealloc)
<dd>
<p>do not cause <a href="../../classes/GC.html">GC</a> on realloc.</p>
</dd><dt>gc.c (gc_before_sweep)
<dd>
<p>change debug messages.</p>
</dd></dl>

<h3 id="label-Wed+Oct++2+16-3A26-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  2 16:26:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_close_read)
<dd>
<p>duplex <a href="../../classes/IO.html">IO</a> should wait its child process
even after close_read.</p>
</dd></dl>

<h3 id="label-Wed+Oct++2+15-3A39-3A13+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Oct  2 15:39:13 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>use __has_attribute() instead of __clang__major__ because clang says “Note
that marketing version numbers should not be used to check for language
features, as different vendors use different numbering schemes. Instead,
use the Feature Checking Macros.” <a
href="http://clang.llvm.org/docs/LanguageExtensions.html">clang.llvm.org/docs/LanguageExtensions.html</a></p>
</dd></dl>

<h3 id="label-Wed+Oct++2+14-3A19-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  2 14:19:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_close_write)
<dd>
<p>detach tied <a href="../../classes/IO.html">IO</a> for writing before
closing to get rid of race condition.  [ruby-list:49598]</p>
</dd><dt>io.c (rb_io_close_read)
<dd>
<p>keep fptr in write_io to be discarded, to fix freed pointer access when it
is in use by other threads, and get rid of potential memory/fd leak.</p>
</dd></dl>

<h2 id="label-2013-10-01">2013-10-01</h2>

<h3 id="label-Tue+Oct++1+23-3A44-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Oct  1 23:44:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>use __attribute__((unused)) in UNINITIALIZED_VAR on clang 4.0+ instead of
just on 4.2. Clang has supported the unused attribute since before version
4, so this should be safe.</p>
</dd></dl>

<h3 id="label-Tue+Oct++1+22-3A03-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  1 22:03:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile#unlink)
<dd>
<p>finalizer is no longer needed after unlinking.  patched by by normalperson
(Eric Wong) at [ruby-core:56521] [Bug #8768]</p>
</dd></dl>

<h3 id="label-Tue+Oct++1+20-3A54-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  1 20:54:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (stat_new_0)
<dd>
<p>constify.</p>
</dd><dt>file.c (rb_stat_new)
<dd>
<p>constify and export.  based on a patch by Hanmac (Hans Mackowiak) at
[ruby-core:53225].  [Feature #8050]</p>
</dd></dl>

<h3 id="label-Tue+Oct++1+16-3A03-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  1 16:03:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (ruby_safe_level_4_warning)
<dd>
<p>needed by extension libraries which check safe level 4.  [ruby-dev:47517]
[Bug #8652]</p>
</dd></dl>

<h2 id="label-2013-09-30">2013-09-30</h2>

<h3 id="label-Mon+Sep+30+23-3A14-3A36+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Sep 30 23:14:36 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>[DOC] Cleaned up many rdoc formatting issues and several duplicate grammar
bugs.</p>
</dd></dl>

<h3 id="label-Mon+Sep+30+23-3A01-3A01+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Sep 30 23:01:01 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>[DOC] Adjust rdoc formatting and fix small grammar typo</p>
</dd></dl>

<h3 id="label-Mon+Sep+30+17-3A28-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep 30 17:28:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>[DOC] add some notes for <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations">ObjectSpace.trace_object_allocations</a>.</p>
</dd></dl>

<h3 id="label-Mon+Sep+30+16-3A46-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep 30 16:46:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>add new 3 methods to control tracing. * <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations_start">ObjectSpace.trace_object_allocations_start</a>
* <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations_stop">ObjectSpace.trace_object_allocations_stop</a>
* <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations_clear">ObjectSpace.trace_object_allocations_clear</a>
And some refactoring.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test for new methods.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add a description for new methods.</p>
</dd></dl>

<h3 id="label-Mon+Sep+30+11-3A18-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep 30 11:18:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_disable)
<dd>
<p>do rest_sweep() before disable <a href="../../classes/GC.html">GC</a>. This
fix may solve a failure of TestTracepointObj#test_tracks_objspace_events
[test/-ext-/tracepoint/test_tracepoint.rb:43].</p>
</dd></dl>

<h3 id="label-Mon+Sep+30+10-3A40-3A20+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Sep 30 10:40:20 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_undef)
<dd>
<p>raise a <a href="../../classes/NameError.html">NameError</a> if the
original method of a refined method is not defined.</p>
</dd><dt>vm_insnhelper.c (rb_method_entry_eq)
<dd>
<p>added NULL check to avoid SEGV.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd></dl>

<h2 id="label-2013-09-29">2013-09-29</h2>

<h3 id="label-Sun+Sep+29+23-3A45-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 29 23:45:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_id_attrset, intern_str)
<dd>
<p>allow junk attrset ID for <a href="../../classes/Struct.html">Struct</a>.</p>
</dd><dt>parse.y (rb_id_attrset)
<dd>
<p>fix inconsistency with literals, allow ID_ATTRSET and return it itself, but
ID_JUNK cannot make ID_ATTRSET. and raise a <a
href="../../classes/NameError.html">NameError</a> instead of rb_bug() for
invalid argument.</p>
</dd></dl>

<h3 id="label-Sun+Sep+29+18-3A45-3A05+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Sep 29 18:45:05 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_arg_complex, vm_yield_setup_block_args)
<dd>
<p>clear keyword arguments to prevent <a href="../../classes/GC.html">GC</a>
bug which occurs while marking VM stack. [ruby-dev:47729] [Bug #8964]</p>
</dd><dt>test/ruby/test_keyword.rb
<dd>
<p>tests for the above.</p>
</dd></dl>

<h2 id="label-2013-09-28">2013-09-28</h2>

<h3 id="label-Sat+Sep+28+23-3A25-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 28 23:25:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_log, math_log2, math_log10)
<dd>
<p>fix for <a href="../../classes/Bignum.html">Bignum</a> argument. numbits
should be add only when right shifted.</p>
</dd></dl>

<h3 id="label-Sat+Sep+28+14-3A30-3A29+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Sep 28 14:30:29 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/dl/test_base.rb
<dd>
<p>{libc, libm} detection now handle GNU/Hurd correctly. Patch by Gabriele
Giacone (1o5g4r8o@gmail.com). [Bug #<a href="ruby-core:57311">8937]</a></p>
</dd><dt>test/fiddle/helper.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep+28+00-3A19-3A41+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 28 00:19:41 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/extconf.rb
<dd>
<p>check the size of chtype.</p>
</dd><dt>ext/curses/curses.c (NUM2CH, CH2NUM)
<dd>
<p>use proper macros for the size of chtype. [ruby-core:56090] [Bug #8659]</p>
</dd></dl>

<h2 id="label-2013-09-27">2013-09-27</h2>

<h3 id="label-Fri+Sep+27+18-3A33-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 27 18:33:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add two <a href="../../classes/GC.html">GC</a> tuning environment
variables. RUBY_GC_MALLOC_LIMIT_MAX and RUBY_GC_MALLOC_LIMIT_GROWTH_FACTOR.
See r43067 for details.</p>
</dd><dt>gc.c (rb_gc_set_params)
<dd>
<p>refactoring. And change verbose notation. Mostly duplicated functions
get_envparam_int/double is not cool. Please rewrite it.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>fix a test for this change.</p>
</dd></dl>

<h3 id="label-Fri+Sep+27+17-3A44-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 27 17:44:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (GC_MALLOC_LIMIT)
<dd>
<p>8,000,000 -&gt; 8 * 1,024 * 1,024.</p>
</dd></dl>

<h3 id="label-Fri+Sep+27+17-3A19-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 27 17:19:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_sweep)
<dd>
<p>cast to size_t to suppress warnings.</p>
</dd></dl>

<h3 id="label-Fri+Sep+27+17-3A07-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 27 17:07:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add some fine-grained profiling codes to tuning marking phase. If you
enable RGENGC_PRINT_TICK to 1, then profiling results by RDTSC</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Fri+Sep+27+16-3A32-3A27+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 27 16:32:27 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>simplify threshold of <a href="../../classes/GC.html">GC</a> caused by
malloc_increase. Now, malloc_limit is increased/decreased by mysterious
logic. This fix simplify malloc_limit increase/decrease logic such as: if
(malloc_increase &gt; malloc_limit) /* so many malloc */ malloc_limit +=
malloc_limit * (GC_MALLOC_LIMIT_FACTOR-1); else malloc_limit -=
malloc_limit * (GC_MALLOC_LIMIT_FACTOR-1)/4; Default value of
GC_MALLOC_LIMIT_FACTOR is 1.8. malloc_limit is bounded by
GC_MALLOC_LIMIT_MAX (256MB by default). This logic runs at
gc_before_sweep(). So there are no effect from caused by lazy sweep. And we
can remove malloc_increase2.</p>
</dd><dt>gc.c (HEAP_MIN_SLOTS, FREE_MIN, HEAP_GROWTH_FACTOR)
<dd>
<p>rename to GC_HEAP_MIN_SLOTS, GC_FREE_MIN, GC_HEAP_GROWTH_FACTOR
respectively. Check them by `#ifndef&#39; so you can specify these values
outside gc.c.</p>
</dd><dt>gc.c (ruby_gc_params_t)
<dd>
<p>add initial_malloc_limit_factor and initial_malloc_limit_max.</p>
</dd><dt>gc.c (vm_malloc_prepare, vm_xrealloc)
<dd>
<p>use vm_malloc_increase to add and check malloc_increase.</p>
</dd></dl>

<h3 id="label-Fri+Sep+27+01-3A05-3A00+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 27 01:05:00 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c
<dd>
<p>[DOC] arguments of <a
href="../../classes/Regexp.html#method-c-union">Regexp.union</a> receive
to_regexp [Bug #8205]</p>
</dd></dl>

<h3 id="label-Fri+Sep+27+00-3A39-3A27+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 27 00:39:27 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c
<dd>
<p>[DOC] grammar of <a
href="../../classes/ArgumentError.html">ArgumentError</a> in <a
href="../../classes/Struct.html#method-c-new">Struct.new</a> [Bug #8936]
Patch by Prathamesh Sonpatki</p>
</dd></dl>

<h2 id="label-2013-09-26">2013-09-26</h2>

<h3 id="label-Thu+Sep+26+22-3A11-3A56+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Sep 26 22:11:56 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>[DOC] several fixes by @chastell This includes fixing the capitalization of
Infinity, return value of example “BigDecimal.new(&#39;NaN&#39;) == 0.0”,
and code style in example. [Fixes GH-398] <a
href="https://github.com/ruby/ruby/pull/398">github.com/ruby/ruby/pull/398</a></p>
</dd></dl>

<h3 id="label-Thu+Sep+26+22-3A08-3A11+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Sep 26 22:08:11 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/observer.rb
<dd>
<p>[DOC] syntax improvement in example by @chastell [Fixes GH-400] <a
href="https://github.com/ruby/ruby/pull/400">github.com/ruby/ruby/pull/400</a></p>
</dd></dl>

<h3 id="label-Thu+Sep+26+22-3A03-3A15+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Sep 26 22:03:15 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/digest.c
<dd>
<p>[DOC] typo in overview by @chastell [Fixes GH-399] <a
href="https://github.com/ruby/ruby/pull/399">github.com/ruby/ruby/pull/399</a></p>
</dd></dl>

<h3 id="label-Thu+Sep+26+22-3A00-3A42+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Sep 26 22:00:42 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>[DOC] typo in example by @zoranzaric [Fixes GH-401] <a
href="https://github.com/ruby/ruby/pull/401">github.com/ruby/ruby/pull/401</a></p>
</dd></dl>

<h3 id="label-Thu+Sep+26+21-3A07-3A49+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Sep 26 21:07:49 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-delete-backward-char)
<dd>
<p>Add support for smartparens-mode.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-cua-replace-region-maybe, ruby-electric-cua-delete-region-maybe)
<dd>
<p>New functions that combine `ruby-electric-cua-*-region` with
`ruby-electric-cua-*-region-p`, using a slightly better way to detect if it
is in cua-mode.</p>
</dd></dl>

<h3 id="label-Thu+Sep+26+16-3A51-3A00+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Thu Sep 26 16:51:00 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_regexpmatch2)
<dd>
<p>Check String#=~ hasn&#39;t overridden before calling rb_reg_match().</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for above.</p>
</dd><dt>vm.c (vm_init_redefined_flag)
<dd>
<p>Add BOP flag for String#=~ [ruby-core:57385] [Bug #8953]</p>
</dd></dl>

<h3 id="label-Thu+Sep+26+16-3A43-3A42+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Sep 26 16:43:42 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Avoid use of the interactive function `self-insert-command` which fires
`post-self-insert-hook` and `post-command-hook`, to make the ruby-electric
commands work nicely with those minor modes that make use of them to do
similar input assistance, such as electric-pair-mode, autopair-mode and
smartparens-mode.</p>
</dd></dl>

<h3 id="label-Thu+Sep+26+16-3A24-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Sep 26 16:24:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_regexpmatch1)
<dd>
<p>check Regexp#=~ is not defined before calling rb_reg_match()</p>
</dd><dt>test/ruby/test_regexp.rb
<dd>
<p>add test</p>
</dd><dt>vm.c (ruby_vm_redefined_flag)
<dd>
<p>change type to short[]</p>
</dd><dt>vm.c (vm_redefinition_check_flag)
<dd>
<p>return REGEXP_REDEFINED_OP_FLAG if klass == rb_cRegexp</p>
</dd><dt>vm.c (vm_init_redefined_flag)
<dd>
<p>setup BOP flag for Regexp#=~</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>add REGEXP_REDEFINED_OP_FLAG [ruby-core:57385] [Bug #8953]</p>
</dd></dl>

<h3 id="label-Thu+Sep+26+14-3A46-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 26 14:46:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (mark_locations_array)
<dd>
<p>disable AddressSanitizer.  based on a patch by halfie (Ruby Guy) at
[ruby-core:57372]. [ruby-core:56155] [Bug #8680]</p>
</dd></dl>

<h2 id="label-2013-09-25">2013-09-25</h2>

<h3 id="label-Wed+Sep+25+17-3A41-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 25 17:41:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT, <a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>remove description of RARRAY_PTR() and add a caution of accessing internal
data structure directly. Also add a description of rb_ary_store(). [Bug
#8399]</p>
</dd></dl>

<h3 id="label-Wed+Sep+25+17-3A12-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 25 17:12:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>rename RARRAY_RAWPTR() to RARRAY_CONST_PTR(). RARRAY_RAWPTR(ary) returns
(const VALUE *) type pointer and usecase of this macro is not acquire raw
pointer, but acquire read-only pointer. So we rename to better name.
RSTRUCT_RAWPTR() is also renamed to RSTRUCT_CONST_PTR()</p>
</dd><dd>
<p></p>
</dd><dt>array.c, compile.c, cont.c, enumerator.c, gc.c, proc.c, random.c, string.c, struct.c, thread.c, vm_eval.c, vm_insnhelper.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Wed+Sep+25+16-3A58-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 25 16:58:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_float_value, rb_float_new)
<dd>
<p>move inline functions from ruby/ruby.h.</p>
</dd><dt>numeric.c (rb_float_value, rb_float_new)
<dd>
<p>define external functions for extension libraries.</p>
</dd></dl>

<h3 id="label-Wed+Sep+25+15-3A37-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 25 15:37:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rdoc/test_rdoc_generator_darkfish.rb
<dd>
<p>add a guard for windows.</p>
</dd></dl>

<h3 id="label-Wed+Sep+25+09-3A53-3A11+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Sep 25 09:53:11 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Fix CVE-2013-4363.  Miscellaneous minor improvements.</p>
</dd><dt>test/rubygems
<dd>
<p>Tests for the above.</p>
</dd></dl>

<h2 id="label-2013-09-24">2013-09-24</h2>

<h3 id="label-Tue+Sep+24+17-3A38-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 17:38:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_inspect)
<dd>
<p>get rid of out-of-bound access.</p>
</dd><dt>string.c (rb_str_inspect)
<dd>
<p>when a UTF-16/32 string doesn&#39;t have a BOM, inspect as a dummy encoding
string.</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+17-3A15-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 17:15:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/encdb.c (ENC_DUMMY_UNICODE)
<dd>
<p>make BOM-encodings dummy.</p>
</dd><dt>encoding.c (enc_autoload)
<dd>
<p>keep dummy encodings dummy.</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+16-3A41-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 16:41:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry#write)
<dd>
<p>data size is in bytes, not chars.  terminators should be placed
automatically.</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+16-3A39-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 16:39:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry#each_value)
<dd>
<p>encode name.</p>
</dd><dt>ext/win32/lib/win32/registry.rb (Win32::Registry#each_key)
<dd>
<p>ditto.</p>
</dd><dt>ext/win32/lib/win32/registry.rb (Win32::Registry#export_string)
<dd>
<p>encode to locale encoding if default internal is not set.</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+16-3A35-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 16:35:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::API#EnumKey)
<dd>
<p>size of the name is in WCHARs, not in bytes.</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+14-3A07-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Sep 24 14:07:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (free_method_cache_entry_i)
<dd>
<p>unused function</p>
</dd><dt>gc.c (rb_free_mc_table)
<dd>
<p>ditto</p>
</dd><dt>internal.h (method_cache_entry_t)
<dd>
<p>unused struct</p>
</dd><dt>vm_method.c (verify_method_cache)
<dd>
<p>remove unused variable</p>
</dd><dt>vm_method.c (rb_method_entry)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+14-3A01-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Sep 24 14:01:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (class_alloc)
<dd>
<p>remove mc_tbl</p>
</dd><dt>gc.c (obj_free)
<dd>
<p>ditto</p>
</dd><dt>internal.h (struct rb_classext_struct)
<dd>
<p>ditto</p>
</dd><dt>method.h (rb_method_entry)
<dd>
<p>remove ent param</p>
</dd><dt>vm_method.c
<dd>
<p>restore the global method cache. Per class cache tables turned out to be
far too slow. [ruby-core:57289] [Bug #8930]</p>
</dd></dl>

<h3 id="label-Tue+Sep+24+12-3A51-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 24 12:51:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::API)
<dd>
<p>need Constants.</p>
</dd><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::API#EnumValue)
<dd>
<p>size of the name is in WCHARs, not in bytes.</p>
</dd></dl>

<h2 id="label-2013-09-23">2013-09-23</h2>

<h3 id="label-Mon+Sep+23+22-3A16-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep 23 22:16:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/encdb.c, enc/utf_16_32.h (ENC_DUMMY_UNICODE)
<dd>
<p>Unicode with BOM must be based on big endian variants, so that actual
encodings would work.  [ruby-core:57318] [Bug #8940]</p>
</dd></dl>

<h3 id="label-Mon+Sep+23+12-3A11-3A26+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Sep 23 12:11:26 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_each_pair)
<dd>
<p>do not call rb_assoc_new() if it isn&#39;t needed.</p>
</dd></dl>

<h3 id="label-Mon+Sep+23+10-3A42-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep 23 10:42:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb (TestModule#test_include_toplevel)
<dd>
<p>test for top level main.include.  based on a part of the patch by kyrylo at
[GH-395].</p>
</dd></dl>

<h3 id="label-Mon+Sep+23+05-3A07-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep 23 05:07:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_ary_cat)
<dd>
<p>move from internal.h, since it is described in <a
href="../README_md.html">README</a>.EXT.</p>
</dd></dl>

<h2 id="label-2013-09-22">2013-09-22</h2>

<h3 id="label-Sun+Sep+22+20-3A55-3A20+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Sep 22 20:55:20 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_make_proc_with_iseq)
<dd>
<p>fix bug message. This is follow up to changes in r42637.</p>
</dd></dl>

<h3 id="label-Sun+Sep+22+20-3A35-3A38+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Sep 22 20:35:38 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/tracepoint/tracepoint.c (Init_tracepoint)
<dd>
<p>prevent from <a href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Sun+Sep+22+19-3A00-3A28+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Sep 22 19:00:28 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_answer.rb
<dd>
<p>revert r42990, benchmark scripts should be self-contained and avoid
dependencies, especially such small one. See <a
href="https://github.com/ruby/ruby/pull/393#issuecomment-24861301">github.com/ruby/ruby/pull/393#issuecomment-24861301</a>.</p>
</dd></dl>

<h2 id="label-2013-09-21">2013-09-21</h2>

<h3 id="label-Sat+Sep+21+20-3A11-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 21 20:11:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_fork_internal)
<dd>
<p>remove cloexec setting on pipes created by rb_cloexec_pipe.  patch by
normalperson (Eric Wong) at [ruby-core:56523].  [Bug #8769]</p>
</dd></dl>

<h3 id="label-Sat+Sep+21+01-3A04-3A25+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Sep 21 01:04:25 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>[DOC] grammar of Benchmark#bm [Bug #8888] Patch by Prathamesh Sonpatki</p>
</dd></dl>

<h3 id="label-Sat+Sep+21+00-3A50-3A02+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Sep 21 00:50:02 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c
<dd>
<p>[DOC] <a
href="../../classes/Enumerator.html#method-i-each">Enumerator#each</a>
arguments documentation [GH-388] Patch by @kachick  <a
href="https://github.com/ruby/ruby/pull/388">github.com/ruby/ruby/pull/388</a></p>
</dd></dl>

<h3 id="label-Sat+Sep+21+00-3A49-3A16+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Sep 21 00:49:16 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>[DOC] <a
href="../../classes/Enumerable.html#method-i-to_a">Enumerable#to_a</a>
accepts arguments [GH-388] Patch by @kachick <a
href="https://github.com/ruby/ruby/pull/388">github.com/ruby/ruby/pull/388</a></p>
</dd></dl>

<h3 id="label-Sat+Sep+21+00-3A47-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 21 00:47:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_conv_enc_opts)
<dd>
<p>make sure to scan coderange to get rid of unnecessary conversion.</p>
</dd></dl>

<h3 id="label-Sat+Sep+21+00-3A21-3A08+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Sep 21 00:21:08 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb
<dd>
<p>[DOC] Document OpenSSL::SSLServer Based on a patch by Rafal Lisowski [Bug
#8758]</p>
</dd></dl>

<h2 id="label-2013-09-20">2013-09-20</h2>

<h3 id="label-Fri+Sep+20+23-3A54-3A03+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 20 23:54:03 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/gserver.rb
<dd>
<p>[DOC] correct gserver.rb license [Bug #8913]</p>
</dd></dl>

<h3 id="label-Fri+Sep+20+23-3A48-3A34+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 20 23:48:34 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/yaml/yaml.h
<dd>
<p>[DOC] merge upstream typo fix by @GreenGeorge <a
href="https://github.com/tenderlove/psych/pull/161">github.com/tenderlove/psych/pull/161</a></p>
</dd></dl>

<h3 id="label-Fri+Sep+20+23-3A37-3A40+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 20 23:37:40 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>[DOC] SecureRandom.hex length argument [Fixes GH-394] Patch by @avdi <a
href="https://github.com/ruby/ruby/pull/394">github.com/ruby/ruby/pull/394</a></p>
</dd></dl>

<h3 id="label-Fri+Sep+20+23-3A34-3A48+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Sep 20 23:34:48 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_answer.rb
<dd>
<p>removed duplicate code [Fixes GH-393] Patch by @gouravtiwari <a
href="https://github.com/ruby/ruby/pull/393">github.com/ruby/ruby/pull/393</a></p>
</dd></dl>

<h3 id="label-Fri+Sep+20+23-3A24-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 20 23:24:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (btest, btest-ruby, test-knownbug)
<dd>
<p>add $(RUN_OPTS) to ruby to be run, so that tests are runnable before making
exts.</p>
</dd><dt>common.mk (test-sample)
<dd>
<p>ditto, and use $(MINIRUBY) as rubytest.rb does not need extension
libraries.</p>
</dd><dt>tool/rubytest.rb
<dd>
<p>pass $(RUN_OPTS) to testing ruby using –run-opt.</p>
</dd></dl>

<h3 id="label-Fri+Sep+20+15-3A01-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 20 15:01:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (intern_str)
<dd>
<p>sigil only names are junk, at least one identifier character is needed. 
[ruby-dev:47723] [Bug #8928]</p>
</dd><dt>parse.y (rb_enc_symname_type)
<dd>
<p>fix out of bound access.</p>
</dd></dl>

<h3 id="label-Fri+Sep+20+14-3A14-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep 20 14:14:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/printf/printf.c (printf_test_call)
<dd>
<p>Fix an end of buffer argument.</p>
</dd></dl>

<h2 id="label-2013-09-19">2013-09-19</h2>

<h3 id="label-Thu+Sep+19+16-3A59-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 19 16:59:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (lambda)
<dd>
<p>adjust position to the beginning of the block.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+16-3A25-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 19 16:25:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vsnprintf.c (BSD_vfprintf)
<dd>
<p>initialize cp so that size is 0 in the commented case.  fix an accidental
bug at r16716.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+14-3A33-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 19 14:33:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add a news for r42974.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+14-3A12-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 19 14:12:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>make <a href="../../classes/Symbol.html">Symbol</a> objects frozen.
[Feature #8906] I want to freeze this good day, too.</p>
</dd><dt>test/ruby/test_eval.rb
<dd>
<p>catch up this change.</p>
</dd><dt>test/ruby/test_symbol.rb
<dd>
<p>add a test to check frozen symbols.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+09-3A11-3A33+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep 19 09:11:33 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Update for <a href="../../classes/RDoc.html">RDoc</a> 4.1.0.preview.1 and
RubyGems 2.2.0.preview.1</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+08-3A59-3A41+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep 19 08:59:41 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/markdown/literals_1_9.rb
<dd>
<p>Fix trailing whitespace. Previously kpeg (which generates this file) added
trailing whitespace, but this bug is now fixed.</p>
</dd><dt>lib/rdoc/markdown.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+08-3A33-3A14+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep 19 08:33:14 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 4.1.0.preview.1 <a
href="../../classes/RDoc.html">RDoc</a> 4.1.0 contains a number of
enhancements including a new default style and accessibility support.  You
can see the changelog here: <a
href="https://github.com/rdoc/rdoc/blob/v4.1.0.preview.1/History.rdoc">github.com/rdoc/rdoc/blob/v4.1.0.preview.1/History.rdoc</a></p>
</dd><dt>test/rdoc
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+07-3A16-3A26+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Sep 19 07:16:26 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>updating <a href="../../classes/Psych.html">Psych</a> version</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+06-3A39-3A40+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep 19 06:39:40 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/dependency_resolver.rb
<dd>
<p>Switch the iterative resolver algorithm from recursive to iterative to
avoid possible <a
href="../../classes/SystemStackError.html">SystemStackError</a>.</p>
</dd></dl>

<h3 id="label-Thu+Sep+19+06-3A29-3A30+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep 19 06:29:30 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.2.0.preview.1 This brings several new features to
RubyGems summarized here: <a
href="https://github.com/rubygems/rubygems/blob/v2.2.0.preview.1/History.txt">github.com/rubygems/rubygems/blob/v2.2.0.preview.1/History.txt</a></p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-09-18">2013-09-18</h2>

<h3 id="label-Wed+Sep+18+23-3A14-3A58+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Sep 18 23:14:58 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_enumerate_lines)
<dd>
<p>make <a
href="../../classes/String.html#method-i-each_line">String#each_line</a>
and lines not raise invalid byte sequence error when it is called with an
argument. The patch also causes performance improvement. [ruby-dev:47549]
[Bug #8698]</p>
</dd><dt>test/ruby/test_m17n_comb.rb (test_str_each_line)
<dd>
<p>remove assertions which check that <a
href="../../classes/String.html#method-i-each_line">String#each_line</a>
and lines will raise an error if the receiver includes invalid byte
sequence.</p>
</dd></dl>

<h3 id="label-Wed+Sep+18+16-3A32-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 18 16:32:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew_from_me)
<dd>
<p>allocate structs after allocated wrapper object successfully, to get rid of
potential memory leak.</p>
</dd></dl>

<h2 id="label-2013-09-17">2013-09-17</h2>

<h3 id="label-Tue+Sep+17+15-3A54-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 17 15:54:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shell/command-processor.rb (Shell::CommandProcessor#find_system_command)
<dd>
<p>return executable file only, should ignore directories and unexecutable
files.  [ruby-core:57235] [Bug #8918]</p>
</dd><dt>lib/test/unit/assertions.rb (Test::Unit::Assertions#assert_throw)
<dd>
<p>assertion for throw.  MiniTest::Assertions#assert_throws discards the
caught value.</p>
</dd><dt>lib/test/unit/assertions.rb (Test::Unit::Assertions#assert_nothing_thrown)
<dd>
<p>returns the result of the given block.</p>
</dd></dl>

<h3 id="label-Tue+Sep+17+12-3A55-3A58+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Sep 17 12:55:58 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>[DOC] Replace paragraphs in verbatim sections with plain paragraphs to
improve readability as ri and HTML.</p>
</dd></dl>

<h2 id="label-2013-09-16">2013-09-16</h2>

<h3 id="label-Mon+Sep+16+07-3A32-3A35+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Mon Sep 16 07:32:35 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c
<dd>
<p>removed meaningless lines.</p>
</dd><dt>rational.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Sep+16+00-3A44-3A23+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Sep 16 00:44:23 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb
<dd>
<p>define MSG_FASTOPEN. [ruby-core:57138] [Feature #8897]</p>
</dd></dl>

<h2 id="label-2013-09-15">2013-09-15</h2>

<h3 id="label-Sun+Sep+15+13-3A31-3A23+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sun Sep 15 13:31:23 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (nurat_div)
<dd>
<p>reverted r28844, r28886 and r28887. REASON: Nobuyoshi Nakada 
&lt;nobu@ruby-lang.org&gt;&#39;s commits are buggy. So Rational#/ may
produce exact number with inexact number. Moreover, without reducing.
REALLY NONSENSE COMMITS. A bug report by me [ruby-dev:44710] is also caused
by this behavior. Kenta Murata  &lt;mrkn@mrkn.jp&gt; patched it up. But he
did not fix the origin. Today, the bug is still alive in ruby 1.9.3 and
2.0.0.</p>
</dd></dl>

<h2 id="label-2013-09-14">2013-09-14</h2>

<h3 id="label-Sat+Sep+14+06-3A08-3A10+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Sep 14 06:08:10 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_s_glob)
<dd>
<p>[DOC] Improve wording and layout.</p>
</dd><dt>dir.c (file_s_fnmatch)
<dd>
<p>ditto.</p>
</dd><dt>dir.c (Init_Dir)
<dd>
<p>[DOC] Document File::Constants::FNM_XXX constants.  (These won&#39;t show
up in <a href="../../classes/RDoc.html">RDoc</a> until a new <a
href="../../classes/RDoc.html">RDoc</a> is imported.)</p>
</dd></dl>

<h2 id="label-2013-09-13">2013-09-13</h2>

<h3 id="label-Fri+Sep+13+10-3A40-3A28+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Sep 13 10:40:28 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.1.3 Fixed installing platform gems Restored concurrent
requires Fixed installing gems with extensions with –install-dir Fixed `gem
fetch -v` to install the latest version Fixed installing gems with “./” in
their files entries</p>
</dd><dt>test/rubygems/test_gem_package.rb
<dd>
<p>Tests for the above.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Updated for RubyGems 2.1.3</p>
</dd></dl>

<h2 id="label-2013-09-12">2013-09-12</h2>

<h3 id="label-Thu+Sep+12+14-3A58-3A58+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Sep 12 14:58:58 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic.find_proxy)
<dd>
<p>return nil if http_proxy environment variable is empty string.
[ruby-core:57140] [Bug #8898]</p>
</dd></dl>

<h3 id="label-Thu+Sep+12+22-3A40-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 12 22:40:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_CHECK_SIGNEDNESS)
<dd>
<p>macro to check signedness of a type.</p>
</dd><dt>configure.in (size_t)
<dd>
<p>must be unsigned. [ruby-core:57149] [Feature #8890]</p>
</dd></dl>

<h3 id="label-Thu+Sep+12+22-3A37-3A08+2013++Anton+Ovchinnikov++-3Crevolver112-40gmail.com-3E">Thu Sep 12 22:37:08 2013  Anton Ovchinnikov  &lt;revolver112@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c, ext/digest/md5/md5.c, ext/json/fbuffer/fbuffer.h, ext/json/generator/generator.c
<dd>
<p>Eliminate less-than-zero checks for unsigned variables. According to
section 4.1.5 of C89 standard, size_t is an unsigned type.  These checks
were found with &#39;cppcheck&#39; static analysis tool. [ruby-core:57117]
[Feature #8890]</p>
</dd></dl>

<h3 id="label-Thu+Sep+12+21-3A35-3A46+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Sep 12 21:35:46 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (libruby-static.a)
<dd>
<p>change LDFLAGS order. LDFLAGS may include library path that should be
specified before LIBS. [ruby-dev:47707] [Bug #8901]</p>
</dd></dl>

<h3 id="label-Thu+Sep+12+20-3A07-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 12 20:07:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vsnprintf.c (MAXEXP, MAXFRACT)
<dd>
<p>calculate depending on constants in float.h.</p>
</dd><dt>vsnprintf.c (BSD_vfprintf)
<dd>
<p>limit length for cvt() to get rid of buffer overflow.  [ruby-core:57023]
[Bug #8864]</p>
</dd><dt>vsnprintf.c (exponent)
<dd>
<p>make expbuf size more precise.</p>
</dd></dl>

<h2 id="label-2013-09-11">2013-09-11</h2>

<h3 id="label-Wed+Sep+11+17-3A30-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 11 17:30:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUNRUBY)
<dd>
<p>append – only after runruby.rb, not cross-compiling baseruby, so that
$(RUN_OPT) can be command line options.  [ruby-dev:47703] [Bug #8893]</p>
</dd></dl>

<h3 id="label-Wed+Sep+11+07-3A55-3A17+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Sep 11 07:55:17 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_mutex_unlock)
<dd>
<p>Mutex#unlock no longer raise an exception even if uses on trap. [Bug #8891]</p>
</dd></dl>

<h2 id="label-2013-09-10">2013-09-10</h2>

<h3 id="label-Tue+Sep+10+14-3A37-3A01+2013++Shota+Fukumori++-3Csorah-40tubusu.net-3E">Tue Sep 10 14:37:01 2013  Shota Fukumori  &lt;sorah@tubusu.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c (vm_backtrace_to_ary)
<dd>
<p>Ignore the second argument if it is nil. [Bug #8884] [ruby-core:57094]</p>
</dd><dt>test/ruby/test_backtrace.rb (test_caller_with_nil_length)
<dd>
<p><a href="../../classes/Test.html">Test</a> for above.</p>
</dd></dl>

<h3 id="label-Tue+Sep+10+12-3A39-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 10 12:39:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (method_entry_i)
<dd>
<p>should exclude refined methods from instance method list. 
[ruby-core:57080] [Bug #8881]</p>
</dd></dl>

<h3 id="label-Tue+Sep+10+12-3A05-3A04+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Sep 10 12:05:04 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_f_printf)
<dd>
<p>[DOC] add missing parenthesis in rdoc.</p>
</dd></dl>

<h3 id="label-Tue+Sep+10+10-3A08-3A00+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Sep 10 10:08:00 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Update RubyGems note.</p>
</dd></dl>

<h3 id="label-Tue+Sep+10+09-3A51-3A22+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Sep 10 09:51:22 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.1.0.  Fixes CVE-2013-4287. See <a
href="http://rubygems.rubyforge.org/rubygems-update/CVE-2013-4287_txt.html">rubygems.rubyforge.org/rubygems-update/CVE-2013-4287_txt.html</a>
for CVE information. See <a
href="http://rubygems.rubyforge.org/rubygems-update/History_txt.html#label-2.1.0+%2F+2013-09-09">rubygems.rubyforge.org/rubygems-update/History_txt.html#label-2.1.0+%2F+2013-09-09</a>
for release notes.</p>
</dd><dt>test/rubygems
<dd>
<p>Tests for the above.</p>
</dd></dl>

<h2 id="label-2013-09-09">2013-09-09</h2>

<h3 id="label-Mon+Sep++9+21-3A31-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  9 21:31:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Remove spaces between SI prefix and unit to follow SI brochure. <a
href="http://www.bipm.org/en/si/si_brochure">www.bipm.org/en/si/si_brochure</a>/
<a
href="https://www.nmij.jp/library/units/si">www.nmij.jp/library/units/si</a>/</p>
</dd><dt>time.c
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/ancdata.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Sep++9+16-3A55-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  9 16:55:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_add_refined_method_entry)
<dd>
<p>clear cache in the refined class since refining a method entry is modifying
the class. [ruby-core:57079] [Bug #8880]</p>
</dd></dl>

<h3 id="label-Mon+Sep++9+09-3A14-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  9 09:14:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (Gem::Specification#initialize)
<dd>
<p>default date to RUBY_RELEASE_DATE.  [ruby-core:57072] [Bug #8878]</p>
</dd><dt>tool/rbinstall.rb (Gem::Specification#to_ruby)
<dd>
<p>add date.</p>
</dd></dl>

<h2 id="label-2013-09-08">2013-09-08</h2>

<h3 id="label-Sun+Sep++8+16-3A01-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  8 16:01:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (f_gcd)
<dd>
<p>Relax the condition to use GMP.</p>
</dd></dl>

<h3 id="label-Sun+Sep++8+13-3A56-3A38+2013++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Sep  8 13:56:38 2013  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (folevariant_initialize)
<dd>
<p>check type of element of array.</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb (test_s_new_ary)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-09-07">2013-09-07</h2>

<h3 id="label-Sat+Sep++7+21-3A33-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  7 21:33:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_log)
<dd>
<p><a href="../../classes/Test.html">Test</a> the sign for bignums.</p>
</dd><dt>(math_log2)
<dd>
<p>Ditto.</p>
</dd><dt>(math_log10)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep++7+20-3A25-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  7 20:25:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_log)
<dd>
<p>Support bignums bigger than 2**1024.</p>
</dd><dt>(math_log2)
<dd>
<p>Ditto.</p>
</dd><dt>(math_log10)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep++7+15-3A36-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Sep  7 15:36:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call0)
<dd>
<p>fix prototype, the id parameter should be of type ID, not VALUE</p>
</dd><dt>vm_insnhelper.c (check_match)
<dd>
<p>the rb_funcall family of functions does not care about refinements. We need
to use rb_method_entry_with_refinements instead to call === with
refinements. Thanks to Jon Conley for reporting this bug. [ruby-core:57051]
[Bug #8872]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Sat+Sep++7+13-3A49-3A40+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Sep  7 13:49:40 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (classname)
<dd>
<p>the name of class that has non class id should not be nil. This bug was
introduced in r36577.</p>
</dd><dt>test/thread/test_cv.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h3 id="label-Sat+Sep++7+13-3A29-3A22+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Sep  7 13:29:22 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/find.rb (Find.find)
<dd>
<p>respect the encodings of arguments. [ruby-dev:47530] [Feature #8657]</p>
</dd><dt>test/test_find.rb
<dd>
<p>add tests.</p>
</dd></dl>

<h3 id="label-Sat+Sep++7+10-3A40-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  7 10:40:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb (TCP_FASTOPEN)
<dd>
<p>Defined for TCP fast open. [ruby-core:57048] [Feature #8871] patch by
Masaki Matsushita.</p>
</dd></dl>

<h2 id="label-2013-09-06">2013-09-06</h2>

<h3 id="label-Fri+Sep++6+23-3A53-3A31+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Sep  6 23:53:31 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>use RUNRUBY instead of MINIRUBY because MINIRUBY can&#39;t require
extension libraries. The patch is from nobu</p>
</dd><dd>
<p></p>
</dd><dt>ext/thread/extconf.rb
<dd>
<p>for build ext/thread/thread.c.</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>ditto.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd><dt>lib/thread.rb
<dd>
<p>removed and replaced by ext/thread/thread.c.</p>
</dd><dt>ext/thread/thread.c
<dd>
<p><a href="../../classes/Queue.html">Queue</a>, <a
href="../../classes/SizedQueue.html">SizedQueue</a> and <a
href="../../classes/ConditionVariable.html">ConditionVariable</a>
implementations in C. This patch is based on patches from panaggio</p>
</dd><dt>(Ricardo Panaggio) and funny_falcon (Yura Sokolov) and  ko1 (Koichi Sasada). [ruby-core
<dd>
<p>31513] [Feature #3620]</p>
</dd><dt>test/thread/test_queue.rb (test_queue_thread_raise)
<dd>
<p>add a test for ensuring that killed thread should be removed from waiting
threads. It is based on a code by ko1 (Koichi Sasada). [ruby-core:45950]</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+22-3A47-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  6 22:47:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Define ac_cv_func_clock_getres to yes for mingw*.</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+21-3A04-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  6 21:04:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c
<dd>
<p>Include gmp.h if GMP is used.</p>
</dd><dt>(GMP_GCD_DIGITS)
<dd>
<p>New macro.</p>
</dd><dt>(rb_gcd_gmp)
<dd>
<p>New function.</p>
</dd><dt>(f_gcd_normal)
<dd>
<p>Renamed from f_gcd.</p>
</dd><dt>(rb_gcd_normal)
<dd>
<p>New function.</p>
</dd><dt>(f_gcd)
<dd>
<p>Invoke rb_gcd_gmp or f_gcd_normal.</p>
</dd><dt>internal.h (rb_gcd_normal)
<dd>
<p>Declared.</p>
</dd><dt>(rb_gcd_gmp)
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/rational
<dd>
<p>New directory.</p>
</dd><dt>test/-ext-/rational
<dd>
<p>New directory.</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+14-3A23-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep  6 14:23:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (clock_getres)
<dd>
<p>required as well as clock_gettime(). [ruby-dev:47699] [Bug #8869]</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+11-3A45-3A27+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep  6 11:45:27 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (rb_econv_append)
<dd>
<p>new function to append a string data with converting its encoding.  split
from rb_econv_substr_append.</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+02-3A37-3A22+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Sep  6 02:37:22 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>use double quotes when strings start with special characters. <a
href="https://github.com/tenderlove/psych/issues/157">github.com/tenderlove/psych/issues/157</a></p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h3 id="label-Fri+Sep++6+00-3A05-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep  6 00:05:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rewrite_cref_stack)
<dd>
<p>remove recursion.</p>
</dd></dl>

<h2 id="label-2013-09-05">2013-09-05</h2>

<h3 id="label-Thu+Sep++5+18-3A05-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Sep  5 18:05:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (fstring_cmp)
<dd>
<p>take string encoding into account when comparing fstrings [ruby-core:57037]
[Bug #8866]</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+17-3A25-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep  5 17:25:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring, rb_str_free)
<dd>
<p>use st_data_t instead of VALUE.</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>get rid of duplicating already frozen object.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+14-3A01-3A22+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Sep  5 14:01:22 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>The <a href="../../classes/Integer.html">Integer</a> acceptable now allows
binary and hexadecimal numbers per the documentation.  [ruby-trunk - Bug
#8865] DecimalInteger, OctalInteger, DecimalNumeric now validate their
input before converting to a number.  [ruby-trunk - Bug #8865]</p>
</dd><dt>test/optparse/test_acceptable.rb
<dd>
<p>Tests for the above, tests for all numeric acceptables for existing
behavior.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+13-3A49-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Sep  5 13:49:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add RSTRING_FSTR flag</p>
</dd><dt>internal.h
<dd>
<p>add rb_fstring() prototype</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>deduplicate frozen string literals</p>
</dd><dt>string.c (rb_str_free)
<dd>
<p>delete fstrings from frozen_strings table when they are GC&#39;d</p>
</dd><dt>string.c (Init_String)
<dd>
<p>initialize frozen_strings table</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+12-3A48-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Thu Sep  5 12:48:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (with_gmp)
<dd>
<p>set with_gmp no if it is empty.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+10-3A41-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Sep  5 10:41:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_getivar)
<dd>
<p>use class sequence to check class identity, instead of pointer + vm state</p>
</dd><dt>vm_insnhelper.c (vm_setivar)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+08-3A20-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  5 08:20:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (GMP_DIV_DIGITS)
<dd>
<p>New macro.</p>
</dd><dt>(bary_divmod_gmp)
<dd>
<p>New function.</p>
</dd><dt>(rb_big_divrem_gmp)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod_branch)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Use bary_divmod_branch.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (rb_big_divrem_gmp)
<dd>
<p>Declared.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+06-3A22-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  5 06:22:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_divmod_normal)
<dd>
<p>Reduce temporary array allocations.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+02-3A17-3A06+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  5 02:17:06 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_divrem_normal)
<dd>
<p>Add <a href="../../classes/GC.html">GC</a> guards.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+00-3A38-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  5 00:38:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_divrem_normal)
<dd>
<p>New function.</p>
</dd><dt>internal.h (rb_big_divrem_normal)
<dd>
<p>Declared.</p>
</dd><dt>ext/-test-/bignum/div.c
<dd>
<p>New file.</p>
</dd><dt>test/-ext-/bignum/test_div.rb
<dd>
<p>New file.</p>
</dd></dl>

<h3 id="label-Thu+Sep++5+00-3A08-3A44+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  5 00:08:44 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_normal)
<dd>
<p>Removed.</p>
</dd><dt>(bary_divmod_normal)
<dd>
<p>New function.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Use bary_divmod_normal.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Use bary_divmod_normal.</p>
</dd></dl>

<h2 id="label-2013-09-04">2013-09-04</h2>

<h3 id="label-Wed+Sep++4+23-3A02-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  4 23:02:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Useless declaration removed.</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+22-3A56-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  4 22:56:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (NUM_STEP_GET_INF)
<dd>
<p>split from NUM_STEP_SCAN_ARGS(), since inf is not used in num_step_size().</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+20-3A22-3A43+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  4 20:22:43 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_normal)
<dd>
<p>Add assertions.</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+19-3A18-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  4 19:18:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (vm_state_version_t)
<dd>
<p>prefer LONG_LONG to uint64_t.</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+16-3A28-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  4 16:28:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (vm_state_version_t)
<dd>
<p>use uint64_t when it is larger than LONG_LONG, and fallback to unsigned
long.</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+15-3A37-3A05+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Sep  4 15:37:05 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/trans/utf8_mac-tbl.rb
<dd>
<p>fix r42789. Fix conversion table and logic. [ruby-dev:47680]</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+14-3A08-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Wed Sep  4 14:08:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c, compile.c, eval.c, gc.h, insns.def, internal.h, method.h, variable.c, vm.c, vm_core.c, vm_insnhelper.c, vm_insnhelper.h, vm_method.c
<dd>
<p>Implement class hierarchy method cache invalidation. [ruby-core:55053]
[Feature #8426] [GH-387]</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+11-3A13-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  4 11:13:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_gsub)
<dd>
<p>use BEG(0) for whole matched position not return value from
rb_reg_search(), for K matching. [ruby-dev:47694] [Bug #8856]</p>
</dd></dl>

<h3 id="label-Wed+Sep++4+11-3A11-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  4 11:11:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (SOLIBS)
<dd>
<p>LIBRUBY_SO also needs linking with gmp, to run worker processes in test-all
on non-ELF platforms.</p>
</dd></dl>

<h2 id="label-2013-09-03">2013-09-03</h2>

<h3 id="label-Tue+Sep++3+23-3A01-3A41+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Sep  3 23:01:41 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parser/test_tree.rb (TestTreeParser::TestInvalid#test_unmatched_close_tag)
<dd>
<p>Compute expected value from test value.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+22-3A59-3A58+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Sep  3 22:59:58 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/treeparser.rb (REXML::Parsers::TreeParser#parse)
<dd>
<p>Add source information to parse exception on no close tag error. [Bug
#8844]  [ruby-dev:47672] Patch by Ippei Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/parser/test_tree.rb
<dd>
<p>Add a test for the above case.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+22-3A57-3A57+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Sep  3 22:57:57 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parser/test_tree.rb
<dd>
<p>Fix test name to describe test content.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+22-3A54-3A46+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Sep  3 22:54:46 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/treeparser.rb (REXML::Parsers::TreeParser#parse)
<dd>
<p>Remove needless nested parse exception information. [Bug #8844] 
[ruby-dev:47672] Reported by Ippei Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/parser/test_tree.rb
<dd>
<p>Add a test for the above case.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+22-3A03-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep  3 22:03:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_enc_str_new_cstr)
<dd>
<p>new function to create a string from the C-string pointer with the
specified encoding.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+21-3A41-3A37+2013++Akira+Matsuda++-3Cronnie-40dio.jp-3E">Tue Sep  3 21:41:37 2013  Akira Matsuda  &lt;ronnie@dio.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (Init_eval)
<dd>
<p>Make <a
href="../../classes/Module.html#method-i-include">Module#include</a> and <a
href="../../classes/Module.html#method-i-prepend">Module#prepend</a> public
[Feature #8846]</p>
</dd><dt>test/ruby/test_module.rb (class TestModule)
<dd>
<p><a href="../../classes/Test.html">Test</a> for above</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+21-3A35-3A19+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep  3 21:35:19 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (sys/dyntune.h)
<dd>
<p>for gettune().</p>
</dd><dt>thread_pthread.c (hpux_attr_getstackaddr)
<dd>
<p>fix missing *. [ruby-core:56983] [Feature #8793]</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+20-3A12-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 20:12:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (GMP_STR2BIG_DIGITS)
<dd>
<p>New macro.</p>
</dd><dt>(str2big_gmp)
<dd>
<p>New function.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Use str2big_gmp for big bignums.</p>
</dd><dt>(rb_str2big_gmp)
<dd>
<p>New function.</p>
</dd><dt>internal.h (rb_str2big_gmp)
<dd>
<p>Declared.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+19-3A44-3A40+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  3 19:44:40 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry#values)
<dd>
<p>added. [Feature #7763] [ruby-core:51783]</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+18-3A26-3A00+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Sep  3 18:26:00 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/inf-ruby.el (inf-ruby-keys, run-ruby)
<dd>
<p>Add magic autoload comments.</p>
</dd><dt>misc/rdoc-mode.el (rdoc-mode)
<dd>
<p>Ditto.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-mode)
<dd>
<p>Ditto.</p>
</dd><dt>misc/ruby-style.el (ruby-style-c-mode)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+17-3A06-3A15+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  3 17:06:15 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rubyoptions.rb (TestRubyOptions::SEGVTest::ExpectedStderr)
<dd>
<p>the URL was changed at r42800.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+14-3A48-3A25+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Sep  3 14:48:25 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/thread.rb
<dd>
<p>[DOC] CV#wait typo by @avdi [Fixes GH-386] <a
href="https://github.com/ruby/ruby/pull/386">github.com/ruby/ruby/pull/386</a></p>
</dd></dl>

<h3 id="label-Tue+Sep++3+14-3A37-3A53+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Sep  3 14:37:53 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>[DOC] Update bug tracker url by @ScotterC [Fixes GH-390] <a
href="https://github.com/ruby/ruby/pull/390">github.com/ruby/ruby/pull/390</a></p>
</dd></dl>

<h3 id="label-Tue+Sep++3+12-3A45-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 12:45:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_str2big_poweroftwo)
<dd>
<p>New function.</p>
</dd><dt>(rb_str2big_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_str2big_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (rb_str2big_poweroftwo)
<dd>
<p>Declared.</p>
</dd><dt>(rb_str2big_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_str2big_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/bignum/str2big.c
<dd>
<p>New file.</p>
</dd><dt>test/-ext-/bignum/test_str2big.rb
<dd>
<p>New file.</p>
</dd><dt>ext/-test-/bignum/depend
<dd>
<p>Add the dependency for str2big.c.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+12-3A09-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 12:09:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>Support times() based monotonic clock.</p>
</dd><dt>(rb_clock_getres)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+12-3A03-3A02+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 12:03:02 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (str2big_scan_digits)
<dd>
<p>Extracted from rb_cstr_to_inum.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+11-3A23-3A57+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  3 11:23:57 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_select_with_thread)
<dd>
<p>rounding up the fraction of tv_usec instead of rounding down. this change
is an experiment to get rid of failures on vc10-x64 CI.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+11-3A00-3A28+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  3 11:00:28 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (do_select)
<dd>
<p>constify timeout.</p>
</dd><dt>win32/win32.c (rb_w32_select_with_thread)
<dd>
<p>constify 10ms wait and 0ms wait structs.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+10-3A03-3A42+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  3 10:03:42 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pair.rb (OpenSSL::TestPair#test_write_nonblock_no_exceptions)
<dd>
<p>on some CIs such as Debian 6.0, Ubuntu 10.04, CentOS and vc10-x64 (maybe
depend on <a href="../../classes/OpenSSL.html">OpenSSL</a> version),
writing to SSLSocket after SSL_ERROR_WANT_WRITE causes SSL_ERROR_SSL “bad
write retry”.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+08-3A20-3A46+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Sep  3 08:20:46 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/trans/utf8_mac-tbl.rb
<dd>
<p>update conversion table to recent OS X. Previous table is used on Mac OS X
10.1 or prior. This table is used on 10.2 or later. [ruby-dev:47680]</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+07-3A49-3A25+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Sep  3 07:49:25 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (NUM_STEP_SCAN_ARGS)
<dd>
<p>On second thought, keep <a
href="../../classes/Numeric.html#method-i-step">Numeric#step</a> backward
compatible in that it raises <a
href="../../classes/TypeError.html">TypeError</a> when nil is given as
second argument.</p>
</dd><dt>test/ruby/test_float.rb (TestFloat#test_num2dbl)
<dd>
<p>Revert.</p>
</dd><dt>test/ruby/test_numeric.rb (TestNumeric#test_step)
<dd>
<p>Fix test cases for the above change.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+07-3A39-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 07:39:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bytes_2comp)
<dd>
<p>Define it only for little endian environment.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+07-3A31-3A29+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Sep  3 07:31:29 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (NUM_STEP_SCAN_ARGS)
<dd>
<p><a href="../../classes/Numeric.html#method-i-step">Numeric#step</a> should
raise <a href="../../classes/TypeError.html">TypeError</a> if a non-numeric
parameter is given.</p>
</dd><dt>test/ruby/test_float.rb (TestFloat#test_num2dbl)
<dd>
<p>Allow nil as step, as with the keyword argument.</p>
</dd><dt>test/ruby/test_numeric.rb (TestNumeric#test_step)
<dd>
<p>Add tests for nil as step or limit.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+07-3A28-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  3 07:28:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (bit_length)
<dd>
<p>Add casts to fix compilation error with clang 3.0
-Werror,-Wshorten-64-to-32. [ruby-dev:47687] reported by SASADA Koichi.</p>
</dd></dl>

<h3 id="label-Tue+Sep++3+03-3A17-3A26+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  3 03:17:26 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>use ci-&gt;argc instead of ci-&gt;orig_argc. ci-&gt;argc can be changed by
splat arguments. [ruby-list:49575] This fix should be applied to Ruby 2.0.0
series.</p>
</dd><dt>test/ruby/test_super.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h2 id="label-2013-09-02">2013-09-02</h2>

<h3 id="label-Mon+Sep++2+23-3A46-3A29+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Sep  2 23:46:29 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_step)
<dd>
<p>Default the limit argument to infinity and allow it to be omitted.  Keyword
arguments (by: and to:) are introduced for ease of use. [Feature #8838]
[ruby-dev:47662] [ruby-dev:42194]</p>
</dd><dt>numeric.c (num_step)
<dd>
<p>Optimize for infinite loop.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+22-3A55-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 22:55:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (ISDIGIT)
<dd>
<p>Unused macro removed.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+22-3A49-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 22:49:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (str2big_poweroftwo)
<dd>
<p>Extracted from rb_cstr_to_inum.</p>
</dd><dt>(str2big_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(str2big_karatsuba)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+14-3A39-3A29+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Sep  2 14:39:29 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (Process#setproctitle)
<dd>
<p>[DOC] Fix and improve rdoc.</p>
</dd><dt>ruby.c (Process#argv0)
<dd>
<p>[DOC] Improve rdoc.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+14-3A15-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Mon Sep  2 14:15:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>fix description of number literal suffixes.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+14-3A01-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Sep  2 14:01:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rake/test_rake_rules.rb
<dd>
<p>add space after string literal to prevent conflict with string options
syntax “foo”opts</p>
</dd><dt>test/rss/rss-assertions.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+12-3A28-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 12:28:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_bignum.rb (test_interrupt_during_to_s)
<dd>
<p>Disable it when GMP is used.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+07-3A02-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 07:02:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (Init_Bignum)
<dd>
<p>Define Bignum::GMP_VERSION when GMP is used.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+01-3A46-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 01:46:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_generic)
<dd>
<p>Reduce arguments.</p>
</dd><dt>(big2str_gmp)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Mon+Sep++2+00-3A08-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep  2 00:08:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (get_mach_timebase_info)
<dd>
<p>Extracted from rb_clock_gettime.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>Use get_mach_timebase_info.</p>
</dd><dt>(rb_clock_getres)
<dd>
<p>Support MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC.</p>
</dd></dl>

<h2 id="label-2013-09-01">2013-09-01</h2>

<h3 id="label-Sun+Sep++1+23-3A30-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 23:30:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (GMP_BIG2STR_DIGITS)
<dd>
<p>New constant.</p>
</dd><dt>(big2str_gmp)
<dd>
<p>New function.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Use big2str_gmp for big bignums.</p>
</dd><dt>internal.h (rb_big2str_gmp)
<dd>
<p>Declared.</p>
</dd><dt>ext/-test-/bignum/big2str.c (big2str_gmp)
<dd>
<p>New method.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+22-3A37-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 22:37:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_gmp)
<dd>
<p>Use mpz_init and mpz_clear instead of mpz_inits and mpz_clears. Older GMP
don&#39;t have them.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+21-3A17-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 21:17:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_http.rb (test_bind_to_local_port)
<dd>
<p>Choose an open port more reliably.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+20-3A32-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 20:32:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_base_poweroftwo)
<dd>
<p>Renamed from big2str_base_powerof2.</p>
</dd><dt>(rb_big2str_poweroftwo)
<dd>
<p>New function for test.</p>
</dd><dt>(big2str_generic)
<dd>
<p>Extracted from rb_big2str1.</p>
</dd><dt>(rb_big2str_generic)
<dd>
<p>New function for test.</p>
</dd><dt>internal.h (rb_big2str_poweroftwo)
<dd>
<p>Declared.</p>
</dd><dt>(rb_big2str_generic)
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/bignum/big2str.c
<dd>
<p>New file.</p>
</dd><dt>test/-ext-/bignum/test_big2str.rb
<dd>
<p>New file.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+15-3A21-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 15:21:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_2bdigits)
<dd>
<p>Renamed from big2str_orig.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+13-3A02-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 13:02:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Remove BITSPERDIG &gt;= INT_MAX test.  The static assertion, SIZEOF_BDIGITS
&lt;= sizeof(BDIGIT) is enough.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+11-3A38-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 11:38:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (maxpow_in_bdigit)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+10-3A30-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 10:30:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_fix_bit_length)
<dd>
<p>Moved from bignum.c.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+09-3A55-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 09:55:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (bit_length)
<dd>
<p>Moved from bignum.c.</p>
</dd><dt>(nlz_int)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz_long)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz_long_long)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz_int128)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+03-3A32-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 03:32:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bit_length)
<dd>
<p>Renamed from bitsize.</p>
</dd></dl>

<h3 id="label-Sun+Sep++1+00-3A07-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  1 00:07:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_bit_length)
<dd>
<p>New method.</p>
</dd><dt>(rb_fix_bit_length)
<dd>
<p>Ditto. [ruby-core:56247] [Feature #8700]</p>
</dd></dl>

<h2 id="label-2013-08-31">2013-08-31</h2>

<h3 id="label-Sat+Aug+31+22-3A18-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug 31 22:18:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_getres)
<dd>
<p>New method.</p>
</dd><dt>(timetick2dblnum_reciprocal)
<dd>
<p>New function.</p>
</dd><dt>configure.in
<dd>
<p>Check clock_getres. [ruby-core:56780] [Feature #8809] accepted as a CRuby
feature at DevelopersMeeting20130831Japan <a
href="https://bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130831Japan">bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130831Japan</a></p>
</dd></dl>

<h3 id="label-Sat+Aug+31+21-3A02-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug 31 21:02:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Use GMP to accelerate big <a href="../../classes/Bignum.html">Bignum</a>
multiplication.</p>
</dd><dt>(bary_mul_gmp)
<dd>
<p>New function.</p>
</dd><dt>(bary_mul)
<dd>
<p>Use bary_mul_gmp.</p>
</dd><dt>(bigsq)
<dd>
<p>Use different threshold with GMP.</p>
</dd><dt>configure.in
<dd>
<p>Detect GMP. [ruby-core:56658] [Feature #8796]</p>
</dd></dl>

<h3 id="label-Sat+Aug+31+15-3A03-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Aug 31 15:03:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (NODE_MATCH3)
<dd>
<p>pass CALL_INFO to opt_regexpmatch2</p>
</dd><dt>insns.def (opt_regexpmatch2)
<dd>
<p>use CALL_SIMPLE_METHOD to call =~ if the receiver is not a T_STRING [Bug
#8847] [ruby-core:56916]</p>
</dd></dl>

<h3 id="label-Sat+Aug+31+14-3A07-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug 31 14:07:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (random_bytes)
<dd>
<p>Use <a
href="../../classes/Process.html#method-c-clock_gettime">Process.clock_gettime</a>.</p>
</dd></dl>

<h3 id="label-Sat+Aug+31+00-3A25-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 31 00:25:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h (rb_{ascii8bit,utf8,usascii}_encindex)
<dd>
<p>get rid of conflict with macros defined in internal.h.</p>
</dd></dl>

<h2 id="label-2013-08-30">2013-08-30</h2>

<h3 id="label-Fri+Aug+30+22-3A37-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 30 22:37:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (native_thread_init_stack)
<dd>
<p>wait the creator thread to fill machine stack info, if get_stack_of() is
available.</p>
</dd><dt>thread_pthread.c (native_thread_create)
<dd>
<p>fill the created thread stack info after starting, if get_stack_of() is
available.</p>
</dd><dt>thread_pthread.c (native_thread_create)
<dd>
<p>define attr only if it is used, and merge pthread_create() calls.</p>
</dd><dt>thread_pthread.c (get_main_stack)
<dd>
<p>separate function to get stack of main thread.</p>
</dd></dl>

<h2 id="label-2013-08-29">2013-08-29</h2>

<h3 id="label-Thu+Aug+29+18-3A05-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 29 18:05:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_define_without_accessor_under)
<dd>
<p>added. This function is similar to rb_define_class_under() against
rb_define_class().</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>add a declaration of this function.</p>
</dd></dl>

<h3 id="label-Thu+Aug+29+17-3A03-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 29 17:03:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>a method entry refers the based class/module, so should search superclass
from the origin i-class where the entry belongs to, to get rid of infinite
loop when zsuper in a prepended class/module.  [ruby-core:54105] [Bug
#8238]</p>
</dd></dl>

<h3 id="label-Thu+Aug+29+05-3A35-3A58+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Aug 29 05:35:58 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (zstream_run)
<dd>
<p>Fix handling of deflate streams that need a dictionary but are being
decompressed by <a
href="../../classes/Zlib/Inflate.html#method-c-inflate">Zlib::Inflate.inflate</a></p>
</dd><dt>(which has no option to set a dictionary).  Now <a href="../../classes/Zlib.html">Zlib</a>
<dd>
<p>:NeedDict is raised instead of crashing.  [ruby-trunk - Bug #8829]</p>
</dd><dt>test/zlib/test_zlib.rb (TestZlibInflate)
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Thu+Aug+29+02-3A40-3A45+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Aug 29 02:40:45 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/scalar_scanner.rb
<dd>
<p>invalid floats should be treated as strings. <a
href="https://github.com/tenderlove/psych/issues/156">github.com/tenderlove/psych/issues/156</a></p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for change</p>
</dd></dl>

<h2 id="label-2013-08-28">2013-08-28</h2>

<h3 id="label-Wed+Aug+28+17-3A20-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 28 17:20:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (hpux_attr_getstackaddr)
<dd>
<p>basic support for the get_stack() under HP-UX.  based on the patch by
michal@rokos.cz</p>
</dd><dt>(Michal Rokos) at [ruby-core
<dd>
<p>56645].  [Feature #8793]</p>
</dd></dl>

<h3 id="label-Wed+Aug+28+11-3A24-3A20+2013++Michal+Rokos++-3Cmichal-40rokos.cz-3E">Wed Aug 28 11:24:20 2013  Michal Rokos  &lt;michal@rokos.cz&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (sys/pstat.h)
<dd>
<p>fix missing header check for missing/setproctitle.c on HP-UX. 
[ruby-core:56644] [Bug #8792]</p>
</dd></dl>

<h3 id="label-Wed+Aug+28+04-3A54-3A33+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Aug 28 04:54:33 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_read)
<dd>
<p>Replace duplicate wait_writable with wait_readable.</p>
</dd></dl>

<h2 id="label-2013-08-27">2013-08-27</h2>

<h3 id="label-Tue+Aug+27+17-3A18-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 17:18:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>skip rescue clause only when no exception class is given.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+17-3A02-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 17:02:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (copy_stream_body)
<dd>
<p>should write in binary mode.  based on a patch by godfat (Lin Jen-Shin) at
[ruby-core:56556]. [ruby-core:56518] [Bug #8767]</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+17-3A02-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 17:02:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (copy_stream_body)
<dd>
<p>move common open flags.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+16-3A56-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 16:56:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_size)
<dd>
<p>use rb_check_funcall() instead of respond_to? and call.</p>
</dd><dt>enumerator.c (enumerator_each)
<dd>
<p>ensure that argument array size does not overflow at appending.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+16-3A46-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 16:46:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_index, rb_ary_rindex)
<dd>
<p>use optimized equality to improve performance.  [Feature #8820]</p>
</dd><dt>vm_insnhelper.c (rb_equal_opt)
<dd>
<p>optimized equality function.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+16-3A11-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 16:11:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (opt_eq_func)
<dd>
<p>use RBASIC_CLASS() instead of HEAP_CLASS_OF().</p>
</dd><dt>insns.def (opt_plus, opt_minus, opt_mult, opt_div, opt_mod, opt_lt), (opt_gt, opt_ltlt, opt_aref, opt_aset, opt_length, opt_size), (opt_empty_p, opt_succ)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+16-3A08-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 27 16:08:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_check_funcall, rb_check_funcall_with_hook)
<dd>
<p>constify argv.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+13-3A03-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug 27 13:03:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_read_nonblock)
<dd>
<p>declare local variables at the first of function.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+11-3A46-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug 27 11:46:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_clear)
<dd>
<p>do rest_sweep() before clearing profile.current_record.</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+07-3A35-3A05+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Tue Aug 27 07:35:05 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_read_nonblock)
<dd>
<p>support non-blocking reads without raising exceptions. As in:
`io.read_nonblock(size, exception: false)` [ruby-core:38666] [Feature
#5138]</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_read_internal)
<dd>
<p>ditto</p>
</dd><dt>ext/stringio/stringio.c (strio_sysread)
<dd>
<p>ditto</p>
</dd><dt>io.c (rb_io_write_nonblock)
<dd>
<p>support non-blocking writes without raising an exception.</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_write_internal)
<dd>
<p>ditto</p>
</dd><dt>test/openssl/test_pair.rb (class <a href="../../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>tests</p>
</dd><dt>test/ruby/test_io.rb (class TestIO)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_nonblock.rb (class TestSocketNonblock)
<dd>
<p>ditto</p>
</dd><dt>test/stringio/test_stringio.rb (class TestStringIO)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Aug+27+05-3A24-3A34+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Aug 27 05:24:34 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Import RubyGems 2.1.0 Release Candidate</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-08-26">2013-08-26</h2>

<h3 id="label-Mon+Aug+26+16-3A24-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 26 16:24:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_nextc)
<dd>
<p>warn carriage return in middle of line. [ruby-core:56240] [Feature #8699]</p>
</dd></dl>

<h3 id="label-Mon+Aug+26+15-3A27-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 26 15:27:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>should not be caught by rescue clause.  [Bug #8730]</p>
</dd></dl>

<h3 id="label-Mon+Aug+26+14-3A44-3A26+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 26 14:44:26 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_splice)
<dd>
<p>use RARRAY_PTR_USE() without WB because there are not new relations.</p>
</dd><dt>enum.c (enum_sort_by)
<dd>
<p>ditto.</p>
</dd><dt>struct.c (setup_struct)
<dd>
<p>use RARRAY_RAWPTR().</p>
</dd><dt>vm_eval.c (yield_under)
<dd>
<p>ditto.</p>
</dd><dt>ext/pathname/pathname.c (path_entries)
<dd>
<p>use RARRAY_AREF().</p>
</dd><dt>ext/pathname/pathname.c (path_s_glob)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Aug+26+13-3A11-3A10+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Aug 26 13:11:10 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_ensure_room_for_push)
<dd>
<p>fix typo in r42658.</p>
</dd></dl>

<h3 id="label-Mon+Aug+26+12-3A37-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 26 12:37:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/sizes.c.tmpl
<dd>
<p>generate automatically by extracting RUBY_CHECK_SIZEOF from configure.in.</p>
</dd></dl>

<h3 id="label-Mon+Aug+26+10-3A16-3A59+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Aug 26 10:16:59 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (gcd_timetick_int)
<dd>
<p>Renamed from gcd_timtick_int.</p>
</dd></dl>

<h2 id="label-2013-08-25">2013-08-25</h2>

<h3 id="label-Sun+Aug+25+21-3A02-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 25 21:02:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sizes.c (Init_sizes)
<dd>
<p>Define the size of clock_t.</p>
</dd></dl>

<h3 id="label-Sun+Aug+25+01-3A47-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 25 01:47:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BARY_SHORT_MUL)
<dd>
<p>Renamed from BARY_MUL1.</p>
</dd><dt>(bary_short_mul)
<dd>
<p>Renamed from bary_mul1.</p>
</dd></dl>

<h2 id="label-2013-08-24">2013-08-24</h2>

<h3 id="label-Sat+Aug+24+10-3A35-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug 24 10:35:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>The emulated clock names changed.</p>
</dd></dl>

<h2 id="label-2013-08-23">2013-08-23</h2>

<h3 id="label-Fri+Aug+23+22-3A22-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 23 22:22:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>Add a cast to fix compile error by -Werror,-Wshorten-64-to-32.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+22-3A12-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 23 22:12:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_intern)
<dd>
<p>no symbol cache while initialization.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+22-3A07-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 23 22:07:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (clock_t)
<dd>
<p>needs time.h.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+21-3A37-3A28+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 23 21:37:28 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (reduce_factors)
<dd>
<p>New function.</p>
</dd><dt>(timetick2dblnum)
<dd>
<p>Use reduce_factors.</p>
</dd><dt>(timetick2integer)
<dd>
<p>Ditto.</p>
</dd><dt>(make_clock_result)
<dd>
<p>Follow the above change.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+21-3A00-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 23 21:00:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (timetick_int_t)
<dd>
<p>Renamed from timetick_giga_count_t.</p>
</dd><dt>(gcd_timtick_int)
<dd>
<p>Renamed from gcd_ul and make the arguments timetick_giga_count_t.</p>
</dd><dt>(reduce_fraction)
<dd>
<p>Make the arguments timetick_int_t.</p>
</dd><dt>(timetick2integer)
<dd>
<p>Ditto.</p>
</dd><dt>(make_clock_result)
<dd>
<p>Ditto.</p>
</dd><dt>(timetick2dblnum)
<dd>
<p>Fix the return type.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>Use timetick_int_t.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+20-3A50-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 23 20:50:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (gcd_ul)
<dd>
<p>New function.</p>
</dd><dt>(reduce_fraction)
<dd>
<p>Ditto.</p>
</dd><dt>(reduce_fraction)
<dd>
<p>Ditto.</p>
</dd><dt>(timetick2dblnum)
<dd>
<p>Ditto.</p>
</dd><dt>(timetick2integer)
<dd>
<p>Ditto.</p>
</dd><dt>(make_clock_result)
<dd>
<p>Use timetick2dblnum and timetick2integer.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>Follow the make_clock_result change.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+18-3A39-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 23 18:39:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_make_shared)
<dd>
<p>shared ary as shady. Need more effort to make it normal object.</p>
</dd><dt>array.c (rb_ary_modify)
<dd>
<p>use RARRAY_PTR_USE() without WB because there are not new relations.</p>
</dd><dt>array.c (ary_ensure_room_for_unshift)
<dd>
<p>use RARRAY_RAWPTR() because there are not new relations.</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+11-3A25-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 23 11:25:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>introduce ARY_SHARED_OCCUPIED(shared).</p>
</dd></dl>

<h3 id="label-Fri+Aug+23+11-3A07-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 23 11:07:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (config.h)
<dd>
<p>now SIZEOF_CLOCK_T is needed for unsigned_clock_t.</p>
</dd></dl>

<h2 id="label-2013-08-22">2013-08-22</h2>

<h3 id="label-Thu+Aug+22+22-3A01-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 22 22:01:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>Strip “s” from unit names.</p>
</dd></dl>

<h3 id="label-Thu+Aug+22+20-3A14-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 22 20:14:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (unsigned_clock_t)
<dd>
<p>Defined.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>Consider clock_t overflow for ISO_C_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID.</p>
</dd><dt>configure.in
<dd>
<p>Check the size of clock_t.</p>
</dd></dl>

<h3 id="label-Thu+Aug+22+16-3A22-3A48+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 22 16:22:48 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (build_postexe_iseq)
<dd>
<p>fix to setup the local table.</p>
</dd></dl>

<h3 id="label-Thu+Aug+22+15-3A42-3A43+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 22 15:42:43 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_compile_node)
<dd>
<p>accept NODE_IFUNC to support custom compilation.</p>
</dd><dt>compile.c (NODE_POSTEXE)
<dd>
<p>compile to “ONCE{ VMFrozenCore::core#set_postexe{…} }” with a new custom
compiler `build_postexe_iseq()&#39;.</p>
</dd><dt>vm.c (m_core_set_postexe)
<dd>
<p>remove parameters (passed by a block).</p>
</dd></dl>

<h3 id="label-Thu+Aug+22+06-3A54-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 22 06:54:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>Change emulation symbols for <a
href="../../classes/Process.html#method-c-clock_gettime">Process.clock_gettime</a>.</p>
</dd></dl>

<h3 id="label-Thu+Aug+22+06-3A24-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 22 06:24:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (make_clock_result)
<dd>
<p>Extracted from rb_clock_gettime.</p>
</dd></dl>

<h2 id="label-2013-08-21">2013-08-21</h2>

<h3 id="label-Wed+Aug+21+22-3A30-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 22:30:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>clock() based CLOCK_PROCESS_CPUTIME_ID emulation implemented.</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+21-3A02-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 21:02:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_proc_times)
<dd>
<p>Use RB_GC_GUARD to guard objects from <a
href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+20-3A33-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 20:33:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (get_clk_tck)
<dd>
<p>Extracted from rb_proc_times.</p>
</dd><dt>(rb_clock_gettime)
<dd>
<p>times() based CLOCK_PROCESS_CPUTIME_ID emulation is implemented.</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+19-3A31-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 19:31:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>POSIX_GETTIMEOFDAY_CLOCK_REALTIME is renamed to
SUS_GETTIMEOFDAY_CLOCK_REALTIME.</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+19-3A17-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 19:17:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>CLOCK_PROCESS_CPUTIME_ID emulation using getrusage is implemented.</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+17-3A34-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 21 17:34:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (getrusage_time)
<dd>
<p>Fallback clock_gettime to getrusage when clock_gettime fails. Reported by
Eric Saxby.  [ruby-core:56762] [Bug #8805]</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+02-3A32-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 21 02:32:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def
<dd>
<p>fix regexp&#39;s once option behavior. fix [ruby-trunk - Bug #6701]</p>
</dd><dt>insns.def
<dd>
<p>remove `onceinlinecache&#39; and introduce `once&#39; instruction.
`once&#39; doesn&#39;t use `setinlinecache&#39; insn any more.</p>
</dd><dt>vm_core.h
<dd>
<p>`union iseq_inline_storage_entry&#39; to store once data.</p>
</dd><dt>compile.c
<dd>
<p>catch up above changes.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c, vm_insnhelper.c
<dd>
<p>ditto. fix `m_core_set_postexe()&#39; which is depend on
`onceinlinecache&#39; insn.</p>
</dd><dt>test/ruby/test_regexp.rb
<dd>
<p>add tests.</p>
</dd><dt>iseq.c
<dd>
<p>ISEQ_MINOR_VERSION to 1 (should increment major?)</p>
</dd></dl>

<h3 id="label-Wed+Aug+21+02-3A30-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 21 02:30:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gcdebug_print_obj_condition)
<dd>
<p>add printing information.</p>
</dd></dl>

<h2 id="label-2013-08-20">2013-08-20</h2>

<h3 id="label-Tue+Aug+20+13-3A38-3A00+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Aug 20 13:38:00 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/gdbm/test_gdbm.rb
<dd>
<p>skip TestGDBM#test_s_open_lock on Solaris. On Solaris (and platforms which
do not have flock and have lockf), with <a
href="../../classes/GDBM.html">GDBM</a> 1.10, gdbm_open(3) blocks when
opening already locked gdbm file. [Bug #8790] [ruby-dev:47631]</p>
</dd></dl>

<h3 id="label-Tue+Aug+20+02-3A32-3A52+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug 20 02:32:52 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/
<dd>
<p>[DOC] Document Test::Unit, hide most submodules and classes from rdoc.
Since lib/test is only present as a compatibility layer with the legacy
test suite many test/unit users will be using minitest or the test/unit gem
instead. It is recommended to use one of these alternatives for writing new
tests. This patch was based on a patch submitted by Steve Klabnik.
[ruby-core:56694] [Bug #8778]</p>
</dd></dl>

<h3 id="label-Tue+Aug+20+02-3A10-3A19+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug 20 02:10:19 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/rss.rb
<dd>
<p>[DOC] Document for constants by Steve Klabnik [ruby-core:56705] [Bug #8798]</p>
</dd></dl>

<h3 id="label-Tue+Aug+20+02-3A01-3A10+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug 20 02:01:10 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/xmlparser.rb
<dd>
<p>[DOC] Hide legacy constant from rdoc Patch by Steve Klabnik
[ruby-core:56708] [Bug #8799]</p>
</dd></dl>

<h3 id="label-Tue+Aug+20+01-3A52-3A05+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug 20 01:52:05 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/unixserver.c
<dd>
<p>[DOC] Document accept</p>
</dd><dt>ext/socket/tcpserver.c
<dd>
<p>ditto</p>
</dd><dt>ext/socket/udpsocket.c
<dd>
<p>[DOC] Fix indentation of documentation</p>
</dd><dt>ext/socket/socket.c
<dd>
<p>ditto Patches by David Rodr&#39;iguez [ruby-core:56734] [Bug #8802]</p>
</dd></dl>

<h3 id="label-Tue+Aug+20+01-3A19-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug 20 01:19:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Define ac_cv_func_clock_gettime to yes for mingw*.</p>
</dd></dl>

<h2 id="label-2013-08-19">2013-08-19</h2>

<h3 id="label-Mon+Aug+19+21-3A31-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Aug 19 21:31:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h
<dd>
<p>Fix a compilation error with i586-mingw32msvc-gcc of gcc-mingw32 package on
Debian squeeze. ruby/missing.h should be included before
include/ruby/win32.h because struct timespec, used in the clock_gettime
declaration in include/ruby/win32.h, is defined in ruby/missing.h instead
of system headers.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+20-3A55-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 19 20:55:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix around GC_DEBUG.</p>
</dd><dt>gc.c (RVALUE::line)
<dd>
<p>should be VALUE. On some environment</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>add an assertion to check VALUE alignment.</p>
</dd><dt>gc.c (aligned_malloc)
<dd>
<p>`&amp;&#39; is low priority than `==&#39;.</p>
</dd><dt>gc.c
<dd>
<p>define GC_DEBUG everytime and use it as value 0 or 1.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+17-3A43-3A44+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 19 17:43:44 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_fiber.rb
<dd>
<p>collect garbage fibers immediately.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+17-3A41-3A49+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 19 17:41:49 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/profile_test_all.rb
<dd>
<p>add `failed?&#39; information.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+17-3A00-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 19 17:00:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (retry_fork)
<dd>
<p>retry with <a href="../../classes/GC.html">GC</a> if ENOMEM occurred, to
free swap/kernel space.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+13-3A28-3A47+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Aug 19 13:28:47 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h (CLOCK_MONOTONIC)
<dd>
<p>typo.</p>
</dd><dt>win32/win32.c
<dd>
<p>removed duplicated declarations.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+13-3A03-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 19 13:03:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (clock_gettime)
<dd>
<p>should not overwrite cache variable with different condition.  otherwise
-lrt is not linked and the link fails, after reconfig.</p>
</dd></dl>

<h3 id="label-Mon+Aug+19+12-3A56-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Aug 19 12:56:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (Init_process)
<dd>
<p>Add constants: CLOCK_REALTIME_ALARM and CLOCK_BOOTTIME_ALARM.</p>
</dd></dl>

<h2 id="label-2013-08-18">2013-08-18</h2>

<h3 id="label-Sun+Aug+18+20-3A17-3A41+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Aug 18 20:17:41 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c, vm_method.c
<dd>
<p>remove dead code.</p>
</dd><dt>test/ruby/test_fiber.rb, test/ruby/test_thread.rb
<dd>
<p>change accordingly.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+19-3A32-3A26+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Aug 18 19:32:26 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c, file.c, gc.c, hash.c, thread.c, variable.c, vm_eval.c, bin/erb
<dd>
<p>$SAFE=4 is obsolete.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+14-3A30-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 14:30:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>Rename POSIX_TIME_CLOCK_REALTIME to ISO_C_TIME_CLOCK_REALTIME.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+14-3A22-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 14:22:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Revert r42604.  It causes linking librt on systems with newer glibc
uselessly.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+13-3A18-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 13:18:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (Init_process)
<dd>
<p>Add constants: CLOCK_REALTIME_COARSE, CLOCK_MONOTONIC_COARSE and
CLOCK_BOOTTIME.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+12-3A41-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug 18 12:41:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (clock_gettime)
<dd>
<p>need to check with -lrt prior to check for the function only.  otherwise
-lrt is not linked and the link fails, when ac_cv_func_clock_gettime is
cached as yes.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+10-3A05-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 10:05:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Make an expression more explicit.</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+03-3A18-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 03:18:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Use power_level instead of bitsize(xn).</p>
</dd></dl>

<h3 id="label-Sun+Aug+18+00-3A44-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 18 00:44:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BIGDIVREM_EXTRA_WORDS)
<dd>
<p>Redefine to 1.</p>
</dd><dt>(bigdivrem_num_extra_words)
<dd>
<p>Removed.</p>
</dd><dt>(bigdivrem_normal)
<dd>
<p>Simplified.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-08-17">2013-08-17</h2>

<h3 id="label-Sat+Aug+17+23-3A25-3A19+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Aug 17 23:25:19 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_time.rb
<dd>
<p>use the in_timezone() helper and define it at the top with other helpers.</p>
</dd></dl>

<h3 id="label-Sat+Aug+17+22-3A20-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 17 22:20:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_mload)
<dd>
<p>ignore auxiliary data, offset and zone, if invalid.  [ruby-core:56648] [Bug
#8795]</p>
</dd></dl>

<h3 id="label-Sat+Aug+17+20-3A11-3A49+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Aug 17 20:11:49 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>[DOC] MACH_ABSOLUTE_TIME_CLOCK_MONOTONIC is an available emulation for a
monotonic clock on Darwin. <a
href="https://developer.apple.com/library/mac/qa/qa1398/_index.html">developer.apple.com/library/mac/qa/qa1398/_index.html</a></p>
</dd></dl>

<h2 id="label-2013-08-16">2013-08-16</h2>

<h3 id="label-Fri+Aug+16+18-3A12-3A05+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 16 18:12:05 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/profile_test_all.rb
<dd>
<p>fix typo.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+18-3A09-3A20+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 16 18:09:20 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/profile_test_all.rb
<dd>
<p>remove space characters from test names.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+17-3A32-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 16 17:32:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/profile_test_all.rb
<dd>
<p>refactoring memory profiling tool for test-all. Add profiling targets
/proc/meminfo and /proc/self/status.</p>
</dd><dt>test/runner.rb
<dd>
<p>accept other than &#39;true&#39;.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+11-3A23-3A35+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Aug 16 11:23:35 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_size, rb_file_flock)
<dd>
<p>improve performance of Windows.</p>
</dd><dt>file.c (rb_file_truncate)
<dd>
<p>removed unnecessary ifdef.</p>
</dd><dt>test/test_file.rb (TestFile#test_truncate_size)
<dd>
<p>added an assertion for <a
href="../../classes/File.html#method-i-size">File#size</a>.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+10-3A07-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 10:07:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_single1)
<dd>
<p>Renamed from bigdivrem_single.  Add x_higher_bdigit argument.</p>
</dd><dt>(bigdivrem_single)
<dd>
<p>Just call bigdivrem_single1.</p>
</dd><dt>(bigdivrem_restoring)
<dd>
<p>Use bigdivrem_single1 to avoid memmove.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+09-3A17-3A00+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 09:17:00 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_small_rshift)
<dd>
<p>Specify the higher BDIGIT instead of sign bit.</p>
</dd><dt>(big_shift3)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+02-3A20-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 02:20:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_toom3)
<dd>
<p>Reduce a branch.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+02-3A14-3A09+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Aug 16 02:14:09 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>add CLOCK_MONOTONIC support on OS X. <a
href="http://developer.apple.com/library/mac/qa/qa1398/_index.html">developer.apple.com/library/mac/qa/qa1398/_index.html</a>
[Feature #8658]</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+01-3A37-3A43+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 01:37:43 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_single)
<dd>
<p>Use shift when y is a power of two.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+01-3A09-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 01:09:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_restoring)
<dd>
<p>Use bigdivrem_single if non-topmost BDIGITs of y are zero.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+00-3A33-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 00:33:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Truncate topmost zeros of x.</p>
</dd></dl>

<h3 id="label-Fri+Aug+16+00-3A00-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug 16 00:00:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_divmod)
<dd>
<p>Simplify an expression.</p>
</dd></dl>

<h2 id="label-2013-08-15">2013-08-15</h2>

<h3 id="label-Thu+Aug+15+23-3A26-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 15 23:26:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_normal)
<dd>
<p>Remove a local variable.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+23-3A08-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 15 23:08:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_karatsuba)
<dd>
<p>Use bigdivrem_restoring directly to reduce working buffer and memory copy.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Allocate working buffer for big2str_karatsuba here.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+20-3A51-3A29+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug 15 20:51:29 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c, internal.h (rb_io_flush_raw)
<dd>
<p>new function to select calling fsync() (on Windows).</p>
</dd><dt>io.c (rb_io_flush_raw)
<dd>
<p>use above function.</p>
</dd><dt>file.c (rb_file_truncate)
<dd>
<p>use above function.</p>
</dd><dt>test/ruby/test_file.rb (TestFile#test_truncate_size)
<dd>
<p>test for above changes.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+18-3A39-3A31+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug 15 18:39:31 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (clock_gettime)
<dd>
<p>improve precision when freq is less than and nearly equals 10**9.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+17-3A43-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 15 17:43:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_lazy_sweep)
<dd>
<p>remove heap_increment() here because heap_inc may be 0.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+16-3A59-3A56+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug 15 16:59:56 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_rewind)
<dd>
<p>remove fsync() for Windows to improve the performance.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+16-3A30-3A23+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug 15 16:30:23 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (TestFileUtils#test_rmdir)
<dd>
<p><a href="../../classes/FileUtils.html#method-c-rmdir">FileUtils.rmdir</a>
ignores Errno::ENOTEMPTY, so, in such cases, this assertion is nonsense.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+15-3A49-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug 15 15:49:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>[DOC] FreeBSD 7.1 supports CLOCK_THREAD_CPUTIME_ID. <a
href="http://www.freebsd.org/releases/7.1R/relnotes.html">www.freebsd.org/releases/7.1R/relnotes.html</a></p>
</dd></dl>

<h3 id="label-Thu+Aug+15+14-3A30-3A23+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug 15 14:30:23 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h, win32/Makefile.sub, win32/win32.c (clock_gettime)
<dd>
<p>[experimental] emulates clock_gettime(2) of posix.</p>
</dd></dl>

<h3 id="label-Thu+Aug+15+02-3A32-3A40+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Aug 15 02:32:40 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_aset)
<dd>
<p>[DOC] Document key dup patch by @kachick [Fixes GH-382] <a
href="https://github.com/ruby/ruby/pull/382">github.com/ruby/ruby/pull/382</a></p>
</dd></dl>

<h2 id="label-2013-08-14">2013-08-14</h2>

<h3 id="label-Wed+Aug+14+14-3A28-3A39+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Aug 14 14:28:39 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>now they return the symbols of the defined methods, not the methods/procs
themselves. [ruby-dev:42151] [Feature #3753]</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>documents about above change and def-expr (see r42337).</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>tests about above change.</p>
</dd></dl>

<h3 id="label-Wed+Aug+14+00-3A51-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 14 00:51:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_restoring)
<dd>
<p>xn argument removed.</p>
</dd><dt>(bigdivrem_normal)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Wed+Aug+14+00-3A18-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug 14 00:18:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_div_struct)
<dd>
<p>Remove xn and j field.  Add zn field.</p>
</dd><dt>(bigdivrem1)
<dd>
<p>Follow the above change.</p>
</dd><dt>(bigdivrem_restoring)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-08-13">2013-08-13</h2>

<h3 id="label-Tue+Aug+13+23-3A38-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug 13 23:38:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_div_struct)
<dd>
<p>ynzero field removed.</p>
</dd><dt>(bigdivrem1)
<dd>
<p>Follow the above change.</p>
</dd><dt>(bigdivrem_restoring)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Aug+13+23-3A01-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug 13 23:01:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_restoring)
<dd>
<p>Extracted from bigdivrem_normal.</p>
</dd></dl>

<h3 id="label-Tue+Aug+13+22-3A12-3A59+2013++Kenichi+Kamiya++-3Ckachick1-40gmail.com-3E">Tue Aug 13 22:12:59 2013  Kenichi Kamiya  &lt;kachick1@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rb_random_ulong_limited)
<dd>
<p>coerce before check negative. [Fixes GH-379]</p>
</dd></dl>

<h3 id="label-Tue+Aug+13+21-3A52-3A15+2013++Kenichi+Kamiya++-3Ckachick1-40gmail.com-3E">Tue Aug 13 21:52:15 2013  Kenichi Kamiya  &lt;kachick1@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (Init_Object)
<dd>
<p>undef Module#prepend_features on <a
href="../../classes/Class.html">Class</a>, as well as
Module#append_features.  [Fixes GH-376]</p>
</dd><dt>test_class.rb
<dd>
<p>Added test for above. And ensure type checking on similar methods as
module_function.</p>
</dd></dl>

<h3 id="label-Tue+Aug+13+08-3A52-3A18+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug 13 08:52:18 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a>
<dd>
<p>[DOC] String literal concat by @cknadler [Fixes GH-380] <a
href="https://github.com/ruby/ruby/pull/380">github.com/ruby/ruby/pull/380</a></p>
</dd></dl>

<h2 id="label-2013-08-12">2013-08-12</h2>

<h3 id="label-Mon+Aug+12+23-3A07-3A21+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Mon Aug 12 23:07:21 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_test)
<dd>
<p>inhibit gc for st&#39;s operation.</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+15-3A59-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 12 15:59:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_whole_match_p)
<dd>
<p>treat CR in middle of a line as a mere whitespace.</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+15-3A16-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 12 15:16:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_prepend_module)
<dd>
<p>make T_ICLASS object shady because this T_ICLASS object seems to share
method table with other class objects. It was causes WB miss. TODO: need to
know the data structure.</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>add a test for WB miss.</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+13-3A47-3A54+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug 12 13:47:54 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>[DOC] <a href="../../classes/RDoc.html">RDoc</a> formatting of <a
href="../../classes/Process.html#method-c-clock_gettime">Process.clock_gettime</a></p>
</dd></dl>

<h3 id="label-Mon+Aug+12+13-3A29-3A09+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug 12 13:29:09 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml/dbm.rb
<dd>
<p>[DOC] Document call-seq for <a
href="../../classes/YAML/DBM.html">YAML::DBM</a></p>
</dd></dl>

<h3 id="label-Mon+Aug+12+12-3A57-3A26+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug 12 12:57:26 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dbm/extconf.rb
<dd>
<p>[DOC] Hide from <a href="../../classes/RDoc.html">RDoc</a> Some libraries
might want to document extconf.rb so <a
href="../../classes/RDoc.html">RDoc</a> treats it like any other ruby
program. However, <a href="../../classes/DBM.html">DBM</a> users
shouldn&#39;t care about these methods.</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+12-3A53-3A39+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug 12 12:53:39 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dbm/dbm.c
<dd>
<p>[DOC] Reformat headings of <a href="../../classes/DBM.html">DBM</a> class</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+12-3A46-3A31+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug 12 12:46:31 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb, lib/yaml/
<dd>
<p>[DOC] Document <a
href="../../classes/YAML/DBM.html#method-i-key">YAML::DBM#key</a> and add
references to similar methods with more detail. This patch brings lib/yaml
to 100% documentation coverage.</p>
</dd></dl>

<h3 id="label-Mon+Aug+12+02-3A51-3A32+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Aug 12 02:51:32 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (readline_s_set_input)
<dd>
<p>on OS X with editline, <a
href="../../classes/Readline.html#method-c-readline">Readline.readline</a>
doesn&#39;t work because readline_get doesn&#39;t use rl_getc. The
difference is introduced by r42402 [ruby-dev:47509] [Bug #8644]. Before it
rb_io_stdio_file set ifp-&gt;stdio_file. Therefore add manually setting the
value.</p>
</dd><dt>ext/readline/readline.c (readline_s_set_output)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-08-11">2013-08-11</h2>

<h3 id="label-Sun+Aug+11+23-3A27-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug 11 23:27:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_str_encode_ospath)
<dd>
<p>OS path encoding on Mac OS X is also fixed.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+22-3A57-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug 11 22:57:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_require.rb (assert_require_nonascii_path)
<dd>
<p>OS path encoding on Windows is fixed, so encoding of __FILE__ should be it.
[ruby-core:56498] [Bug #8764]</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+19-3A11-3A45+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 19:11:45 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Expand abbreviated class name.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+19-3A06-3A03+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 19:06:03 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/sax2listener.rb (REXML::SAX2Listener#notationdecl)
<dd>
<p>Fix wrong number of arguments in the template listener. [Bug #8731]
[ruby-dev:47582] Reported by Ippei Obayashi.</p>
</dd><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Add tests for parsing notation declarations with SAX2 API.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+18-3A44-3A04+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 18:44:04 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/sax2listener.rb (REXML::SAX2Listener#elementdecl)
<dd>
<p>Fix wrong examples. [Bug #8731] [ruby-dev:47582] Reported by Ippei
Obayashi.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+18-3A42-3A13+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 18:42:13 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/sax2parser.rb (REXML::Parsers::SAX2Parser#handle_entitydecl)
<dd>
<p>Extract.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+18-3A40-3A25+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 18:40:25 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/sax2parser.rb (REXML::Parsers::SAX2Parser#parse)
<dd>
<p>Fix wrong “%” position in parameter entity declaration event argument.</p>
</dd><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Add tests for the above case.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+18-3A08-3A40+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 18:08:40 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/sax2parser.rb (REXML::Parsers::SAX2Parser#parse)
<dd>
<p>Support NDATA in external ID entity declaration.</p>
</dd><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Add tests for the above case.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+18-3A07-3A39+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 18:07:39 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser#pull_event)
<dd>
<p>Support optional NDATA in external ID entity declaration.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+17-3A54-3A07+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 17:54:07 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a> (REXML::Parsers::SAX2Parser)
<dd>
<p>Add about this change.</p>
</dd><dt>lib/rexml/parsers/sax2parser.rb (REXML::Parsers::SAX2Parser#parse)
<dd>
<p>Fix wrong number of arguments. Document says “an array of the entity
declaration” but it passes two or more arguments. This is a bug but it
break backward compatibility. Reported by Ippei Obayashi. [Bug #8731]
[ruby-dev:47582]</p>
</dd><dt>lib/rexml/sax2listener.rb (REXML::SAX2Listener#entitydecl)
<dd>
<p>ditto. The listener template accepted two arguments.</p>
</dd><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Add tests for external ID case.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+17-3A41-3A41+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Aug 11 17:41:41 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parser/test_sax2.rb
<dd>
<p>Add SAX2 API test.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+15-3A10-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug 11 15:10:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_enc_symname_type)
<dd>
<p>allow ID_ATTRSET for ID_INSTANCE, ID_GLOBAL, ID_CLASS, ID_JUNK too.  [Bug
#8756]</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+13-3A17-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sun Aug 11 13:17:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h
<dd>
<p>Reduce ENCODING_INLINE_MAX to 127 as this should be sufficient to represent
all the encodings Ruby supports.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+11-3A54-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 11 11:54:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_clock_gettime)
<dd>
<p>New method. This is accepted in the meeting: <a
href="https://bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130809">bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130809</a>
This method is accepted as a CRuby feature. I.e. Other Ruby implementations
don&#39;t need to implement it. [ruby-core:56087] [Feature #8658]</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+10-3A40-3A48+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Aug 11 10:40:48 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>[DOC] Correcting rdoc visibility of time.rb constants Reported by Tanaka
Akira [ruby-core:56517]</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+04-3A48-3A14+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Aug 11 04:48:14 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_str_normalize_ospath)
<dd>
<p>HFS Plus (Mac OS Extended) uses a variant of Normal Form D in which U+2000
through U+2FFF, U+F900 through U+FAFF, and U+2F800 through U+2FAFF are not
decomposed (this avoids problems with round trip conversions from old Mac
text encodings). <a
href="http://developer.apple.com/library/mac/qa/qa1173/_index.html">developer.apple.com/library/mac/qa/qa1173/_index.html</a>
Therefore fix r42457 to exclude the range.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+03-3A26-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 11 03:26:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bitsize)
<dd>
<p>Fix a conditional expression.</p>
</dd></dl>

<h3 id="label-Sun+Aug+11+02-3A44-3A03+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Aug 11 02:44:03 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>[DOC] Document constants by @markijbema [Fixes GH-377] <a
href="https://github.com/ruby/ruby/pull/377">github.com/ruby/ruby/pull/377</a></p>
</dd></dl>

<h3 id="label-Sun+Aug+11+01-3A28-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 11 01:28:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Revert r42458. It removes the HAVE_CLOCK_GETTIME from config.h. <a
href="http://www.rubyist.net/~akr/chkbuild/debian/ruby-trunk/log/20130809T044800Z.diff.html.gz">www.rubyist.net/~akr/chkbuild/debian/ruby-trunk/log/20130809T044800Z.diff.html.gz</a></p>
</dd></dl>

<h2 id="label-2013-08-10">2013-08-10</h2>

<h3 id="label-Sat+Aug+10+13-3A53-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 10 13:53:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_id_attrset)
<dd>
<p>allow other than ID_ATTRSET.</p>
</dd><dt>parse.y (intern_str)
<dd>
<p>ditto.  try stem ID for ID_INSTANCE, ID_GLOBAL, ID_CLASS, ID_JUNK too. 
[Bug #8756]</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+12-3A49-3A50+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 12:49:50 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser::CDATA_END)
<dd>
<p>Use “A” instead of “^”. It is not an used constant but I fix it. (Or should
I remove it?)</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+12-3A47-3A19+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 12:47:19 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser)
<dd>
<p>Fix wrong constant name. “]&gt;” pattern match is the same but it is used
for “&lt;!DOCTYPE” end mark not “&lt;![CDATA[” end mark.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+12-3A43-3A15+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 12:43:15 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser)
<dd>
<p>Use “A” instead of “^” in document type declaration patterns because they
are used as the head match in content not the head match in line. They
don&#39;t cause any problems in the current code but it should be fixed.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+12-3A39-3A00+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 12:39:00 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parse/test_document_type_declaration.rb
<dd>
<p>Add tests for parsing document type declaration.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+12-3A00-3A45+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 12:00:45 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser::SYSTEM)
<dd>
<p>Fix loose “head” match regular expression. It doesn&#39;t cause any problem
in the current code but it should be fixed because readers may confuse it.
Patch by Ippei Obayashi. Thanks!!!</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+11-3A58-3A24+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 11:58:24 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parse/test_notation_declaration.rb (#test_system_public)
<dd>
<p>Add a test for PUBLIC notation and SYSTEM notation order case.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+11-3A31-3A35+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Aug 10 11:31:35 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser::PUBLIC)
<dd>
<p>Fix loose “head” match regular expression. [Bug #8701] [ruby-dev:47551]
Patch by Ippei Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/parse/test_notation_declaration.rb (#test_system_public)
<dd>
<p>Add a test for the above case.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+09-3A20-3A21+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Aug 10 09:20:21 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>[DOC] typo in example reported by @moretea <a
href="https://github.com/ruby/ruby/commit/a39e724#commitcomment-3831489">github.com/ruby/ruby/commit/a39e724#commitcomment-3831489</a></p>
</dd></dl>

<h3 id="label-Sat+Aug+10+09-3A19-3A04+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Aug 10 09:19:04 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>[DOC] rdoc code formatting</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+09-3A12-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 10 09:12:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_id_attrset)
<dd>
<p>check if the argument is valid type as an attribute.</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+05-3A44-3A08+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Aug 10 05:44:08 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/trackback.rb
<dd>
<p>[DOC] Hide RSS::Trackback from rdoc Patch by Steve Klabnik [Bug #8755]
[ruby-core:56456]</p>
</dd></dl>

<h3 id="label-Sat+Aug+10+04-3A52-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug 10 04:52:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_div_struct)
<dd>
<p>Use size_t.</p>
</dd><dt>(bigdivrem1)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem_num_extra_words)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem_single)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-08-09">2013-08-09</h2>

<h3 id="label-Fri+Aug++9+23-3A47-3A15+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Aug  9 23:47:15 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/rexmlparser.rb
<dd>
<p>Remove needless <a href="../../classes/REXML.html">REXML</a> version check.
Both <a href="../../classes/RSS.html">RSS</a> Parser and <a
href="../../classes/REXML.html">REXML</a> are bundled in Ruby. <a
href="../../classes/RSS.html">RSS</a> Parser can always use the latest <a
href="../../classes/REXML.html">REXML</a>. [Bug #8754] [ruby-core:56454]
Patch by Steve Klabnik. Thanks!!!</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+22-3A51-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  9 22:51:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (XLDFLAGS, LIBRUBYARG_STATIC)
<dd>
<p>CoreFoundation framework option is now needed always, regardless
enable-shared. [ruby-core:56467] [Bug #8759]</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+22-3A20-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  9 22:20:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (load_file_internal)
<dd>
<p>use rb_parser_compile_string_path and rb_parser_compile_file_path, String
path name versions.  [Bug #8753]</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+07-3A16-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Aug  9 07:16:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c
<dd>
<p>delete redefinition of rb_cloexec_open. drop support for 1.8 and 1.9 from
the next release of io-console gem.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+19-3A13-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug  9 19:13:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>update about new methods for <a
href="../../classes/Binding.html">Binding</a>.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+18-3A48-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug  9 18:48:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>add <a
href="../../classes/Binding.html#method-i-local_variable_get">Binding#local_variable_get</a>/set/defined?
to access local variables which a binding contains. Most part of
implementation by nobu.</p>
</dd><dt>test/ruby/test_proc.rb
<dd>
<p>add a tests for above.</p>
</dd><dt>vm.c, vm_core.h (rb_binding_add_dynavars)
<dd>
<p>add a new function to add a new environment to create space for new local
variables.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+14-3A02-3A01+2013++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  9 14:02:01 2013  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>Fix order of priority for option parameter.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+12-3A06-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  9 12:06:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_str_normalize_ospath)
<dd>
<p>normalize to Normalization Form C using CFString.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+10-3A53-3A57+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Fri Aug  9 10:53:57 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (get_timeval, get_new_timeval)
<dd>
<p>use rb_obj_class() instead of CLASS_OF() because CLASS_OF() may return a
singleton class.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+10-3A42-3A11+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Fri Aug  9 10:42:11 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_invoke_block)
<dd>
<p>returning from lambda proc now always exits from the <a
href="../../classes/Proc.html">Proc</a>. [ruby-core:56193] [Feature #8693]</p>
</dd><dt><a href="../NEWS.html">NEWS</a>, test/ruby/test_lambda.rb
<dd>
<p>ditto. Patch by nobu.</p>
</dd></dl>

<h3 id="label-Fri+Aug++9+00-3A10-3A32+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  9 00:10:32 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (lazy_zip_func)
<dd>
<p>fix non-single argument.  fix out-of-bound access and pack multiple yielded
values. [ruby-core:56383] [Bug #8735]</p>
</dd></dl>

<h2 id="label-2013-08-08">2013-08-08</h2>

<h3 id="label-Thu+Aug++8+23-3A01-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  8 23:01:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_singleton_p)
<dd>
<p>new method <a
href="../../classes/Module.html#method-i-singleton_class-3F">Module#singleton_class?</a>
to return whether the receiver is a singleton class or not.
[ruby-core:51087] [Feature #7609]</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+21-3A56-3A44+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  8 21:56:44 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_overflow_p)
<dd>
<p>Avoid signed integer overflow.</p>
</dd><dt>(rb_time_new)
<dd>
<p>Fix overflow condition.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+19-3A58-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug  8 19:58:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_threadptr_pending_interrupt_check_mask)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+19-3A56-3A52+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug  8 19:56:52 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_format_m)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+19-3A55-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug  8 19:55:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>define USE_RGENGC_LOGGING_WB_UNPROTECT.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+16-3A44-3A25+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug  8 16:44:25 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add old macro name `RUBY_EVENT_SWITCH&#39;. This macro name is obsolete
because it is renamed to RUBY_INTERNAL_EVENT_SWITCH, but it has
compatibility problem using this macro name like ruby-prof. I want to
remove this macro after ruby 2.1.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+15-3A37-3A53+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug  8 15:37:53 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/coverage/test_coverage.rb (TestCoverage#test_big_code)
<dd>
<p>use `1&#39; instead of `p&#39; to get rid of a side effect. <a
href="../../classes/Kernel.html#method-i-p">Kernel#p</a> without any
argument seems to do nothing, but flushes stdout. and, if stdout is
redirected to file, fsync() will be called on Windows.  so, when running
test-all on Windows with redirection, such as CI environment, this test
took a lot of time.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+14-3A54-3A18+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Aug  8 14:54:18 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add description of incompatibility introduced by r42396. [ruby-core:56329]
[Bug #8722]</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+14-3A50-3A36+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Aug  8 14:50:36 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (mini)
<dd>
<p>portable target to build miniruby</p>
</dd><dt>common.mk (bisect)
<dd>
<p>run git-bisect with miniruby</p>
</dd><dt>common.mk (bisect-ruby)
<dd>
<p>run git-bisect with ruby</p>
</dd><dt>tool/bisect.sh
<dd>
<p>script for git-bisect</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+12-3A11-3A43+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Aug  8 12:11:43 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_httpresponse.rb (test_send_body_*_chunked)
<dd>
<p>these expectations assumes that the IOs are binmode.  fixed test failures
introduced at r42427 on Windows.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+10-3A27-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  8 10:27:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (range_last)
<dd>
<p>revert r42400.  [Bug #8739]</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+10-3A26-3A25+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  8 10:26:25 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_str_normalize_ospath)
<dd>
<p>extract and move from dir.c.</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+05-3A59-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Aug  8 05:59:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>Fix test for CVE-2013-4073. Patch by Antonio Terceiro. [Bug #8750]
[ruby-core:56437]</p>
</dd></dl>

<h3 id="label-Thu+Aug++8+03-3A37-3A38+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Aug  8 03:37:38 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpresponse.rb
<dd>
<p>Allow body to be an IO-like object that responds to readpartial and read.
[ruby-trunk - Feature #8155]</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p><a href="../NEWS.html">NEWS</a> for above</p>
</dd><dt>test/webrick/test_httpresponse.rb
<dd>
<p>Tests for above.</p>
</dd></dl>

<h2 id="label-2013-08-07">2013-08-07</h2>

<h3 id="label-Wed+Aug++7+23-3A06-3A26+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Aug  7 23:06:26 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (Process.argv0)
<dd>
<p>New method to return the original value of $0. [Feature #8696]</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+23-3A05-3A55+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Aug  7 23:05:55 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (Process.setproctitle)
<dd>
<p>New method to change the title of the running process that is shown in
ps(1). [Feature #8696]</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+20-3A05-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug  7 20:05:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_odd_p)
<dd>
<p>Check the bignum length.</p>
</dd><dt>(rb_big_even_p)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+19-3A29-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug  7 19:29:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (dbl2big)
<dd>
<p>A condition simplified.</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+16-3A34-3A30+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Aug  7 16:34:30 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_cgi.rb (TestWEBrickCGI#{start_cgi_server,test_cgi})
<dd>
<p>mswin is not only mswin32 but also mswin64. [Bug #8746]</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+16-3A19-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug  7 16:19:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_fiber_start)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd><dt>proc.c (curry)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (rb_proc_call)
<dd>
<p>remove line break.</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+13-3A20-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug  7 13:20:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (random_load)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+12-3A58-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug  7 12:58:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_start_func_2)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+09-3A00-3A24+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Aug  7 09:00:24 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>[DOC] Description of rb_str_equal [Fixes GH-375] Based on a patch by
@markijbema <a
href="https://github.com/ruby/ruby/pull/375">github.com/ruby/ruby/pull/375</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++7+08-3A30-3A38+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Aug  7 08:30:38 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_hmac.c
<dd>
<p>[DOC] Documentation for <a
href="../../classes/OpenSSL/HMAC.html">OpenSSL::HMAC</a> based on a patch
by @repah documenting-ruby/ruby#14 <a
href="https://github.com/documenting-ruby/ruby/pull/14">github.com/documenting-ruby/ruby/pull/14</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++7+07-3A46-3A23+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Aug  7 07:46:23 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/utils.rb
<dd>
<p>[DOC] <a href="../../classes/RSS/Utils.html">RSS::Utils</a> by Steve
Klabnik [Bug #8745]</p>
</dd></dl>

<h3 id="label-Wed+Aug++7+07-3A38-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Aug  7 07:38:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (nlz16)
<dd>
<p>Removed.</p>
</dd><dt>(nlz32)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz64)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz128)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz_int)
<dd>
<p>New function.</p>
</dd><dt>(nlz_long)
<dd>
<p>New function.</p>
</dd><dt>(nlz_long_long)
<dd>
<p>New function.</p>
</dd><dt>(nlz_int128)
<dd>
<p>New function.</p>
</dd><dt>(nlz)
<dd>
<p>Follow above changes.</p>
</dd><dt>(bitsize)
<dd>
<p>Follow above changes.</p>
</dd></dl>

<h2 id="label-2013-08-06">2013-08-06</h2>

<h3 id="label-Tue+Aug++6+22-3A38-3A15+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug  6 22:38:15 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c
<dd>
<p>[DOC] Typo in <a href="../../classes/Time.html">Time</a> overview by @sparr
[Fixes GH-374] <a
href="https://github.com/ruby/ruby/pull/374">github.com/ruby/ruby/pull/374</a></p>
</dd></dl>

<h3 id="label-Tue+Aug++6+22-3A35-3A32+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug  6 22:35:32 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/1.0.rb
<dd>
<p>[DOC] Document RSS10 by Steve Klabnik [Bug #8740]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+22-3A14-3A11+2013++Kouji+Takao++-3Ckouji.takao-40gmail.com-3E">Tue Aug  6 22:14:11 2013  Kouji Takao  &lt;kouji.takao@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (readline_s_delete_text)
<dd>
<p>remove checking “$SAFE == 4”.</p>
</dd><dt>ext/readline/readline.c
<dd>
<p>fix rdoc, remove “Raises SecurityError” and add “Raises
NotImplementedError”.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+22-3A04-3A38+2013++Kouji+Takao++-3Ckouji.takao-40gmail.com-3E">Tue Aug  6 22:04:38 2013  Kouji Takao  &lt;kouji.takao@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c, test/readline/test_readline.rb
<dd>
<p>fix indent.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+21-3A59-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug  6 21:59:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (range_last)
<dd>
<p>return nil for empty range, or in the case the predecessor is smaller than
the begin.  [Bug #8739]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+21-3A48-3A31+2013++Kouji+Takao++-3Ckouji.takao-40gmail.com-3E">Tue Aug  6 21:48:31 2013  Kouji Takao  &lt;kouji.takao@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (readline_s_set_point, Init_readline)
<dd>
<p>add <a
href="../../classes/Readline.html#method-c-point-3D">Readline.point=</a>.
Patched by naruse.  [ruby-dev:47535] [Feature #8675]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+21-3A14-3A11+2013++Kouji+Takao++-3Ckouji.takao-40gmail.com-3E">Tue Aug  6 21:14:11 2013  Kouji Takao  &lt;kouji.takao@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (Init_readline, readline_s_set_output, clear_rl_outstream, readline_s_set_input, clear_rl_instream, readline_readline)
<dd>
<p>fix causing SEGV if closed <a href="../../classes/IO.html">IO</a> object
that is set Readline.input or Readline.output. Patched by akr
[ruby-dev:47509] [Bug #8644]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+17-3A56-3A40+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug  6 17:56:40 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>change type of stack_max to size_t.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+17-3A42-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug  6 17:42:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (range_last)
<dd>
<p>exclude the last number of the exclusive range if the end is <a
href="../../classes/Numeric.html">Numeric</a>.  [ruby-dev:47587] [Bug
#8739]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+17-3A42-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug  6 17:42:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_conv_from_wchar)
<dd>
<p>converted string to CP_UTF8 should have UTF-8 encoding.  otherwise no
conversion takes place later.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+17-3A21-3A38+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug  6 17:21:38 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>fix stack overflow check codes. Stack overflow check should be done
<strong>after</strong> pushing a stack frame. However, some stack overflow
checking codes checked <strong>before</strong> pushing a stack frame with
iseq-&gt;stack_max. To solve this problem, add a new parameter
`stack_max&#39; to specify a possible consuming stack size.</p>
</dd><dt>vm_core.h (CHECK_VM_STACK_OVERFLOW0)
<dd>
<p>add to share the stack overflow checking code.</p>
</dd><dt>insns.def
<dd>
<p>catch up this change.</p>
</dd><dt>vm.c, vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_exception.rb
<dd>
<p>add a stack overflow test. This code is reported by nobu.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+17-3A02-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug  6 17:02:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_conv_from_wchar)
<dd>
<p>use WideCharToMultiByte(), as like as mbstr_to_wstr(), in the first step of
the conversion from WCHAR.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+16-3A14-3A32+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Aug  6 16:14:32 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>copy cref to limit the scope of refinements in the eval string.
[ruby-core:56329] [Bug #8722]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+12-3A23-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug  6 12:23:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_realloc)
<dd>
<p>Use VALGRIND_MAKE_MEM_UNDEFINED to declare undefined memory area.</p>
</dd><dt>(bignew_1)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (VALGRIND_MAKE_MEM_DEFINED)
<dd>
<p>Moved from gc.c</p>
</dd><dt>(VALGRIND_MAKE_MEM_UNDEFINED)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+01-3A40-3A37+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug  6 01:40:37 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>[DOC] Document caveats of command form of <a
href="../../classes/Process.html#method-c-spawn">Process.spawn</a> with
regard to the shell and OS. Patched by Steve Klabnik [Bug #8550]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+01-3A28-3A35+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug  6 01:28:35 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/0.9.rb
<dd>
<p>[DOC] Typo in example [Bug #8732]</p>
</dd></dl>

<h3 id="label-Tue+Aug++6+01-3A22-3A37+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Aug  6 01:22:37 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/2.0.rb
<dd>
<p>[DOC] Document RSS::Rss by Steve Klabnik #8740</p>
</dd><dt>lib/rss/atom.rb
<dd>
<p>[DOC] Typo in rdoc by Steve Klabnik</p>
</dd></dl>

<h2 id="label-2013-08-05">2013-08-05</h2>

<h3 id="label-Mon+Aug++5+23-3A47-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Aug  5 23:47:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Rename local variables.</p>
</dd></dl>

<h3 id="label-Mon+Aug++5+22-3A23-3A59+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug  5 22:23:59 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>[DOC] Fix <a href="../../classes/TracePoint.html">TracePoint</a> return
values in examples Based on a patch by @sho-h [Fixes GH-373] <a
href="https://github.com/ruby/ruby/pull/373">github.com/ruby/ruby/pull/373</a></p>
</dd></dl>

<h3 id="label-Mon+Aug++5+17-3A38-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug  5 17:38:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_write_console)
<dd>
<p>use MultiByteToWideChar() for the last step of conversion to WCHAR, to get
rid of warnings from rb_enc_find() in miniruby.  [ruby-dev:47584] [Bug
#8733]</p>
</dd><dt>win32/win32.c (wstr_to_mbstr, mbstr_to_wstr)
<dd>
<p>fix wrong trimming. WideCharToMultiByte() and MultiByteToWideChar() do not
count NUL-terminator in the size for conversion result, unless the input
length is -1.</p>
</dd></dl>

<h3 id="label-Mon+Aug++5+11-3A51-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Aug  5 11:51:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h
<dd>
<p>document which user flags are used by ENCODING_MASK for better greppability</p>
</dd></dl>

<h3 id="label-Mon+Aug++5+10-3A01-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Aug  5 10:01:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_class_inherited_p)
<dd>
<p>allow iclasses to be tested for inheritance. [Bug #8686] [ruby-core:56174]</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Mon+Aug++5+06-3A13-3A48+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug  5 06:13:48 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c
<dd>
<p>[DOC] Remove reference to <a
href="../../classes/Enumerable.html#method-i-cycle">Enumerable#cycle</a>
Patch by @kachick [Fixes GH-372] <a
href="https://github.com/ruby/ruby/pull/372">github.com/ruby/ruby/pull/372</a></p>
</dd></dl>

<h3 id="label-Mon+Aug++5+03-3A57-3A16+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug  5 03:57:16 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/0.9.rb
<dd>
<p>[DOC] Document RSS09 by Steve Klabnik [Bug #8732]</p>
</dd></dl>

<h3 id="label-Mon+Aug++5+03-3A35-3A11+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Aug  5 03:35:11 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/attribute.rb
<dd>
<p>[DOC] Update example for namespace Patch by Ippei Obayashi [Bug #8685]
[ruby-core:56173]</p>
</dd></dl>

<h2 id="label-2013-08-04">2013-08-04</h2>

<h3 id="label-Sun+Aug++4+21-3A08-3A29+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Aug  4 21:08:29 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>performance implement by using ALLOCA_N() to allocate tmp buffer.</p>
</dd></dl>

<h3 id="label-Sun+Aug++4+07-3A14-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug  4 07:14:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT, <a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>Mention rb_integer_pack and rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sun+Aug++4+01-3A54-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug  4 01:54:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BARY_TRUNC)
<dd>
<p>New macro.</p>
</dd><dt>(bary_cmp)
<dd>
<p>Use BARY_TRUNC.</p>
</dd><dt>(bary_mul_toom3)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Ditto.</p>
</dd><dt>(abs2twocomp)
<dd>
<p>Ditto.</p>
</dd><dt>(bigfixize)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Ditto.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Aug++4+00-3A57-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug  4 00:57:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_karatsuba)
<dd>
<p>Don&#39;t allocate new temporary buffer if the buffer is enough for current
invocation.</p>
</dd></dl>

<h3 id="label-Sun+Aug++4+00-3A22-3A34+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug  4 00:22:34 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary2bdigitdbl)
<dd>
<p>New function.</p>
</dd><dt>(bdigitdbl2bary)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_single)
<dd>
<p>Use bdigitdbl2bary.</p>
</dd><dt>(power_cache_get_power)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Use bary2bdigitdbl.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-08-03">2013-08-03</h2>

<h3 id="label-Sat+Aug++3+22-3A47-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 22:47:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>The branch condition of selecting multiplication algorithms should check
smaller argument because Karatsuba and Toom3 is effective only if both
arguments are big.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Compare the smaller argument to TOOM3_MUL_DIGITS.</p>
</dd><dt>(bary_mul)
<dd>
<p>Compare the smaller argument to KARATSUBA_MUL_DIGITS.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+22-3A23-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 22:23:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_orig)
<dd>
<p>Receive the number to stringize as BDIGIT array and size.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Receive the number to stringize as BDIGIT array and size.  Use an temporary
array of BDIGIT.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+13-3A30-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 13:30:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (MAX_BASE36_POWER_TABLE_ENTRIES)
<dd>
<p>Renamed from MAX_BIG2STR_TABLE_ENTRIES.</p>
</dd><dt>(base36_power_cache)
<dd>
<p>Renamed from big2str_power_cache.</p>
</dd><dt>(base36_numdigits_cache)
<dd>
<p>Renamed from big2str_numdigits_cache.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+10-3A33-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug  3 10:33:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_set_integer_literal)
<dd>
<p>use rb_rational_raw1() for integral rational because no reduction is needed
with 1.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+09-3A46-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug  3 09:46:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (setup_passwd, setup_group)
<dd>
<p>set proper encodings to string members.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+09-3A30-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug  3 09:30:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_define_under)
<dd>
<p>new function to define <a href="../../classes/Struct.html">Struct</a> under
the given namespace, not under <a
href="../../classes/Struct.html">Struct</a>.  [Feature #8264]</p>
</dd><dt>ext/etc/etc.c
<dd>
<p>use rb_struct_define_under.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+06-3A55-3A29+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Aug  3 06:55:29 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (value_expr_gen)
<dd>
<p>now NODE_DEFN and NODE_DEFS are not void value expressions.  get rid of
wrong warning with -w, and make to pass tests with chkbuild.  ref. [Feature
#3753]</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+04-3A23-3A48+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Aug  3 04:23:48 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>Remove mention of instance_eval and module_eval from scope section per: <a
href="http://twitter.com/shugomaeda/status/363219951336693761">twitter.com/shugomaeda/status/363219951336693761</a></p>
</dd></dl>

<h3 id="label-Sat+Aug++3+02-3A22-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 02:22:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_orig)
<dd>
<p>Refactored.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+01-3A20-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 01:20:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigadd_core)
<dd>
<p>Removed.</p>
</dd><dt>(bigadd)
<dd>
<p>Use bary_add instead of bigadd_core.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+00-3A52-3A43+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Aug  3 00:52:43 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Simplify power_level calculation.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+00-3A34-3A20+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sat Aug  3 00:34:20 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>use rb_ary_new2() to create buffer if rb_block_arity() &gt; 1.</p>
</dd></dl>

<h3 id="label-Sat+Aug++3+00-3A12-3A00+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sat Aug  3 00:12:00 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add the description that <a
href="../../classes/IO.html#method-i-seek">IO#seek</a> supports SEEK_DATA
and SEEK_HOLE.</p>
</dd></dl>

<h2 id="label-2013-08-02">2013-08-02</h2>

<h3 id="label-Fri+Aug++2+23-3A57-3A57+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Aug  2 23:57:57 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (m_core_define_method, m_core_define_singleton_method)
<dd>
<p>now the value of def-expr is the <a
href="../../classes/Symbol.html">Symbol</a> of the name of the method, not
nil. ref. [ruby-dev:42151] [Feature #3753]</p>
</dd><dt>test/ruby/test_syntax.rb (TestSyntax#test_value_of_def)
<dd>
<p>test for above changes.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+23-3A54-3A11+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Aug  2 23:54:11 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>performance improvement by avoiding array creation if rb_block_arity() &gt;
1.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+23-3A50-3A53+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug  2 23:50:53 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (power_cache_get_power)
<dd>
<p>Apply bigtrunc to the result of bigsq.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Fix number of leading zero characters.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+23-3A48-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  2 23:48:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>calculate denominator directly as powers of ten, not parsing string.</p>
</dd><dt>parse.y (parser_number_literal_suffix)
<dd>
<p>return bit set of found suffixes.</p>
</dd><dt>parse.y (parser_set_number_literal, parser_set_integer_literal)
<dd>
<p>split from parser_number_literal_suffix to set yylval.</p>
</dd><dt>parse.y (parser_yylex)
<dd>
<p>parse rational number literal with decimal point precisely.</p>
</dd><dt>parse.y (simple_numeric)
<dd>
<p>integrate numeric literals and simplify numeric rules.</p>
</dd><dt>ext/ripper/eventids2.c (ripper_init_eventids2)
<dd>
<p>ripper support for new literals, tRATIONAL and tIMAGINARY.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+18-3A33-3A28+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug  2 18:33:28 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_karatsuba)
<dd>
<p>Reduce power_level more than one at recursion, if possible.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+12-3A25-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug  2 12:25:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>Swap x and y for bary_mul1 if x is longer than y. [ruby-dev:47565] [Bug
#8719] Reported by Narihiro Nakamura.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+10-3A39-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Aug  2 10:39:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (negate_lit)
<dd>
<p>add T_RATIONAL and T_COMPLEX to the switch statement, and call rb_bug() if
an unknown type is passed to negate_lit(). [ruby-core:56316] [Bug #8717]</p>
</dd><dt>bootstraptest/test_literal_suffix.rb (assert_equal)
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+09-3A14-3A47+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Aug  2 09:14:47 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>Improve description of where you may activate refinements.</p>
</dd></dl>

<h3 id="label-Fri+Aug++2+07-3A45-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Aug  2 07:45:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_orig)
<dd>
<p>Remove len argument.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow above change.</p>
</dd></dl>

<h3 id="label-Thu+Aug++2+02-3A32-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Aug  2 02:32:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add the description of number literal suffixes.</p>
</dd></dl>

<h3 id="label-Thu+Aug++2+00-3A02-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Aug  2 00:02:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_literal_suffix.rb
<dd>
<p>add two test cases to examine that “1if true” and “1rescue nil” are
recognized as 1.</p>
</dd></dl>

<h2 id="label-2013-08-01">2013-08-01</h2>

<h3 id="label-Thu+Aug++1+23-3A45-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Aug  1 23:45:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (rb_flt_rationalize_with_prec)
<dd>
<p>new public C function to rationalize a <a
href="../../classes/Float.html">Float</a> instance with a precision.</p>
</dd><dt>rational.c (rb_flt_rationalize)
<dd>
<p>new public C function to rationalize a <a
href="../../classes/Float.html">Float</a> instance.  A precision is
calculated from the given float number.</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>Add rb_flt_rationalize_with_prec and rb_flt_rationalize.</p>
</dd><dt>parse.y
<dd>
<p>implement number literal suffixes, &#39;r&#39; and &#39;i&#39;.
[ruby-core:55096] [Feature #8430]</p>
</dd><dt>bootstraptest/test_literal_suffix.rb
<dd>
<p>add tests for parser to scan number literals with the above tsuffixes.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+23-3A55-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 23:55:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Remove a local variable.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+23-3A33-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 23:33:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Use power_cache_get_power.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+21-3A02-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 21:02:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Raise an error for too big number.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+20-3A46-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 20:46:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (power_cache_get_power)
<dd>
<p>Hide cached <a href="../../classes/Bignum.html">Bignum</a> objects.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+19-3A15-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 19:15:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2str1)
<dd>
<p>Remove non-trim mode.</p>
</dd><dt>(rb_big2str0)
<dd>
<p>Non-trim mode implemented here.</p>
</dd><dt>(big2str_find_n1)
<dd>
<p>Change the result type to long again.</p>
</dd><dt>(big2str_base_powerof2)
<dd>
<p>Don&#39;t take arguments: len and trim.</p>
</dd><dt>(rb_big2str)
<dd>
<p>Follow above change.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+12-3A37-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 12:37:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_alloc)
<dd>
<p>New function to allocate the result string. It is called after actual
length is calculated.</p>
</dd><dt>(big2str_struct)
<dd>
<p>Add fields: negative, result and ptr.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Write out the result via b2s-&gt;ptr.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Don&#39;t allocate the result string at beginning.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+07-3A36-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 07:36:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_orig)
<dd>
<p>Use temporary buffer when trim mode.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+06-3A28-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 06:28:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_orig)
<dd>
<p>Simplified because RBIGNUM_LEN(x) &lt;= 2 now.</p>
</dd><dt>(big2str_struct)
<dd>
<p>Two fields added: hbase2, hbase2_numdigits.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Initialize above fields.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+04-3A06-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  1 04:06:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/options.rb (RDoc#finish)
<dd>
<p>include root path in include paths, to work in another directory than the
source directory. [ruby-core:56282] [Bug #8712]</p>
</dd><dt>test/test_rdoc_markup_pre_process.rb (TestRDocMarkupPreProcess#setup)
<dd>
<p>fix input_file_name, as the test script is not pre-processed.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+01-3A45-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 01:45:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_karatsuba)
<dd>
<p>Fix a condition of power_level.</p>
</dd></dl>

<h3 id="label-Thu+Aug++1+01-3A09-3A02+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Aug  1 01:09:02 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (LOG2_KARATSUBA_BIG2STR_DIGITS)
<dd>
<p>Removed.</p>
</dd><dt>(KARATSUBA_BIG2STR_DIGITS)
<dd>
<p>Removed.</p>
</dd><dt>(big2str_numdigits_cache)
<dd>
<p>New variable.</p>
</dd><dt>(power_cache_get_power)
<dd>
<p>Merged with power_cache_get_power0. This function returns
maxpow_in_bdigit_dbl(base)**(2**power_level).</p>
</dd><dt>(rb_big2str1)
<dd>
<p>use power_cache_get_power.</p>
</dd></dl>

<h2 id="label-2013-07-31">2013-07-31</h2>

<h3 id="label-Wed+Jul+31+23-3A59-3A28+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 31 23:59:28 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_find_n1)
<dd>
<p>Change the return type to size_t.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Ditto.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow the above changes.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+23-3A19-3A06+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 31 23:19:06 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (power_cache_get_power)
<dd>
<p>Change numdigits_ret to size_t *.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Change len argument to size_t.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Follow the above changes.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A59-3A47+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:59:47 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/parse/test_notation_declaration.rb
<dd>
<p>Change class name to follow file name change.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A57-3A50+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:57:50 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Rename to …</p>
</dd><dt>test/rexml/parse/test_notation_declaration.rb
<dd>
<p>… this.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A54-3A39+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:54:39 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_mixin.rb
<dd>
<p>Remove duplicated tests.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A52-3A55+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:52:55 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Fix typos in expected value. pubilc -&gt; public ^^</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A50-3A51+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:50:51 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Add tests that focus system literal in external ID system notation
declaration.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A36-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 31 22:36:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_cmp)
<dd>
<p>Extracted from rb_big_cmp.</p>
</dd><dt>(power_cache_get_power)
<dd>
<p>Change n1 argument (number of digits) to power_level which is just passed
to power_cache_get_power0.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Calculate the initial power_level.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A04-3A36+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:04:36 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Fix a typo. Extern  ID -&gt; ExternalID ^^</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A01-3A36+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 22:01:36 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Add tests that focus public ID in external ID notation declaration.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+22-3A01-3A24+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jul 31 22:01:24 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>fix build error with bison-3.0.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A58-3A53+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:58:53 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Split test patterns.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A42-3A33+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:42:33 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Group tests.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A37-3A51+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:37:51 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_mixin.rb (TestNotationDecl#test_name)
<dd>
<p>Move to …</p>
</dd><dt>test/rexml/test_notationdecl_parsetest.rb (TestNotationDecl#test_name)
<dd>
<p>… here.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A37-3A47+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:37:47 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"></dl>

<h3 id="label-Wed+Jul+31+21-3A31-3A49+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:31:49 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>Remove setup because it doesn&#39;t share anything with other tests.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A24-3A55+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:24:55 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_attributes_mixin.rb
<dd>
<p>Remove a needless shebang.</p>
</dd><dt>test/rexml/test_notationdecl_mixin.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rexml/test_doctype.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rexml/test_xml_declaration.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rexml/test_changing_encoding.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+21-3A20-3A08+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jul 31 21:20:08 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_notationdecl_parsetest.rb
<dd>
<p>remove a needless shebang.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+20-3A11-3A01+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 31 20:11:01 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_rindex)
<dd>
<p>fix bug introduced in r42269. “”.rindex(“”) should return 0.</p>
</dd><dt>(str_rindex)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+19-3A55-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 31 19:55:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (MAX_BIG2STR_TABLE_ENTRIES)
<dd>
<p>Use SIZEOF_SIZE_T.</p>
</dd><dt>(power_cache_get_power0)
<dd>
<p>Add rb_bug call for too bit i argument.</p>
</dd><dt>(power_cache_get_power)
<dd>
<p>Simplified.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+18-3A32-3A25+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Jul 31 18:32:25 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb (URI.decode_www_form_component)
<dd>
<p>Use <a href="../../classes/String.html#method-i-b">String#b</a>.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+18-3A24-3A02+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Jul 31 18:24:02 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_mod_refine, mod_using, top_using)
<dd>
<p>don&#39;t show warnings because Refinements are no longer experimental.
[ruby-core:55993] [Feature #8632]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>fixes for the above change.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+17-3A55-3A55+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Wed Jul 31 17:55:55 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb (URI.decode_www_form_component)
<dd>
<p>Don&#39;t raise error when str includes multibyte characters.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+17-3A45-3A39+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 31 17:45:39 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_rindex)
<dd>
<p>performance improvement by using memrchr(3).</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+16-3A43-3A30+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 31 16:43:30 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_rindex)
<dd>
<p>refactoring and avoid to call str_nth() if pos == 0.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+14-3A41-3A36+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Jul 31 14:41:36 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>[DOC] Add a couple of notes on <a href="../../classes/Hash.html">Hash</a>
as storage. ref. [Feature #6589]</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+14-3A38-3A52+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Jul 31 14:38:52 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>[DOC] Fix example result.  <a href="../../classes/Hash.html">Hash</a> is
now ordered.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+14-3A38-3A10+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Jul 31 14:38:10 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>[DOC] Use the term “sorted” instead of “ordered” when mentioning SortSet.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+12-3A18-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 31 12:18:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_struct)
<dd>
<p>New structure.</p>
</dd><dt>(big2str_orig)
<dd>
<p>Use big2str_struct.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str1)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+31+12-3A02-3A16+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Jul 31 12:02:16 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>[DOC] typo in url patch by @Red54 [Fixes #369] <a
href="https://github.com/ruby/ruby/pull/369">github.com/ruby/ruby/pull/369</a></p>
</dd></dl>

<h3 id="label-Wed+Jul+31+07-3A09-3A07+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jul 31 07:09:07 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Import RubyGems from master as of commit 523551c</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-07-30">2013-07-30</h2>

<h3 id="label-Tue+Jul+30+22-3A21-3A54+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jul 30 22:21:54 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_hash.rb
<dd>
<p>add a test for enumeration order of <a
href="../../classes/Hash.html">Hash</a>.</p>
</dd></dl>

<h3 id="label-Tue+Jul+30+18-3A52-3A27+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul 30 18:52:27 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#intersect?, <a href="../../classes/Set.html#method-i-disjoint-3F">Set#disjoint?</a>)
<dd>
<p>Add new methods for testing if two sets have any element in common.
[ruby-core:45641] [Feature #6588] Based on the code by marcandre.</p>
</dd></dl>

<h3 id="label-Tue+Jul+30+17-3A16-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 30 17:16:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (ruby__sfvextra)
<dd>
<p>add QUOTE flag to escape unprintable characters.</p>
</dd></dl>

<h3 id="label-Tue+Jul+30+11-3A00-3A52+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 30 11:00:52 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/extconf.rb
<dd>
<p>[DOC] nodoc to reduce <a href="../../classes/Object.html">Object</a>
pollution</p>
</dd></dl>

<h3 id="label-Tue+Jul+30+08-3A19-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 30 08:19:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sizes.c (Init_sizes)
<dd>
<p>Define sizes only if the type actually exists.</p>
</dd></dl>

<h2 id="label-2013-07-29">2013-07-29</h2>

<h3 id="label-Mon+Jul+29+22-3A55-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 22:55:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sizes.c (Init_sizes)
<dd>
<p>define RbConfig::SIZEOF.  [Feature #8568]</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+22-3A25-3A20+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 29 22:25:20 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/curses.c
<dd>
<p>[DOC] Update location of samples</p>
</dd><dt>samples/curses/*
<dd>
<p>Move Curses samples and refactor from mixin The samples are included in
rdoc for module and use of mixin is confusing</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+22-3A16-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 29 22:16:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (LOG2_KARATSUBA_BIG2STR_DIGITS)
<dd>
<p>Renamed from LOG2_KARATSUBA_DIGITS.</p>
</dd><dt>(KARATSUBA_BIG2STR_DIGITS)
<dd>
<p>Renamed from KARATSUBA_DIGITS.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+22-3A04-3A45+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 29 22:04:45 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_compare_by_id)
<dd>
<p>add function prototype.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+21-3A53-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 29 21:53:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_compare_by_id)
<dd>
<p>don&#39;t call rb_hash_rehash() if self.compare_by_identity? == true.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+21-3A29-3A48+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 29 21:29:48 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_assoc)
<dd>
<p>performance improvement by replacing compare function in
RHASH(hash)-&gt;ntbl-&gt;type temporarily like r42224. it falls back to
rb_hash_foreach() if st_lookup() doesn&#39;t find the key.</p>
</dd><dt>test/ruby/test_hash.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+21-3A15-3A30+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jul 29 21:15:30 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_lazy_enumerator.rb (TestLazyEnumerator#test_initialize)
<dd>
<p>Make sure Enumerator::Lazy#initialize raises error if the object is frozen.
The check was performed by rb_ivar_set() before rb_check_frozen() was added
to enumerator_init().</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+21-3A06-3A42+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jul 29 21:06:42 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_init)
<dd>
<p>Add a frozenness check to prevent a frozen <a
href="../../classes/Enumerator.html">Enumerator</a> object from being
reinitialized with a different enumerable object.  This is the least we
should do, and more fixes will follow. [Fixes GH-368] Patch by Kenichi
Kamiya.</p>
</dd><dt>enumerator.c (generator_init)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+20-3A14-3A24+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 29 20:14:24 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_assoc)
<dd>
<p>revert r42224. table-&gt;type-&gt;compare is called only if hashes are
matched.</p>
</dd><dt>test/ruby/test_hash.rb
<dd>
<p>add a test to check using #== to compare.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+17-3A00-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 17:00:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (yycompile)
<dd>
<p>store file name as String to keep the encoding.</p>
</dd><dt>parse.y (rb_parser_compile_string_path, rb_parser_compile_file_path)
<dd>
<p>new functions to pass file name as a String.</p>
</dd><dt>parse.y (gettable_gen)
<dd>
<p>return a copy of the original file name, not a copy in filesystem encoding.</p>
</dd><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>use Qundef instead of “(eval)”.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+16-3A53-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 16:53:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_initialize_copy)
<dd>
<p>copy st_table type even if empty. [ruby-core:56256] [Bug #8703]</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+16-3A34-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 16:34:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_initialize_copy)
<dd>
<p>clear old table before copy new table.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+16-3A34-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 16:34:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_assoc)
<dd>
<p>aggregate object can be initialized only with link time constants.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+14-3A54-3A44+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 29 14:54:44 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_assoc)
<dd>
<p>performance improvement by replacing compare function in
RHASH(hash)-&gt;ntbl-&gt;type temporarily.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+14-3A52-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 14:52:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (xsystem)
<dd>
<p>expand environment variable in all macros not expanded with RbConfig.  [Bug
#8702]</p>
</dd><dt>test/mkmf/test_framework.rb (create_framework)
<dd>
<p>replace all $@ not only once.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+06-3A54-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 29 06:54:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_pipe)
<dd>
<p>use enum for compile time constants, instead of const int for debugging.</p>
</dd></dl>

<h3 id="label-Mon+Jul+29+00-3A11-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 29 00:11:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Specialized implementation added for nx == 2 &amp;&amp; ny == 2</p>
</dd></dl>

<h2 id="label-2013-07-28">2013-07-28</h2>

<h3 id="label-Sun+Jul+28+20-3A28-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Jul 28 20:28:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_getpartial)
<dd>
<p>use rb_str_locktmp_ensure(). [ruby-core:56121] [Bug #8669]</p>
</dd><dt>io.c (rb_io_sysread)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>add tests for above.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+20-3A10-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 28 20:10:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (extmake)
<dd>
<p>should make static libraries for extensions to be statically linked.  [Bug
#7948]</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+17-3A38-3A32+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Jul 28 17:38:32 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>add internal API rb_str_locktmp_ensure().</p>
</dd><dt>io.c (io_fread)
<dd>
<p>use rb_str_locktmp_ensure(). [ruby-core:56121] [Bug #8669]</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+13-3A04-3A39+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sun Jul 28 13:04:39 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (interpret_seek_whence)
<dd>
<p>support SEEK_DATA and SEEK_HOLE. These are whences for lseek(2) supported
by Linux since version 3.1. [ruby-core:56123] [Feature #8671]</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>Add tests for above.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+12-3A41-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 28 12:41:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_generic)
<dd>
<p>The char_bit variable changed to static constant.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+12-3A03-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 28 12:03:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Constify bary_* functions.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+11-3A12-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 28 11:12:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_absint_size)
<dd>
<p>Declaration moved from internal.h to calculate required buffer size to pack
integers.</p>
</dd><dt>(rb_absint_numwords)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_absint_singlebit_p)
<dd>
<p>Ditto. [ruby-core:42813] [Feature #6065]</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+10-3A54-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 28 10:54:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_pipe)
<dd>
<p>fix pipe name formatting.  as “%x” may not contain &#39;0&#39; at all, fill
at fixed position instead.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+00-3A35-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 28 00:35:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_size)
<dd>
<p>Return the bignum “bytewise” size. [ruby-core:55578] [Feature #8553] This
is accepted by matz on DevelopersMeeting20130727Japan.</p>
</dd></dl>

<h3 id="label-Sun+Jul+28+00-3A07-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 28 00:07:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_integer_pack)
<dd>
<p>Declaration moved from internal.h.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Ditto. [ruby-core:42813] [Feature #6065]</p>
</dd></dl>

<h2 id="label-2013-07-26">2013-07-26</h2>

<h3 id="label-Fri+Jul+26+23-3A18-3A13+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Jul 26 23:18:13 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add a new feature that <a
href="../../classes/REXML/Parsers/StreamParser.html">REXML::Parsers::StreamParser</a>
supports “entity” event.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+23-3A14-3A31+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Jul 26 23:14:31 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/parsers/streamparser.rb (REXML::Parsers::StreamParser#parse)
<dd>
<p>Add “entity” event support to listener. [Bug #8689] [ruby-dev:47542]
Reported by Ippei Obayashi.</p>
</dd><dt>test/rexml/test_stream.rb (StreamTester#entity)
<dd>
<p>Add a test for the above case.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+23-3A05-3A27+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 26 23:05:27 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>separate numeric literal from succeeding token, and treat &#39;e&#39; as
floating point number only if followed by exponent part.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+22-3A14-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 26 22:14:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h (CHECK_VM_STACK_OVERFLOW_FOR_INSN)
<dd>
<p>surround with do/while (0), and remove unnecessary casts.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+20-3A12-3A07+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Jul 26 20:12:07 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/syslog/lib/syslog/logger.rb (Syslog::Logger)
<dd>
<p>Add facility to <a
href="../../classes/Syslog/Logger.html">Syslog::Logger</a>. [Fixes GH-305]
patch by Max Shytikov <a
href="https://github.com/ruby/ruby/pull/305">github.com/ruby/ruby/pull/305</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+26+19-3A25-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 26 19:25:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h, tool/instruction.rb
<dd>
<p>not an error, but a BUG if stack overflow checking failed just before/after
the beginning of an instruction. It should be treated as a BUG. Please tell
us if your code cause BUG with this problem. This check will removed soon
(for performance).</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+18-3A30-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 26 18:30:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_memcpy)
<dd>
<p>cast to int to suppress a warning.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+18-3A21-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 26 18:21:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_memcpy)
<dd>
<p>try to enable optimization. At least on my environments, I don&#39;t see
any errors with many trials. Please tell us if you find any <a
href="../../classes/GC.html">GC</a> bugs.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+17-3A49-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 26 17:49:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (fix_string_encoding)
<dd>
<p>fix target encoding.  the parameter `encoding&#39; is not the target
encoding but the original encoding.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+14-3A05-3A19+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 26 14:05:19 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/*
<dd>
<p>[DOC] More doc on dlopen and RTLD_DEFAULT from r42184</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+13-3A08-3A53+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 26 13:08:53 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/lib/fiddle.rb
<dd>
<p>[DOC] Document <a
href="../../classes/Fiddle.html#method-c-dlopen">Fiddle.dlopen</a></p>
</dd><dt>ext/fiddle/handle.c
<dd>
<p>[DOC] Document <a
href="../../classes/Fiddle/Handle.html#method-c-new">Fiddle::Handle.new</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+26+13-3A04-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 26 13:04:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_load_internal)
<dd>
<p>use rb_load_file_str() to keep path encoding.</p>
</dd><dt>load.c (rb_require_safe)
<dd>
<p>search in OS path encoding for Windows.</p>
</dd><dt>ruby.c (rb_load_file_str)
<dd>
<p>load file with keeping path encoding.</p>
</dd><dt>win32/file.c (rb_file_load_ok)
<dd>
<p>use WCHAR type API assuming incoming path is encoded in UTF-8. 
[ruby-core:56136] [Bug #8676]</p>
</dd><dt>file.c (rb_str_encode_ospath)
<dd>
<p>simplify using rb_str_conv_enc().</p>
</dd><dt>win32/file.c (fix_string_encoding)
<dd>
<p>simplify with rb_str_conv_enc().</p>
</dd><dt>win32/file.c (convert_mb_to_wchar)
<dd>
<p>use bare pointer instead of VALUE, and remove useless argument.</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+11-3A42-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 26 11:42:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (f_round_common)
<dd>
<p><a href="../../classes/Rational.html">Rational</a> is expected to be
returned by Rational#*, but mathn.rb breaks that assumption. 
[ruby-core:56177] [Bug #8687]</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+01-3A37-3A45+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul 26 01:37:45 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>check defined(USE_RGENGC_LOGGING_WB_UNPROTECT)</p>
</dd></dl>

<h3 id="label-Fri+Jul+26+01-3A21-3A41+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul 26 01:21:41 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_expand_path_internal)
<dd>
<p>fix r42160; skip &#39;~&#39;.</p>
</dd></dl>

<h2 id="label-2013-07-25">2013-07-25</h2>

<h3 id="label-Thu+Jul+25+17-3A53-3A18+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jul 25 17:53:18 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (Net::HTTP#connect)
<dd>
<p>disable Nagle&#39;s algorithm on HTTP connection. [ruby-core:56158]
[Feature #8681]</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+17-3A49-3A42+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jul 25 17:49:42 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_reg_to_s)
<dd>
<p>convert closing parenthesis to the target encoding if it is ASCII
incompatible encoding. [ruby-core:56063] [Bug #8650]</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+17-3A21-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 25 17:21:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (is_obj_encoding)
<dd>
<p>new macro to check if obj is an <a
href="../../classes/Encoding.html">Encoding</a>.  obj can be any type while
is_data_encoding expects T_DATA only.</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+17-3A17-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 25 17:17:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_expand_path_internal)
<dd>
<p>should clear coderange after copying user name as binary data.</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+16-3A17-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 25 16:17:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (check_encoding)
<dd>
<p>Check T_DATA or not. is_data_encoding(obj) assumes that `obj&#39; is
T_DATA.</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+13-3A06-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 25 13:06:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_s_home)
<dd>
<p>use rb_home_dir_of and rb_default_home_dir.</p>
</dd><dt>file.c (rb_home_dir_of)
<dd>
<p>split from rb_home_dir() for the home directry of the given user, and the
user name is a VALUE, not a bare pointer.  should raise if the user does
not exist.</p>
</dd><dt>file.c (rb_default_home_dir)
<dd>
<p>split from rb_home_dir() for the home directry of the current user.</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+12-3A32-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 25 12:32:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>support additional three thread synchronization functions. [ruby-trunk -
Bug #8386]</p>
</dd></dl>

<h3 id="label-Thu+Jul+25+07-3A15-3A58+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Jul 25 07:15:58 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Import RubyGems from master as of commit 4ff70cc</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-07-24">2013-07-24</h2>

<h3 id="label-Wed+Jul+24+20-3A57-3A44+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 24 20:57:44 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd><dt>compile.c (iseq_set_exception_table)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+24+19-3A49-3A54+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jul 24 19:49:54 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (find_proxy)
<dd>
<p>raise BadURIError if the <a href="../../classes/URI.html">URI</a> is a
relative <a href="../../classes/URI.html">URI</a>. [Bug #8645]</p>
</dd></dl>

<h3 id="label-Wed+Jul+24+18-3A56-3A06+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 24 18:56:06 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_expandarray)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR() because there is no new
reference.</p>
</dd><dt>vm_insnhelper.c (vm_caller_setup_args)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_yield_setup_block_args)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+24+18-3A40-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 24 18:40:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c, gc.c
<dd>
<p>move ary_unprotect_logging() into rb_gc_unprotect_logging() which is
general version</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>add USE_RGENGC_LOGGING_WB_UNPROTECT to enable.</p>
</dd></dl>

<h3 id="label-Wed+Jul+24+17-3A37-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 24 17:37:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_expand_path_internal)
<dd>
<p>preserve the file name encoding in an exception message.</p>
</dd></dl>

<h3 id="label-Wed+Jul+24+08-3A04-3A49+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 24 08:04:49 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>add <a href="../../classes/GC.html">GC</a> on/off to count <a
href="../../classes/GC.html">GC</a> events strictly.</p>
</dd></dl>

<h2 id="label-2013-07-23">2013-07-23</h2>

<h3 id="label-Tue+Jul+23+23-3A19-3A24+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Jul 23 23:19:24 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/extconf.rb (CRYPTO_THREADID)
<dd>
<p>check exist or not.</p>
</dd><dt>ext/openssl/ossl.c (ossl_thread_id)
<dd>
<p>use rb_nativethread_self() implemented at r42137 to allow threads which
doesn&#39;t associated with Ruby thread to use openssl functions.</p>
</dd><dt>ext/openssl/ossl.c (Init_ossl_locks)
<dd>
<p>If CRYPTO_THREADID is defined</p>
</dd><dt>(OpenSSL 1.0.0 or later has it) use CRYPTO_THREADID_set_callback() instead of CRYPTO_set_id_callback() because its argument is unsigned long; it may cause id collision on mswin64 whose sizeof(unsigned long) &lt; sizeof(void*). http
<dd>
<p>//www.openssl.org/docs/crypto/threads.html</p>
</dd><dt>ext/openssl/ossl.c (ossl_threadid_func)
<dd>
<p>defined for above.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+20-3A47-3A36+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 23 20:47:36 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Move functions.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+20-3A14-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 23 20:14:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_divmod)
<dd>
<p>Add special cases for x &lt; y easily detected and nx == 2 &amp;&amp; ny ==
2.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+19-3A48-3A38+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 19:48:38 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_(pthread|win32).h
<dd>
<p>rename rb_thread_cond_t to rb_nativethread_cond_t.</p>
</dd><dt>thread.c, thread_pthread.c, thread_win32.c, vm_core.h
<dd>
<p>catch up renaming.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+19-3A44-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 19:44:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_native.h
<dd>
<p>add rb_nativethread_self() which returns current running native thread
identifier.</p>
</dd><dt><a href="pthread|win32">thread_</a>.c
<dd>
<p>implement rb_nativethread_self().</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+19-3A34-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 19:34:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.h, thread_win32.h
<dd>
<p>rename rb_thread_id_t to rb_nativethread_id_t.</p>
</dd><dt>thread_pthread.c, vm_core.h
<dd>
<p>use rb_nativethread_id_t.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+18-3A56-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 18:56:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>use system native (system provided) thread locking APIs added by last
commit. This patch fixes [Bug #8386]. “rb_mutex_*” APIs control only “Ruby”
threads. Not for native threads.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+18-3A44-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 18:44:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_native.h
<dd>
<p>added. Move native thread related lines from vm_core.h. And declare several
functions “rb_nativethread_lock_*”, manipulate locking.</p>
</dd><dt>common.mk
<dd>
<p>add thread_native.h.</p>
</dd><dt>thread.c
<dd>
<p>add functions “rb_nativethread_lock_*”.</p>
</dd><dt>thread.c, <a href="pthread,win32">thread_</a>.[ch]
<dd>
<p>rename rb_thread_lock_t to rb_nativethread_lock_t to make it clear that
this lock is for native threads, not for ruby threads.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+16-3A14-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 16:14:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_sweep)
<dd>
<p>fix spacing.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+15-3A57-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 23 15:57:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_get_freeobj)
<dd>
<p>clear slot-&gt;freelist here. This means that this slot doesn&#39;t have
any free objects. And store this slot with objspace-&gt;heap.using_slot.</p>
</dd><dt>gc.c (gc_before_sweep)
<dd>
<p>restore objspace-&gt;freelist into
objspace-&gt;heap.using_slot-&gt;freelist. This means that using_slot has
free objects which are pointed from objspace-&gt;freelist.</p>
</dd><dt>gc.c (gc_slot_sweep)
<dd>
<p>do not need to clear slot-&gt;freelist.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+09-3A34-3A49+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 23 09:34:49 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/drb/README*.rdoc
<dd>
<p>[DOC] migrate <a href="../../classes/DRb.html">DRb</a> sample READMEs to
rdoc</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+09-3A28-3A05+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 23 09:28:05 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/invokemethod.rb
<dd>
<p>[DOC] nodoc InvokeMethod18Mixin</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+08-3A44-3A37+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Jul 23 08:44:37 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_asn1.c (asn1time_to_time)
<dd>
<p>Implement YYMMDDhhmmZ format for ASN.1 UTCTime.  [ruby-trunk - Bug #8664]</p>
</dd><dt>test/openssl/test_asn1.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+08-3A11-3A32+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 23 08:11:32 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/streamlistener.rb
<dd>
<p>[DOC] Fix examples in <a
href="../../classes/REXML/StreamListener.html#method-i-entitydecl">REXML::StreamListener#entitydecl</a>
patch by Ippei Obayashi [Bug #8665]</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+07-3A44-3A59+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Jul 23 07:44:59 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Import RubyGems from master as of commit b165260</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+07-3A14-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 23 07:14:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mulsub_1xN)
<dd>
<p>New function.</p>
</dd><dt>(bary_mul_toom3)
<dd>
<p>Use bary_mulsub_1xN.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+03-3A32-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 23 03:32:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (KARATSUBA_BALANCED)
<dd>
<p>New macro.</p>
</dd><dt>(TOOM3_BALANCED)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_balance_with_mulfunc)
<dd>
<p>Use KARATSUBA_BALANCED and TOOM3_BALANCED.</p>
</dd><dt>(rb_big_mul_balance)
<dd>
<p>Relax a condition.</p>
</dd><dt>(rb_big_mul_karatsuba)
<dd>
<p>Use KARATSUBA_BALANCED.</p>
</dd><dt>(rb_big_mul_toom3)
<dd>
<p>Use TOOM3_BALANCED.</p>
</dd><dt>(bary_mul_karatsuba_branch)
<dd>
<p>Use KARATSUBA_BALANCED.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Use TOOM3_BALANCED.</p>
</dd></dl>

<h3 id="label-Tue+Jul+23+01-3A34-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 23 01:34:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem_mulsub)
<dd>
<p>Extracted from bigdivrem1.</p>
</dd><dt>(bigdivrem1)
<dd>
<p>Use bary_add.</p>
</dd></dl>

<h2 id="label-2013-07-22">2013-07-22</h2>

<h3 id="label-Mon+Jul+22+18-3A39-3A52+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 22 18:39:52 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_enumerate_chars)
<dd>
<p>specify array capa with str_strlen().</p>
</dd><dt>string.c (rb_str_enumerate_codepoints)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+18-3A01-3A33+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 22 18:01:33 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_enumerate_chars)
<dd>
<p>specify array capa.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+17-3A24-3A14+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 22 17:24:14 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_each_char_size)
<dd>
<p>performance improvement by using rb_str_length().</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+16-3A32-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 22 16:32:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>check by Check_TypedStruct instead of rb_obj_is_kind_of.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+13-3A19-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul 22 13:19:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_resize_capa)
<dd>
<p>use RARRAY_RAWPTR() because this code creates no new references.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+12-3A58-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul 22 12:58:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_memfill)
<dd>
<p>added.</p>
</dd><dt>array.c (rb_ary_initialize)
<dd>
<p>use ary_memfill().</p>
</dd><dt>array.c (rb_ary_fill)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_slice_bang)
<dd>
<p>use RARRAY_RAWPTR() because this code creates no new references.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+10-3A09-3A46+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul 22 10:09:46 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_slot_sweep)
<dd>
<p>need to add empty RVALUE as freeobj.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+09-3A48-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 22 09:48:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>use the given file name unless eval even if scope is given.  additional fix
for [Bug #8436]. based on the patch by srawlins at [ruby-core:56099] [Bug
#8662].</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+09-3A24-3A19+2013++Kouji+Takao++-3Ckouji-40takao7.net-3E">Mon Jul 22 09:24:19 2013  Kouji Takao  &lt;kouji@takao7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (Init_readline)
<dd>
<p>added <a
href="../../classes/Readline.html#method-c-delete_text">Readline.delete_text</a>.
[ruby-dev:45789] [Feature #6626]</p>
</dd><dt>ext/readline/extconf.rb
<dd>
<p>check for rl_delete_text() in <a
href="../../classes/Readline.html">Readline</a> library. Thanks, Nobuyoshi
Nakada, for the patch.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+03-3A15-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 22 03:15:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_parse.c (rfc2822_cb)
<dd>
<p>check if wday is given, since it can be omitted.</p>
</dd></dl>

<h3 id="label-Mon+Jul+22+00-3A15-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 22 00:15:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_sq_fast)
<dd>
<p>Refine expressions.</p>
</dd></dl>

<h2 id="label-2013-07-21">2013-07-21</h2>

<h3 id="label-Sun+Jul+21+21-3A08-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 21 21:08:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>Use simple multiplication if yl is small.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Invoke bigsq instead of bigmul0.</p>
</dd><dt>(bigsq)
<dd>
<p>Re-implemented.</p>
</dd><dt>(bigmul0)
<dd>
<p>Invoke bigsq if two arguments are identical.</p>
</dd></dl>

<h3 id="label-Sun+Jul+21+09-3A58-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 21 09:58:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_toom3)
<dd>
<p>New function based on bigmul1_toom3.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Call bary_mul_toom3.</p>
</dd><dt>(rb_big_mul_toom3)
<dd>
<p>Ditto.</p>
</dd><dt>(bigmul1_toom3)
<dd>
<p>Removed.</p>
</dd><dt>(big_real_len)
<dd>
<p>Ditto.</p>
</dd><dt>(big_split)
<dd>
<p>Ditto.</p>
</dd><dt>(big_split3)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+21+08-3A12-3A16+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Jul 21 08:12:16 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_to_s)
<dd>
<p>use PRIsVALUE to preserve the result encoding.</p>
</dd></dl>

<h3 id="label-Sun+Jul+21+03-3A36-3A18+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jul 21 03:36:18 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_flatten)
<dd>
<p>use NUM2INT to raise <a href="../../classes/TypeError.html">TypeError</a>
on 32bit platform. it&#39;s introduced by r42039</p>
</dd></dl>

<h3 id="label-Sun+Jul+21+01-3A07-3A45+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jul 21 01:07:45 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (help)
<dd>
<p>Fix environment variable name and argument. Actually it can also be a
directory or any argument for test/unit runner. [Fixes GH-363]</p>
</dd></dl>

<h2 id="label-2013-07-20">2013-07-20</h2>

<h3 id="label-Sat+Jul+20+22-3A44-3A50+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Jul 20 22:44:50 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Document running a single test [Fixes GH-363] Patch by Avdi Grimm <a
href="https://github.com/ruby/ruby/pull/363">github.com/ruby/ruby/pull/363</a></p>
</dd></dl>

<h3 id="label-Sat+Jul+20+22-3A39-3A56+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Jul 20 22:39:56 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/*
<dd>
<p>whitespace patch by Sergio Campama [Fixes GH-364] <a
href="https://github.com/ruby/ruby/pull/364">github.com/ruby/ruby/pull/364</a></p>
</dd></dl>

<h3 id="label-Sat+Jul+20+22-3A33-3A13+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Jul 20 22:33:13 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>[DOC] Fix typo in example [Fixes GH-365] Patch by Juanito Fatas <a
href="https://github.com/ruby/ruby/pull/365">github.com/ruby/ruby/pull/365</a></p>
</dd></dl>

<h3 id="label-Sat+Jul+20+17-3A46-3A03+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jul 20 17:46:03 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_succ)
<dd>
<p>add missing case NEIGHBOR_WRAPPED. r42078 caused buggy behavior like
“xFF”.b -&gt; “x01xFF”.b</p>
</dd></dl>

<h3 id="label-Sat+Jul+20+15-3A22-3A38+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 20 15:22:38 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_resize)
<dd>
<p>use simple memcpy because there are no new references.</p>
</dd></dl>

<h3 id="label-Sat+Jul+20+15-3A02-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 20 15:02:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c (ruby_safe_level_4_warning)
<dd>
<p>define for old extension libraries.  [Bug #8652]</p>
</dd></dl>

<h3 id="label-Sat+Jul+20+14-3A38-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 20 14:38:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_make_shared)
<dd>
<p>make shared array shady. Making non-shady shared array causes SEGV (see
rubyci). It seems a bug around shared array.</p>
</dd></dl>

<h3 id="label-Sat+Jul+20+12-3A14-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 20 12:14:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (enc_succ_char, enc_pred_char)
<dd>
<p>consider wchar case. [ruby-core:56071] [Bug #8653]</p>
</dd><dt>string.c (rb_str_succ)
<dd>
<p>do not replace with invalid char.</p>
</dd><dt>encoding.c (rb_enc_code_to_mbclen)
<dd>
<p>add new function which returns mbclen from codepoint like as
rb_enc_codelen() but 0 for invalid char.</p>
</dd><dt>include/ruby/encoding.h (rb_enc_code_to_mbclen)
<dd>
<p>declaration and shortcut macro.</p>
</dd></dl>

<h2 id="label-2013-07-19">2013-07-19</h2>

<h3 id="label-Fri+Jul+19+21-3A59-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 21:59:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>declare type_name() at the beginning of file.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+21-3A35-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 21:35:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>reduce shady operations.</p>
</dd><dt>array.c (rb_ary_modify, ary_make_partial, rb_ary_splice, rb_ary_replace, rb_ary_eql, rb_ary_compact_bang)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR().</p>
</dd><dt>array.c (rb_ary_shift)
<dd>
<p>use RARRAY_PTR_USE() without WB because there are not new relations.</p>
</dd><dt>array.c (ary_ensure_room_for_unshift)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_sort_bang)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_delete_at)
<dd>
<p>ditto.</p>
</dd><dt>array.c (rb_ary_reverse_m)
<dd>
<p>use RARRAY_RAWPTR() because there are not new relations.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+20-3A58-3A20+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 20:58:20 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>reduce shade operations.</p>
</dd><dt>array.c (rb_ary_modify)
<dd>
<p>use RARRAY_RAWPTR().</p>
</dd><dt>array.c (ary_make_substitution, rb_ary_s_create, ary_make_partial, rb_ary_splice, rb_ary_resize, rb_ary_rotate_m, rb_ary_times)
<dd>
<p>use ary_memcpy().</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+19-3A55-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 19:55:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_mem_clear)
<dd>
<p>added. This operation doesn&#39;t need WB because this operation creates a
reference to Qnil.</p>
</dd><dt>array.c (ary_make_shared, rb_ary_store, rb_ary_shift_m, rb_ary_splice, rb_ary_resize, rb_ary_fill)
<dd>
<p>use ary_mem_clear() instead of rb_mem_clear().</p>
</dd><dt>array.c (ary_make_shared)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR().</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+19-3A18-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 19:18:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>fix commit miss. RGENGC_UNPROTECT_LOGGING should be 0.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+19-3A15-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 19:15:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_resurrect)
<dd>
<p>use RARRAY_RAWPTR() because there is no writing.</p>
</dd><dt>array.c (rb_ary_new_from_values)
<dd>
<p>use ary_memcpy().</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+19-3A07-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 19:07:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_memcpy)
<dd>
<p>add a function to copy VALUEs into ary with write barrier. If ary is
promoted, use write barrier correctly.</p>
</dd><dt>array.c (rb_ary_cat, rb_ary_unshift_m, rb_ary_dup, rb_ary_sort_bang, rb_ary_replace, rb_ary_plus)
<dd>
<p>use ary_memcpy().</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+15-3A32-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 15:32:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_store)
<dd>
<p>use RARRAY_PTR_USE() instead of RARRAY_PTR(). Clearing memory space
doesn&#39;t need WBs.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+15-3A19-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 15:19:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_ensure_room_for_push)
<dd>
<p>use RARRAY_RAWPTR() instead of RARRAY_PTR. In this code, there are no
“write” operation.</p>
</dd><dt>array.c (rb_ary_equal)
<dd>
<p>ditto.</p>
</dd><dt>array.c (recursive_equal)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+15-3A09-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 15:09:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, internal.h (rb_gc_writebarrier_remember_promoted)
<dd>
<p>add a new function to remember an specified object. This api is only
experimental (strongly depend on WB/rgengc strategy).</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+14-3A56-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 19 14:56:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_unprotect_logging)
<dd>
<p>use (void *) for first parameter because VALUE is not defined before
including ruby/ruby.h.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+14-3A19-3A48+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Fri Jul 19 14:19:48 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/pathname.c (path_inspect)
<dd>
<p>use PRIsVALUE to preserve the result encoding.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+12-3A35-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jul 19 12:35:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_tcp.rb (test_initialize_failure)
<dd>
<p>Use EADDRNOTAVAIL to test an error message generated by bind() failure.</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A27-3A38+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 19 11:27:38 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/racc/parser.rb
<dd>
<p>[DOC] Capitalize “Ruby” in documentation Patch by Dave Worth <a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A26-3A28+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 19 11:26:28 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych*
<dd>
<p>[DOC] Capitalize “Ruby” in documentation Patch by Dave Worth <a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A25-3A12+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 19 11:25:12 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/*
<dd>
<p>[DOC] Capitalize “Ruby” in documentation Patch by Dave Worth <a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A23-3A55+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 19 11:23:55 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems*
<dd>
<p>[DOC] Capitalize “Ruby” in documentation Patch by Dave Worth <a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A16-3A54+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Jul 19 11:16:54 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#to_set)
<dd>
<p>Define <a href="../../classes/Set.html#method-i-to_set">Set#to_set</a> so
that <a href="../../classes/Set.html#method-i-to_set">Set#to_set</a>
returns self. [Fixes GH-359]</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+11-3A10-3A23+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jul 19 11:10:23 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake/*
<dd>
<p>[DOC] Capitalize “Ruby” in documentation Patch by Dave Worth <a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+19+01-3A04-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jul 19 01:04:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/bignum/intpack.c
<dd>
<p>Renamed from ext/-test-/bignum/pack.c.</p>
</dd><dt>(Init_intpack)
<dd>
<p>Renamed from Init_pack. Reported by Naohisa Goto.  [ruby-dev:47526] [Bug
#8655]</p>
</dd></dl>

<h3 id="label-Fri+Jul+19+00-3A54-3A27+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Fri Jul 19 00:54:27 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_array.rb (test_count)
<dd>
<p>add a test case for count with an argument. See Bug #8654.</p>
</dd></dl>

<h2 id="label-2013-07-18">2013-07-18</h2>

<h3 id="label-Thu+Jul+18+23-3A45-3A06+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 18 23:45:06 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_eql)
<dd>
<p>compare RARRAY_PTR() for performance improvement in case of that self and
other are shared.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+22-3A46-3A42+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul 18 22:46:42 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi.rb
<dd>
<p>[DOC] Capitalize “Ruby” in documentation [Fixes GH-341] Patch by Dave Worth
<a
href="https://github.com/ruby/ruby/pull/341">github.com/ruby/ruby/pull/341</a></p>
</dd><dt>lib/webrick.rb
<dd>
<p>ditto</p>
</dd><dt>lib/scanf.rb
<dd>
<p>ditto</p>
</dd><dt>lib/xmlrpc/config.rb
<dd>
<p>ditto</p>
</dd><dt>lib/resolv.rb
<dd>
<p>ditto</p>
</dd><dt>lib/e2mmap.rb
<dd>
<p>ditto</p>
</dd><dt>lib/fileutils.rb
<dd>
<p>ditto</p>
</dd><dt>lib/mkmf.rb
<dd>
<p>ditto</p>
</dd><dt>lib/cgi/session.rb
<dd>
<p>ditto</p>
</dd><dt>lib/yaml.rb
<dd>
<p>ditto</p>
</dd><dt>lib/erb.rb
<dd>
<p>ditto</p>
</dd><dt>lib/irb.rb
<dd>
<p>ditto</p>
</dd><dt>lib/tracer.rb
<dd>
<p>ditto</p>
</dd><dt>lib/net/http.rb
<dd>
<p>ditto</p>
</dd><dt>ext/syslog/lib/syslog/logger.rb
<dd>
<p>ditto</p>
</dd><dt>sample/pty/expect_sample.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+21-3A30-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul 18 21:30:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_sq_fast)
<dd>
<p>Specialize the last iteration of the outer loop.</p>
</dd><dt>(bigfixize)
<dd>
<p>A condition simplified.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+21-3A15-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 18 21:15:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_equal)
<dd>
<p>compare RARRAY_PTR() for performance improvement in case of that self and
other are shared.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+20-3A44-3A51+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 18 20:44:51 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_fill)
<dd>
<p>use memfill().</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+20-3A35-3A14+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Thu Jul 18 20:35:14 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_count)
<dd>
<p>check length to avoid SEGV while iterating. Remove other pointer loop when
arg is given.</p>
</dd><dt>test/ruby/test_array.rb (test_count)
<dd>
<p>add test for bug. [ruby-core:56072] [Bug #8654]</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+18-3A14-3A36+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 18 18:14:36 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_count)
<dd>
<p>iterate items appropriately. [Bug #8654]</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+17-3A35-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 18 17:35:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_flatten)
<dd>
<p>performance improvement by not using rb_hash_to_a() to avoid array creation
with rb_assoc_new().</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+16-3A16-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 18 16:16:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>add logging feature for RGenGC&#39;s write barrier unprotect event.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+15-3A45-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 18 15:45:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RUBY_SAFE_LEVEL_CHECK)
<dd>
<p>make only rb_set_safe_level(4) an error always but make rb_secure(4) an
error only in the core.  [ruby-dev:47517] [Bug #8652]</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+15-3A42-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 18 15:42:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>fix spell miss.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+15-3A11-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 18 15:11:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (ruby_safe_level_4)
<dd>
<p>get rid of special character.  [ruby-dev:47512] [misc #8646]</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+14-3A51-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 18 14:51:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_alloc)
<dd>
<p>slim setup process.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+14-3A37-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 18 14:37:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_alloc)
<dd>
<p>no need to clear RString (already cleared).</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+12-3A57-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul 18 12:57:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BDIGITS_ZERO)
<dd>
<p>Defined.</p>
</dd><dt>(bary_pack)
<dd>
<p>Use BDIGITS_ZERO.</p>
</dd><dt>(bary_unpack)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_single)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_sq_fast)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_balance_with_mulfunc)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_precheck)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Ditto.</p>
</dd><dt>(big_shift3)
<dd>
<p>Ditto.</p>
</dd><dt>(bigmul1_toom3)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+18+06-3A30-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 18 06:30:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename gc related functions with prefix “gc_”. * before_gc_sweep() -&gt;
gc_before_sweep(). * after_gc_sweep()  -&gt; gc_after_sweep(). *
lazy_sweep()      -&gt; gc_lazy_sweep(). * rest_sweep()      -&gt;
gc_rest_sweep(). * slot_sweep()      -&gt; gc_slot_sweep().</p>
</dd><dt>gc.c
<dd>
<p>rename a heap management function with prefix “heap_”. * get_freeobj()
-&gt; heap_get_freeobj().</p>
</dd><dt>gc.c
<dd>
<p>rename markable_object_p() to is_markable_object().</p>
</dd></dl>

<h2 id="label-2013-07-17">2013-07-17</h2>

<h3 id="label-Wed+Jul+17+22-3A57-3A40+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 17 22:57:40 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (delete_if_i)
<dd>
<p>use ST_DELETE.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+22-3A34-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 17 22:34:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>An static assertion for relation of SIZEOF_LONG and SIZEOF_BDIGITS is
added.</p>
</dd><dt>(bary_mul_precheck)
<dd>
<p>Reduce comparisons.</p>
</dd><dt>(bary_mul)
<dd>
<p>Invoke bary_sq_fast or bary_mul1 if the bignum size is small.</p>
</dd><dt>(bigfixize)
<dd>
<p>Resize the argument bignum here.</p>
</dd><dt>(bignorm)
<dd>
<p>Don&#39;t call bigtrunc after bigfixize.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+22-3A13-3A26+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 17 22:13:26 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_replace)
<dd>
<p>performance improvement by using st_copy().</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+17-3A19-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 17:19:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename heap management functions with prefix “heap_”. *
allocate_sorted_array() -&gt; heap_allocate_sorted_array(). *
slot_add_freeobj()      -&gt; heap_slot_add_freeobj(). * assign_heap_slot()
-&gt; heap_assign_slot(). * add_heap_slots()        -&gt; heap_add_slots().
* init_heap()             -&gt; heap_init(). * set_heap_increment()   
-&gt; heap_set_increment().</p>
</dd><dt>gc.c (initial_expand_heap)
<dd>
<p>inlined in rb_gc_set_params().</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+17-3A12-3A23+2013++Matthew+M.+Boedicker++-3Cmatthewm-40boedicker.org-3E">Wed Jul 17 17:12:23 2013  Matthew M. Boedicker  &lt;matthewm@boedicker.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_fetch)
<dd>
<p>Add key name to message on <a
href="../../classes/ENV.html#method-c-fetch">ENV.fetch</a> <a
href="../../classes/KeyError.html">KeyError</a>, as well as <a
href="../../classes/Hash.html#method-i-fetch">Hash#fetch</a>. 
[ruby-core:56062] [Feature #8649]</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+15-3A59-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 15:59:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>catch up last changes for debugging/checking mode.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+15-3A50-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 15:50:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_free)
<dd>
<p>free slot itself.</p>
</dd><dt>gc.c (objspace_each_objects)
<dd>
<p>fix condition. Use slot-&gt;body instead of slot.</p>
</dd><dt>gc.c (count_objects)
<dd>
<p>use “slot” variable.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+15-3A21-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 15:21:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (unlink_heap_slot)
<dd>
<p>fix memory leak. free slot itself at free_heap_slot(). Reproduce-able code
is here: N1 = 100_000; N2 = 1_000_000 N1.times{ary = []; N2.times{ary
&lt;&lt; &#39;&#39;}} Maybe this problem is remaining in Ruby 2.0.0.</p>
</dd><dt>gc.c (unlink_heap_slot)
<dd>
<p>remove not working code.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+14-3A31-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 14:31:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>re-design the heap structure.</p>
</dd><dt>(1) The heap is consists of a set of slots. (2) Each “slot” has a “slot_body”. slot
<dd>
<p>:start and slot::limit specify RVALUE beginning address and number of
RVALUE in a “slot_body”.</p>
</dd><dt>(3) “slot_body” contains a pointer to slot (slot_body
<dd>
<p>:header::slot) and an array of RVALUE.</p>
</dd><dt>(4) heap
<dd>
<p>:sorted is an array of “slots”, sorted by an address of slot::body. See <a
href="https://bugs.ruby-lang.org/projects/ruby-trunk/wiki/GC_design">bugs.ruby-lang.org/projects/ruby-trunk/wiki/GC_design</a>
for more details (figure).</p>
</dd><dt>gc.c
<dd>
<p>Avoid “heaps” terminology. It is ambiguous.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+13-3A29-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 17 13:29:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix heaps_header and heaps_slot to reduce memory consumption.</p>
</dd><dt>(1) move heaps_header
<dd>
<p>:start and limit to  heaps_slot.</p>
</dd><dt>(2) remove heaps_header
<dd>
<p>:end which can be calculated by start+limit.</p>
</dd><dt>gc.c
<dd>
<p>catch up above change.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+12-3A30-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 17 12:30:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/st.h (st_strcasecmp)
<dd>
<p>Macro defined for compatibility.</p>
</dd><dt>(st_strncasecmp)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+11-3A57-3A45+2013++Takeyuki+FUJIOKA++-3Cxibbar-40ruby-lang.org-3E">Wed Jul 17 11:57:45 2013  Takeyuki FUJIOKA  &lt;xibbar@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/util.rb (CGI::Util#escape, unescape)
<dd>
<p>Avoid use of regexp special global variable. [Feature #8648] Thanks to
fotos.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+11-3A57-3A10+2013++Takeyuki+FUJIOKA++-3Cxibbar-40ruby-lang.org-3E">Wed Jul 17 11:57:10 2013  Takeyuki FUJIOKA  &lt;xibbar@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb (ERB::Util#url_encode)
<dd>
<p>Avoid use of regexp special global variable. [Feature #8648] Thanks to
fotos.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+08-3A12-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 17 08:12:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_locale_insensitive_strcasecmp)
<dd>
<p>Renamed from st_strcasecmp.</p>
</dd><dt>(st_locale_insensitive_strncasecmp)
<dd>
<p>Renamed from st_strncasecmp.</p>
</dd><dt>include/ruby/st.h
<dd>
<p>Follow above changes.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+17+00-3A14-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 17 00:14:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigmul1_toom3)
<dd>
<p>Use bigdivrem_single instead of bigdivrem.</p>
</dd><dt>(big_three)
<dd>
<p>Removed.</p>
</dd><dt>(Init_Bignum)
<dd>
<p>Don&#39;t initialize big_three.</p>
</dd></dl>

<h2 id="label-2013-07-16">2013-07-16</h2>

<h3 id="label-Tue+Jul+16+21-3A46-3A03+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jul 16 21:46:03 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>revert r42008. strcasecmp() uses the current locale.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>ditto.</p>
</dd><dt>st.c (st_strcasecmp)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+21-3A07-3A04+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jul 16 21:07:04 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check strcasecmp().</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>use strcasecmp() as st_strcasecmp() if it exists.</p>
</dd><dt>st.c (st_strcasecmp)
<dd>
<p>define the function only if strcasecmp() doesn&#39;t exist.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+20-3A21-3A28+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 16 20:21:28 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigsq)
<dd>
<p>Renamed from bigsqr.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+19-3A42-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 16 19:42:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (USHORT)
<dd>
<p>Unused macro removed.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+19-3A18-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 16 19:18:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>slim a path of newobj_of().</p>
</dd><dt>gc.c (objspace)
<dd>
<p>add a new field objspace::freelist, which contains available RVALUEs.</p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>simply call new function `get_freeobj()&#39;. get_freeobj() returns
objspace::freelist. If  objspace::freelist is not available, refill
objspace::freelist with a slot pointed by objspace::heap::free_slots.</p>
</dd><dt>gc.c (before_gc_sweep)
<dd>
<p>clear objspace::freelist.</p>
</dd><dt>gc.c (slot_sweep)
<dd>
<p>clear slot::freelist.</p>
</dd><dt>gc.c (heaps_prepare_freeslot)
<dd>
<p>renamed to heaps_prepare_freeslot.</p>
</dd><dt>gc.c (unlink_free_heap_slot)
<dd>
<p>remove unused function.</p>
</dd><dt>gc.c (rb_free_const_table)
<dd>
<p>remove unused function.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+19-3A05-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 16 19:05:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_shift3)
<dd>
<p>Big shift width is not a problem for right shift.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+18-3A50-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 16 18:50:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_count)
<dd>
<p>[DOC] fix typo.  <a
href="../../classes/Array.html#method-i-count">Array#count</a> uses ==, not
===.  a question at asakusa.rb ML.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+18-3A35-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul 16 18:35:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_karatsuba)
<dd>
<p>Avoid duplicate calculation when squaring.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+17-3A43-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 16 17:43:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (link_free_heap_slot)
<dd>
<p>removed.</p>
</dd><dt>gc.c (slot_sweep)
<dd>
<p>use `heaps_add_freeslot&#39; instead of `link_free_heap_slot&#39;.</p>
</dd><dt>gc.c (assign_heap_slot)
<dd>
<p>use local variable `slot&#39; instead of `heaps&#39;.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+17-3A21-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 16 17:21:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (assign_heap_slot)
<dd>
<p>refactoring variable names.</p>
</dd><dt>gc.c (slot_add_freeobj)
<dd>
<p>added.</p>
</dd><dt>gc.c (heaps_add_freeslot)
<dd>
<p>added.</p>
</dd><dt>gc.c (finalize_list, rb_gc_force_recycle, slot_sweep)
<dd>
<p>use `slot_add_freeobj&#39; instead of modifying linked list directly.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+16-3A30-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 16 16:30:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (lazy_sweep)
<dd>
<p>refactoring.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+13-3A32-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 16 13:32:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_set_index)
<dd>
<p>since r41967, old terminator is dealt with in str_fill_term().  should not
consider it here because this function is called before any encoding is
set.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+11-3A12-3A03+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jul 16 11:12:03 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_block_arity)
<dd>
<p>raise <a href="../../classes/ArgumentError.html">ArgumentError</a> if no
block given.</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+08-3A15-3A22+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 16 08:15:22 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/util.rb
<dd>
<p>[DOC] document top-level classes from <a
href="../../classes/BigDecimal.html">BigDecimal</a> utils native extensions</p>
</dd></dl>

<h3 id="label-Tue+Jul+16+03-3A23-3A03+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jul 16 03:23:03 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>[DOC] improve rdoc formatting for parameters and links</p>
</dd></dl>

<h2 id="label-2013-07-15">2013-07-15</h2>

<h3 id="label-Mon+Jul+15+14-3A40-3A00+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 15 14:40:00 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_big2str0)
<dd>
<p>Deprecated.</p>
</dd><dt>bignum.c (rb_big2str1)
<dd>
<p>Renamed from rb_big2str0.</p>
</dd><dt>(rb_big2str0)
<dd>
<p>Deprecated wrapper for rb_big2str1.</p>
</dd><dt>(rb_big2str)
<dd>
<p>Invoke rb_big2str1 instead of rb_big2str0.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+14-3A13-3A02+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 15 14:13:02 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_each_pair)
<dd>
<p>use rb_yield_values(2, key, value) instead of rb_yield(rb_assoc_new(key,
value)) if rb_block_arity() is greater than 1.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+13-3A46-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 15 13:46:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Add static assertions.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+13-3A36-3A02+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 15 13:36:02 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_each_pair)
<dd>
<p>performance improvement by using rb_block_arity().</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+13-3A15-3A37+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Mon Jul 15 13:15:37 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_block_arity)
<dd>
<p>create internal API rb_block_arity(). it returns arity of given block.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+13-3A07-3A27+2013++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Mon Jul 15 13:07:27 2013  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb (Prime::EratosthenesGenerator, <a href="../../classes/Prime/EratosthenesSieve.html">Prime::EratosthenesSieve</a>)
<dd>
<p>New implementation by robertjlooby &lt;robertjlooby AT gmail.com&gt;.</p>
</dd><dt>test/test_prime.rb
<dd>
<p>updated with new method name</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+11-3A32-3A46+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 15 11:32:46 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_cNumeric)
<dd>
<p>[DOC] Added comment for <a href="../../classes/Numeric.html">Numeric</a> to
fix doc</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+11-3A24-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 15 11:24:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (maxpow_in_bdigit_dbl)
<dd>
<p>Useless if removed.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+11-3A10-3A46+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 15 11:10:46 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_coerce)
<dd>
<p>[DOC] Add docs for <a
href="../../classes/Bignum.html#method-i-coerce">Bignum#coerce</a> Based on
patch by Juanito Fatas [Fixes GH-360] <a
href="https://github.com/ruby/ruby/pull/360">github.com/ruby/ruby/pull/360</a></p>
</dd></dl>

<h3 id="label-Mon+Jul+15+10-3A56-3A01+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 15 10:56:01 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (mutex_sleep)
<dd>
<p>[DOC] Awake thread will reacquire lock By Tim Abdulla [Fixes GH-342] <a
href="https://github.com/ruby/ruby/pull/342">github.com/ruby/ruby/pull/342</a></p>
</dd></dl>

<h3 id="label-Mon+Jul+15+10-3A45-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 15 10:45:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (nlz16)
<dd>
<p>Use __builtin_clz if possible.</p>
</dd><dt>(nlz32)
<dd>
<p>Use __builtin_clz or __builtin_clzl if possible.</p>
</dd><dt>(nlz64)
<dd>
<p>Use __builtin_clzl or __builtin_clzll if possible.</p>
</dd><dt>(nlz128)
<dd>
<p>Use __builtin_clzll if possible.</p>
</dd><dt>configure.in
<dd>
<p>Check __builtin_clz, __builtin_clzl and __builtin_clzll.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+09-3A39-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul 15 09:39:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (power_cache_get_power)
<dd>
<p>Use bitsize instead of ceil_log2.</p>
</dd><dt>(ones)
<dd>
<p>Removed.</p>
</dd><dt>(next_pow2)
<dd>
<p>Removed.</p>
</dd><dt>(floor_log2)
<dd>
<p>Removed.</p>
</dd><dt>(ceil_log2)
<dd>
<p>Removed.</p>
</dd><dt>configure.in (__builtin_popcountl)
<dd>
<p>Don&#39;t check.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+02-3A47-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 15 02:47:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>localeinit.c (rb_locale_charmap, Init_enc_set_filesystem_encoding)
<dd>
<p>move from encoding.c.</p>
</dd><dt>miniinit.c (rb_locale_charmap, Init_enc_set_filesystem_encoding)
<dd>
<p>define miniruby specific functions only.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+02-3A32-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 15 02:32:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_enc_init)
<dd>
<p>no longer needs NO_PRESERVED_ENCODING.</p>
</dd><dt>encoding.c (enc_inspect)
<dd>
<p>defer loading autoloaded encoding.</p>
</dd><dt>encoding.c (enc_check_encoding)
<dd>
<p>use is_data_encoding() to check type consistently.</p>
</dd><dt>encoding.c (must_encoding)
<dd>
<p>return rb_encoding* instead of encoding index.</p>
</dd><dt>encoding.c (enc_check_encoding)
<dd>
<p>use is_data_encoding() to check type consistently.</p>
</dd><dt>encoding.c (must_encoding)
<dd>
<p>return rb_encoding* instead of encoding index.</p>
</dd></dl>

<h3 id="label-Mon+Jul+15+02-3A21-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 15 02:21:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_fill_term)
<dd>
<p>consider old terminator length, and should not use rb_enc_ascget since it
depends on the current encoding which may not be compatible with the new
terminator.  [Bug #8634]</p>
</dd><dt>encoding.c (enc_inspect)
<dd>
<p>use PRIsVALUE to preserve the result encoding.</p>
</dd></dl>

<h2 id="label-2013-07-14">2013-07-14</h2>

<h3 id="label-Sun+Jul+14+23-3A21-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 23:21:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check __builtin_popcountl, __builtin_bswap32 and __builtin_bswap64.</p>
</dd><dt>internal.h (swap32)
<dd>
<p>Use the configure result for the condition to use __builtin_bswap32.</p>
</dd><dt>(swap64)
<dd>
<p>Use the configure result for the condition to use __builtin_bswap64.</p>
</dd><dt>bignum.c (ones)
<dd>
<p>Use the configure result for the condition to use __builtin_popcountl.</p>
</dd><dt>(bary_unpack_internal)
<dd>
<p>Use appropriate types for swap argument.</p>
</dd></dl>

<h3 id="label-Sun+Jul+14+22-3A21-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 22:21:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_subb)
<dd>
<p>Support xn &lt; yn.</p>
</dd><dt>(bigsub_core)
<dd>
<p>Removed.</p>
</dd><dt>(bigsub)
<dd>
<p>Don&#39;t compare before subtraction.  Just subtract and get the two&#39;s
complement if the subtraction causes a borrow.</p>
</dd></dl>

<h3 id="label-Sun+Jul+14+00-3A36-3A03+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 00:36:03 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (DIGSPERLONG)
<dd>
<p>Unused macro removed.</p>
</dd><dt>(DIGSPERLL)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+14+00-3A32-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 00:32:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_aref)
<dd>
<p>Less scan when the number is negative.</p>
</dd></dl>

<h3 id="label-Sun+Jul+14+00-3A17-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 00:17:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_shift)
<dd>
<p>Avoid signed integer overflow.</p>
</dd></dl>

<h3 id="label-Sun+Jul+14+00-3A14-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul 14 00:14:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_precheck)
<dd>
<p>Use bary_small_lshift or bary_mul_normal if xl is 1.</p>
</dd></dl>

<h2 id="label-2013-07-13">2013-07-13</h2>

<h3 id="label-Sat+Jul+13+22-3A58-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jul 13 22:58:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_shift3)
<dd>
<p>New function. big_lshift and big_rshift are merged.</p>
</dd><dt>(big_shift2)
<dd>
<p>New function.</p>
</dd><dt>(big_lshift)
<dd>
<p>Use big_shift3.</p>
</dd><dt>(big_rshift)
<dd>
<p>Ditto.</p>
</dd><dt>(check_shiftdown)
<dd>
<p>Removed.</p>
</dd><dt>(rb_big_lshift)
<dd>
<p>Use big_shift2 and big_shift3.</p>
</dd><dt>(rb_big_rshift)
<dd>
<p>Ditto.</p>
</dd><dt>(big_lshift)
<dd>
<p>Removed.</p>
</dd><dt>(big_rshift)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+15-3A51-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jul 13 15:51:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_small_lshift)
<dd>
<p>Use size_t instead of long.</p>
</dd><dt>(bary_small_rshift)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+15-3A33-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jul 13 15:33:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_small_lshift)
<dd>
<p>Functions moved to remove declaration.</p>
</dd><dt>(bary_small_rshift)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+12-3A27-3A34+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 13 12:27:34 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_enc_associate_index)
<dd>
<p>fill new terminator length, not old one.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+12-3A24-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 13 12:24:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32
<dd>
<p>move from ext/dl and ext/fiddle.  since ext/extmk.rb builds extensions in
alphabetical order, compiled?(&#39;fiddle&#39;) under ext/dl makes no
sense.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+09-3A26-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jul 13 09:26:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (biglsh_bang)
<dd>
<p>Removed.</p>
</dd><dt>(bigrsh_bang)
<dd>
<p>Ditto.</p>
</dd><dt>(bigmul1_toom3)
<dd>
<p>Use bary_small_lshift and bary_small_rshift.</p>
</dd></dl>

<h3 id="label-Sat+Jul+13+01-3A04-3A43+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Jul 13 01:04:43 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/psych_additions.rb
<dd>
<p>Ignore <a href="../../classes/Psych.html">Psych</a> docs here</p>
</dd></dl>

<h2 id="label-2013-07-12">2013-07-12</h2>

<h3 id="label-Fri+Jul+12+18-3A10-3A46+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jul 12 18:10:46 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/win32/lib/win32/registry.rb (Win32::Registry::API#make_wstr)
<dd>
<p>same as r41922.</p>
</dd></dl>

<h3 id="label-Fri+Jul+12+16-3A28-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 12 16:28:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_enc_associate_index)
<dd>
<p>refill the terminator if it becomes longer than before.  [ruby-dev:47500]
[Bug #8624]</p>
</dd><dt>string.c (str_null_char, str_fill_term)
<dd>
<p>get rid of out of bound access.</p>
</dd><dt>string.c (rb_str_fill_terminator)
<dd>
<p>add a parameter for the length of new terminator.</p>
</dd></dl>

<h3 id="label-Fri+Jul+12+11-3A26-3A25+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Jul 12 11:26:25 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_reject_bang)
<dd>
<p>do not call rb_hash_foreach() if RHash has ntbl and it is empty.</p>
</dd></dl>

<h3 id="label-Fri+Jul+12+11-3A17-3A41+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Jul 12 11:17:41 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (recursive_hash)
<dd>
<p>use RHASH_SIZE() to check hash size.</p>
</dd></dl>

<h3 id="label-Fri+Jul+12+00-3A20-3A00+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Jul 12 00:20:00 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_size)
<dd>
<p>use RHASH_SIZE().</p>
</dd></dl>

<h3 id="label-Fri+Jul+12+00-3A08-3A24+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Fri Jul 12 00:08:24 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_values)
<dd>
<p>set array capa to RHASH_SIZE().</p>
</dd></dl>

<h2 id="label-2013-07-11">2013-07-11</h2>

<h3 id="label-Thu+Jul+11+23-3A54-3A45+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jul 11 23:54:45 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_keys)
<dd>
<p>set array capa to RHASH_SIZE().</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+21-3A30-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 11 21:30:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_pow)
<dd>
<p>undef pow to get rid of infinite recursive call.  re-fix [Bug #8495]. 
[ruby-core:55923] [Bug #8621]</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+20-3A18-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 11 20:18:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/win32/lib/win32/registry.rb (Win32::Registry::API#make_wstr)
<dd>
<p>remove workaround to append WCHAR terminator.</p>
</dd><dt>transcode.c (str_encode_associate)
<dd>
<p>fill terminator after conversion.</p>
</dd><dt>string.c (rb_enc_str_new, rb_str_set_len, rb_str_resize)
<dd>
<p>fill minimum length of the encoding as the terminator.</p>
</dd><dt>string.c (str_buf_cat, rb_str_buf_append, rb_str_splice_0)
<dd>
<p>ditto.</p>
</dd><dt>string.c (str_make_independent_expand, rb_str_modify_expand)
<dd>
<p>make the capacity enough for multi-byte terminator.</p>
</dd><dt>string.c (rb_string_value_cstr)
<dd>
<p>fill minimum length of the encoding as the terminator.</p>
</dd><dt>string.c (rb_string_value_cstr)
<dd>
<p>check null char in char, not in byte.</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+14-3A48-3A35+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul 11 14:48:35 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Replace confusing example for reverse_each in overview Patch by Earl St
Sauver [Fixes documenting-ruby/ruby-12] <a
href="https://github.com/documenting-ruby/ruby/pull/12">github.com/documenting-ruby/ruby/pull/12</a></p>
</dd></dl>

<h3 id="label-Thu+Jul+11+14-3A22-3A37+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul 11 14:22:37 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/drb/ut_eq.rb
<dd>
<p>Use localhost for drb tests [Bug #7311] Patch by Vit Ondruch
[ruby-core:49101]</p>
</dd><dt>test/drb/ut_array.rb
<dd>
<p>ditto</p>
</dd><dt>test/drb/ut_array_drbssl.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+13-3A48-3A03+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul 11 13:48:03 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c
<dd>
<p>Fix typo patch by @hynkle [Fixes GH-357] <a
href="https://github.com/ruby/ruby/pull/357">github.com/ruby/ruby/pull/357</a></p>
</dd></dl>

<h3 id="label-Thu+Jul+11+13-3A00-3A34+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul 11 13:00:34 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>Refactor conditions by Rafal Chmiel [Fixes GH-326] <a
href="https://github.com/ruby/ruby/pull/326">github.com/ruby/ruby/pull/326</a></p>
</dd></dl>

<h3 id="label-Thu+Jul+11+12-3A04-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul 11 12:04:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Don&#39;t use toom3 after once karatsuba is chosen.</p>
</dd><dt>(mulfunc_t)
<dd>
<p>New type.</p>
</dd><dt>(bary_mul_toom3_start)
<dd>
<p>Renamed from bary_mul.</p>
</dd><dt>(bary_mul_karatsuba_start)
<dd>
<p>Renamed from bary_mul.</p>
</dd><dt>(bary_mul_balance_with_mulfunc)
<dd>
<p>Renamed from bary_mul_balance and new argument, mulfunc, is added.</p>
</dd><dt>(rb_big_mul_balance)
<dd>
<p>Invoke bary_mul_balance_with_mulfunc with bary_mul_toom3_start.</p>
</dd><dt>(bary_mul_karatsuba)
<dd>
<p>Invoke bary_mul_karatsuba_start instead of bary_mul.</p>
</dd><dt>(bary_mul_precheck)
<dd>
<p>Extracted from bary_mul.</p>
</dd><dt>(bary_mul_karatsuba_branch)
<dd>
<p>Extracted from bary_mul.</p>
</dd><dt>(bary_mul_karatsuba_start)
<dd>
<p>New function to call bary_mul_precheck and bary_mul_karatsuba_branch.</p>
</dd><dt>(bary_mul_toom3_branch)
<dd>
<p>Extracted from bary_mul.</p>
</dd><dt>(bary_mul_toom3_start)
<dd>
<p>New function to call bary_mul_precheck and bary_mul_toom3_branch.</p>
</dd><dt>(bary_mul)
<dd>
<p>Just call bary_mul_toom3_start. Arguments for work memory are removed.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Follow the bary_mul change.</p>
</dd><dt>(bigmul0)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+10-3A46-3A38+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 11 10:46:38 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/probes_to_wiki.rb
<dd>
<p>fix usage comment.  use <a
href="../../classes/Enumerable.html#method-i-grep">Enumerable#grep</a>
which yields each elements to reduce unnecessary array.</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+10-3A09-3A18+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jul 11 10:09:18 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_daemon)
<dd>
<p>daemon(3) is implemented with fork(2). Therefore it needs
rb_thread_atfork(). (and revert r41903)</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+03-3A22-3A10+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Jul 11 03:22:10 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/probes_to_wiki.rb
<dd>
<p>adding a script to convert probes.d to wiki format for easy wiki updates.</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+00-3A54-3A07+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Jul 11 00:54:07 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ri.1
<dd>
<p>Incorrect use of .Dd macro [Bug #8620] by Tristan Hill</p>
</dd></dl>

<h3 id="label-Thu+Jul+11+00-3A48-3A29+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Jul 11 00:48:29 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>Add example for __setobj__ and __getobj__ [Bug #8615] Patch by Caleb
Thompson</p>
</dd></dl>

<h2 id="label-2013-07-10">2013-07-10</h2>

<h3 id="label-Wed+Jul+10+23-3A29-3A22+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Jul 10 23:29:22 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>Use :call-seq: for method signature rdoc</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+23-3A23-3A18+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Jul 10 23:23:18 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (#add)
<dd>
<p>Remove incorrect rdoc for return value [Bug #8567] Reported by Tim Pease.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+23-3A12-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 10 23:12:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_subpos)
<dd>
<p>make public function.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+22-3A44-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 10 22:44:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Add a static assertion for RBIGNUM_EMBED_LEN_MAX.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+22-3A31-3A25+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jul 10 22:31:25 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_index)
<dd>
<p>cache single byte flag and some cosmetic changes.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+22-3A03-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 10 22:03:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_2comp)
<dd>
<p>Don&#39;t use bary_plus_one.</p>
</dd><dt>(bary_add_one)
<dd>
<p>Replaced by the implementation of bary_plus_one.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+20-3A48-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 10 20:48:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (sizeof_bdigit_dbl)
<dd>
<p>check sizeof(BDIGIT_DBL).</p>
</dd><dt>internal.h (STATIC_ASSERT)
<dd>
<p>move from enum.c.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+20-3A08-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 10 20:08:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (SIZEOF_BDIGIT_DBL)
<dd>
<p>Add a ifdef guard for test.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+14-3A18-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 10 14:18:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (fork_daemon)
<dd>
<p>kill the other threads all and abandon the kept mutexes.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+11-3A35-3A36+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Jul 10 11:35:36 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_http.rb (TestNetHTTP_v1_2#test_get, TestNetHTTP_v1_2_chunked#test_get)
<dd>
<p>shouldn&#39;t check HttpResponse#decode_content if <a
href="../../classes/Zlib.html">Zlib</a> is not available. ko1 complained
via IRC.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+10-3A20-3A07+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jul 10 10:20:07 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>always require rubygems to stabilize rubygems related status like whether
<a href="../../classes/Gem/Specification.html">Gem::Specification</a> is
defined or not.</p>
</dd><dt>tool/rbinstall.rb (Gem::Specification.unresolved_deps)
<dd>
<p>define stub.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+08-3A21-3A15+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jul 10 08:21:15 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Import RubyGems 2.1</p>
</dd><dt>test/rubygems
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+07-3A34-3A34+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jul 10 07:34:34 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb
<dd>
<p>Remove siteconf file after building the gem.</p>
</dd><dt>test/rubygems/test_gem_ext_ext_conf_builder.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/psych_tree.rb (module Gem)
<dd>
<p>Add backward compatibility for r41148</p>
</dd><dt>test/rubygems/test_gem_package.rb
<dd>
<p>Add backward compatibility for double-slash elimination.</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+06-3A22-3A27+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Wed Jul 10 06:22:27 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_parse.c (date_zone_to_diff)
<dd>
<p>[ruby-core:55831].</p>
</dd></dl>

<h3 id="label-Wed+Jul+10+00-3A41-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul 10 00:41:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>x*1 is x.</p>
</dd></dl>

<h2 id="label-2013-07-09">2013-07-09</h2>

<h3 id="label-Tue+Jul++9+22-3A24-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  9 22:24:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul1)
<dd>
<p>No need to invoke MEMZERO at last.</p>
</dd><dt>(bary_mul_single)
<dd>
<p>Invoke MEMZERO here.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+21-3A40-3A01+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Jul  9 21:40:01 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_text.rb
<dd>
<p>Add missing tests for Text#<<. Reported by nagachika. Thanks!!!</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+18-3A02-3A38+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 18:02:38 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#chown_R)
<dd>
<p>Do not skip traversal even if user and group are both nil, to be consistent
with chown and other commands.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+17-3A58-3A26+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 17:58:26 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (TestFileUtils#assert_output_lines)
<dd>
<p>New utility assertion method for testing verbose output.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+17-3A43-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  9 17:43:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_tracer.rb
<dd>
<p>catch up recent rubygems changes.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+16-3A58-3A30+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  9 16:58:30 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb
<dd>
<p>hope that the final resolution to fix the failure of test-all.  and
includes Win64 support (fixed a potential bug).</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+15-3A57-3A20+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 15:57:20 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>Fix rdoc for Kernel#&lt;=&gt;. [Fixes GH-352]</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+15-3A53-3A51+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 15:53:51 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#mode_to_s)
<dd>
<p>Define mode_to_s() also as singleton method, or <a
href="../../classes/FileUtils.html#method-c-chmod">FileUtils.chmod</a>
fails in verbose mode.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+15-3A16-3A02+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 15:16:02 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/fileasserts.rb (Test::Unit::FileAssertions#assert_not_symlink)
<dd>
<p>Add a missing optional argument “message”.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+15-3A03-3A24+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  9 15:03:24 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#chown, FileUtils#chown_R)
<dd>
<p>If user and group are both nil, print “:”.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+12-3A47-3A08+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jul  9 12:47:08 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (appendline)
<dd>
<p>use READ_CHAR_PENDING_XXX macros and RSTRING_END().</p>
</dd><dt>io.c (rb_io_getline_1)
<dd>
<p>rewrite nested if statement into one statement.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+11-3A04-3A35+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  9 11:04:35 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb (Win32::Registry#check)
<dd>
<p>should report the position of the error.</p>
</dd><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb (Win32::Registry#QueryValue)
<dd>
<p>workaround for test-all crash.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+10-3A27-3A56+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  9 10:27:56 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb (Win32::Registry.expand_environ)
<dd>
<p>use suitable encoding for the string.</p>
</dd><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb (Win32::Registry#read)
<dd>
<p>should return REG_SZ, REG_EXPAND_SZ and REG_MULTI_SZ values with the
expected encoding – assumed as the same encoding of name.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+10-3A02-3A45+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  9 10:02:45 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/{dl,fiddle}/win32/lib/win32/registry.rb (Win32::Registry::Error#initialize)
<dd>
<p>use suitable encoding for the string.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+09-3A46-3A53+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  9 09:46:53 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/win32/lib/win32/registry.rb (Win32::Registry.expand_environ)
<dd>
<p>use suitable encoding for the string.  fixed a test-all error of r41838.</p>
</dd><dt>ext/fiddle/win32/lib/win32/registry.rb
<dd>
<p>same changes of r41838 and this revision of dl&#39;s win32/registry.rb.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+07-3A39-3A45+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Jul  9 07:39:45 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.0.4.  See <a
href="https://github.com/rubygems/rubygems/blob/2.0/History.txt">github.com/rubygems/rubygems/blob/2.0/History.txt</a>
for changes</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+01-3A47-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  9 01:47:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (biglsh_bang)
<dd>
<p>Don&#39;t shift a BDIGIT with BITSPERDIG bits.</p>
</dd><dt>(bigrsh_bang)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+01-3A17-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  9 01:17:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigrsh_bang)
<dd>
<p>Fix bignum digits overrun.</p>
</dd></dl>

<h3 id="label-Tue+Jul++9+00-3A46-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  9 00:46:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (biglsh_bang)
<dd>
<p>Fix bignum digits under-run.</p>
</dd></dl>

<h2 id="label-2013-07-08">2013-07-08</h2>

<h3 id="label-Mon+Jul++8+23-3A36-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul  8 23:36:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/win32/lib/win32/registry.rb (Error, API)
<dd>
<p>use WCHAR interfaces.  c.f. [Bug #8508]</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+23-3A13-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul  8 23:13:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_pow)
<dd>
<p>move from win32.h and disable strict ANSI mode macro to let _controlfp()
stuff defined. [ruby-core:55312] [Bug #8495]</p>
</dd><dt>numeric.c (finite)
<dd>
<p>add declaration for strict ANSI. [ruby-core:55312] [Bug #8495]</p>
</dd><dt>thread_win32.c (w32_thread_start_func, thread_start_func_1), (timer_thread_func)
<dd>
<p>use __stdcall instead of _stdcall which is unavailable in strict ANSI mode.
[ruby-core:55312] [Bug #8495]</p>
</dd><dt>win32/win32.c (gettimeofday)
<dd>
<p>use __cdecl instead of _cdecl.</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+22-3A41-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  8 22:41:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>Arguments for work memory added.</p>
</dd><dt>(bary_mul_balance)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_mul_karatsuba)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+22-3A03-3A30+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  8 22:03:30 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_sq_fast)
<dd>
<p>New function for testing.</p>
</dd><dt>(rb_big_mul_toom3)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (rb_big_sq_fast)
<dd>
<p>Declared.</p>
</dd><dt>(rb_big_mul_toom3)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+21-3A59-3A34+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  8 21:59:34 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_balance)
<dd>
<p>Initialize a local variable to suppress a warning.</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+20-3A55-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  8 20:55:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_balance)
<dd>
<p>Reduce work memory.</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+08-3A03-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  8 08:03:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>Add a RB_GC_GUARD.</p>
</dd></dl>

<h2 id="label-2013-07-07">2013-07-07</h2>

<h3 id="label-Sun+Jul++7+23-3A56-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul  7 23:56:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_karatsuba)
<dd>
<p>Unreachable code removed.  Remove several branches.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+22-3A59-3A06+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul  7 22:59:06 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_big_mul_normal)
<dd>
<p>Declared.</p>
</dd><dt>(rb_big_mul_balance)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_mul_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>bignum.c (rb_big_mul_normal)
<dd>
<p>New function for tests.</p>
</dd><dt>(rb_big_mul_balance)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_mul_karatsuba)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+19-3A21-3A30+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul  7 19:21:30 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Reorder functions to decrease forward reference.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+14-3A41-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul  7 14:41:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>(bigsub_core): Use bary_sub.</p>
</dd><dt>(bary_sub)
<dd>
<p>Returns a borrow flag.  Use bary_subb.</p>
</dd><dt>(bary_subb)
<dd>
<p>New function for actually calculating subtraction with borrow.</p>
</dd><dt>(bary_sub_one)
<dd>
<p>New function.</p>
</dd><dt>(bigadd_core)
<dd>
<p>Use bary_add.</p>
</dd><dt>(bary_add)
<dd>
<p>Returns a carry flag.  Use bary_addc.</p>
</dd><dt>(bary_addc)
<dd>
<p>New function for actually calculating addition with carry.</p>
</dd><dt>(bary_add_one)
<dd>
<p>New function.</p>
</dd><dt>(bary_muladd_1xN)
<dd>
<p>Extracted from bary_mul_normal.</p>
</dd><dt>(bigmul1_normal)
<dd>
<p>Removed.</p>
</dd><dt>(bary_mul_karatsuba)
<dd>
<p>New function.</p>
</dd><dt>(bary_mul1)
<dd>
<p>Invoke rb_thread_check_ints after bary_mul_normal.</p>
</dd><dt>(bary_mul)
<dd>
<p>Remove most and least significant zeros before actual multiplication.  Use
bary_sq_fast, bary_mul_balance, bary_mul_karatsuba and bigmul1_toom3 as
bigmul0.</p>
</dd><dt>(bigmul1_balance)
<dd>
<p>Removed.</p>
</dd><dt>(bigmul1_karatsuba)
<dd>
<p>Removed.</p>
</dd><dt>(bigsqr_fast)
<dd>
<p>Removed.</p>
</dd><dt>(bary_sparse_p)
<dd>
<p>Extracted from big_sparse_p.</p>
</dd><dt>(big_sparse_p)
<dd>
<p>Removed.</p>
</dd><dt>(bigmul0)
<dd>
<p>Use bary_mul.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+11-3A54-3A33+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jul  7 11:54:33 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add <a
href="../../classes/REXML/Text.html#method-i-3C-3C">REXML::Text#<<</a>
related updates.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+11-3A49-3A19+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jul  7 11:49:19 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/text.rb (REXML::Text#&lt;&lt;)
<dd>
<p>Support appending in not “raw” mode. [Bug #8602] [ruby-dev:47482] Reported
by Ippei Obayashi. Thanks!!!</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+11-3A43-3A13+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jul  7 11:43:13 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/text.rb (REXML::Text#&lt;&lt;)
<dd>
<p>Support method chain use by “&lt;&lt;” like other objects.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+11-3A34-3A18+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jul  7 11:34:18 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/text.rb (REXML::Text#clear_cache)
<dd>
<p>Extract common cache clear code.</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+11-3A01-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul  7 11:01:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_DTRACE_POSTPROCESS)
<dd>
<p>dtrace version SUN D 1.11 introduces a check in the dtrace compiler to
ensure that probes actually exist. If there are no probes, then the -G step
will fail. As this test is only being used to determine whether -G is
necessary (for instance, on OSX it is not), adding a real probe to the
conftest allows it to succeed on newer versions of dtrace. Patch by Eric
Saxby &lt;sax AT livinginthepast.org&gt; at [ruby-core:55826].  [Fixes
GH-351], [Bug #8606].</p>
</dd></dl>

<h3 id="label-Sun+Jul++7+10-3A07-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jul  7 10:07:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_sq_fast)
<dd>
<p>Extracted from bigsqr_fast and ensure not to access <a href="2*xn">zds</a>.</p>
</dd><dt>(bigsqr_fast)
<dd>
<p>Allocate the result bignum with 2*xn words.</p>
</dd></dl>

<h2 id="label-2013-07-06">2013-07-06</h2>

<h3 id="label-Sat+Jul++6+04-3A49-3A38+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Jul  6 04:49:38 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>register time objects so they are referenced as ids during output.</p>
</dd><dt>test/psych/test_date_time.rb
<dd>
<p>corresponding test.</p>
</dd></dl>

<h2 id="label-2013-07-05">2013-07-05</h2>

<h3 id="label-Fri+Jul++5+20-3A46-3A39+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jul  5 20:46:39 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_unicode_escape.rb (TestUnicodeEscape#test_basic)
<dd>
<p>this assertion doesn&#39;t seems to be checking the unicode string on
command line, but seems to be checking how to treat the unicode string from
stdin.  so, should escape &#39;&#39; before &#39;u&#39;.  this fixes a test
failure on Windows.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+19-3A05-3A40+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Jul  5 19:05:40 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#chown, FileUtils#chown_R)
<dd>
<p>Fix the wrong output message when user is nil, which should be “chown
:group file” instead of “chown group file”.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+16-3A21-3A56+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Jul  5 16:21:56 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_regexp.rb (TestRegexp#test_options_in_look_behind, TestRegexp#assert_match_at)
<dd>
<p>Add tests for another problem fixed in Onigmo 5.13.5.  Previously Onigmo
did not allow option enclosures in look-behind, which makes it impossible
to interpolate a regexp into another in the middle of a look-behind
pattern.  cf. <a
href="https://github.com/k-takata/Onigmo/pull/17">github.com/k-takata/Onigmo/pull/17</a></p>
</dd><dt>test/ruby/test_regexp.rb (TestRegexp#test_options_in_look_behind, TestRegexp#assert_match_at)
<dd>
<p>Parse regexps in run time rather than in compile time.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+12-3A14-3A40+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jul  5 12:14:40 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rubyoptions.rb (TestRubyOptions#test_notfound)
<dd>
<p>after r41710, the path of command uses backslash as the separator on
Windows.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+11-3A29-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul  5 11:29:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit/assertions.rb (assert_raise_with_message)
<dd>
<p>move from test/fileutils/test_fileutils.rb.  this is still experimental and
the interface may be changed.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+11-3A08-3A00+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jul  5 11:08:00 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (w32_spawn)
<dd>
<p>r41710 made that if the command starts with a quote and includes slash,
removed the top quote and NOT removed the last quote. this fixes test
failures on test/ruby/test_process.rb and test/webrick.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+09-3A53-3A15+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul  5 09:53:15 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (<a href="'CPPOUTFILE'">CONFIG</a>)
<dd>
<p>fix r41769; <a href="'CPPOUTFILE'">CONFIG</a> may be nil.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+05-3A39-3A53+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jul  5 05:39:53 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BARY_MUL1)
<dd>
<p>Renamed from BARY_MUL.</p>
</dd><dt>(bary_mul1)
<dd>
<p>Renamed from bary_mul.</p>
</dd><dt>(bary_mul)
<dd>
<p>Renamed from bary_mul2.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+04-3A58-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jul  5 04:58:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_balance)
<dd>
<p>Extracted from bigmul1_balance and use bary_mul2 and bary_add to decrease
allocations.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+02-3A14-3A00+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Jul  5 02:14:00 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#symbolic_modes_to_i)
<dd>
<p>Fix the wrong character class [+-=], which happened to match all desired
characters but also match undesired characters.</p>
</dd><dt>lib/fileutils.rb (FileUtils.chmod{,_R})
<dd>
<p>Enhance the symbolic mode parser to support the permission symbols u/g/o
and multiple actions as defined in SUS, so that chmod(“g=o+w”, file) works
as expected.  Invalid symbolic modes are now rejected with <a
href="../../classes/ArgumentError.html">ArgumentError</a>.</p>
</dd></dl>

<h3 id="label-Fri+Jul++5+00-3A25-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul  5 00:25:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (have_framework)
<dd>
<p>allow header file to check. [ruby-core:55745] [Bug #8593]</p>
</dd></dl>

<h2 id="label-2013-07-04">2013-07-04</h2>

<h3 id="label-Thu+Jul++4+22-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Thu Jul  4 22:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_equal)
<dd>
<p>Fixed an rb_obj_equal documentation typo where “a” was used instead of
“obj”. Fixes GH-349. Patch by @adnandoric</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+20-3A39-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul  4 20:39:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>Exit with EXIT_FAILURE when it fails.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+20-3A20-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul  4 20:20:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (maxpow_in_bdigit_dbl)
<dd>
<p>Use tables if available.</p>
</dd><dt>(maxpow_in_bdigit)
<dd>
<p>Ditto.</p>
</dd><dt>(U16)
<dd>
<p>New macro.</p>
</dd><dt>(U32)
<dd>
<p>Ditto.</p>
</dd><dt>(U64)
<dd>
<p>Ditto.</p>
</dd><dt>(U128)
<dd>
<p>Ditto.</p>
</dd><dt>(maxpow16_exp)
<dd>
<p>New table.</p>
</dd><dt>(maxpow16_num)
<dd>
<p>New table.</p>
</dd><dt>(maxpow32_exp)
<dd>
<p>New table.</p>
</dd><dt>(maxpow32_num)
<dd>
<p>New table.</p>
</dd><dt>(maxpow64_exp)
<dd>
<p>New table.</p>
</dd><dt>(maxpow64_num)
<dd>
<p>New table.</p>
</dd><dt>(maxpow128_exp)
<dd>
<p>New table.</p>
</dd><dt>(maxpow128_num)
<dd>
<p>New table.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+18-3A25-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jul  4 18:25:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Avoid temporary buffer allocation except very big base non-power-of-2
numbers.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+15-3A51-3A56+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jul  4 15:51:56 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_succ)
<dd>
<p>use ONIGENC_MBCLEN_CHARFOUND_P correctly.</p>
</dd><dt>string.c (rb_str_dump)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+10-3A04-3A11+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jul  4 10:04:11 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regcomp.c ()
<dd>
<p>Merge Onigmo 5.13.5 23b523076d6f1161. * [bug]  (thanks Akinori MUSHA and
Ippei Obayashi) Fix a renumbering bug in condition regexp with a named
capture. [Bug #8583] * [spec] (thanks Akinori MUSHA) Allow ENCLOSE_OPTION
in look-behind.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+00-3A36-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  4 00:36:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (SIGNED_INTEGER_MAX)
<dd>
<p>suppress warning C4146 on VC6. seems a logical ORed expression becomes
unsigned.</p>
</dd></dl>

<h3 id="label-Thu+Jul++4+00-3A13-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  4 00:13:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (rb_w32_atomic_cas)
<dd>
<p>call InterlockedCompareExchange directly.</p>
</dd><dt>ruby_atomic.h (ATOMIC_CAS)
<dd>
<p>fix missing function call.</p>
</dd></dl>

<h2 id="label-2013-07-03">2013-07-03</h2>

<h3 id="label-Wed+Jul++3+23-3A47-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  3 23:47:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_CAS)
<dd>
<p>suppress C4022 and C4047 warnings in VC6.  only InterlockedCompareExchange
is declared using PVOID.</p>
</dd></dl>

<h3 id="label-Wed+Jul++3+22-3A29-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul  3 22:29:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (ruby_digit36_to_number_table)
<dd>
<p>Declared.</p>
</dd><dt>util.c (ruby_digit36_to_number_table)
<dd>
<p>Moved from scan_digits.</p>
</dd><dt>bignum.c (conv_digit)
<dd>
<p>Use ruby_digit36_to_number_table.</p>
</dd><dt>pack.c (hex2num)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul++3+18-3A12-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  3 18:12:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (install_dirs)
<dd>
<p>revert DESTDIR prefix by r39841, since it is fixed by r41648. 
[ruby-core:55760] [Bug #8115]</p>
</dd></dl>

<h3 id="label-Wed+Jul++3+14-3A15-3A25+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  3 14:15:25 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (do_stat)
<dd>
<p>use rb_w32_ustati64() in win32.c to get rid of mysterious behavior of
FindFirstFile() Windows API which treat “&lt;” and “&gt;” like as wildcard
characters.  [ruby-core:55764] [Bug #8597]</p>
</dd></dl>

<h3 id="label-Wed+Jul++3+12-3A06-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jul  3 12:06:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (maxpow_in_bdigit)
<dd>
<p>Renamed from calc_hbase and return maxpow.</p>
</dd></dl>

<h2 id="label-2013-07-02">2013-07-02</h2>

<h3 id="label-Tue+Jul++2+23-3A47-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  2 23:47:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (roomof)
<dd>
<p>Cast to long.</p>
</dd><dt>(rb_ull2big)
<dd>
<p>Fix bignew arguments.</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+21-3A17-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  2 21:17:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Merge two temporary buffers.</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+20-3A25-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  2 20:25:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Use BDIGIT_DBL to collect adjacent digits.</p>
</dd><dt>(BDIGIT_DBL_MAX)
<dd>
<p>New macro.</p>
</dd><dt>(maxpow_in_bdigit_dbl)
<dd>
<p>New function.</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+17-3A23-3A33+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Jul  2 17:23:33 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>add description of Module#using and refinement inheritance by module
inclusion.</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+17-3A22-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul  2 17:22:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>add EUC-JP and Windows-31J.</p>
</dd><dt>re.c (rb_char_to_option_kcode)
<dd>
<p>use built-in encoding indexes in internal.h.</p>
</dd><dt>internal.h
<dd>
<p>add UTF8-MAC.</p>
</dd><dt>dir.c (rb_utf8mac_encoding)
<dd>
<p>use built-in encoding indexes in internal.h.</p>
</dd><dt>internal.h
<dd>
<p>add UTF-{16,32} dummy encodings.</p>
</dd><dt>string.c (rb_str_inspect, str_scrub0)
<dd>
<p>use built-in encoding indexes in internal.h.</p>
</dd><dt>internal.h
<dd>
<p>add UTF-{16,32}{BE,LE}.</p>
</dd><dt>io.c (io_strip_bom)
<dd>
<p>use built-in encoding indexes in internal.h.</p>
</dd><dt>internal.h (rb_{ascii8bit,utf8,usascii}_encindex)
<dd>
<p>use built-in encoding indexes for optimization.</p>
</dd><dt>encoding.c (enc_inspect, rb_locale_encindex), (enc_set_filesystem_encoding, rb_filesystem_encindex)
<dd>
<p>use built-in encoding indexes directly.</p>
</dd><dt>encoding.c (rb_enc_set_index, rb_enc_associate_index)
<dd>
<p>validate argument encoding index.</p>
</dd><dt>include/ruby/encoding.h (ENCODING_SET)
<dd>
<p>use rb_enc_set_index() instead of setting inlined bits directly.</p>
</dd><dt>encoding.c (rb_enc_init)
<dd>
<p>register preserved indexes.</p>
</dd><dt>internal.h (ruby_preserved_encindex)
<dd>
<p>move from encoding.c.</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+11-3A14-3A36+2013++Shota+Fukumori++-3Csorah-40cookpad.com-3E">Tue Jul  2 11:14:36 2013  Shota Fukumori  &lt;sorah@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (try_config)
<dd>
<p>Fix to not replace $LDFLAGS with $libs</p>
</dd><dt>(1.9.3 behavior) [ruby-core
<dd>
<p>55752] [Bug #8595]</p>
</dd></dl>

<h3 id="label-Tue+Jul++2+00-3A39-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jul  2 00:39:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ipsocket.c (init_inetsock_internal)
<dd>
<p>Don&#39;t try mismatched address family if already failed.</p>
</dd></dl>

<h2 id="label-2013-07-01">2013-07-01</h2>

<h3 id="label-Mon+Jul++1+23-3A07-3A38+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jul  1 23:07:38 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/encdb.h.tmpl
<dd>
<p>define encoding index macros to use the index statically from C source.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+22-3A57-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  1 22:57:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul2)
<dd>
<p>New function.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Use a better algorithm to compose the result if input length is very long.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+20-3A22-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Mon Jul  1 20:22:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.h (RB_UNUSED_VAR, UNREACHABLE)
<dd>
<p>import macros from ruby.h for 1.9.3. [Bug #8588] [ruby-core:55730]</p>
</dd><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>Bump version to 1.2.1.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+20-3A03-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  1 20:03:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ipsocket.c (init_inetsock_internal)
<dd>
<p>Use an address family for local address which is different to the remote
address if no other choice.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+15-3A05-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul  1 15:05:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb (CSV#&lt;&lt;)
<dd>
<p>use <a
href="../../classes/StringIO.html#method-i-set_encoding">StringIO#set_encoding</a>
instead of creating new <a href="../../classes/StringIO.html">StringIO</a>
instance with <a
href="../../classes/String.html#method-i-force_encoding">String#force_encoding</a>,
forcing encoding discards the cached coderange bits and can make further
operations very slow.  [ruby-core:55714] [Bug #8585]</p>
</dd><dt>ext/stringio/stringio.c (strio_write)
<dd>
<p>keep coderange of ptr-&gt;string.</p>
</dd><dt>string.c (rb_enc_cr_str_buf_cat, rb_str_append)
<dd>
<p>consider an empty string 7bit-clean and should not discard cached coderange
of string to be appended.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+12-3A56-3A41+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Jul  1 12:56:41 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_using_module)
<dd>
<p>activate refinements in the ancestors of the argument module to support
refinement inheritance by <a
href="../../classes/Module.html#method-i-include">Module#include</a>. 
[ruby-core:55671] [Feature #8571]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+12-3A02-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  1 12:02:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Skip leading zeros.</p>
</dd></dl>

<h3 id="label-Mon+Jul++1+00-3A59-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jul  1 00:59:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (nlz16)
<dd>
<p>New function.</p>
</dd><dt>(nlz32)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz64)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz128)
<dd>
<p>Ditto.</p>
</dd><dt>(nlz)
<dd>
<p>Redefined using an above function.</p>
</dd><dt>(bitsize)
<dd>
<p>New macro.</p>
</dd><dt>(rb_cstr_to_inum)
<dd>
<p>Use bitsize instead of nlz.</p>
</dd></dl>

<h2 id="label-2013-06-30">2013-06-30</h2>

<h3 id="label-Sun+Jun+30+22-3A40-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sun Jun 30 22:40:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Corrected a few comments. Patch by @Nullset14. Fixes GH-346.</p>
</dd></dl>

<h3 id="label-Sun+Jun+30+21-3A53-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 30 21:53:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_cstr_to_inum)
<dd>
<p>Use rb_integer_unpack if base is a power of 2.</p>
</dd></dl>

<h3 id="label-Sun+Jun+30+10-3A59-3A23+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun 30 10:59:23 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (join_argv)
<dd>
<p>use backslash instead of slash in program path, otherwise cannot invoke
“./cu{1ee7}a.exe” for some reason. [ruby-core:24309] [Bug #1771]</p>
</dd><dt>io.c (spawnv, spawn)
<dd>
<p>use UTF-8 spawn family.  [Bug #1771]</p>
</dd><dt>process.c (proc_exec_sh, proc_spawn_cmd, proc_spawn_sh)
<dd>
<p>ditto.</p>
</dd><dt>win32/win32.c (translate_char, join_argv, has_redirection)
<dd>
<p>make codepage aware.</p>
</dd><dt>win32/win32.c (rb_w32_udln_find_exe_r, rb_w32_udln_find_file_r)
<dd>
<p>codepage independent versions.</p>
</dd><dt>win32/win32.c (w32_spawn)
<dd>
<p>extract codepage aware code from rb_w32_spawn().</p>
</dd><dt>win32/win32.c (rb_w32_uspawn)
<dd>
<p>add UTF-8 version function.</p>
</dd><dt>win32/win32.c (w32_aspawn_flags)
<dd>
<p>extract codepage aware code from rb_w32_aspawn_flags().</p>
</dd><dt>win32/win32.c (rb_w32_uaspawn_flags, rb_w32_uaspawn_flags)
<dd>
<p>add UTF-8 version functions.</p>
</dd><dt>win32/win32.c (w32_getenv)
<dd>
<p>extract codepage aware code from rb_w32_ugetenv() and rb_w32_getenv().</p>
</dd><dt>win32/win32.c (w32_stati64)
<dd>
<p>extract codepage aware code from rb_w32_ustati64() and rb_w32_stati64().</p>
</dd><dt>dln.h (DLN_FIND_EXTRA_ARG, DLN_FIND_EXTRA_ARG_DECL)
<dd>
<p>allow extra arguments to dln_find_{exe,file}_r().</p>
</dd><dt>dln_find.c (dln_find_exe_r, dln_find_file_r)
<dd>
<p>add extract arguments.</p>
</dd><dt>process.c (EXPORT_STR, EXPORT_DUP)
<dd>
<p>convert to default process encoding if defined.</p>
</dd><dt>process.c (check_exec_env_i)
<dd>
<p>convert environment variables too.</p>
</dd><dt>process.c (rb_exec_fillarg)
<dd>
<p>convert program path and arguments too.</p>
</dd></dl>

<h3 id="label-Sun+Jun+30+01-3A57-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 30 01:57:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_rshift)
<dd>
<p>Use abs2twocomp and twocomp2abs_bang.</p>
</dd></dl>

<h3 id="label-Sun+Jun+30+00-3A14-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 30 00:14:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (RBIGNUM_SET_NEGATIVE_SIGN)
<dd>
<p>New macro.</p>
</dd><dt>(RBIGNUM_SET_POSITIVE_SIGN)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_neg)
<dd>
<p>Inline get2comp to avoid double negation.</p>
</dd></dl>

<h2 id="label-2013-06-29">2013-06-29</h2>

<h3 id="label-Sat+Jun+29+23-3A26-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 29 23:26:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_neg)
<dd>
<p>Extracted from bary_2comp.</p>
</dd><dt>(bary_plus_one)
<dd>
<p>Extracted from bary_2comp.</p>
</dd><dt>(bary_2comp)
<dd>
<p>Use bary_neg and bary_plus_one.</p>
</dd><dt>(big_extend_carry)
<dd>
<p>Extracted from get2comp.</p>
</dd><dt>(get2comp)
<dd>
<p>Use big_extend_carry.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Use big_extend_carry.</p>
</dd><dt>(rb_big_neg)
<dd>
<p>Use bary_neg.</p>
</dd></dl>

<h3 id="label-Sat+Jun+29+22-3A31-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 29 22:31:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_2comp)
<dd>
<p>Simplified.</p>
</dd></dl>

<h3 id="label-Sat+Jun+29+09-3A33-3A53+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 29 09:33:53 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigor_int)
<dd>
<p>Return -1 if y == -1.</p>
</dd></dl>

<h3 id="label-Sat+Jun+29+09-3A07-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 29 09:07:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigor_int)
<dd>
<p>Use RB_GC_GUARD.</p>
</dd><dt>(bigxor_int)
<dd>
<p>Take xn and hibitsx arguments.  Use twocomp2abs_bang.</p>
</dd><dt>(rb_big_xor)
<dd>
<p>Use abs2twocomp and twocomp2abs_bang.</p>
</dd></dl>

<h3 id="label-Sat+Jun+29+08-3A19-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 29 08:19:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigand_int)
<dd>
<p>Don&#39;t apply bitwise and for BDIGIT and long.</p>
</dd><dt>(bigor_int)
<dd>
<p>Take xn and hibitsx arguments.  Use twocomp2abs_bang.</p>
</dd><dt>(rb_big_or)
<dd>
<p>Use abs2twocomp and twocomp2abs_bang.</p>
</dd></dl>

<h3 id="label-Fri+Jun+29+01-3A08-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Jun 29 01:08:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (fix_mul)
<dd>
<p>remove FIT_SQRT_LONG test as it was causing fix_mul to return an incorrect
result for -2147483648*-2147483648 on 64 bit platforms</p>
</dd><dt>test/ruby/test_integer_comb.rb (class TestIntegerComb)
<dd>
<p>add test case</p>
</dd></dl>

<h2 id="label-2013-06-28">2013-06-28</h2>

<h3 id="label-Fri+Jun+28+12-3A26-3A53+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 28 12:26:53 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_and)
<dd>
<p>Allocate new bignum with same size to shorter argument if it&#39;s high
bits are zero.</p>
</dd></dl>

<h3 id="label-Fri+Jun+28+12-3A14-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 28 12:14:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ipsocket.c (init_inetsock_internal)
<dd>
<p>Don&#39;t use local addresses which address family is different to remote
address.</p>
</dd></dl>

<h3 id="label-Fri+Jun+28+08-3A06-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 28 08:06:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigand_int)
<dd>
<p>Add arguments, xn and hibitsx. Use twocomp2abs_bang.</p>
</dd></dl>

<h2 id="label-2013-06-27">2013-06-27</h2>

<h3 id="label-Thu+Jun+27+23-3A58-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 27 23:58:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (abs2twocomp_bang)
<dd>
<p>Removed.</p>
</dd><dt>(abs2twocomp)
<dd>
<p>Take n_ret argument to return actual length.</p>
</dd><dt>(rb_big_and)
<dd>
<p>Follow above change.</p>
</dd></dl>

<h3 id="label-Thu+Jun+27+22-3A52-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 27 22:52:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (get2comp)
<dd>
<p>Use bary_2comp.</p>
</dd><dt>(abs2twocomp_bang)
<dd>
<p>New function.</p>
</dd><dt>(abs2twocomp)
<dd>
<p>New function.</p>
</dd><dt>(twocomp2abs_bang)
<dd>
<p>New function.</p>
</dd><dt>(rb_big_and)
<dd>
<p>Use abs2twocomp and twocomp2abs_bang.</p>
</dd></dl>

<h3 id="label-Thu+Jun+27+20-3A03-3A13+2013++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Thu Jun 27 20:03:13 2013  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (verify_certificate_identity)
<dd>
<p>fix hostname verification. Patched by nahi.</p>
</dd><dt>test/openssl/test_ssl.rb (test_verify_certificate_identity)
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Thu+Jun+27+00-3A23-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 27 00:23:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_pow)
<dd>
<p>Retry if y is a <a href="../../classes/Bignum.html">Bignum</a> and it is
representable as a <a href="../../classes/Fixnum.html">Fixnum</a>. Use
rb_absint_numwords.</p>
</dd></dl>

<h2 id="label-2013-06-26">2013-06-26</h2>

<h3 id="label-Wed+Jun+26+23-3A53-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Wed Jun 26 23:53:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_save_rounding_mode)
<dd>
<p>fix typo. Fixes GH-343. Patch by @jgarber.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+23-3A22-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 26 23:22:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (rb_enumeratorize_with_size)
<dd>
<p>use strict definition rb_enumerator_size_func.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+23-3A11-3A14+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jun 26 23:11:14 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_before_sweep)
<dd>
<p>Add a missing space before a parenthesis.</p>
</dd><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>Add a missing space around a parenthesis.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+22-3A44-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 26 22:44:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_enumeratorize_with_size)
<dd>
<p>cast for backward compatibility.</p>
</dd><dt>include/ruby/intern.h (rb_enumerator_size_func)
<dd>
<p>define strict function declaration for rb_enumeratorize_with_size().</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+21-3A01-3A22+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Wed Jun 26 21:01:22 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (TestIO#test_write_32bit_boundary)
<dd>
<p>skip if writing a file is slow. [ruby-core:55541] [Bug #8519]</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+16-3A42-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 26 16:42:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>should use expanded values for header directories unless extmk.  patch by
vo.x (Vit Ondruch) at [ruby-core:55653] [Bug #8115], rhbz#921650.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+12-3A48-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 12:48:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigxor_int)
<dd>
<p>Fix a buffer over read.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+12-3A13-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 12:13:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigand_int)
<dd>
<p>Consider negative values.</p>
</dd><dt>(bigor_int)
<dd>
<p>The allocated bignum should have enough size to store long. This fixes
(bignum fits in a BDIGIT) | (fixnum bigger than BDIGIT) on platforms which
SIZEOF_BDIGITS &lt; SIZEOF_LONG, such as LP64 with 32bit BDIGIT (no
int128).</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+12-3A08-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 12:08:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_udp.rb
<dd>
<p>Close sockets explicitly. Don&#39;t use fixed port number.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+07-3A27-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 07:27:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigand_int)
<dd>
<p>Fix a buffer over read.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+06-3A48-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 06:48:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigadd_int)
<dd>
<p>Fix a buffer over read.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+01-3A18-3A13+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Wed Jun 26 01:18:13 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_before_sweep)
<dd>
<p>Add new helper function that check the object is before sweep?</p>
</dd><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>Have to clear mark bit if object&#39;s slot already ready to minor sweep.</p>
</dd></dl>

<h3 id="label-Wed+Jun+26+01-3A17-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 26 01:17:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigsub_int)
<dd>
<p>Fix a buffer over read.</p>
</dd></dl>

<h2 id="label-2013-06-25">2013-06-25</h2>

<h3 id="label-Tue+Jun+25+22-3A45-3A43+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 22:45:43 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_singlebit_p)
<dd>
<p>Use POW2_P.</p>
</dd><dt>(bary_pack)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str0)
<dd>
<p>Ditto.</p>
</dd><dt>(POW2_P)
<dd>
<p>Moved to top.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+22-3A28-3A07+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jun 25 22:28:07 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/builder.rb (Gem::Ext::Builder.make)
<dd>
<p>Pass DESTDIR via command line to override what&#39;s in MAKEFLAGS.  This
fixes an installation problem under a package building environment where
DESTDIR is specified in the (parent) command line. [Fixes GH-327]</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+21-3A43-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 21:43:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2dbl)
<dd>
<p>Use (BDIGIT)1 instead of 1UL.</p>
</dd><dt>(bary_mul_normal)
<dd>
<p>Remove a useless cast.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+21-3A26-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Jun 25 21:26:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_exp)
<dd>
<p>Fix for the cases when the argument x is not a <a
href="../../classes/BigDecimal.html">BigDecimal</a>. This change is based
on the patch made by Heesob Park and Garth Snyder. [Bug #6862]
[ruby-core:47145] [Fixes GH-332] <a
href="https://github.com/ruby/ruby/pull/332">github.com/ruby/ruby/pull/332</a></p>
</dd></dl>

<h3 id="label-Tue+Jun+25+20-3A36-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 20:36:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2ulong)
<dd>
<p>“check” argument removed.</p>
</dd><dt>(rb_big2ulong)
<dd>
<p>Follow above change.</p>
</dd><dt>(rb_big2long)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_rshift)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_aref)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+20-3A08-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 20:08:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big2ulong_pack)
<dd>
<p>Use rb_integer_pack.</p>
</dd><dt>(rb_big_aref)
<dd>
<p>Call big2ulong with TRUE for “check” argument. It should be non-effective.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+19-3A07-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 19:07:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (LSHIFTX)
<dd>
<p>Revert r41611. The redundant expression suppresses a warning, C4293, by
Visual Studio. <a
href="http://ruby-mswin.cloudapp.net/vc10-x64/ruby-trunk/log/20130625T072854Z.log.html.gz#miniruby">ruby-mswin.cloudapp.net/vc10-x64/ruby-trunk/log/20130625T072854Z.log.html.gz#miniruby</a></p>
</dd></dl>

<h3 id="label-Tue+Jun+25+19-3A03-3A00+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 19:03:00 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2ulong)
<dd>
<p>Add a cast.</p>
</dd><dt>(big2ull)
<dd>
<p>Add a specialized code for SIZEOF_LONG_LONG &lt;= SIZEOF_BDIGITS.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+12-3A42-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 12:42:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_single_bdigit)
<dd>
<p>Use “1 + ~u” instead of “-u” to suppress warning (C4146) by Visual Studio.
Reported by ko1 via IRC.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+12-3A28-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 12:28:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2ulong)
<dd>
<p>Add code specialized for SIZEOF_LONG &lt;= SIZEOF_BDIGITS. This prevents
shift width warning from “num &lt;&lt;= BITSPERDIG”.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+12-3A23-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 25 12:23:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix oldgen/remembered_shady counting algorithm.</p>
</dd><dt>gc.c (rgengc_check_shady)
<dd>
<p>increment `objspace-&gt;rgengc.remembered_shady_object_count&#39; here.</p>
</dd><dt>gc.c (rgengc_remember)
<dd>
<p>return FALSE if obj is already remembered.</p>
</dd><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>make it void.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>fix to double counting oldgen_object_count at minor <a
href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+12-3A07-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 25 12:07:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (MSB)
<dd>
<p>Removed.</p>
</dd><dt>(BDIGIT_MSB)
<dd>
<p>Defined using BIGRAD_HALF.</p>
</dd><dt>(bary_2comp)
<dd>
<p>Apply BIGLO after possible over flow of BDIGIT.</p>
</dd><dt>(get2comp)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_unpack_internal)
<dd>
<p>Use BDIGIT_MSB. Apply BIGLO after possible over flow of BDIGIT.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Use BDIGIT_MSB.</p>
</dd><dt>(calc_hbase)
<dd>
<p>Use BDIGMAX.</p>
</dd><dt>(big2dbl)
<dd>
<p>Use BDIGMAX. Apply BIGLO after possible over flow of BDIGIT.</p>
</dd><dt>(rb_big_neg)
<dd>
<p>Apply BIGLO after possible over flow of BDIGIT.</p>
</dd><dt>(biglsh_bang)
<dd>
<p>Ditto.</p>
</dd><dt>(bigrsh_bang)
<dd>
<p>Ditto.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Use BDIGIT_MSB.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Ditto.</p>
</dd><dt>(bigxor_int)
<dd>
<p>Apply BIGLO after possible over flow of BDIGIT.</p>
</dd><dt>marshal.c (shortlen)
<dd>
<p>Use SIZEOF_BDIGITS instead of sizeof(BDIGIT).</p>
</dd><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>Use SIZEOF_BDIGITS instead of sizeof(BDIGIT).</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+11-3A40-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 25 11:40:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2ulong)
<dd>
<p>suppress shorten-64-to-32 warning.  BDIGIT can be bigger than long now.</p>
</dd><dt>bignum.c (LSHIFTX)
<dd>
<p>remove redundant never-true expression.</p>
</dd></dl>

<h3 id="label-Tue+Jun+25+00-3A55-3A54+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Tue Jun 25 00:55:54 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (typedef struct rb_objspace)
<dd>
<p>Change members for monitor objects.</p>
</dd><dt>gc.c (gc_marks_test)
<dd>
<p>Check all WriteBarrier Errors and track them in obj-tree.</p>
</dd><dt>gc.c (rgengc_check_shady)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_marks)
<dd>
<p>Move 2 function calls to gc_marks_test for test initialize.</p>
</dd></dl>

<h2 id="label-2013-06-24">2013-06-24</h2>

<h3 id="label-Mon+Jun+24+23-3A30-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 24 23:30:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_single_bdigit)
<dd>
<p>Refine code to filling higher bits and use BIGLO.</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+22-3A26-3A31+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Mon Jun 24 22:26:31 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb (RingIPv6#prepare_ipv6)
<dd>
<p>ifindex() function may not be implemented on Windows. We use another check
for the case.</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+22-3A11-3A37+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Mon Jun 24 22:11:37 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/gdbm/test_gdbm.rb (TestGDBM#test_s_open_nolock)
<dd>
<p>skip a failing test on Windows because flock() implementation is different
from Unix.</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+22-3A06-3A14+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Mon Jun 24 22:06:14 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_installer.rb (test_install_extension_flat)
<dd>
<p>use ruby in build directory in case ruby is not installed.
[ruby-core:53265] [Bug #8058]</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+22-3A04-3A02+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Mon Jun 24 22:04:02 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/cfunc.c (rb_dlcfunc_call)
<dd>
<p>fix conversion from <a href="../../classes/Bignum.html">Bignum</a> to
pointer. sizeof(DLSTACK_TYPE) is larger than sizeof(long) on Windows x64
and higher bits over sizeof(long) of DLSTACK_TYPE was zero even if a
pointer value was over 32 bits which causes SEGV on
DL::TestCPtr#test_to_ptr_io. Adding a cast solves the bug.</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+22-3A04-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Jun 24 22:04:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (warn_printf)
<dd>
<p>use rb_vsprintf instead so ruby specific extensions like PRIsVALUE can be
used in format strings</p>
</dd><dt>eval_error.c (error_print)
<dd>
<p>use warn_print_str (alias for rb_write_error_str) to print a string value
instead of using RSTRING_PTR and RSTRING_LEN manually</p>
</dd><dt>eval.c (setup_exception)
<dd>
<p>use PRIsVALUE instead of %s and RSTRING_PTR</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+20-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Jun 24 20:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (make_name_for_block)
<dd>
<p>use PRIsVALUE in format string instead of %s and RSTRING_PTR to protect
objects from being garbage collected too soon</p>
</dd><dt>encoding.c (str_to_encindex)
<dd>
<p>ditto</p>
</dd><dt>hash.c (rb_hash_fetch_m)
<dd>
<p>ditto</p>
</dd><dt>io.c (rb_io_reopen)
<dd>
<p>ditto</p>
</dd><dt>parse.y (reg_fragment_check_gen)
<dd>
<p>ditto</p>
</dd><dt>parse.y (reg_compile_gen)
<dd>
<p>ditto</p>
</dd><dt>parse.y (ripper_assert_Qundef)
<dd>
<p>ditto</p>
</dd><dt>re.c (rb_reg_raise)
<dd>
<p>ditto</p>
</dd><dt>ruby.c (set_option_encoding_once)
<dd>
<p>ditto</p>
</dd><dt>vm_eval.c (rb_throw_obj)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+07-3A57-3A18+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Mon Jun 24 07:57:18 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (after_gc_sweep)
<dd>
<p>Have to record malloc info before reset.</p>
</dd><dt>gc.c (gc_prof_timer_start)
<dd>
<p>Pick out part of new record creation as gc_prof_setup_new_record.</p>
</dd><dt>gc.c (gc_prof_set_malloc_info)
<dd>
<p>Move point of recording allocation size to front of mark.</p>
</dd></dl>

<h3 id="label-Mon+Jun+24+02-3A53-3A09+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Jun 24 02:53:09 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Return value in Array overview example found by @PragTob [Fixes GH-336] <a
href="https://github.com/ruby/ruby/pull/336">github.com/ruby/ruby/pull/336</a></p>
</dd></dl>

<h3 id="label-Mon+Jun+24+02-3A45-3A51+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Jun 24 02:45:51 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>typo by @PragTob [Fixes GH-337] <a
href="https://github.com/ruby/ruby/pull/337">github.com/ruby/ruby/pull/337</a></p>
</dd></dl>

<h3 id="label-Mon+Jun+24+02-3A42-3A01+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Jun 24 02:42:01 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/README.win32
<dd>
<p>grammar typo by @blankenshipz [Fixes GH-334] <a
href="https://github.com/ruby/ruby/pull/334">github.com/ruby/ruby/pull/334</a></p>
</dd></dl>

<h3 id="label-Mon+Jun+24+00-3A59-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 24 00:59:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BIGUP)
<dd>
<p>Use LSHIFTX and avoid cast to consider the type of x is bigger than
BDIGIT_DBL.</p>
</dd><dt>(big2ulong)
<dd>
<p>Use unsigned long to store the result.</p>
</dd><dt>(big2ull)
<dd>
<p>Use unsigned LONG_LONG to store the result.</p>
</dd><dt>(bigand_int)
<dd>
<p>Use long for num to avoid data loss.</p>
</dd><dt>(bigor_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigxor_int)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-06-23">2013-06-23</h2>

<h3 id="label-Sun+Jun+23+23-3A05-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 23:05:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (BDIGIT)
<dd>
<p>Define it only if it is not defined yet.  This eases tests and debug.</p>
</dd><dt>(SIZEOF_BDIGITS)
<dd>
<p>Ditto.</p>
</dd><dt>(BDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(BDIGIT_DBL_SIGNED)
<dd>
<p>Ditto.</p>
</dd><dt>(PRI_BDIGIT_PREFIX)
<dd>
<p>Ditto.</p>
</dd><dt>(PRI_BDIGIT_DBL_PREFIX)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIdBDIGIT)
<dd>
<p>Define it only if PRI_BDIGIT_PREFIX is defined.</p>
</dd><dt>(PRIiBDIGIT)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIoBDIGIT)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIuBDIGIT)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIxBDIGIT)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIXBDIGIT)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIdBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIiBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIoBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIuBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIxBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(PRIXBDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>include/ruby/ruby.h (RBIGNUM_EMBED_LEN_MAX)
<dd>
<p>Define it only if it is not defined yet.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+17-3A29-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 17:29:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_single_bdigit)
<dd>
<p>Use a cast.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+15-3A38-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jun 23 15:38:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_thread.rb
<dd>
<p>rescue resource limitation errors.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+08-3A19-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 08:19:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_single_bdigit)
<dd>
<p>Extracted from bary_unpack_internal.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+07-3A41-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 07:41:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_unpack_internal)
<dd>
<p>Suppress warnings (C4146) on Visual Studio. Reported by ko1 via IRC.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+06-3A49-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jun 23 06:49:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, gc.c
<dd>
<p>rename macros and functions: OBJ_WB_GIVEUP() -&gt; OBJ_WB_UNPROTECT(),
rb_obj_wb_giveup() -&gt; rb_obj_wb_unprotect(),
rb_gc_giveup_promoted_writebarrier() -&gt;
rb_gc_writebarrier_unprotect_promoted(),</p>
</dd><dt>class.c, eval.c, hash.c
<dd>
<p>use OBJ_WB_UNPROTECT().</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+05-3A41-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jun 23 05:41:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_include_class_new), eval.c (rb_using_refinement)
<dd>
<p>make classes/modules (who share method table) shady. If module `a&#39; and
`b&#39; shares method table m_tbl and new method with iseq is added, then
write barrier is applied only `a&#39; or `b&#39;. To avoid this issue,
shade such classes/modules.</p>
</dd><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>add write barriers.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+01-3A27-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 01:27:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bytes_zero_p)
<dd>
<p>Removed.</p>
</dd><dt>(bary_pack)
<dd>
<p>Don&#39;t call bytes_zero_p.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+00-3A51-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 00:51:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bytes_zero_p)
<dd>
<p>Extracted from bary_pack.</p>
</dd><dt>(bary_pack)
<dd>
<p>Use bytes_zero_p.</p>
</dd></dl>

<h3 id="label-Sun+Jun+23+00-3A16-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 23 00:16:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (MSB)
<dd>
<p>New macro.</p>
</dd><dt>(bary_unpack_internal)
<dd>
<p>Use MSB.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-06-22">2013-06-22</h2>

<h3 id="label-Sat+Jun+22+23-3A45-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 23:45:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_swap)
<dd>
<p>New function.</p>
</dd><dt>(bary_pack)
<dd>
<p>Use bary_swap.</p>
</dd><dt>(bary_unpack_internal)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+23-3A18-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 23:18:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bytes_2comp)
<dd>
<p>Renamed from quad_buf_complement.</p>
</dd><dt>(bary_pack)
<dd>
<p>Use bytes_2comp.</p>
</dd><dt>(rb_quad_pack)
<dd>
<p>Use rb_integer_pack.</p>
</dd><dt>(rb_quad_unpack)
<dd>
<p>Use rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+21-3A46-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 21:46:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_unpack)
<dd>
<p>Don&#39;t allocate a <a href="../../classes/Bignum.html">Bignum</a> if
possible.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+21-3A03-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 21:03:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack)
<dd>
<p>Remove specialized unpackers for integers.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+20-3A36-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 20:36:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_unpack_internal)
<dd>
<p>Specialized unpacker implemented.</p>
</dd><dt>(bary_unpack)
<dd>
<p>Support INTEGER_PACK_FORCE_GENERIC_IMPLEMENTATION.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Support INTEGER_PACK_FORCE_GENERIC_IMPLEMENTATION.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+18-3A53-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 18:53:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_pack)
<dd>
<p>Support INTEGER_PACK_FORCE_GENERIC_IMPLEMENTATION flag. Fix byte order and
word order handling in code specialized for wordsize % SIZEOF_BDIGITS == 0.</p>
</dd><dt>internal.h (INTEGER_PACK_FORCE_GENERIC_IMPLEMENTATION)
<dd>
<p>Defined.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+15-3A41-3A25+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 15:41:25 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_check_shady)
<dd>
<p>add new WB miss checking on RGENGC_CHECK_MODE &gt;= 2.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Jun+22+15-3A25-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun 22 15:25:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (setup_passwd)
<dd>
<p>revert r41560, unnecessary</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+14-3A39-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun 22 14:39:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (Init_etc)
<dd>
<p>omit &#39;passwd&#39; from definition of Etc::Passwd if
HAVE_STRUCT_PASSWD_PW_PASSWD is not defined to prevent mismatch of fields
and values in setup_passwd</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+14-3A35-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 14:35:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/cfunc.c (rb_dlcfunc_call)
<dd>
<p>Use rb_big_pack instead of rb_big2ulong_pack and rb_big2ull.</p>
</dd><dt>include/ruby/intern.h (rb_big2ulong_pack)
<dd>
<p>Deprecated.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+14-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun 22 14:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (setup_passwd)
<dd>
<p>pass 0 as VALUE to rb_struct_new to prevent segfault if the compiler passes
it as a 32 bit integer on a 64 bit ruby</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+13-3A47-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 13:47:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_pack)
<dd>
<p>MEMZERO can be used even if nails is not zero.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+13-3A43-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun 22 13:43:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_getpwnam)
<dd>
<p>use PRIsVALUE in format string instead of %s and RSTRING_PTR</p>
</dd><dt>ext/etc/etc.c (etc_getgrnam)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+13-3A07-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 13:07:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (CLEAR_LOWBITS)
<dd>
<p>Rewritten without RSHIFTX.</p>
</dd><dt>(RSHIFTX)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+10-3A38-3A03+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 10:38:03 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (num2i32)
<dd>
<p>Removed.</p>
</dd><dt>(pack_pack)
<dd>
<p>Don&#39;t use num2i32.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+09-3A55-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 09:55:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (LSHIFTX)
<dd>
<p>Defined to suppress a warning.</p>
</dd><dt>(RSHIFTX)
<dd>
<p>Ditto.</p>
</dd><dt>(CLEAR_LOWBITS)
<dd>
<p>Use LSHIFTX and RSHIFTX.</p>
</dd><dt>(FILL_LOWBITS)
<dd>
<p>Use LSHIFTX. Reported by ko1 via IRC.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+09-3A11-3A33+2013++Ryan+Davis++-3Cryand-ruby-40zenspider.com-3E">Sat Jun 22 09:11:33 2013  Ryan Davis  &lt;ryand-ruby@zenspider.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/minitest/*
<dd>
<p>Imported minitest 4.7.5 (r8724)</p>
</dd><dt>test/minitest/*
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+07-3A20-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 07:20:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prof_set_heap_info, after_gc_sweep)
<dd>
<p>call gc_prof_set_heap_info() just after sweeping to calculate live object
number correctly.</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (gc_marks)
<dd>
<p>record `oldgen_object_count&#39; into current profile` record directly.</p>
</dd><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>same for remembered_normal_objects and remembered_shady_objects.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+06-3A46-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 06:46:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace::profile)
<dd>
<p>rename rb_objspace::profile::record to records (because it points a set of
records) and add a field rb_objspace::profile::current_record to point a
current profiling record.</p>
</dd><dt>gc.c
<dd>
<p>use above fields.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+06-3A05-3A36+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 06:05:36 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_giveup_promoted_writebarrier)
<dd>
<p>remove `rest_sweep()&#39; because all of remembered objects are called for
gc_mark_children().</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+05-3A08-3A03+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 05:08:03 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>call gc_mark_children() for remembered objects directly instead of pushing
on the mark stack.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+04-3A48-3A53+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 04:48:53 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (OBJ_WRITE)
<dd>
<p>cast to (VALUE *) for second parameter `slot&#39;. You don&#39;t need to
write a cast (VALUE *) any more.</p>
</dd><dt>class.c, compile.c, hash.c, iseq.c, proc.c, re.c, variable.c, vm.c, vm_method.c
<dd>
<p>remove cast expressions for OBJ_WRITE().</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+04-3A37-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 04:37:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (slot_sweep_body)
<dd>
<p>rename to slot_sweep(). No need to separate major/minor <a
href="../../classes/GC.html">GC</a>.</p>
</dd><dt>gc.c (gc_setup_mark_bits)
<dd>
<p>remove gc_clear_mark_bits() and unify to this function.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+04-3A20-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun 22 04:20:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (check_bitmap_consistency)
<dd>
<p>add to check flag and bitmap consistency. Use this function in several
places.</p>
</dd></dl>

<h3 id="label-Sat+Jun+22+02-3A18-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 22 02:18:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_pack)
<dd>
<p>Specialized packers implemented.</p>
</dd><dt>(HOST_BIGENDIAN_P)
<dd>
<p>New macro.</p>
</dd><dt>(ALIGNOF)
<dd>
<p>New macro.</p>
</dd><dt>(CLEAR_LOWBITS)
<dd>
<p>New macro.</p>
</dd><dt>(FILL_LOWBITS)
<dd>
<p>New macro.</p>
</dd><dt>(swap_bdigit)
<dd>
<p>New macro.</p>
</dd><dt>(bary_2comp)
<dd>
<p>Returns an int.</p>
</dd><dt>internal.h (swap16)
<dd>
<p>Moved from pack.c</p>
</dd><dt>(swap32)
<dd>
<p>Ditto.</p>
</dd><dt>(swap64)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-06-21">2013-06-21</h2>

<h3 id="label-Fri+Jun+21+21-3A29-3A49+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun 21 21:29:49 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (typedef enum)
<dd>
<p>Introduce flags of major gc reason.</p>
</dd><dt>gc.c (garbage_collect_body)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_profile_flags)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+21-3A11-3A53+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 21:11:53 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (allocate_sorted_heaps)
<dd>
<p>remove unused variable `add&#39;.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+20-3A50-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 20:50:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>constify RArray::as::ary and RArray::heap::ptr. Use RARRAY_ASET() or
RARRAY_PTR_USE() to modify Array objects.</p>
</dd><dt>array.c, gc.c
<dd>
<p>catch up above changes.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+20-3A32-3A13+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 20:32:13 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>fix WB miss.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+20-3A15-3A49+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 20:15:49 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>support write barrier protection for T_STRUCT. Introduce the following C
APIs: * RSTRUCT_RAWPTR(st) returns pointer (do WB on your risk). The type
of returned pointer is (const VALUE *). * RSTRUCT_GET(st, idx) returns
idx-th value of struct. * RSTRUCT_SET(st, idx, v) set idx-th value by v
with WB. And * RSTRUCT_PTR(st) returns pointer with shady operation. The
type of returned pointer is (VALUE *).</p>
</dd><dt>struct.c, re.c, gc.c, marshal.c
<dd>
<p>rewrite with above APIs.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+19-3A38-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 21 19:38:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BDIGMAX)
<dd>
<p>Use BIGRAD.</p>
</dd><dt>(BIGLO)
<dd>
<p>Use BDIGMAX.</p>
</dd><dt>(bigdivrem1)
<dd>
<p>Ditto.</p>
</dd><dt>(bigor_int)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_or)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+19-3A18-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 21 19:18:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_pack)
<dd>
<p>Move the implementation for &#39;c&#39; directive after pack_integer label.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+19-3A11-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 19:11:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, re.c
<dd>
<p>support write barrier for T_REGEXP. Note: T_MATCH object is also easy to
support write barriers. However, most of T_MATCH objects are short-lived
objects. So I skipped to support non-shady T_MATCH.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+18-3A56-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 21 18:56:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigsub_int)
<dd>
<p>Use bdigit_roomof.</p>
</dd><dt>(bigadd_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigand_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigor_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigxor_int)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+17-3A56-3A25+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 17:56:25 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>fix summary of benchmark result notation.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+16-3A38-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Jun 21 16:38:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_x509attr.c
<dd>
<p>change OSSL_X509ATTR_IS_SINGLE and OSSL_X509ATTR_SET_SINGLE macros to use
-&gt;value.set rather than -&gt;set to fix compile failure</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+15-3A26-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 15:26:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_sweep)
<dd>
<p>profile sweep time correctly when LAZY_SWEEP is disabled.</p>
</dd><dt>gc.c (gc_marks_test)
<dd>
<p>store oldgen count and shady count before test marking and restore them
after marking.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+15-3A07-3A42+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 15:07:42 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>enable lazy sweep (commit miss).</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+14-3A31-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 21 14:31:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (ruby_setenv)
<dd>
<p>refine error message so include the variable name.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+14-3A15-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 14:15:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix to use total_allocated_object_num and heaps_used at the <a
href="../../classes/GC.html">GC</a> time for profiler.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+12-3A35-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 12:35:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>RGENGC_CHECK_MODE should be 0.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+11-3A18-3A25+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 11:18:25 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_body)
<dd>
<p>fix to get `th&#39; in this function.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+10-3A21-3A44+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 10:21:44 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heaps_header/heaps_slot)
<dd>
<p>embed bitmaps into heaps_slot. no need to maintain allocation/free bitmaps.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+09-3A22-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 09:22:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (slot_sweep_body)
<dd>
<p>add counters at a time.</p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>fix line break position.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+08-3A14-3A00+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun 21 08:14:00 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>refactoring bitmaps. introduce bits_t type and some Consts.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+08-3A04-3A32+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 08:04:32 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix to support USE_RGENGC == 0 (disable RGenGC). If USE_RGENGC==0, it
caused compilation error.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+08-3A08-3A11+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun 21 08:08:11 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (lazy_sweep)
<dd>
<p>Use is_lazy_sweeping()</p>
</dd><dt>gc.c (rest_sweep)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prepare_free_objects)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+07-3A34-3A47+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 07:34:47 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_record::oldgen_objects)
<dd>
<p>added.</p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>print the following information: * Living object counts * Free object
counts If RGENGC_PROFILE &gt; 0 then * Oldgen object counts * Remembered
normal object counts * Remembered shady object counts</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+06-3A43-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 21 06:43:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_ull2big)
<dd>
<p>Refactored.</p>
</dd><dt>(rb_uint2big)
<dd>
<p>Useless code removed.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+05-3A37-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 21 05:37:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prof_sweep_timer_stop)
<dd>
<p>accumulate sweep time only when record-&gt;gc_time &gt; 0.</p>
</dd></dl>

<h3 id="label-Fri+Jun+21+00-3A37-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 21 00:37:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal
<dd>
<p>Workaround fix for bigdecimal test failures caused by [ruby-dev:47413]
[Feature #8509]</p>
</dd><dt>ext/bigdecimal/bigdecimal.h (BDIGIT)
<dd>
<p>Make it independent from the definition for bignum.c.</p>
</dd><dt>(SIZEOF_BDIGITS)
<dd>
<p>Ditto.</p>
</dd><dt>(BDIGIT_DBL)
<dd>
<p>Ditto.</p>
</dd><dt>(BDIGIT_DBL_SIGNED)
<dd>
<p>Ditto.</p>
</dd><dt>(PRI_BDIGIT_PREFIX)
<dd>
<p>Undefine the definition.</p>
</dd><dt>(PRI_BDIGIT_DBL_PREFIX)
<dd>
<p>Ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (RBIGNUM_ZERO_P)
<dd>
<p>Use rb_bigzero_p.</p>
</dd><dt>(bigzero_p)
<dd>
<p>Removed.</p>
</dd><dt>(is_even)
<dd>
<p>Use rb_big_pack.</p>
</dd></dl>

<h2 id="label-2013-06-20">2013-06-20</h2>

<h3 id="label-Thu+Jun+20+22-3A52-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:52:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigmul1_toom3)
<dd>
<p>Don&#39;t call bignorm twice.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+22-3A49-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:49:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bignorm)
<dd>
<p>Don&#39;t call bigtrunc if the result is a fixnum.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+22-3A29-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:29:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_uint2big)
<dd>
<p>Refactored.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+22-3A24-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:24:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (dump_bignum)
<dd>
<p>Use SIZEOF_BDIGITS.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+22-3A22-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:22:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2ulong)
<dd>
<p>Change the return type to unsigned long.</p>
</dd><dt>(rb_big2ulong_pack)
<dd>
<p>Follow the above change.</p>
</dd><dt>(rb_big2long)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_lshift)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_rshift)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_aref)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+22-3A02-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 22:02:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_unpack_internal)
<dd>
<p>Return -2 when negative overflow.</p>
</dd><dt>(bary_unpack)
<dd>
<p><a href="../../classes/Set.html">Set</a> the overflowed bit if an extra
BDIGIT exists.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p><a href="../../classes/Set.html">Set</a> the overflowed bit.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+21-3A17-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 21:17:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>record</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (gc_profile_record_get)
<dd>
<p>enable to access above information and REMOVING_OBJECTS, EMPTY_OBJECTS.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+18-3A29-3A26+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 18:29:26 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>Do not use <a
href="../../classes/GC/Profiler.html#method-c-disable">GC::Profiler.disable</a>
because <a
href="../../classes/GC/Profiler.html#method-c-disable">GC::Profiler.disable</a>
prohibit to access profiling data. It should be spec bug. Skip <a
href="../../classes/GC/Profiler.html#method-c-report">GC::Profiler.report</a>
if RUBY_VERSION &lt; &#39;2.0.0&#39;</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+17-3A59-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 17:59:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>stop <a href="../../classes/GC/Profiler.html">GC::Profiler</a> before
output results. Generating <a
href="../../classes/GC/Profiler.html">GC::Profiler</a> result under
profiling causes infinite loop.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+17-3A24-3A24+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 17:24:24 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/gcbench.rb
<dd>
<p>don&#39;t use __dir__ to make compatible with ruby 1.9.3.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+16-3A57-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 16:57:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_aobench.rb
<dd>
<p>use attr_accessor/reader instead of defining methods.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+16-3A46-3A46+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 16:46:46 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_aobench.rb
<dd>
<p>added.</p>
</dd><dt>benchmark/gc/aobench.rb
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+16-3A28-3A33+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 16:28:33 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_so_binary_trees.rb
<dd>
<p>disable `puts&#39; method and change iteration parameter to increase
execution time.</p>
</dd><dt>benchmark/gc/binarytree.rb
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+16-3A06-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 16:06:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/pentomino.rb
<dd>
<p>added. Simply load pentomino puzzle in the benchmark/ directory.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+15-3A32-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 15:32:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc/redblack.rb
<dd>
<p>import red black tree benchmark from <a
href="https://github.com/jruby/rubybench/blob/master/time/bench_red_black.rb">github.com/jruby/rubybench/blob/master/time/bench_red_black.rb</a></p>
</dd><dt>benchmark/gc/ring.rb
<dd>
<p>add a benchmark. This benchmark create many old objects.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+15-3A14-3A00+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 15:14:00 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/gc
<dd>
<p>create a directory to store <a href="../../classes/GC.html">GC</a> related
benchmark.</p>
</dd><dt>benchmark/gc/gcbench.rb
<dd>
<p>moved from tool/gcbench.rb.</p>
</dd><dt>benchmark/gc/hash(1|2).rb
<dd>
<p>ditto.</p>
</dd><dt>benchmark/gc/rdoc.rb
<dd>
<p>ditto.</p>
</dd><dt>benchmark/gc/null.rb
<dd>
<p>added.</p>
</dd><dt>common.mk
<dd>
<p>fix rule.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+14-3A09-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 14:09:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/hashbench1.rb
<dd>
<p>fix parameter too. Increase temporary objects.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+14-3A01-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 14:01:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/hashbench1.rb
<dd>
<p>fix parameters.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+14-3A00-3A34+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 14:00:34 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>remove dependency from ruby.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+13-3A14-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 20 13:14:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_check_backtrace)
<dd>
<p>evaluate RARRAY_AREF only once. the first argument of RB_TYPE_P is expanded
twice for non-immediate types.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+08-3A09-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 08:09:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/gcbench.rb
<dd>
<p>Summary in one line.</p>
</dd><dt>common.mk
<dd>
<p>separate gcbench-hash to gcbench-hash1 and gcbench-hash2.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+08-3A07-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 08:07:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BIGSIZE)
<dd>
<p>New macro.</p>
</dd><dt>(bigfixize)
<dd>
<p>Use BIGSIZE.</p>
</dd><dt>(big2ulong)
<dd>
<p>Ditto.</p>
</dd><dt>(check_shiftdown)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_aref)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+07-3A46-3A48+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Thu Jun 20 07:46:48 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_writebarrier)
<dd>
<p>give up rescan A and register B directly if A has huge number of children.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+07-3A30-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 07:30:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>add new rules `gcbench-rdoc&#39;, `gcbench-hash&#39;.</p>
</dd><dt>tool/gcbench.rb
<dd>
<p>separate <a href="../../classes/GC.html">GC</a> bench framework and
process.</p>
</dd><dt>tool/hashbench1.rb, tool/hashbench2.rb
<dd>
<p>add two types <a href="../../classes/GC.html">GC</a> bench. hashbench1:
many temporal objects (GC by newobj) hashbench2: hash size becomes bigger
and bigger (GC by malloc) Two benches are executed by `gcbench-hash&#39;
rule.</p>
</dd><dt>tool/rdocbench.rb
<dd>
<p>separated.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+06-3A25-3A39+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 06:25:39 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rdocbench.rb
<dd>
<p>add summary.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+06-3A18-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 06:18:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_total_time)
<dd>
<p>check objspace-&gt;profile.next_index &gt; 0.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+05-3A47-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 05:47:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prof_sweep_timer_start)
<dd>
<p>fix merge miss.</p>
</dd><dt>gc.c (GC_PROFILE_MORE_DETAIL)
<dd>
<p>set it 0.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+05-3A38-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 05:38:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Accumulate sweep time to <a href="../../classes/GC.html">GC</a> time. Now
[GC time] is [mark time] + [sweep time] + [misc].</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (gc_prof_sweep_slot_timer_start/stop)
<dd>
<p>rename to gc_prof_sweep_timer_start/stop and locate at lazy_sweep().</p>
</dd><dt>gc.c (elapsed_time_from)
<dd>
<p>add a utility function.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+05-3A08-3A53+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 05:08:53 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks)
<dd>
<p>fix wrong option. FALSE means major/full <a
href="../../classes/GC.html">GC</a>. It should be TRUE (minor marking).</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+02-3A44-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 20 02:44:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (waitpid)
<dd>
<p>should not return 0 but wait until exit unless WNOHANG is given.  waiting
huge process may return while active, for some reason.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+01-3A34-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 20 01:34:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bdigit_roomof)
<dd>
<p>Use SIZEOF_BDIGITS.</p>
</dd><dt>(bigfixize)
<dd>
<p>Refine an ifdef condition.</p>
</dd><dt>(rb_absint_size)
<dd>
<p>Use bdigit_roomof.</p>
</dd><dt>(rb_absint_singlebit_p)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_integer_pack)
<dd>
<p>Ditto.</p>
</dd><dt>(integer_pack_fill_dd)
<dd>
<p>Use BITSPERDIG.</p>
</dd><dt>(integer_unpack_push_bits)
<dd>
<p>Use BITSPERDIG, BIGLO and BIGDN.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+01-3A07-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 20 01:07:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (MARKED_IN_BITMAP, FL_TEST2)
<dd>
<p>return boolean value since always used as boolean value.</p>
</dd><dt>gc.c (MARK_IN_BITMAP, CLEAR_IN_BITMAP)
<dd>
<p>evaluate bits once.</p>
</dd></dl>

<h3 id="label-Thu+Jun+20+00-3A05-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 20 00:05:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RVALUE_PROMOTED)
<dd>
<p>fix type.</p>
</dd></dl>

<h2 id="label-2013-06-19">2013-06-19</h2>

<h3 id="label-Wed+Jun+19+23-3A39-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 23:39:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks_test)
<dd>
<p>rewrite checking code. When RGENGC_CHECK_MODE &gt;= 2, all minor marking,
run normal minor marking <strong>and</strong> major/full marking. After
that, compare the results and shows BUG if a object living with major/full
marking but dead with minor marking. After detecting bugs, print references
information.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Jun+19+23-3A51-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 19 23:51:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigfixize)
<dd>
<p>Use rb_absint_size.</p>
</dd><dt>(check_shiftdown)
<dd>
<p>Ditto.</p>
</dd><dt>(big2ulong)
<dd>
<p>Use bdigit_roomof.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+23-3A32-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 23:32:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RVALUE_PROMOTED)
<dd>
<p>check consistency between oldgen flag and oldgen bitmap if
RGENGC_CHECK_MODE &gt; 0.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+23-3A29-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 23:29:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>clear oldgen bitmap, too.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+21-3A02-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 19 21:02:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_uint2big)
<dd>
<p>Consider environments BDIGIT is bigger than long.</p>
</dd><dt>(big2ulong)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_aref)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big_pack)
<dd>
<p>Just call rb_integer_pack.</p>
</dd><dt>(rb_big_unpack)
<dd>
<p>Just call rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+20-3A51-3A21+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jun 19 20:51:21 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stress_get)
<dd>
<p><a href="../../classes/GC.html#method-c-stress">GC.stress</a> can be <a
href="../../classes/Fixnum.html">Fixnum</a>.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+19-3A31-3A30+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 19 19:31:30 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (DIGSPERLONG)
<dd>
<p>Don&#39;t define if BDIGIT is bigger than long.</p>
</dd><dt>(DIGSPERLL)
<dd>
<p>Don&#39;t define if BDIGIT is bigger than LONG_LONG</p>
</dd><dt>(rb_absint_size)
<dd>
<p>Consider environments BDIGIT is bigger than long. Use BIGLO and BIGDN.</p>
</dd><dt>(rb_absint_singlebit_p)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_integer_pack)
<dd>
<p>Ditto.</p>
</dd><dt>(bigsub_int)
<dd>
<p>Consider environments BDIGIT is bigger than long. Use SIZEOF_BDIGITS
instead of sizeof(BDIGIT).</p>
</dd><dt>(bigadd_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigand_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigor_int)
<dd>
<p>Ditto.</p>
</dd><dt>(bigxor_int)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+15-3A14-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 15:14:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct rb_data_type_struct), gc.c
<dd>
<p>add rb_data_type_struct::flags. Now, this flags is passed at T_DATA object
creation. You can specify FL_WB_PROTECTED on this flag.</p>
</dd><dt>iseq.c
<dd>
<p>making non-shady iseq objects.</p>
</dd><dt>class.c, compile.c, proc.c, vm.c
<dd>
<p>add WB for iseq objects.</p>
</dd><dt>vm_core.h, iseq.h
<dd>
<p>constify fields to detect WB insertion.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+15-3A11-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 19 15:11:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>show more info for broken object.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+14-3A04-3A41+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jun 19 14:04:41 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (EnvUtil#rubybin)
<dd>
<p>remove unnecessary unless expression.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A47-3A48+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:47:48 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>use FIX2INT for ruby_gc_stress.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A44-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:44:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace::gc_stress)
<dd>
<p>int -&gt; VALUE to store <a href="../../classes/Fixnum.html">Fixnum</a>
object.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A25-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:25:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (make_deferred)
<dd>
<p>clear flags to T_ZOMBIE.</p>
</dd><dt>gc.c (slot_sweep_body)
<dd>
<p>fix indent.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A18-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 19 07:18:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_aref)
<dd>
<p>Apply BIGLO to ~<a href="i">xds</a> for environment which BDIGIT is 16bit.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A09-3A26+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:09:26 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_remember)
<dd>
<p>fix output level.</p>
</dd><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>fix to output clear count.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A06-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:06:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_remember)
<dd>
<p>check T_NONE and T_ZOMBIE if RGENGC_CHECK_MODE &gt; 0.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+07-3A02-3A19+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 07:02:19 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RGENGC_CHECK_MODE)
<dd>
<p>add new check mode `3&#39;. In this mode, show all references if there is a
miss-corrected object.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+06-3A31-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 06:31:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stress_set)
<dd>
<p>add special option of <a
href="../../classes/GC.html#method-c-stress">GC.stress</a>.
`GC.stress=(flag)&#39; accepts integer to control behavior of <a
href="../../classes/GC.html">GC</a>. See code for details. Of course, this
feature is only for MRI. You can debug RGenGC (WB) using `GC.stress =
1&#39;. Using this option, do minor marking at all possible places.
GC::STRESS_MINOR_MARK = 1 and GC::STRESS_LAZY_SWEEP = 2 seem good to add.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+06-3A29-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 06:29:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (kwmerge_i)
<dd>
<p>add WB.</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+06-3A26-3A49+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 06:26:49 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>`st_update()&#39; also has same issue of last fix. write barriers at
callback function are too early. All write barriers are executed after
`st_update()&#39;</p>
</dd></dl>

<h3 id="label-Wed+Jun+19+04-3A33-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 19 04:33:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_const_set)
<dd>
<p>fix WB miss. WBs had located before creating reference between a klass and
constant value. It causes <a href="../../classes/GC.html">GC</a> bug. #
pseudo code: WB(klass, value); # WB and remember klass
st_insert(klass-&gt;const_table, const_id, value); `st_insert()&#39; can
cause <a href="../../classes/GC.html">GC</a> before inserting `value&#39;
and forget `klass&#39; from the remember set. After that, relationship
between `klass&#39; and `value&#39; are created with constant table. Now,
`value&#39; can be young (shady) object and `klass&#39; can be old object,
without remembering `klass&#39; object. At the next <a
href="../../classes/GC.html">GC</a>, old `klass&#39; object will be skipped
and young (shady) `value&#39; will be miss-collected. -&gt; <a
href="../../classes/GC.html">GC</a> bug Lesson: The place of a WB is
important.</p>
</dd></dl>

<h2 id="label-2013-06-18">2013-06-18</h2>

<h3 id="label-Tue+Jun+18+22-3A01-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Jun 18 22:01:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>ensure methods of type VM_METHOD_TYPE_ATTR_SET are called with 1 argument</p>
</dd><dt>test/ruby/test_module.rb (TestModule#test_attr_writer_with_no_arguments)
<dd>
<p>add test [ruby-core:55543] [Bug #8540]</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+22-3A36-3A23+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Tue Jun 18 22:36:23 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_record_flag)
<dd>
<p>fix typo.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+22-3A08-3A53+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 22:08:53 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>Return for ::allocation_generation</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+22-3A04-3A35+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 22:04:35 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>Document object_tracing methods.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+21-3A58-3A17+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 21:58:17 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Rename rb_mObSpace -&gt; rb_mObjSpace</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+20-3A55-3A05+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 20:55:05 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>Document <a
href="../../classes/ObjectSpace/InternalObjectWrapper.html">ObjectSpace::InternalObjectWrapper</a>.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+20-3A39-3A04+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 20:39:04 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>Teach rdoc object_tracing.c [Bug #8537]</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+20-3A29-3A47+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 20:29:47 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/.document
<dd>
<p>add object_tracing.c to document file</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+20-3A20-3A27+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 18 20:20:27 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>rdoc on require to overview from r41355</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+18-3A39-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 18 18:39:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check __int128.</p>
</dd><dt>include/ruby/defines.h (BDIGIT_DBL)
<dd>
<p>Use uint128_t if it is available.</p>
</dd><dt>(BDIGIT)
<dd>
<p>Use uint64_t if uint128_t is available.</p>
</dd><dt>(SIZEOF_BDIGITS)
<dd>
<p>Defined for above case.</p>
</dd><dt>(BDIGIT_DBL_SIGNED)
<dd>
<p>Ditto.</p>
</dd><dt>(PRI_BDIGIT_PREFIX)
<dd>
<p>Ditto.</p>
</dd><dt>include/ruby/ruby.h (PRI_64_PREFIX)
<dd>
<p>Defined.</p>
</dd><dt>bignum.c (rb_big_pow)
<dd>
<p>Don&#39;t use BITSPERDIG for the condition which rb_big_pow returns <a
href="../../classes/Float.html">Float</a> or <a
href="../../classes/Bignum.html">Bignum</a>. [ruby-dev:47413] [Feature
#8509]</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+16-3A43-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 18 16:43:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_heredoc_restore)
<dd>
<p>clear lex_strterm always to get rid of marking recycled node.  this bug is
revealed by r41372 with <a
href="../../classes/GC.html#method-c-stress-3D">GC.stress=</a>true.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+12-3A53-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 18 12:53:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (nlz)
<dd>
<p>Cast the result explicitly.</p>
</dd><dt>(big2dbl)
<dd>
<p>Don&#39;t assign BDIGIT values to int variable.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+12-3A25-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 18 12:25:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_xor)
<dd>
<p>Non-effective code removed.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+11-3A26-3A05+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 18 11:26:05 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>add `generated_normal_object_count_types&#39; for RGENGC_PROFILE &gt;= 2.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+11-3A02-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 18 11:02:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_maybe)
<dd>
<p>check to skip T_NONE.</p>
</dd><dt>gc.c (markable_object_p)
<dd>
<p>do not need to check (flags == 0) here.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+10-3A17-3A37+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 18 10:17:37 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_autoload)
<dd>
<p>fix WB miss.</p>
</dd></dl>

<h3 id="label-Tue+Jun+18+04-3A20-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 18 04:20:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>don&#39;t need to care about T_ZOMBIE here.</p>
</dd></dl>

<h2 id="label-2013-06-17">2013-06-17</h2>

<h3 id="label-Mon+Jun+17+22-3A16-3A02+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Mon Jun 17 22:16:02 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_proc.rb (TestProc#test_block_given_method_to_proc)
<dd>
<p>run test for r41359.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+21-3A42-3A18+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Mon Jun 17 21:42:18 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, vm_eval.c (rb_funcall_with_block)
<dd>
<p>new function to invoke a method with a block passed as an argument.</p>
</dd><dt>string.c (sym_call)
<dd>
<p>use the above function to avoid a block sharing. [ruby-dev:47438] [Bug
#8531]</p>
</dd><dt>vm_insnhelper.c (vm_yield_with_cfunc)
<dd>
<p>don&#39;t set block in the frame.</p>
</dd><dt>test/ruby/test_symbol.rb (TestSymbol#test_block_given_to_proc)
<dd>
<p>run related tests.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+21-3A33-3A27+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Mon Jun 17 21:33:27 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h, proc.c (rb_method_call_with_block)
<dd>
<p>new function to invoke a <a href="../../classes/Method.html">Method</a>
object with a block passed as an argument.</p>
</dd><dt>proc.c (bmcall)
<dd>
<p>use the above function to avoid a block sharing. [ruby-core:54626] [Bug
#8341]</p>
</dd><dt>test/ruby/test_proc.rb (TestProc#test_block_persist_between_calls)
<dd>
<p>run related tests.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+20-3A53-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 17 20:53:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>loadpath.c (RUBY_REVISION)
<dd>
<p>Defined to suppress revision.h inclusion actually.  r41352 removes the
dependency.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+18-3A15-3A57+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Jun 17 18:15:57 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>let rdoc know about objspace methods. Specify &#39;objspace&#39; should be
required. See #8537.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+17-3A44-3A31+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Jun 17 17:44:31 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ObjectSpace)
<dd>
<p>is a module not a class.</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>try to include overview in rdoc, see #8537.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+17-3A38-3A24+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Jun 17 17:38:24 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix example of <a
href="../../classes/ObjectSpace.html#method-c-define_finalizer">ObjectSpace.define_finalizer</a>
in overview</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+16-3A59-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 17 16:59:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tkutil/tkutil.c
<dd>
<p>use rb_sprintf(), rb_id2str(), and rb_intern_str() instead of rb_intern()
and RSTRING_PTR() with RB_GC_GUARD(), to prevent temporary objects from <a
href="../../classes/GC.html">GC</a>. [ruby-core:39000] [Bug #5199]</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+14-3A27-3A54+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Jun 17 14:27:54 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c
<dd>
<p>Update rdoc for Backtrace#label with @_ko1</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+13-3A04-3A01+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jun 17 13:04:01 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/ifchange (until)
<dd>
<p>Fix the condition, although harmless in this case.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+11-3A50-3A29+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 17 11:50:29 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_maybe)
<dd>
<p>added. check `is_pointer_to_heap()&#39; and type is not T_ZOMBIE.</p>
</dd><dt>gc.c
<dd>
<p>use `gc_mark_maybe()&#39;. T_ZOMBIE objects should not be pushed to the
mark stack.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+07-3A56-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 17 07:56:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_small_lshift)
<dd>
<p>Renamed from bdigs_small_lshift.</p>
</dd><dt>(bary_small_rshift)
<dd>
<p>Renamed from bdigs_small_rshift.</p>
</dd></dl>

<h3 id="label-Mon+Jun+17+07-3A38-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 17 07:38:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_bytes)
<dd>
<p>Removed.</p>
</dd><dt>(rb_absint_numwords)
<dd>
<p>Don&#39;t call absint_numwords_bytes.</p>
</dd></dl>

<h2 id="label-2013-06-16">2013-06-16</h2>

<h3 id="label-Sun+Jun+16+23-3A14-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 23:14:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (BARY_ADD)
<dd>
<p>New macro.</p>
</dd><dt>(BARY_SUB)
<dd>
<p>Ditto.</p>
</dd><dt>(BARY_MUL)
<dd>
<p>Ditto.</p>
</dd><dt>(BARY_DIVMOD)
<dd>
<p>Ditto.</p>
</dd><dt>(BARY_ZERO_P)
<dd>
<p>Ditto.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use these macros.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+21-3A41-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 21:41:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_2comp)
<dd>
<p>Extracted from get2comp.</p>
</dd><dt>(integer_unpack_num_bdigits)
<dd>
<p>Extracted from rb_integer_unpack_internal.</p>
</dd><dt>(bary_unpack_internal)
<dd>
<p>Renamed from bary_unpack and support INTEGER_PACK_2COMP.</p>
</dd><dt>(bary_unpack)
<dd>
<p>New function to validate arguments and invoke bary_unpack_internal.</p>
</dd><dt>(rb_integer_unpack_internal)
<dd>
<p>Removed.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Invoke bary_unpack_internal.</p>
</dd><dt>(rb_integer_unpack_2comp)
<dd>
<p>Removed.</p>
</dd><dt>internal.h (rb_integer_unpack_2comp)
<dd>
<p>Removed.</p>
</dd><dt>pack.c
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+18-3A41-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 18:41:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (INTEGER_PACK_2COMP)
<dd>
<p>Defined.</p>
</dd><dt>(rb_integer_pack_2comp)
<dd>
<p>Removed.</p>
</dd><dt>bignum.c (bary_pack)
<dd>
<p>Support INTEGER_PACK_2COMP.</p>
</dd><dt>(rb_integer_pack)
<dd>
<p>Invoke bary_pack directly.</p>
</dd><dt>(rb_integer_pack_2comp)
<dd>
<p>Removed.</p>
</dd><dt>(rb_integer_pack_internal)
<dd>
<p>Ditto.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Follow the above change.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Ditto.</p>
</dd><dt>sprintf.c (rb_str_format)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+17-3A48-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 17:48:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_generic)
<dd>
<p>rb_funcall invocations removed.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+16-3A04-3A38+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 16 16:04:38 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/config_files.rb
<dd>
<p>use URI.read to allow it runs with Ruby 1.8.5.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+14-3A32-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 14:32:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_pack) Extracted from rb_integer_pack_internal. (absint_numwords_generic)
<dd>
<p>Use bary_pack.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+11-3A01-3A57+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jun 16 11:01:57 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a> (XMLRPC::Client#http)
<dd>
<p>Add. [ruby-core:55197] [Feature #8461]</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+10-3A38-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 10:38:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_add)
<dd>
<p>New function.</p>
</dd><dt>(bary_zero_p)
<dd>
<p>Extracted from bigzero_p.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use bary_zero_p and bary_add.</p>
</dd><dt>(bary_mul)
<dd>
<p>Fix an argument for bary_mul_single.</p>
</dd><dt>(bary_divmod)
<dd>
<p>Use size_t for arguments.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+08-3A55-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 08:55:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Use a BDIGIT variable to store the return value of bigdivrem_single.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+08-3A43-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 16 08:43:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_divmod)
<dd>
<p>New function.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use bary_divmod.</p>
</dd><dt>(bigdivrem_num_extra_words)
<dd>
<p>Extracted from bigdivrem.</p>
</dd><dt>(bigdivrem_single)
<dd>
<p>Ditto.</p>
</dd><dt>(bigdivrem_normal)
<dd>
<p>Ditto.</p>
</dd><dt>(BIGDIVREM_EXTRA_WORDS)
<dd>
<p>Defined.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+05-3A51-3A51+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sun Jun 16 05:51:51 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Fixup around <a href="../../classes/GC.html">GC</a> by MALLOC. Add allocate
size to malloc_increase before <a href="../../classes/GC.html">GC</a> for
updating limit in after_gc_sweep. Reset malloc_increase into
garbage_collect() for preventing <a href="../../classes/GC.html">GC</a>
again soon.</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+05-3A15-3A36+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sun Jun 16 05:15:36 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Add some columns to more detail profile. new columns: Allocated size,
Prepare <a href="../../classes/Time.html">Time</a>, Removing Objects, Empty
Objects</p>
</dd></dl>

<h3 id="label-Sun+Jun+16+02-3A04-3A40+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sun Jun 16 02:04:40 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prof_timer_stop)
<dd>
<p>Merge function codes of GC_PROFILE_MORE_DETAIL and !GC_PROFILE_MORE_DETAIL.</p>
</dd><dt>gc.c (gc_prof_mark_timer_start)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_mark_timer_stop)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_sweep_slot_timer_start)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_sweep_slot_timer_stop)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_set_malloc_info)
<dd>
<p>Ditto.</p>
</dd><dt>gc.c (gc_prof_set_heap_info)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-06-15">2013-06-15</h2>

<h3 id="label-Sat+Jun+15+23-3A50-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 23:50:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_sub)
<dd>
<p>New function.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use bary_sub.</p>
</dd><dt>(bigsub_core)
<dd>
<p>Skip unnecessary copy.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+22-3A05-3A30+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 22:05:30 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul)
<dd>
<p>New function.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use bary_mul.</p>
</dd><dt>(bary_mul_single)
<dd>
<p>Extracted from bigmul1_single.</p>
</dd><dt>(bary_mul_normal)
<dd>
<p>Extracted from bigmul1_normal.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+20-3A13-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 20:13:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_unpack)
<dd>
<p>Extracted from rb_integer_unpack_internal.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use bary_unpack.</p>
</dd><dt>(roomof)
<dd>
<p>Defined.</p>
</dd><dt>(bdigit_roomof)
<dd>
<p>Defined.</p>
</dd><dt>(BARY_ARGS)
<dd>
<p>Defined.</p>
</dd><dt>(bary_unpack)
<dd>
<p>Declared.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+19-3A35-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 19:35:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_bytes)
<dd>
<p>Make it static.</p>
</dd><dt>(absint_numwords_small)
<dd>
<p>Ditto.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+17-3A14-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 17:14:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigmul1_normal)
<dd>
<p>Shrink the result <a href="../../classes/Bignum.html">Bignum</a> length.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+10-3A19-3A42+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Jun 15 10:19:42 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Update overview formatting of headers</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+10-3A19-3A06+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Jun 15 10:19:06 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>Update authors</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+10-3A02-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 10:02:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bdigs_small_rshift)
<dd>
<p>Extracted from big_rshift.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Use bdigs_small_rshift.</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+08-3A37-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 15 08:37:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>propagate absolute path from the binding if it is given explicitly.  patch
by Gat (Dawid Janczak) at [ruby-core:55123]. [Bug #8436]</p>
</dd></dl>

<h3 id="label-Sat+Jun+15+02-3A40-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 15 02:40:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bdigs_small_lshift)
<dd>
<p>Extracted from big_lshift.</p>
</dd><dt>(bigdivrem)
<dd>
<p>Use bdigs_small_lshift.</p>
</dd></dl>

<h2 id="label-2013-06-14">2013-06-14</h2>

<h3 id="label-Fri+Jun+14+20-3A47-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 14 20:47:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Reduce number of digits before bignew() for div.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+20-3A12-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 14 20:12:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Use bignew when ny == 1.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+18-3A52-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 14 18:52:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_compile_node)
<dd>
<p>fix location of a `trace&#39; instruction (b_return event).
[ruby-core:55305] [ruby-trunk - Bug #8489]</p>
</dd><dd>
<p></p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+18-3A18-3A07+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 14 18:18:07 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c, include/ruby/ruby.h
<dd>
<p>add write barriers for T_CLASS, T_MODULE, T_ICLASS.</p>
</dd><dt>constant.h
<dd>
<p>constify rb_const_entry_t::value and file to detect assignment.</p>
</dd><dt>variable.c, internal.h (rb_st_insert_id_and_value, rb_st_copy)
<dd>
<p>added. update table with write barrier.</p>
</dd><dt>method.h
<dd>
<p>constify some variables to detect assignment.</p>
</dd><dt>object.c (init_copy)
<dd>
<p>add WBs.</p>
</dd><dt>variable.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c (rb_add_method)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+14-3A33-3A47+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Jun 14 14:33:47 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add a note for Module#using.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+13-3A40-3A27+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 14 13:40:27 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml (before_script)
<dd>
<p>update config files.</p>
</dd><dt>common.mk ($(srcdir)/tool/config.{guess,sub})
<dd>
<p>use get-config_files.</p>
</dd><dt>tool/config_files.rb
<dd>
<p>split get-config_files.</p>
</dd><dt>common.mk (update-config_files)
<dd>
<p>rule to download config files.</p>
</dd><dt>tool/config.guess, tool/config.sub
<dd>
<p>remove and download from the upstream.</p>
</dd><dt>tool/config_files.rb
<dd>
<p>download config files from GNU.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+12-3A21-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 14 12:21:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RUBY_SAFE_LEVEL_CHECK)
<dd>
<p>suppress warnings “left-hand operand of comma expression has no effect”, on
gcc 4.4.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+09-3A48-3A48+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Jun 14 09:48:48 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add notes for $SAFE.</p>
</dd><dt><a href="security_rdoc.html">doc/security.rdoc</a>
<dd>
<p>remove the description of $SAFE=4.</p>
</dd></dl>

<h3 id="label-Fri+Jun+14+00-3A14-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun 14 00:14:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Zero test condition simplified.</p>
</dd></dl>

<h2 id="label-2013-06-13">2013-06-13</h2>

<h3 id="label-Thu+Jun+13+23-3A43-3A11+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Jun 13 23:43:11 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/*
<dd>
<p>improve documentation, nodoc samples with @mrkn</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+23-3A02-3A14+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Jun 13 23:02:14 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb (XMLRPC::Client#http)
<dd>
<p>Add reader for raw <a href="../../classes/Net/HTTP.html">Net::HTTP</a>.
[ruby-core:55197] [Feature #8461] Reported by Herwin Weststrate. Thanks!!!</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+22-3A44-3A52+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Jun 13 22:44:52 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb (XMLRPC::Client#parse_set_cookies)
<dd>
<p>Support multiple names in a response. [ruby-core:41711] [Bug #5774]
Reported by Roman Riha. Thanks!!!</p>
</dd><dt>test/xmlrpc/test_client.rb (XMLRPC::ClientTest#test_cookie_override)
<dd>
<p>Add a test of the above case.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+22-3A35-3A50+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Jun 13 22:35:50 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb (XMLRPC::Client#parse_set_cookies)
<dd>
<p>Use guard style.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+22-3A12-3A32+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 13 22:12:32 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#rmdir)
<dd>
<p>fix traversal loop, not trying remove same directory only.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+21-3A30-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 13 21:30:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (opt-dir), tool/ifchange
<dd>
<p>get rid of “alternate value” expansion for legacy sh.  [ruby-dev:47420]
[Bug #8524]</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+21-3A24-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 13 21:24:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Refactored to use ALLOCV_N for temporary buffers.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+18-3A54-3A11+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jun 13 18:54:11 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_num_bdigits_generic)
<dd>
<p>reorder terms (but not changed the intention of the expression) because
VC++ reports a warning for it.  reported by ko1 via IRC.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+18-3A53-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 13 18:53:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb (test_thread_local_security)
<dd>
<p>Don&#39;t create an unused thread.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+18-3A34-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 13 18:34:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bigdivrem)
<dd>
<p>Use nlz.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+14-3A51-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 13 14:51:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RUBY_SAFE_LEVEL_CHECK)
<dd>
<p>check constant safe level at compile time.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+14-3A39-3A08+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Jun 13 14:39:08 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/test_printf.rb, test/rss/test_parser.rb, test/ruby/test_array.rb, test/ruby/test_hash.rb, test/ruby/test_m17n.rb, test/ruby/test_marshal.rb, test/ruby/test_object.rb, test/ruby/test_string.rb
<dd>
<p>don&#39;t use untrusted?, untrust, and trust to avoid warnings in case
$VERBOSE is true.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+10-3A47-3A16+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Jun 13 10:47:16 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_autoload.rb, bootstraptest/test_method.rb
<dd>
<p>remove tests for $SAFE=4.</p>
</dd><dt>lib/pp.rb
<dd>
<p>use taint instead of untrust to avoid warnings when $VERBOSE is set to
true.</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+06-3A12-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 13 06:12:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_num_bdigits_small)
<dd>
<p>Fix a compile error on clang -Werror,-Wshorten-64-to-32 Reported by Eric
Hodel.  [ruby-core:55467] [Bug #8522]</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+05-3A32-3A13+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Jun 13 05:32:13 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Enable RFC 3542 IPV6 socket options for OS X 10.7+.  [ruby-trunk - Bug
#8517]</p>
</dd></dl>

<h3 id="label-Thu+Jun+13+00-3A17-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun 13 00:17:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_unpack_2comp)
<dd>
<p>New function.</p>
</dd><dt>(rb_integer_unpack_internal)
<dd>
<p>Extracted from rb_integer_unpack and nlp_bits_ret argument added.</p>
</dd><dt>(integer_unpack_num_bdigits_small)
<dd>
<p>nlp_bits_ret argument added to return number of leading padding bits.</p>
</dd><dt>(integer_unpack_num_bdigits_generic)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (rb_integer_unpack_2comp)
<dd>
<p>Declared.</p>
</dd><dt>pack.c (pack_unpack)
<dd>
<p>Use rb_integer_unpack_2comp and rb_integer_unpack.</p>
</dd></dl>

<h2 id="label-2013-06-12">2013-06-12</h2>

<h3 id="label-Wed+Jun+12+23-3A27-3A03+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Jun 12 23:27:03 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (mod_using)
<dd>
<p>new method Module#using, which activates refinements of the specified
module only in the current class or module definition.  [ruby-core:55273]
[Feature #8481]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+22-3A58-3A48+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Jun 12 22:58:48 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c (rb_set_safe_level, safe_setter)
<dd>
<p>raise an <a href="../../classes/ArgumentError.html">ArgumentError</a> when
$SAFE is set to 4.  $SAFE=4 is now obsolete. [ruby-core:55222] [Feature
#8468]</p>
</dd><dt>object.c (rb_obj_untrusted, rb_obj_untrust, rb_obj_trust)
<dd>
<p>Kernel#untrusted?, untrust, and trust are now deprecated. Their behavior is
same as tainted?, taint, and untaint, respectively.</p>
</dd><dt>include/ruby/ruby.h (OBJ_UNTRUSTED, OBJ_UNTRUST)
<dd>
<p>OBJ_UNTRUSTED() and OBJ_UNTRUST() are aliases of OBJ_TAINTED() and
OBJ_TAINT(), respectively.</p>
</dd><dt>array.c, class.c, debug.c, dir.c, encoding.c, error.c, eval.c, ext/curses/curses.c, ext/dbm/dbm.c, ext/dl/cfunc.c, ext/dl/cptr.c, ext/dl/dl.c, ext/etc/etc.c, ext/fiddle/fiddle.c, ext/fiddle/pointer.c, ext/gdbm/gdbm.c, ext/readline/readline.c, ext/sdbm/init.c, ext/socket/ancdata.c, ext/socket/basicsocket.c, ext/socket/socket.c, ext/socket/udpsocket.c, ext/stringio/stringio.c, ext/syslog/syslog.c, ext/tk/tcltklib.c, ext/win32ole/win32ole.c, file.c, gc.c, hash.c, io.c, iseq.c, load.c, marshal.c, object.c, proc.c, process.c, random.c, re.c, safe.c, string.c, thread.c, transcode.c, variable.c, vm_insnhelper.c, vm_method.c, vm_trace.c
<dd>
<p>remove code for $SAFE=4.</p>
</dd><dt>test/dl/test_dl2.rb, test/erb/test_erb.rb, test/readline/test_readline.rb, test/readline/test_readline_history.rb, test/ruby/test_alias.rb, test/ruby/test_array.rb, test/ruby/test_dir.rb, test/ruby/test_encoding.rb, test/ruby/test_env.rb, test/ruby/test_eval.rb, test/ruby/test_exception.rb, test/ruby/test_file_exhaustive.rb, test/ruby/test_hash.rb, test/ruby/test_io.rb, test/ruby/test_method.rb, test/ruby/test_module.rb, test/ruby/test_object.rb, test/ruby/test_pack.rb, test/ruby/test_rand.rb, test/ruby/test_regexp.rb, test/ruby/test_settracefunc.rb, test/ruby/test_struct.rb, test/ruby/test_thread.rb, test/ruby/test_time.rb
<dd>
<p>remove tests for $SAFE=4.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+22-3A18-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 22:18:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_num_bdigits_generic)
<dd>
<p>Rewritten without rb_funcall.</p>
</dd><dt>(integer_unpack_num_bdigits_bytes)
<dd>
<p>Removed.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>integer_unpack_num_bdigits_bytes invocation removed.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+20-3A18-3A03+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jun 12 20:18:03 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb (XMLRPC::Client#parse_set_cookies)
<dd>
<p>Extract.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+18-3A19-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 18:19:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_pack_format)
<dd>
<p>supported_flags argument added and validate given flags.</p>
</dd><dt>(rb_integer_pack_internal)
<dd>
<p>Specify supported_flags.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+16-3A41-3A38+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 12 16:41:38 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sort_bang)
<dd>
<p>remove duplicated assertions. ARY_HEAP_PTR() implies ary not to be
embedded.  [ruby-dev:47419] [Bug #8518]</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A44-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 12 12:44:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_getc)
<dd>
<p>fix 7bit coderange condition, check if ascii read data instead of read
length. [ruby-core:55444] [Bug #8516]</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A35-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 12:35:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_pack)
<dd>
<p>Use rb_integer_pack_2comp.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A07-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 12:07:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>Fix a dynamic format string.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A04-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 12 12:04:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_uniq_bang)
<dd>
<p>must not be modified once frozen even in a callback method.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A03-3A43+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 12 12:03:43 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sort_bang)
<dd>
<p>must not be modified once frozen even in a callback method.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+12-3A00-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 12 12:00:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (FL_SET_EMBED)
<dd>
<p>shared object is frozen even when get unshared.</p>
</dd><dt>array.c (rb_ary_modify)
<dd>
<p>ARY_SET_CAPA needs unshared array.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+07-3A32-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 07:32:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rand_int)
<dd>
<p>Use rb_big_uminus.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+07-3A12-3A54+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jun 12 07:12:54 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c
<dd>
<p>Improve documentation: replace “instance variable” with “member”, recommend
the use of a block to customize structs, note that member accessors are
created, general cleanup.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+06-3A35-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 12 06:35:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (INTEGER_PACK_NEGATIVE)
<dd>
<p>Defined.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>sign argument removed.</p>
</dd><dt>bignum.c (rb_integer_unpack)
<dd>
<p>sign argument removed. Non-negative integers generated by default.
INTEGER_PACK_NEGATIVE flag is used to generate non-positive integers.</p>
</dd><dt>pack.c (pack_unpack)
<dd>
<p>Follow the above change.</p>
</dd><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Ditto.</p>
</dd><dt>(make_seed_value)
<dd>
<p>Ditto.</p>
</dd><dt>(mt_state)
<dd>
<p>Ditto.</p>
</dd><dt>(limited_big_rand)
<dd>
<p>Ditto.</p>
</dd><dt>marshal.c (r_object0)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jun+12+00-3A07-3A46+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Jun 12 00:07:46 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc/test_client.rb (XMLRPC::ClientTest#test_cookie_simple)
<dd>
<p>Add a test for the extracted method.</p>
</dd></dl>

<h2 id="label-2013-06-11">2013-06-11</h2>

<h3 id="label-Tue+Jun+11+23-3A56-3A24+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Jun 11 23:56:24 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc/test_client.rb (XMLRPC::ClientTest::Fake::HTTP#started)
<dd>
<p>Add a missing empty line.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+23-3A37-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 11 23:37:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_pack_format)
<dd>
<p>Don&#39;t require a word order flag if numwords is 1 or less.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Don&#39;t specify a word order for rb_integer_pack.</p>
</dd><dt>hash.c (rb_hash)
<dd>
<p>Ditto.</p>
</dd><dt>time.c (v2w_bignum)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+23-3A01-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 11 23:01:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_pack_format)
<dd>
<p>Refine error messages.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+22-3A25-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 11 22:25:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_pack_format)
<dd>
<p>numwords argument added. Move a varidation from rb_integer_pack_internal
and rb_integer_unpack.</p>
</dd><dt>(rb_integer_pack_internal)
<dd>
<p>Follow above change.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+20-3A52-3A43+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 11 20:52:43 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_pack_internal)
<dd>
<p>Renamed from rb_integer_pack and overflow_2comp argument added.</p>
</dd><dt>(rb_integer_pack)
<dd>
<p>Just call rb_integer_pack_internal.</p>
</dd><dt>(rb_integer_pack_2comp)
<dd>
<p>New function.</p>
</dd><dt>internal.h (rb_integer_pack_2comp)
<dd>
<p>Declared.</p>
</dd><dt>sprintf.c (rb_str_format)
<dd>
<p>Use rb_integer_pack and rb_integer_pack_2comp to format
binary/octal/hexadecimal integers.</p>
</dd><dt>(ruby_digitmap)
<dd>
<p>Declared.</p>
</dd><dt>(remove_sign_bits)
<dd>
<p>Removed.</p>
</dd><dt>(BITSPERDIG)
<dd>
<p>Ditto.</p>
</dd><dt>(EXTENDSIGN)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+16-3A15-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 11 16:15:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_shrink_capa)
<dd>
<p>shrink the capacity so it fits just with the length.</p>
</dd><dt>array.c (ary_make_shared)
<dd>
<p>release never used elements from frozen array to be shared. 
[ruby-dev:47416] [Bug #8510]</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+12-3A49-3A01+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Jun 11 12:49:01 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/re.rdoc
<dd>
<p>Rename to <a href="regexp_rdoc.html">doc/regexp.rdoc</a></p>
</dd><dt>re.c
<dd>
<p>Update rdoc include for rename of file</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+07-3A13-3A13+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Tue Jun 11 07:13:13 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (error_print)
<dd>
<p>keep that errat is non-shady object. and guard errat from <a
href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Tue+Jun+11+05-3A04-3A25+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Tue Jun 11 05:04:25 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/racc/cparse/cparse.c
<dd>
<p>use rb_ary_entry() and rb_ary_subseq() instead of RARRAY_PTR. Based on a
patch by Dirkjan Bussink. See Bug #8399.</p>
</dd></dl>

<h2 id="label-2013-06-10">2013-06-10</h2>

<h3 id="label-Mon+Jun+10+23-3A51-3A51+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Jun 10 23:51:51 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_new_from_values)
<dd>
<p>fix a typo. pointed out by nagachika. <a
href="http://d.hatena.ne.jp/nagachika/20130610/ruby_trunk_changes_41199_41220">d.hatena.ne.jp/nagachika/20130610/ruby_trunk_changes_41199_41220</a></p>
</dd></dl>

<h3 id="label-Mon+Jun+10+21-3A51-3A03+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Mon Jun 10 21:51:03 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (nogvl_getaddrinfo)
<dd>
<p>Fix indent.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+21-3A49-3A43+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Mon Jun 10 21:49:43 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (nogvl_getaddrinfo)
<dd>
<p>Add missing return value assignment.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+20-3A58-3A11+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jun 10 20:58:11 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (nogvl_getaddrinfo)
<dd>
<p>work around for Ubuntu 13.04&#39;s getaddrinfo issue with mdns4.
[ruby-list:49420]</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+19-3A34-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 10 19:34:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_pack)
<dd>
<p>Returns sign instead of words.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Follow the above change.</p>
</dd><dt>(big2str_base_powerof2)
<dd>
<p>Follow the above change.</p>
</dd><dt>internal.h
<dd>
<p>Ditto.</p>
</dd><dt>hash.c (rb_hash)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Ditto.</p>
</dd><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Ditto.</p>
</dd><dt>(rand_init)
<dd>
<p>Ditto.</p>
</dd><dt>(random_load)
<dd>
<p>Ditto.</p>
</dd><dt>(limited_big_rand)
<dd>
<p>Ditto.</p>
</dd><dt>time.c (v2w_bignum)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+17-3A20-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 10 17:20:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_remember)
<dd>
<p>permit promoted object.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Jun+10+17-3A14-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 10 17:14:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RVALUE_PROMOTE)
<dd>
<p>fix parameter name (`x&#39; to `obj&#39;) and make it inline function (like
RVALUE_PROMOTE).</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+16-3A22-3A50+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 10 16:22:50 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_new_from_values)
<dd>
<p>add assertion</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Jun+10+16-3A05-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 10 16:05:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_mark)
<dd>
<p>check allocation of `w-&gt;obj2wmap&#39;.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Jun+10+15-3A36-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 10 15:36:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (error_print)
<dd>
<p>use checking functions instead of catching exceptions.</p>
</dd><dt>eval_error.c (error_print)
<dd>
<p>restore errinfo for the case new exception raised while printing the
message.  [ruby-core:55365] [Bug #8501]</p>
</dd><dt>eval_error.c (error_print)
<dd>
<p>reduce calling setjmp.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+12-3A10-3A06+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 10 12:10:06 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_unpack_num_bdigits_small
<dd>
<p>Extracted from rb_integer_unpack.</p>
</dd><dt>(integer_unpack_num_bdigits_generic)
<dd>
<p>Ditto.</p>
</dd><dt>(integer_unpack_num_bdigits_bytes)
<dd>
<p>New function.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Use above functions. Return a <a
href="../../classes/Bignum.html">Bignum</a> for INTEGER_PACK_FORCE_BIGNUM
even when the result is zero.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+05-3A38-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 10 05:38:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_small)
<dd>
<p>New function.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Use absint_numwords_small if possible.</p>
</dd></dl>

<h3 id="label-Mon+Jun+10+01-3A07-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 10 01:07:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_bytes)
<dd>
<p>New function.</p>
</dd><dt>(absint_numwords_generic)
<dd>
<p>Extracted from rb_absint_numwords.</p>
</dd><dt>(rb_absint_numwords)
<dd>
<p>Use absint_numwords_bytes if possible.</p>
</dd></dl>

<h2 id="label-2013-06-09">2013-06-09</h2>

<h3 id="label-Sun+Jun++9+21-3A33-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  9 21:33:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_numwords)
<dd>
<p>Return (size_t)-1 when overflow. Refine variable names.</p>
</dd><dt>(rb_absint_size)
<dd>
<p>Refine variable names.</p>
</dd><dt>internal.h (rb_absint_size)
<dd>
<p>Refine an argument name.</p>
</dd><dt>(rb_absint_numwords)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jun++9+16-3A51-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  9 16:51:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_numwords)
<dd>
<p>Renamed from rb_absint_size_in_word.</p>
</dd><dt>internal.h (rb_absint_numwords)
<dd>
<p>Follow the above change.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Ditto.</p>
</dd><dt>random.c (rand_init)
<dd>
<p>Ditto.</p>
</dd><dt>(limited_big_rand)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jun++9+14-3A41-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  9 14:41:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_pack)
<dd>
<p>numwords_allocated argument removed.</p>
</dd><dt>internal.h (rb_integer_pack)
<dd>
<p>Follow the above change.</p>
</dd><dt>hash.c (rb_hash)
<dd>
<p>Ditto.</p>
</dd><dt>time.c (v2w_bignum)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Ditto.</p>
</dd><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Ditto.</p>
</dd><dt>(rand_init)
<dd>
<p>Ditto.</p>
</dd><dt>(random_load)
<dd>
<p>Ditto.</p>
</dd><dt>(limited_big_rand)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jun++9+09-3A34-3A44+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  9 09:34:44 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big2str_base_powerof2)
<dd>
<p>New function.</p>
</dd><dt>(rb_big2str0)
<dd>
<p>Use big2str_base_powerof2 if base is 2, 4, 8, 16 or 32.</p>
</dd></dl>

<h3 id="label-Sun+Jun++9+00-3A59-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  9 00:59:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash)
<dd>
<p>Use rb_integer_pack to obtain least significant long integer.</p>
</dd></dl>

<h2 id="label-2013-06-08">2013-06-08</h2>

<h3 id="label-Sat+Jun++8+23-3A56-3A00+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 23:56:00 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num_to_uint)
<dd>
<p>Use rb_absint_size instead of RBIGNUM_LEN.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+22-3A53-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 22:53:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (r_object0)
<dd>
<p>Use rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+22-3A18-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 22:18:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (v2w)
<dd>
<p>Use rb_absint_size instead of RBIGNUM_LEN.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+21-3A47-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 21:47:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (v2w_bignum)
<dd>
<p>Simplified using rb_integer_pack.</p>
</dd><dt>(rb_big_abs_find_maxbit)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+21-3A03-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 21:03:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_singlebit_p)
<dd>
<p>New function.</p>
</dd><dt>internal.h (rb_absint_singlebit_p)
<dd>
<p>Declared.</p>
</dd><dt>time.c (v2w_bignum)
<dd>
<p>Use rb_absint_singlebit_p instead of rb_big_abs_find_minbit.</p>
</dd><dt>(rb_big_abs_find_minbit)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+20-3A24-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 20:24:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (rb_big_abs_find_maxbit)
<dd>
<p>Use rb_absint_size.</p>
</dd><dt>(bdigit_find_maxbit)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+19-3A47-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun  8 19:47:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (include_modules_at)
<dd>
<p>invalidate method cache if included module contains constants</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+19-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun  8 19:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (limited_big_rand)
<dd>
<p>declare rnd, lim and mask as uint32_t to avoid 64 bit to 32 bit shorten
warnings.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+19-3A23-3A53+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jun  8 19:23:53 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub
<dd>
<p>r41163 changed win32/win32.c and configure.in but it didn&#39;t treat about
mswin32/mswin64, so fix it. NOTE: this needs a review by usa whether
additional condition is required or not.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+19-3A06-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 19:06:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c
<dd>
<p>Unused RBignum internal accessing macros removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+19-3A04-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 19:04:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (limited_big_rand)
<dd>
<p>The argument, limit, is changed to VALUE.  Use rb_integer_pack and
rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+17-3A15-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 17:15:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (make_seed_value)
<dd>
<p>Fix the length given for rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+16-3A38-3A02+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 16:38:02 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_unpack)
<dd>
<p>Don&#39;t use rb_funcall if possible.</p>
</dd><dt>random.c
<dd>
<p>Use uint32_t for elements of seed.</p>
</dd><dt>(make_seed_value)
<dd>
<p>Use rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+15-3A58-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 15:58:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rand_init)
<dd>
<p>Add a cast to fix clang compile error: random.c:410:32: error: implicit
conversion loses integer precision: &#39;size_t&#39; (aka &#39;unsigned
long&#39;) to &#39;int&#39; [-Werror,-Wshorten-64-to-32] This cast
doesn&#39;t cause a problem because len is not bigger than MT_MAX_STATE.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+15-3A30-3A03+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 15:30:03 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rand_init)
<dd>
<p>Use rb_integer_pack.</p>
</dd><dt>(roomof)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+14-3A58-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 14:58:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (INTEGER_PACK_FORCE_BIGNUM)
<dd>
<p>New flag constant.</p>
</dd><dt>bignum.c (rb_integer_unpack)
<dd>
<p>Support INTEGER_PACK_FORCE_BIGNUM.</p>
</dd><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Use INTEGER_PACK_FORCE_BIGNUM to use rb_big_mul instead of rb_funcall.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+14-3A17-3A01+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  8 14:17:01 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check for NET_LUID.  header macro varies across compiler versions.</p>
</dd><dt>win32/win32.c
<dd>
<p>use configured macro.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+11-3A59-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 11:59:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Use rb_funcall instead of rb_big_mul because rb_integer_unpack can return a
<a href="../../classes/Fixnum.html">Fixnum</a>.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+11-3A17-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 11:17:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Use rb_integer_pack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+09-3A49-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 09:49:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Use rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+08-3A12-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 08:12:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (random_load)
<dd>
<p>Use rb_integer_pack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+06-3A15-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 06:15:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (numberof)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+06-3A00-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 06:00:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c
<dd>
<p>include internal.h.</p>
</dd><dt>(mt_state)
<dd>
<p>Use rb_integer_unpack.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+00-3A55-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 00:55:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_pack_loop_setup)
<dd>
<p>word_num_nailbytes_ret argument removed.</p>
</dd><dt>(rb_integer_pack)
<dd>
<p>Follow the above change.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Sat+Jun++8+00-3A37-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  8 00:37:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_pack_format)
<dd>
<p>Renamed from validate_integer_format.</p>
</dd><dt>(integer_pack_loop_setup)
<dd>
<p>Renamed from integer_format_loop_setup.</p>
</dd><dt>(integer_pack_fill_dd)
<dd>
<p>Renamed from int_export_fill_dd.</p>
</dd><dt>(integer_pack_take_lowbits)
<dd>
<p>Renamed from int_export_take_lowbits.</p>
</dd><dt>(integer_unpack_push_bits)
<dd>
<p>Renamed from int_import_push_bits.</p>
</dd></dl>

<h2 id="label-2013-06-07">2013-06-07</h2>

<h3 id="label-Fri+Jun++7+23-3A58-3A06+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 23:58:06 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_pack)
<dd>
<p>Arguments changed.  Use flags to specify word order and byte order.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Ditto.</p>
</dd><dt>(validate_integer_format)
<dd>
<p>Follow the above change.</p>
</dd><dt>(integer_format_loop_setup)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c
<dd>
<p>Ditto.</p>
</dd><dt>internal.h
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_MSWORD_FIRST)
<dd>
<p>Defined.</p>
</dd><dt>(INTEGER_PACK_LSWORD_FIRST)
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_MSBYTE_FIRST)
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_LSBYTE_FIRST)
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_NATIVE_BYTE_ORDER)
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_LITTLE_ENDIAN)
<dd>
<p>Ditto.</p>
</dd><dt>(INTEGER_PACK_BIG_ENDIAN)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+22-3A10-3A50+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jun  7 22:10:50 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/specification.rb (Gem::Specification#to_yaml)
<dd>
<p>use <a
href="../../classes/Gem/NoAliasYAMLTree.html#method-c-create">Gem::NoAliasYAMLTree.create</a>
instead of <a
href="../../classes/Psych/Visitors/YAMLTree.html#method-c-new">Psych::Visitors::YAMLTree.new</a>
to suppress deprecated warnings.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+21-3A39-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 21:39:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_integer_pack)
<dd>
<p>Renamed from rb_int_export.</p>
</dd><dt>(rb_integer_unpack)
<dd>
<p>Renamed from rb_int_import.</p>
</dd><dt>internal.h, pack.c
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+21-3A05-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 21:05:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (integer_format_loop_setup)
<dd>
<p>Extracted from rb_int_export and rb_int_import.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+19-3A48-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 19:48:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (validate_integer_format)
<dd>
<p>Extracted from rb_int_export and rb_int_import.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+19-3A23-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 19:23:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_size)
<dd>
<p>Use numberof.</p>
</dd><dt>(rb_int_export)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+18-3A58-3A56+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 18:58:56 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (numberof)
<dd>
<p>Gathered from various files.</p>
</dd><dt>array.c, math.c, thread_pthread.c, iseq.c, enum.c, string.c, io.c, load.c, compile.c, struct.c, eval.c, gc.c, parse.y, process.c, error.c, ruby.c
<dd>
<p>Remove the definitions of numberof.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+18-3A24-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 18:24:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_size)
<dd>
<p>Declare a variable, i, just before used to suppress a warning.</p>
</dd><dt>(rb_int_export)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+17-3A41-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Jun  7 17:41:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_absint_size)
<dd>
<p>explicit cast to BDIGIT to avoid implicit 64 bit to 32 bit shortening
warning</p>
</dd><dt>bignum.c (rb_int_export)
<dd>
<p>ditto</p>
</dd><dt>bignum.c (int_import_push_bits)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+17-3A31-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri Jun  7 17:31:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (RCLASS_SUPER)
<dd>
<p>use descriptive variable name</p>
</dd><dt>internal.h (RCLASS_SET_SUPER)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+13-3A25-3A27+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jun  7 13:25:27 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/fbuffer/fbuffer.h (fbuffer_append_str)
<dd>
<p>change the place of RB_GC_GUARD. it should be after the object is used.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+13-3A22-3A43+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jun  7 13:22:43 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (before_gc_sweep)
<dd>
<p>noinline can also avoid the segv instead of -O0 of r41084. this way is
expected less slow.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A45-3A42+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Fri Jun  7 11:45:42 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (numeric_quo)
<dd>
<p>move num_quo in numeric.c to numeric_quo in rational.c to refer
canonicalization state for mathn support. [ruby-core:41575] [Bug #5736]</p>
</dd><dt>numeric.c (num_quo)
<dd>
<p>ditto.</p>
</dd><dt>test/test_mathn.rb
<dd>
<p>add a test for the change at r41109.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A41-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun  7 11:41:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>revert r41106.  size_t may not be unsigned</p>
</dd><dt>bignum.c (rb_absint_size_in_word, rb_int_export, rb_int_import)
<dd>
<p>use NUM2SIZET() and SIZET2NUM() already defined in ruby/ruby.h.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A28-3A37+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun  7 11:28:37 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>use oldgen bitmap as initial mark bitmap when major gc. so can skip oldgen
bitmap check around mark &amp; sweep.</p>
</dd><dt>gc.c (slot_sweep_body)
<dd>
<p>change scan algorithm for performance: from object&#39;s pointer base to
bitmap one.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A25-3A56+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun  7 11:25:56 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce oldgen bitmap for preparing performance tuning.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A20-3A57+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun  7 11:20:57 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (MARKED_IN_BITMAP, MARK_IN_BITMAP, CLEAR_IN_BITMAP)
<dd>
<p>bring bitmap macros in one place, and introduce BITMAP_BIT.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A18-3A35+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun  7 11:18:35 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_new)
<dd>
<p>change order of allocation in order to remove FL_OLDGEN operation.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+11-3A16-3A28+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Fri Jun  7 11:16:28 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rdocbench.rb
<dd>
<p>add gc total time information.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+10-3A12-3A01+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  7 10:12:01 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove “Sunny” terminology. “Sunny” doesn&#39;t mean antonym of “Shady”
(questionable, doubtful, etc). Instead of “Sunny”, use “non-shady” or
“normal”.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+09-3A29-3A33+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Fri Jun  7 09:29:33 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_int_import)
<dd>
<p>explicitly casting BDIGIT_DBL to BDIGIT to prevent warning.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+07-3A29-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 07:29:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_int_export)
<dd>
<p>countp argument is split into wordcount_allocated and wordcount.</p>
</dd><dt>bignum.c (rb_int_export)
<dd>
<p>Follow the above change.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+07-3A17-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Jun  7 07:17:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>describe a compatibility issue of <a
href="../../classes/Numeric.html#method-i-quo">Numeric#quo</a> introduced
at r41109.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+07-3A15-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Fri Jun  7 07:15:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>fix style.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+06-3A48-3A17+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Fri Jun  7 06:48:17 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>remove unused ID id_to_r introduced in r41109.</p>
</dd></dl>

<h3 id="label-Fri+Jun++7+06-3A15-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jun  7 06:15:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_int_import)
<dd>
<p>New function.</p>
</dd><dt>(int_import_push_bits)
<dd>
<p>Ditto.</p>
</dd><dt>internal.h (rb_int_import)
<dd>
<p>Declared.</p>
</dd><dt>pack.c (pack_unpack)
<dd>
<p>Use rb_int_import for BER compressed integer.</p>
</dd></dl>

<h2 id="label-2013-06-06">2013-06-06</h2>

<h3 id="label-Thu+Jun++6+22-3A24-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Jun  6 22:24:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_quo)
<dd>
<p>Use to_r method to convert the receiver to rational.  [ruby-core:41575]
[Bug #5736]</p>
</dd><dt>test/ruby/test_numeric.rb
<dd>
<p>add a test for the above change.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+20-3A40-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jun  6 20:40:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Invoke RUBY_REPLACE_TYPE for size_t. Don&#39;t invoke
RUBY_CHECK_PRINTF_PREFIX for size_t to avoid conflict with
RUBY_REPLACE_TYPE.</p>
</dd><dt>internal.h (rb_absint_size)
<dd>
<p>Declared.</p>
</dd><dt>(rb_absint_size_in_word)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_int_export)
<dd>
<p>Ditto.</p>
</dd><dt>bignum.c (rb_absint_size)
<dd>
<p>New function.</p>
</dd><dt>(rb_absint_size_in_word)
<dd>
<p>Ditto.</p>
</dd><dt>(int_export_fill_dd)
<dd>
<p>Ditto.</p>
</dd><dt>(int_export_take_lowbits)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_int_export)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c (pack_pack)
<dd>
<p>Use rb_int_export for BER compressed integer.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+19-3A31-3A33+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Thu Jun  6 19:31:33 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>fixed coding error [ruby-core:55337]. reported by Riley Lynch.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+14-3A16-3A37+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Thu Jun  6 14:16:37 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>rename allocation_info to lookup_allocation_info. At times I confused
“struct allocation_info” with “function allocation_info”.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+13-3A57-3A06+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Thu Jun  6 13:57:06 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>allocation_info function isn&#39;t called by any other file.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+09-3A41-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Thu Jun  6 09:41:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_quo)
<dd>
<p>should return a <a href="../../classes/Float.html">Float</a> for a <a
href="../../classes/Float.html">Float</a> argument. [ruby-dev:44710] [Bug
#5515]</p>
</dd><dt>test/ruby/test_fixnum.rb
<dd>
<p>Add an assertion for the above change.</p>
</dd><dt>test/ruby/test_bignum.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+00-3A59-3A44+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Thu Jun  6 00:59:44 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark)
<dd>
<p>get rid of pushing useless objects.</p>
</dd><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>bypass gc_mark() in order to push sunny old object at minor gc.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>move sunny old check to gc_mark().</p>
</dd><dt>gc.c (rgengc_check_shady)
<dd>
<p>remove DEMOTE that already unnecessary.</p>
</dd><dt>gc.c (rb_gc_writebarrier)
<dd>
<p>ditto. change sunny old check point in order to save mark stack and remove
unnatural rest_sweep &amp; demote.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+00-3A52-3A42+2013++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Thu Jun  6 00:52:42 2013  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>change scan algorithm for performance: from object&#39;s pointer base to
bitmap one.</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+00-3A30-3A04+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jun  6 00:30:04 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (NET_LUID)
<dd>
<p>define it on MinGW32. mingw-w64 has NET_LUID but mingw32 (mingw.org) still
doesn&#39;t have NET_LUID. reported by taco on IRC</p>
</dd></dl>

<h3 id="label-Thu+Jun++6+00-3A05-3A08+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Jun  6 00:05:08 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (String#b)
<dd>
<p>Allow code range scan to happen later so ascii_only? on a result string
returns the correct value. [ruby-core:55315] [Bug #8496]</p>
</dd></dl>

<h2 id="label-2013-06-05">2013-06-05</h2>

<h3 id="label-Wed+Jun++5+22-3A40-3A42+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Jun  5 22:40:42 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (capability_response)
<dd>
<p>should ignore trailing spaces.  Thanks, Peter Kovacs.  [ruby-core:55024]
[Bug #8415]</p>
</dd><dt>test/net/imap/test_imap_response_parser.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+21-3A17-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  5 21:17:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (big_fdiv)
<dd>
<p>Use nlz() instead of bdigbitsize().</p>
</dd><dt>(bdigbitsize)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+20-3A32-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Wed Jun  5 20:32:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>fix alignment in comment.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+20-3A05-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  5 20:05:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (int_pair_to_real_inclusive)
<dd>
<p>Add a cast to BDIGIT.</p>
</dd><dt>(random_load)
<dd>
<p>Fix shift width for fixnums. Re-implement bignum extraction without ifdefs.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+15-3A26-3A10+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jun  5 15:26:10 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (before_gc_sweep)
<dd>
<p>don&#39;t optimize it to avoid segv on Ubuntu 10.04 gcc 4.4. <a
href="http://u32.rubyci.org/~chkbuild/ruby-trunk/log/20130527T190301Z.diff.html.gz">u32.rubyci.org/~chkbuild/ruby-trunk/log/20130527T190301Z.diff.html.gz</a></p>
</dd></dl>

<h3 id="label-Wed+Jun++5+09-3A46-3A46+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jun  5 09:46:46 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (TestFileUtils#test_mkdir)
<dd>
<p>add EACCES for Windows.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+08-3A13-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  5 08:13:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_pow)
<dd>
<p>Don&#39;t need to multiply SIZEOF_BDIGITS. Use nlz instead of
bitlength_bdigit.</p>
</dd><dt>(bitlength_bdigit)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+07-3A14-3A18+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Wed Jun  5 07:14:18 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c (d_lite_cmp, d_lite_equal)
<dd>
<p>simplified.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+07-3A07-3A01+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Wed Jun  5 07:07:01 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>fixed a bug [ruby-core:55295].  reported by Riley Lynch.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+06-3A44-3A08+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jun  5 06:44:08 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.0.3</p>
</dd><dt>test/rubygems
<dd>
<p>Tests for the above.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Added RubyGems 2.0.3 note.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+06-3A35-3A15+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Jun  5 06:35:15 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="marshal_rdoc.html">doc/marshal.rdoc</a>
<dd>
<p>Add description of <a href="../../classes/Marshal.html">Marshal</a> format.</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+01-3A16-3A09+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Wed Jun  5 01:16:09 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (Array#+)
<dd>
<p>fix documentation example. Patch by Logan Serman. [Fixes GH-324]</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+00-3A21-3A54+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Wed Jun  5 00:21:54 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/lc/ja/help-message
<dd>
<p>update help messages. following r41028. [ruby-dev:46707] [Feature #7510]</p>
</dd></dl>

<h3 id="label-Wed+Jun++5+00-3A09-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  5 00:09:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (r_object0)
<dd>
<p>Generalize a round up expression. Use BDIGIT instead of int.</p>
</dd></dl>

<h2 id="label-2013-06-04">2013-06-04</h2>

<h3 id="label-Tue+Jun++4+23-3A44-3A02+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Tue Jun  4 23:44:02 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_Hash)
<dd>
<p>fix docs. patched by Stefan Sch“ussler. [ruby-core:55299] [Bug #8487]</p>
</dd></dl>

<h3 id="label-Tue+Jun++4+23-3A16-3A49+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Tue Jun  4 23:16:49 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/completion.rb
<dd>
<p>Use %w literal construction for long lists. Patch by Dave Goodchild. [Fixes
GH-299]</p>
</dd></dl>

<h3 id="label-Tue+Jun++4+23-3A08-3A42+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Tue Jun  4 23:08:42 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>improve wording and remove duplicated comment. Based on a patch by Dave
Goodchild. [Fixes GH-299]</p>
</dd></dl>

<h3 id="label-Tue+Jun++4+18-3A41-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun  4 18:41:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bitlength_bdigit)
<dd>
<p>Fix an off-by-one error.</p>
</dd></dl>

<h3 id="label-Tue+Jun++4+15-3A30-3A00+2013++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Tue Jun  4 15:30:00 2013  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/util.rb (Float#to_d)
<dd>
<p>fix the number of figures.  Patch by Vipul A M
&lt;vipulnsward@gmail.com&gt;. <a
href="https://github.com/ruby/ruby/pull/323">github.com/ruby/ruby/pull/323</a>
fix GH-323</p>
</dd><dt>test/bigdecimal/test_bigdecimal_util.rb
<dd>
<p>fix for the above change.</p>
</dd></dl>

<h3 id="label-Tue+Jun++4+00-3A44-3A27+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Jun  4 00:44:27 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (TestFileUtils#test_mkdir)
<dd>
<p>add EEXIST for Linux. (suggested by nurse)</p>
</dd></dl>

<h2 id="label-2013-06-03">2013-06-03</h2>

<h3 id="label-Mon+Jun++3+23-3A58-3A19+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Jun  3 23:58:19 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils.rmdir)
<dd>
<p>use remove_tailing_slash.</p>
</dd><dt>test/fileutils/test_fileutils.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+23-3A47-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun  3 23:47:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bitlength_bdigit)
<dd>
<p>New function.</p>
</dd><dt>(rb_big_pow)
<dd>
<p>Use bitlength_bdigit instead of ffs.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+23-3A11-3A19+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Mon Jun  3 23:11:19 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>fix behavior when mkdir/mkdir_p accepted “/”.</p>
</dd><dt>test/fileutils/test_fileutils.rb
<dd>
<p>add test for above change. Patched by Mitsunori Komatsu. [GH-319]</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+19-3A02-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun  3 19:02:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (is_hfs)
<dd>
<p>use the file descriptor instead of a path.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+07-3A15-3A17+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Mon Jun  3 07:15:17 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>removes AC_CHECK_FUNCS(readdir_r). readdir_r() is only used from dir.c and
it doesn&#39;t need readdir_r().</p>
</dd><dt>configure.in (SIZEOF_STRUCT_DIRENT_TOO_SMALL)
<dd>
<p>removed. It is only used for readdir_r.</p>
</dd><dt>dir.c
<dd>
<p>removes NAME_MAX_FOR_STRUCT_DIRENT. It is not right way to detect maximum
length of path len. POSIX require to use fpathconf(). IOW, it might have
lead to make a vulnerability using stack smashing. Moreover, readdir()
works enough for our usage.</p>
</dd><dt>dir.c (READDIR)
<dd>
<p>removes an implementation which uses readdir_r() and parenthesize in a
macro body correctly.</p>
</dd><dt>dir.c (dir_read)
<dd>
<p>removes IF_HAVE_READDIR_R(DEFINE_STRUCT_DIRENT entry), it is used only for
readdir_r().</p>
</dd><dt>dir.c (dir_each)
<dd>
<p>ditto.</p>
</dd><dt>dir.c (glob_helper)
<dd>
<p>ditto.</p>
</dd><dt>dir.c (READDIR)
<dd>
<p>removes entry and dp argument.</p>
</dd><dt>dir.c (dir_read)
<dd>
<p>adjust for the above change.</p>
</dd><dt>dir.c (dir_each)
<dd>
<p>ditto.</p>
</dd><dt>dir.c (glob_helper)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+03-3A40-3A29+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jun  3 03:40:29 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_yield_setup_block_args)
<dd>
<p>partially revert r41019. The code is not useless.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+01-3A25-3A25+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Mon Jun  3 01:25:25 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_sockopt.rb
<dd>
<p>change test name. follow r41037.</p>
</dd></dl>

<h3 id="label-Mon+Jun++3+01-3A08-3A43+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Mon Jun  3 01:08:43 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>rename functions introduced in r41009.</p>
</dd></dl>

<h2 id="label-2013-06-02">2013-06-02</h2>

<h3 id="label-Sun+Jun++2+23-3A33-3A42+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Jun  2 23:33:42 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/trans/japanese_euc.trans, test/ruby/test_transcode.rb, tool/transcode-tblgen.rb
<dd>
<p>change EUC-JP-2004 to EUC-JIS-2004. This is follow up to changes in r41024.</p>
</dd></dl>

<h3 id="label-Sun+Jun++2+22-3A44-3A42+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun  2 22:44:42 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>rename functions introduced in r41009 s/ip/ipv4/g because they are ipv4
functions.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sun+Jun++2+16-3A15-3A29+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun  2 16:15:29 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln_find.c (dln_find_exe, dln_find_file)
<dd>
<p>remove deprecated non-reentrant functions.</p>
</dd></dl>

<h3 id="label-Sun+Jun++2+15-3A04-3A35+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Jun  2 15:04:35 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/util.rb, lib/erb.rb
<dd>
<p>Use <a href="../../classes/String.html#method-i-b">String#b</a> [Feature
#8394] by znz</p>
</dd></dl>

<h3 id="label-Sun+Jun++2+14-3A10-3A21+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Jun  2 14:10:21 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/lc/help-message
<dd>
<p>Apply english updates for irb –help #7510</p>
</dd></dl>

<h3 id="label-Sun+Jun++2+12-3A03-3A58+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Jun  2 12:03:58 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c
<dd>
<p>Fix rdoc on <a
href="../../classes/Range.html#method-i-bsearch">Range#bsearch</a> [Bug
#8242] [ruby-core:54143]</p>
</dd></dl>

<h3 id="label-Sun+Jun++2+02-3A08-3A37+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun  2 02:08:37 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/euc_jp.c
<dd>
<p>fix typo: the name of EUC-JIS-2004.</p>
</dd></dl>

<h2 id="label-2013-06-01">2013-06-01</h2>

<h3 id="label-Sat+Jun++1+23-3A17-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jun  1 23:17:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_mod_module_eval)
<dd>
<p>mention in docs that arguments passed to the method are passed to the block</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+17-3A58-3A13+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sat Jun  1 17:58:13 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#freeze, taint, untaint)
<dd>
<p>Save a “self” by utilizing super returning self, and add tests while at it.</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+17-3A24-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  1 17:24:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments)
<dd>
<p>not a simple single argument if any keyword arguments exist. 
[ruby-core:55203] [Bug #8463]</p>
</dd><dt>vm_insnhelper.c (vm_yield_setup_block_args)
<dd>
<p>split single parameter if any keyword arguments exist, and then extract
keyword arguments. [ruby-core:55203] [Bug #8463]</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+11-3A16-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  1 11:16:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_exc_new_cstr)
<dd>
<p>rename from rb_exc_new2.</p>
</dd><dt>error.c (rb_exc_new_str)
<dd>
<p>rename from rb_exc_new3.</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+10-3A13-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  1 10:13:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (<a href="2-5">rb_str_new</a>, rb_{tainted,usascii}_str_new2), (rb_str_buf_new2)
<dd>
<p>remove old interfaces.</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+08-3A00-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  1 08:00:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (gzfile_read, gzfile_read_all, gzfile_getc), (gzreader_gets)
<dd>
<p>check EOF.  [ruby-core:55220] [Bug #8467]</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+07-3A32-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  1 07:32:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Use BDIGIT type for hbase.</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+02-3A37-3A35+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jun  1 02:37:35 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c (sockopt_s_byte)
<dd>
<p>constructor of the sockopt whose value&#39;s is byte.</p>
</dd><dt>ext/socket/option.c (sockopt_byte)
<dd>
<p>getter for above.</p>
</dd><dt>ext/socket/option.c (inspect_byte)
<dd>
<p>inspect for above.</p>
</dd><dt>ext/socket/option.c (sockopt_s_ip_multicast_loop)
<dd>
<p>constructor of the sockopt whose optname is IP_MULTICAST_LOOP.</p>
</dd><dt>ext/socket/option.c (sockopt_ip_multicast_loop)
<dd>
<p>getter for above.</p>
</dd><dt>ext/socket/option.c (sockopt_s_ip_multicast_ttl)
<dd>
<p>constructor of the sockopt whose optname is IP_MULTICAST_TTL.</p>
</dd><dt>ext/socket/option.c (sockopt_ip_multicast_ttl)
<dd>
<p>getter for above.</p>
</dd><dt>ext/socket/option.c (sockopt_inspect)
<dd>
<p>use above.</p>
</dd></dl>

<h3 id="label-Sat+Jun+01+01-3A50-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sat Jun 01 01:50:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_power)
<dd>
<p>use rb_dbl2big to convert a double value to a <a
href="../../classes/Bignum.html">Bignum</a>.</p>
</dd></dl>

<h3 id="label-Sat+Jun++1+00-3A19-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  1 00:19:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (calc_hbase)
<dd>
<p>Make hbase the maximum power of base representable in BDIGIT.</p>
</dd></dl>

<h2 id="label-2013-05-31">2013-05-31</h2>

<h3 id="label-Fri+May+31+23-3A56-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 31 23:56:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (calc_hbase)
<dd>
<p>Extracted from rb_big2str0.</p>
</dd></dl>

<h3 id="label-Fri+May+31+23-3A22-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 31 23:22:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>Don&#39;t hard code SIZEOF_BDIGITS for log_base(hbase).</p>
</dd><dt>(big2str_orig)
<dd>
<p>hbase_numdigits argument added.</p>
</dd><dt>(big2str_karatsuba)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2str0)
<dd>
<p>Calculate hbase_numdigits.</p>
</dd></dl>

<h3 id="label-Fri+May+31+17-3A57-3A21+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri May 31 17:57:21 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Improve <a href="../../classes/Process.html#method-c-exec">Process.exec</a>
documentation</p>
</dd></dl>

<h3 id="label-Fri+May+31+17-3A26-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 31 17:26:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_funcallv)
<dd>
<p>add better names of rb_funcall2.</p>
</dd><dt>vm_eval.c (rb_funcallv_public)
<dd>
<p>ditto for rb_funcall3.</p>
</dd></dl>

<h3 id="label-Fri+May+31+17-3A04-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 31 17:04:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_new_capa)
<dd>
<p>add better names of rb_ary_new2.</p>
</dd><dt>array.c (rb_ary_new_from_args)
<dd>
<p>ditto for rb_ary_new3.</p>
</dd><dt>array.c (rb_ary_new_from_values)
<dd>
<p>ditto for rb_ary_new4.</p>
</dd></dl>

<h3 id="label-Fri+May+31+16-3A35-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 31 16:35:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (HAVE_ATTRIBUTE_FUNCTION_ALIAS)
<dd>
<p>define to tell if alias attribute is available.</p>
</dd></dl>

<h3 id="label-Fri+May+31+16-3A03-3A23+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri May 31 16:03:23 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c, proc.c
<dd>
<p>s/call_seq/call-seq in rdoc. [Fixes GH-322]</p>
</dd></dl>

<h3 id="label-Fri+May+31+15-3A56-3A36+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri May 31 15:56:36 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>Add missing paren in rdoc [Fixes GH-321]</p>
</dd></dl>

<h3 id="label-Fri+May+31+11-3A58-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 31 11:58:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (set_visibility)
<dd>
<p>extract from rb_mod_public(), rb_mod_protected() and rb_mod_private().</p>
</dd></dl>

<h2 id="label-2013-05-30">2013-05-30</h2>

<h3 id="label-Thu+May+30+19-3A47-3A42+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Thu May 30 19:47:42 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg, vm_callee_setup_arg_complex)
<dd>
<p>consider a hash argument for keyword only when the number of arguments is
more than the expected mandatory parameters.  [ruby-core:53199] [ruby-trunk
- Bug #8040]</p>
</dd><dt>test/ruby/test_keyword.rb
<dd>
<p>update a test for above.</p>
</dd></dl>

<h3 id="label-Thu+May+30+17-3A55-3A04+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu May 30 17:55:04 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p><a href="../../classes/RDoc.html">RDoc</a> on <a
href="../../classes/Process.html#method-c-spawn">Process.spawn</a></p>
</dd></dl>

<h3 id="label-Thu+May+30+00-3A08-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 30 00:08:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_enable)
<dd>
<p>rest_sweep() to finish last <a href="../../classes/GC.html">GC</a>.
Profiling record is allocated at first of marking phase. Enable at lazy
sweeping may cause an error (SEGV).</p>
</dd></dl>

<h2 id="label-2013-05-29">2013-05-29</h2>

<h3 id="label-Wed+May+29+10-3A33-3A27+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 29 10:33:27 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>fix WB bug.</p>
</dd><dd>
<p></p>
</dd></dl>

<h2 id="label-2013-05-28">2013-05-28</h2>

<h3 id="label-Tue+May+28+12-3A31-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 12:31:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/object_tracing.c
<dd>
<p>fix a bug reported at “[ruby-core:55182] [ruby-trunk - Bug #<a
href="Open">8456]</a> Sugfault in Ruby Head” Care about the case <a
href="../../classes/TracePoint.html#method-i-path">TracePoint#path</a>
#=&gt; `nil&#39;.</p>
</dd><dt>ext/objspace/object_tracing.c
<dd>
<p>add two new methods: * <a
href="../../classes/ObjectSpace.html#method-c-allocation_class_path">ObjectSpace.allocation_class_path</a>
* <a
href="../../classes/ObjectSpace.html#method-c-allocation_method_id">ObjectSpace.allocation_method_id</a>
They are not useful for <a
href="../../classes/BasicObject.html#method-c-new">BasicObject.new</a>
because they are always “Class” and :new. To trace more useful information,
we need to maintain call-tree using call/return hooks, which is implemented
by ll-prof &lt;<a
href="http://sunagae.net/wiki/doku.php?id=software:llprof">sunagae.net/wiki/doku.php?id=software:llprof</a>&gt;</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Tue+May+28+11-3A30-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 28 11:30:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (extmake)
<dd>
<p>leave makefiles untouched if the content is not changed, to get rid of
unnecessary re-linking.</p>
</dd></dl>

<h3 id="label-Tue+May+28+03-3A11-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 03:11:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/gc_hook.c, ext/objspace/objspace.c
<dd>
<p>add new methods to hook <a href="../../classes/GC.html">GC</a> invocation.
* ObjectSpace.after_gc_start_hook=(proc) *
ObjectSpace.after_gc_end_hook=(proc) Note that hooks are not kicked
immediately. Procs are kicked at postponed_job. This feature is a sample of
new internal event and rb_postponed_job API.</p>
</dd></dl>

<h3 id="label-Tue+May+28+02-3A56-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 02:56:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>remove wrong rest_sweep().</p>
</dd></dl>

<h3 id="label-Tue+May+28+02-3A44-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 02:44:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>fix GC_ENABLE_LAZY_SWEEP condition.</p>
</dd><dt>gc.c (GC_NOTIFY)
<dd>
<p>move debug print location and use stderr instead of stdout.</p>
</dd></dl>

<h3 id="label-Tue+May+28+02-3A07-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 02:07:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_register_one)
<dd>
<p>fix iteration bug.</p>
</dd><dt>ext/-test-/postponed_job/postponed_job.c, test/-ext-/postponed_job/test_postponed_job.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Tue+May+28+00-3A34-3A23+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 00:34:23 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, gc.c
<dd>
<p>add new internal event RUBY_INTERNAL_EVENT_GC_END. This event invokes at
the end of after_sweep(). <a href="../../classes/Time.html">Time</a> chart
with lazy sweep is:</p>
</dd><dt>(1) Kick RUBY_INTERNAL_EVENT_GC_START (2) [gc_marks()] (3) [lazy_sweep()] (4) [… run Ruby program (mutator) with lazy_sweep() …] (5) [after_sweep()] (6) Kick RUBY_INTERNAL_EVENT_GC_END (7) [… run Ruby program (mutator), and go to (1) …] <a href="../../classes/Time.html">Time</a> chart without lazy sweep (GC.start, etc) is
<dd>
<p></p>
</dd><dd>
<p></p>
</dd><dt>ext/-test-/tracepoint/tracepoint.c, test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>modify a test.</p>
</dd></dl>

<h3 id="label-Tue+May+28+00-3A18-3A57+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 28 00:18:57 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>remove a wrong comment.</p>
</dd></dl>

<h2 id="label-2013-05-27">2013-05-27</h2>

<h3 id="label-Mon+May+27+22-3A09-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 27 22:09:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RHASH_SIZE)
<dd>
<p>Add a cast to suppress a warning, comparison between signed and unsigned
integer expressions [-Wsign-compare], on ILP32.</p>
</dd></dl>

<h3 id="label-Mon+May+27+19-3A25-3A47+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 19:25:47 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>rename RUBY_INTERNAL_EVENT_FREE to RUBY_INTERNAL_EVENT_FREEOBJ.</p>
</dd><dt>ext/-test-/tracepoint/tracepoint.c, ext/objspace/object_tracing.c, gc.c, vm_trace.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Mon+May+27+18-3A57-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 18:57:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>support <a
href="../../classes/ObjectSpace.html#method-c-trace_object_allocations">ObjectSpace.trace_object_allocations</a>.
Read the following test to know HOWTO. This feature is a sample of
RUBY_INTERNAL_EVENT.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test.</p>
</dd><dt>ext/objspace/object_tracing.c
<dd>
<p>ditto.</p>
</dd><dt>gc.c (rb_gc_count)
<dd>
<p>add. This function returns <a href="../../classes/GC.html">GC</a> count.</p>
</dd><dt>internal.h
<dd>
<p>add decl. of rb_gc_count(). Same as `GC.count&#39;.</p>
</dd></dl>

<h3 id="label-Mon+May+27+17-3A33-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 27 17:33:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (install_recursive)
<dd>
<p>add maxdepth option.</p>
</dd><dt>tool/rbinstall.rb (bin-comm)
<dd>
<p>limit depth of bindir and reject empty files.  [ruby-core:55101] [Bug
#8432]</p>
</dd></dl>

<h3 id="label-Mon+May+27+16-3A16-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 16:16:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush, rb_postponed_job_register)
<dd>
<p>use ruby_xmalloc/xfree. It is safe during <a
href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Mon+May+27+09-3A24-3A03+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 09:24:03 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/postponed_job/test_postponed_job.rb
<dd>
<p>fix typo and class name.</p>
</dd></dl>

<h3 id="label-Mon+May+27+09-3A05-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 09:05:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, gc.c, vm_trace.c
<dd>
<p>add internal events. * RUBY_INTERNAL_EVENT_NEWOBJ: object created. *
RUBY_INTERNAL_EVENT_FREE: object freed. * RUBY_INTERNAL_EVENT_GC_START: <a
href="../../classes/GC.html">GC</a> started. And rename
`RUBY_EVENT_SWITCH&#39; to `RUBY_INTERNAL_EVENT_SWITCH&#39;. Internal
events can not invoke any Ruby program because the tracing timing may be
critical (under huge restriction). These events can be hooked only by
C-extensions. We recommend to use rb_postponed_job_register() API to call
Ruby program safely. This change is mostly written by Aman Gupta (tmm1). <a
href="https://bugs.ruby-lang.org/issues/8107#note-12">bugs.ruby-lang.org/issues/8107#note-12</a>
[Feature #8107]</p>
</dd><dt>include/ruby/debug.h, vm_trace.c
<dd>
<p>added two new APIs. * rb_tracearg_event_flag() returns rb_event_flag_t of
this event. * rb_tracearg_object() returns created/freed object.</p>
</dd><dt>ext/-test-/tracepoint/extconf.rb, ext/-test-/tracepoint/tracepoint.c, test/-ext-/tracepoint/test_tracepoint.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Mon+May+27+08-3A38-3A21+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 08:38:21 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/postponed_job/postponed_job.c
<dd>
<p>fix `init&#39; function name.</p>
</dd></dl>

<h3 id="label-Mon+May+27+06-3A22-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 06:22:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/debug.h, vm_trace.c
<dd>
<p>add rb_postponed_job API. Postponed jobs are registered with this API.
Registered jobs are invoked at `ruby-running-safe-point&#39; as soon as
possible. This timing is completely same as finalizer timing. There are two
APIs: * rb_postponed_job_register(flags, func, data): register a postponed
job with data. flags are reserved. * rb_postponed_job_register_one(flags,
func, data): same as `rb_postponed_job_register&#39;, but only one
`func&#39; job is registered (skip if `func&#39; is already registered).
This change is mostly written by Aman Gupta (tmm1). <a
href="https://bugs.ruby-lang.org/issues/8107#note-15">bugs.ruby-lang.org/issues/8107#note-15</a>
[Feature #8107]</p>
</dd><dt>gc.c
<dd>
<p>use postponed job API for finalizer.</p>
</dd><dt>common.mk
<dd>
<p>add dependency from vm_trace.c to debug.h.</p>
</dd><dt>ext/-test-/postponed_job/extconf.rb, postponed_job.c, test/-ext-/postponed_job/test_postponed_job.rb
<dd>
<p>add a test.</p>
</dd><dt>thread.c
<dd>
<p>implement postponed API.</p>
</dd><dt>vm_core.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+May+27+02-3A26-3A02+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 02:26:02 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>collect promote_operation_count and types (RGENGC_PROFILE &gt;= 2).</p>
</dd></dl>

<h3 id="label-Mon+May+27+01-3A40-3A58+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 01:40:58 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>collect shade_operation_count, remembered_sunny_object_count and
remembered_shady_object_count for each types when RGENGC_PROFILE &gt;= 2.
They are informative for optimization.</p>
</dd></dl>

<h3 id="label-Mon+May+27+01-3A15-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 27 01:15:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_tbl_raw), internal.h
<dd>
<p>added. Returns st_table without shading hash.</p>
</dd><dt>array.c
<dd>
<p>use rb_hash_tbl_raw() for read-only purpose.</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>ditto.</p>
</dd><dt>gc.c (count_objects)
<dd>
<p>ditto.</p>
</dd><dt>insns.def
<dd>
<p>ditto.</p>
</dd><dt>process.c
<dd>
<p>ditto.</p>
</dd><dt>thread.c (clear_coverage)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+May+27+00-3A31-3A09+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon May 27 00:31:09 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>use <a href=""AUTOCONF"">ENV</a> instead of directly using literal
“autoconf”.</p>
</dd></dl>

<h2 id="label-2013-05-26">2013-05-26</h2>

<h3 id="label-Sun+May+26+21-3A31-3A46+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 26 21:31:46 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c, include/ruby/ruby.h
<dd>
<p>support WB protected hash. * constify RHash::ifnone and make new macro
RHASH_SET_IFNONE(). * insert write barrier for st_update().</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>declare rb_hash_set_ifnone(hash, ifnone).</p>
</dd><dt>marshal.c (r_object0)
<dd>
<p>use RHASH_SET_IFNONE().</p>
</dd><dt>ext/openssl/ossl_x509name.c (Init_ossl_x509name)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-05-25">2013-05-25</h2>

<h3 id="label-Sat+May+25+23-3A22-3A38+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat May 25 23:22:38 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/test_c_struct_entry.rb, test/fiddle/test_c_union_entity.rb, test/fiddle/test_cparser.rb, test/fiddle/test_func.rb, test/fiddle/test_handle.rb, test/fiddle/test_import.rb, test/fiddle/test_pointer.rb
<dd>
<p>don&#39;t run test if the system don&#39;t support fiddle.</p>
</dd></dl>

<h3 id="label-Sat+May+25+21-3A29-3A34+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat May 25 21:29:34 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pty/pty.c (get_device_once)
<dd>
<p>FreeBSD 10-current and 9-stable added O_CLOEXEC support to posix_openpt, so
assume FreeBSD 9.2 or later supports it. <a
href="http://www.freebsd.org/cgi/query-pr.cgi?pr=162374">www.freebsd.org/cgi/query-pr.cgi?pr=162374</a></p>
</dd></dl>

<h3 id="label-Sat+May+25+18-3A46-3A23+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Sat May 25 18:46:23 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_entry_min_max_arity)
<dd>
<p>fix missing break in switch. This was introduced in r38236, which is not
intentional apparently. This has caused no actual harm because
VM_METHOD_TYPE_OPTIMIZED is not used except for OPTIMIZED_METHOD_TYPE_SEND,
but may do in future.  Coverity Scan found this inadequacy.</p>
</dd></dl>

<h3 id="label-Sat+May+25+18-3A08-3A06+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Sat May 25 18:08:06 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (bracket)
<dd>
<p>fix copy-paste error.  When the first and last characters of fnmatch range
have different length, fnmatch may have wrongly matched a path that does
not really match. Coverity Scan found this bug.</p>
</dd></dl>

<h3 id="label-Sat+May+25+17-3A06-3A25+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat May 25 17:06:25 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (after_gc_sweep)
<dd>
<p>reduce full <a href="../../classes/GC.html">GC</a> timing.</p>
</dd></dl>

<h3 id="label-Sat+May+25+11-3A28-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 25 11:28:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (set_const_visibility)
<dd>
<p>return without clearing method cache if no arguments.</p>
</dd><dt>vm_method.c (set_method_visibility)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+25+11-3A27-3A32+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 25 11:27:32 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (set_method_visibility)
<dd>
<p>quote unprintable method name.</p>
</dd></dl>

<h3 id="label-Sat+May+25+11-3A24-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 25 11:24:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_frame_callee)
<dd>
<p>returns the called name of the current frame, not the previous frame.</p>
</dd><dt>eval.c (prev_frame_callee, prev_frame_func)
<dd>
<p>rename and make static, as these are used by rb_f_method_name() and
rb_f_callee_name() only.</p>
</dd><dt>variable.c (set_const_visibility)
<dd>
<p>use the called name.</p>
</dd></dl>

<h3 id="label-Sat+May+25+08-3A58-3A23+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 25 08:58:23 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_quote_unprintable)
<dd>
<p>check if argument is a string.</p>
</dd></dl>

<h2 id="label-2013-05-24">2013-05-24</h2>

<h3 id="label-Fri+May+24+19-3A32-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri May 24 19:32:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (set_const_visibility)
<dd>
<p>use rb_frame_this_func() instead of rb_frame_callee() for getting the name
of the called method</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>add test for private_constant with no args</p>
</dd></dl>

<h3 id="label-Fri+May+24+18-3A53-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 24 18:53:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>do major/full <a href="../../classes/GC.html">GC</a> when: * number of
oldgen object is bigger than twice of number of oldgen object at last full
<a href="../../classes/GC.html">GC</a>. * number of remembered shady object
is bigger than twice of number of remembered shady object at last full <a
href="../../classes/GC.html">GC</a>. * number of oldgen object and
remembered shady object is bigger than half of total object space.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Fri+May+24+17-3A07-3A00+2013++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Fri May 24 17:07:00 2013  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>intern.h
<dd>
<p>remove dangling rb_class_init_copy declaration [ruby-core:55120] [Bug
#8434]</p>
</dd></dl>

<h3 id="label-Fri+May+24+16-3A31-3A23+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri May 24 16:31:23 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/strscan/strscan.c (strscan_aref)
<dd>
<p>raise error if given name reference is not found.</p>
</dd></dl>

<h3 id="label-Fri+May+24+15-3A48-3A18+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 24 15:48:18 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (after_gc_sweep, garbage_collect_body)
<dd>
<p>do major <a href="../../classes/GC.html">GC</a> (full <a
href="../../classes/GC.html">GC</a>) before extending heaps. TODO: do major
<a href="../../classes/GC.html">GC</a> when there are many old (promoted)
objects.</p>
</dd><dt>gc.c (after_gc_sweep)
<dd>
<p>remove TODO comments.</p>
</dd></dl>

<h3 id="label-Fri+May+24+11-3A04-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 24 11:04:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (LIBRUBY_RPATHFLAGS)
<dd>
<p>do not append -L option with runtime library directory if cross compiling,
but only -R option. runtime path makes no sense on the host system. 
[ruby-dev:47363] [Bug #8443]</p>
</dd></dl>

<h3 id="label-Fri+May+24+02-3A57-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 24 02:57:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_clone)
<dd>
<p>should not propagate OLDGEN status. This propagation had caused WB miss for
class.</p>
</dd></dl>

<h2 id="label-2013-05-23">2013-05-23</h2>

<h3 id="label-Thu+May+23+17-3A35-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 23 17:35:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (loaded_feature_path)
<dd>
<p>fix invalid read by index underflow. the beginning of name is also a
boundary as well as just after &#39;/&#39;.</p>
</dd></dl>

<h3 id="label-Thu+May+23+17-3A21-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 23 17:21:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_dump_on)
<dd>
<p>revert r40898.  ok to show the record accumulating while lazy_sweep().</p>
</dd></dl>

<h2 id="label-2013-05-22">2013-05-22</h2>

<h3 id="label-Wed+May+22+16-3A50-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 22 16:50:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_dump_on)
<dd>
<p>use size_t to get rid of overflow and show the header when next_index &gt;
0, instead of next_index != 1.</p>
</dd></dl>

<h3 id="label-Wed+May+22+15-3A18-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 22 15:18:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (setup_overlapped)
<dd>
<p>check the error code in addition to the result of SetFilePointer() to
determine if an error occurred, because INVALID_SET_FILE_POINTER is a valid
value. [ruby-core:55098] [Bug #8431]</p>
</dd><dt>win32/win32.c (setup_overlapped, finish_overlapped)
<dd>
<p>extract from rb_w32_read() and rb_w32_write().</p>
</dd></dl>

<h3 id="label-Wed+May+22+14-3A19-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 22 14:19:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_prepare_free_objects, rest_sweep, lazy_sweep)
<dd>
<p>fix position of `during_gc&#39; setting.</p>
</dd></dl>

<h3 id="label-Wed+May+22+07-3A36-3A08+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 22 07:36:08 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect)
<dd>
<p>all <a href="../../classes/GC.html">GC</a> is start from garbage_collect()</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (gc_prepare_free_objects)
<dd>
<p>use `garbage_collect_body()&#39;.</p>
</dd><dt>gc.c (slot_sweep, before_gc_sweep, after_gc_sweep)
<dd>
<p>add logging code.</p>
</dd></dl>

<h2 id="label-2013-05-21">2013-05-21</h2>

<h3 id="label-Tue+May+21+22-3A47-3A06+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue May 21 22:47:06 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/strscan/strscan.c (strscan_aref)
<dd>
<p>support named captures. patched by Konstantin Haase [ruby-core:54664]
[Feature #8343]</p>
</dd></dl>

<h3 id="label-Tue+May+21+21-3A48-3A44+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 21 21:48:44 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_dir_m17n.rb (TestDir_M17N#test_entries_compose)
<dd>
<p>Use each instead of map just for iteration.</p>
</dd></dl>

<h3 id="label-Tue+May+21+19-3A57-3A22+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue May 21 19:57:22 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/lib/digest.rb (Digest::Class.file)
<dd>
<p>Take optional arguments that are passed to the constructor of the digest
class.</p>
</dd></dl>

<h3 id="label-Tue+May+21+17-3A21-3A12+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 21 17:21:12 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove gc_profile_record::is_marked. always true.</p>
</dd></dl>

<h3 id="label-Tue+May+21+17-3A13-3A40+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 21 17:13:40 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix to collect additional information for <a
href="../../classes/GC/Profiler.html">GC::Profiler</a>. * major/minor <a
href="../../classes/GC.html">GC</a> * trigger reason of <a
href="../../classes/GC.html">GC</a></p>
</dd><dt>gc.c (gc_profile_dump_on)
<dd>
<p>change reporting format with added information.</p>
</dd><dt>gc.c (gc_profile_record_get)
<dd>
<p>return added information by :GC_FLAGS =&gt; array.</p>
</dd></dl>

<h3 id="label-Tue+May+21+16-3A45-3A31+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 21 16:45:31 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>GC::Profiler&#39;s sweeping time is accumulated all slot sweeping time. At
lazy <a href="../../classes/GC.html">GC</a>, <a
href="../../classes/GC/Profiler.html">GC::Profiler</a> makes new record
entry for each lazy_sweep(). In this change, accumulating all slot_sweep()
time. And change indentation.</p>
</dd></dl>

<h3 id="label-Tue+May+21+16-3A29-3A09+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 21 16:29:09 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (rdoc-bench)
<dd>
<p>add a benchmark rule using <a href="../../classes/RDoc.html">RDoc</a>.
Generate all rdoc related files</p>
</dd><dt>(same as `make rdoc&#39;) in temporary directory and remove them. Execution time, <a href="../../classes/GC.html">GC</a>
<dd>
<p>:Profiler and results of <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> are printed.</p>
</dd><dt>tool/rdocbench.rb
<dd>
<p>added for `rdoc-bench&#39;.</p>
</dd></dl>

<h3 id="label-Tue+May+21+16-3A25-3A05+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 21 16:25:05 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_dump_on)
<dd>
<p>`count&#39; should be (int) because it can be negative number. And use
pointer for `record&#39; (don&#39;t copy).</p>
</dd></dl>

<h3 id="label-Tue+May+21+03-3A11-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 21 03:11:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_each)
<dd>
<p>compose HFS file names from UTF8-MAC. [ruby-core:48745] [Bug #7267]</p>
</dd></dl>

<h3 id="label-Tue+May+21+03-3A08-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 21 03:08:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_separately)
<dd>
<p>require envutil in the child process too.</p>
</dd></dl>

<h3 id="label-Tue+May+21+03-3A07-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 21 03:07:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_conv_enc_opts)
<dd>
<p>should infect.</p>
</dd></dl>

<h2 id="label-2013-05-20">2013-05-20</h2>

<h3 id="label-Mon+May+20+22-3A24-3A45+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon May 20 22:24:45 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#delete_if, <a href="../../classes/Set.html#method-i-keep_if">Set#keep_if</a>)
<dd>
<p>Avoid blockless call of proc, which is not portable to JRuby.  Replace
&amp;method() with faster and simpler literal blocks while at it.</p>
</dd></dl>

<h3 id="label-Mon+May+20+22-3A00-3A31+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 22:00:31 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/e2mmap.rb
<dd>
<p>Format of E2MM documentation</p>
</dd></dl>

<h3 id="label-Mon+May+20+21-3A41-3A15+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 21:41:15 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>nodoc this file</p>
</dd></dl>

<h3 id="label-Mon+May+20+20-3A43-3A32+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 20:43:32 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cmath.rb
<dd>
<p>Remove duplicate <a href="../../classes/RDoc.html">RDoc</a> heading from
overview</p>
</dd></dl>

<h3 id="label-Mon+May+20+20-3A36-3A19+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 20:36:19 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>Update position of overview for <a href="../../classes/RDoc.html">RDoc</a></p>
</dd></dl>

<h3 id="label-Mon+May+20+19-3A33-3A55+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon May 20 19:33:55 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c
<dd>
<p>improve and fix documentation of sin, tan and log</p>
</dd></dl>

<h3 id="label-Mon+May+20+19-3A31-3A49+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon May 20 19:31:49 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (Logger::Application)
<dd>
<p>show namespace in documentation</p>
</dd></dl>

<h3 id="label-Mon+May+20+11-3A50-3A12+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 11:50:12 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb
<dd>
<p>Revert part of r40834 and nodoc PP::ObjectMixin [ruby-core:55068]</p>
</dd></dl>

<h3 id="label-Mon+May+20+10-3A40-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 20 10:40:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/htmlutils.rb (WEBrick::HTMLUtils#escape)
<dd>
<p>replace HTML meta chars even in non-ascii string.  [Bug #8425]
[ruby-core:55052]</p>
</dd><dt>lib/webrick/httputils.rb (WEBrick::HTTPUtils#{_escape,_unescape})
<dd>
<p>fix %-escape encodings.  [Bug #8425] [ruby-core:55052]</p>
</dd><dt>lib/webrick/httpservlet/filehandler.rb (set_dir_list)
<dd>
<p>revert r20152 partially and fix misuse of bytesize and regexp repetition
operator.</p>
</dd></dl>

<h3 id="label-Mon+May+20+08-3A03-3A51+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 08:03:51 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/profiler.rb
<dd>
<p>Document <a href="../../classes/Profiler__.html">Profiler__</a> methods</p>
</dd></dl>

<h3 id="label-Mon+May+20+08-3A02-3A13+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 08:02:13 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>nodoc Tempfile#inspect</p>
</dd></dl>

<h3 id="label-Mon+May+20+07-3A48-3A24+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 07:48:24 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c
<dd>
<p>Correct position of method rdoc</p>
</dd></dl>

<h3 id="label-Mon+May+20+07-3A27-3A41+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 07:27:41 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c
<dd>
<p><a href="../../classes/RDoc.html">RDoc</a> formatting of <a
href="../../classes/Math.html">Math</a> core docs with domains and
codomains Patch by @eLobato [Fixes GH-309]</p>
</dd></dl>

<h3 id="label-Mon+May+20+05-3A58-3A12+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 05:58:12 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Formatting for <a href="../../classes/BigMath.html">BigMath</a> [Fixes
GH-306] Based on a patch by @eLobato.</p>
</dd><dt>ext/bigdecimal/lib/bigdecimal/math.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+May+20+04-3A56-3A59+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 04:56:59 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/forwardable.rb
<dd>
<p><a href="../../classes/Forwardable.html">Forwardable</a> examples in
overview were broken Based on patch by @joem [Fixes GH-303] [Bug #8392]</p>
</dd></dl>

<h3 id="label-Mon+May+20+03-3A35-3A26+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 03:35:26 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>nodoc OptionParser::Version and SPLAT_PROC</p>
</dd></dl>

<h3 id="label-Mon+May+20+03-3A16-3A52+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 20 03:16:52 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb
<dd>
<p>Document PP::ObjectMixin [Fixes GH-312]</p>
</dd></dl>

<h2 id="label-2013-05-19">2013-05-19</h2>

<h3 id="label-Sun+May+19+23-3A52-3A22+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun May 19 23:52:22 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_htmlutils.rb
<dd>
<p>add test for <a
href="../../classes/WEBrick/HTMLUtils.html">WEBrick::HTMLUtils</a>.</p>
</dd></dl>

<h3 id="label-Sun+May+19+23-3A12-3A07+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun May 19 23:12:07 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c
<dd>
<p>document fix, change default script encoding. patched by @windwiny [Fixes
GH-310]</p>
</dd></dl>

<h3 id="label-Sun+May+19+17-3A29-3A07+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun May 19 17:29:07 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#delete_if, <a href="../../classes/Set.html#method-i-keep_if">Set#keep_if</a>)
<dd>
<p>Add comments.</p>
</dd></dl>

<h3 id="label-Sun+May+19+11-3A37-3A36+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun May 19 11:37:36 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>ignore rc version of libffi to fix build failure.</p>
</dd></dl>

<h3 id="label-Sun+May+19+10-3A38-3A50+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun May 19 10:38:50 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-delete-backward-char)
<dd>
<p>Use delete-char instead of delete-backward-char, which is an interactive
function.</p>
</dd></dl>

<h3 id="label-Sun+May+19+03-3A59-3A29+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun May 19 03:59:29 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_scrub0)
<dd>
<p>added for refactoring.</p>
</dd></dl>

<h3 id="label-Sun+May+19+03-3A48-3A26+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun May 19 03:48:26 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb (URI.decode_www_form)
<dd>
<p>scrub string if decoded bytes are invalid for the encoding.</p>
</dd></dl>

<h3 id="label-Sun+May+19+02-3A46-3A32+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun May 19 02:46:32 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#delete_if, <a href="../../classes/Set.html#method-i-keep_if">Set#keep_if</a>)
<dd>
<p>Make <a href="../../classes/Set.html#method-i-delete_if">Set#delete_if</a>
and <a href="../../classes/Set.html#method-i-keep_if">Set#keep_if</a> more
space and time efficient by avoiding to_a.</p>
</dd></dl>

<h3 id="label-Sun+May+19+02-3A33-3A09+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun May 19 02:33:09 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-setup-keymap)
<dd>
<p>Make backquotes electric as well.  It was listed in
ruby-electric-expand-delimiters-list but not activated.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-delete-backward-char)
<dd>
<p>Introduce electric DEL that deletes what the previous electric command has
input.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-matching-char)
<dd>
<p>Make electric quotes work again at the end of buffer.</p>
</dd></dl>

<h3 id="label-Sun+May+19+01-3A39-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 19 01:39:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (setjmp-type)
<dd>
<p>check if setjmpex() is really available. workaround for i686-w64-mingw32
which declares it but lacks its definition.</p>
</dd><dt>include/ruby/defines.h
<dd>
<p>include setjmpex.h only if also setjmpex() is available.</p>
</dd></dl>

<h2 id="label-2013-05-18">2013-05-18</h2>

<h3 id="label-Sat+May+18+23-3A57-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 18 23:57:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (setjmp-type)
<dd>
<p>use setjmpex() on w64-mingw32 to get rid of -Wclobbered warnings.</p>
</dd><dt>include/ruby/defines.h
<dd>
<p>include setjmpex.h here becase setjmp.h is included from win32.h via
intrin.h, winnt.h, and so on.</p>
</dd></dl>

<h3 id="label-Sat+May+18+20-3A28-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 18 20:28:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb (INTEGER2NUM)
<dd>
<p>Make less comparisons.</p>
</dd></dl>

<h3 id="label-Sat+May+18+20-3A15-3A28+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat May 18 20:15:28 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_scrub_bang)
<dd>
<p>add <a
href="../../classes/String.html#method-i-scrub-21">String#scrub!</a>.
[Feature #8414]</p>
</dd></dl>

<h3 id="label-Sat+May+18+16-3A59-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 18 16:59:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb (INTEGER2NUM)
<dd>
<p>Renamed from INTEGER2VALUE.</p>
</dd></dl>

<h3 id="label-Sat+May+18+16-3A57-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 18 16:57:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb (INTEGER2VALUE)
<dd>
<p>Suppress a warning: comparison between signed and unsigned integer
expressions</p>
</dd></dl>

<h3 id="label-Sat+May+18+16-3A38-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 18 16:38:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>forward anonymous and first keyword rest argument one.  [ruby-core:55033]
[Bug #8416].</p>
</dd></dl>

<h3 id="label-Sat+May+18+15-3A49-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 18 15:49:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_vm_tag)
<dd>
<p>move jmpbuf between tag and prev so ensure to be accessible.</p>
</dd></dl>

<h3 id="label-Sat+May+18+11-3A05-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 18 11:05:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (inspect_enumerator)
<dd>
<p>use VALUE instead of mere char* by using rb_sprintf() and rb_id2str().</p>
</dd><dt>enumerator.c (append_method)
<dd>
<p>extract from inspect_enumerator().</p>
</dd></dl>

<h3 id="label-Sat+May+18+09-3A00-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 18 09:00:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb (INTEGER2VALUE)
<dd>
<p>Use LONG2FIX if possible.</p>
</dd></dl>

<h3 id="label-Sat+May+18+00-3A38-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 18 00:38:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb
<dd>
<p>Convert integer constants bigger than int correctly.</p>
</dd></dl>

<h2 id="label-2013-05-17">2013-05-17</h2>

<h3 id="label-Fri+May+17+22-3A02-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 17 22:02:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ifaddr.c
<dd>
<p>Use unsigned LONG_LONG to represent flags because SunOS 5.11 (OpenIndiana)
defines ifa_flags as uint64_t.</p>
</dd></dl>

<h3 id="label-Fri+May+17+21-3A47-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri May 17 21:47:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c
<dd>
<p>Typo in constant MAX_MACHINE_STACK_CACHE from &#39;..MAHINE..&#39; patch by
@schmurfy [Fixes GH-307]</p>
</dd></dl>

<h3 id="label-Fri+May+17+19-3A18-3A24+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri May 17 19:18:24 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-matching-char)
<dd>
<p>Do not put a closing quote when the quote typed does not start a string, as
in $&#39;, ?&#39; or ?&quot;.</p>
</dd></dl>

<h3 id="label-Fri+May+17+18-3A06-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 17 18:06:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Consider error messages to find out version option of C compiler. The C
compiler of Sun Studio C emits “Warning: Option -qversion passed to ld, if
ld is invoked, ignored otherwise” and exit successfully.</p>
</dd></dl>

<h3 id="label-Fri+May+17+17-3A34-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 17 17:34:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_guarded_ptr)
<dd>
<p>unoptimize on other compilers than gcc and msvc.</p>
</dd></dl>

<h3 id="label-Fri+May+17+11-3A06-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 17 11:06:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h (TH_PUSH_TAG)
<dd>
<p>ensure jmpbuf to be accessible before pushing tag to get rid of
unaccessible tag by stack overflow.</p>
</dd></dl>

<h2 id="label-2013-05-16">2013-05-16</h2>

<h3 id="label-Thu+May+16+17-3A15-3A32+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May 16 17:15:32 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_catch_obj)
<dd>
<p>add volatile to tag to prevent crash experimentally. <a
href="http://www.rubyist.net/~akr/chkbuild/debian/ruby-trunk/log/20130515T133500Z.log.html.gz">www.rubyist.net/~akr/chkbuild/debian/ruby-trunk/log/20130515T133500Z.log.html.gz</a></p>
</dd></dl>

<h3 id="label-Thu+May+16+16-3A19-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 16 16:19:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (verconf.in)
<dd>
<p>no longer used.</p>
</dd><dt>win32/Makefile.sub (config.status)
<dd>
<p>fix typo.</p>
</dd><dt>configure.in, template/verconf.h.in (RUBY_EXEC_PREFIX)
<dd>
<p>fix for default prefix.</p>
</dd></dl>

<h3 id="label-Thu+May+16+13-3A12-3A27+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 16 13:12:27 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/verconf.h.in
<dd>
<p>generate verconf.h from the template and rbconfig.rb.</p>
</dd></dl>

<h3 id="label-Thu+May+16+05-3A47-3A18+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu May 16 05:47:18 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>fix syntax error. Thanks @spastorino! [ruby-core:55011]</p>
</dd></dl>

<h3 id="label-Thu+May+16+03-3A05-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 16 03:05:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_node_newnode)
<dd>
<p>use newobj_of() instead of rb_newobj().</p>
</dd></dl>

<h3 id="label-Thu+May+16+02-3A03-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 16 02:03:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/depend
<dd>
<p>Add a dependency for ifaddr.o.</p>
</dd></dl>

<h3 id="label-Thu+May+16+01-3A44-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 16 01:44:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (verconf.h)
<dd>
<p>$&lt; cannot be used in explicit rules with nmake.</p>
</dd><dt>win32/Makefile.sub (CONFIG_H)
<dd>
<p>create verconf.in instead of verconf.h.</p>
</dd></dl>

<h3 id="label-Thu+May+16+01-3A25-3A07+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu May 16 01:25:07 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>only emit warnings when -w is enabled.</p>
</dd></dl>

<h2 id="label-2013-05-15">2013-05-15</h2>

<h3 id="label-Wed+May+15+18-3A58-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 15 18:58:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj)
<dd>
<p>rename to `newobj_of&#39; and accept additional three parameters v1, v2,
v3. newobj_of() do OBJSETUP() and fill values with v1, v2, v3.</p>
</dd><dt>gc.c (rb_data_object_alloc, rb_data_typed_object_alloc)
<dd>
<p>use newobj_of().</p>
</dd></dl>

<h3 id="label-Wed+May+15+17-3A55-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 15 17:55:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_PLATFORM)
<dd>
<p>move to config.h as needed by version.c.</p>
</dd></dl>

<h3 id="label-Wed+May+15+17-3A04-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 15 17:04:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add an additional RGENGC_PROFILE mode (2). Profiling result can be check by
<a href="../../classes/GC.html#method-c-stat">GC.stat</a>.</p>
</dd><dt>gc.c (type_name)
<dd>
<p>separate from obj_type_name().</p>
</dd></dl>

<h3 id="label-Wed+May+15+16-3A58-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 15 16:58:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>save configured load path values into verconf.in.</p>
</dd><dt>common.mk (verconf.h)
<dd>
<p>create from verconf.in with shvar_to_cpp.rb.</p>
</dd><dt>tool/shvar_to_cpp.rb
<dd>
<p>turn shell variables into C macros. [Bug #7959]</p>
</dd><dt>loadpath.c
<dd>
<p>split load path staffs from version.c.</p>
</dd><dt>dmyloadpath.c
<dd>
<p>miniruby has no builtin load paths, so verconf.h is not needed.</p>
</dd></dl>

<h3 id="label-Wed+May+15+03-3A56-3A09+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed May 15 03:56:09 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>adding backwards compatible YAMLTree.new method</p>
</dd></dl>

<h3 id="label-Wed+May+15+02-3A22-3A16+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed May 15 02:22:16 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>Adding <a
href="../../classes/Psych.html#method-c-safe_load">Psych.safe_load</a> for
loading a user defined, restricted subset of Ruby object types.</p>
</dd><dt>ext/psych/lib/psych/class_loader.rb
<dd>
<p>A class loader for encapsulating the logic for which objects are allowed to
be deserialized.</p>
</dd><dt>ext/psych/lib/psych/deprecated.rb
<dd>
<p>Changes to use the class loader</p>
</dd><dt>ext/psych/lib/psych/exception.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/json/stream.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/nodes/node.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/scalar_scanner.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/stream.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/streaming.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/visitors/json_tree.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/psych_to_ruby.c
<dd>
<p>ditto</p>
</dd><dt>test/psych/helper.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/test_safe_load.rb
<dd>
<p>tests for restricted subset.</p>
</dd><dt>test/psych/test_scalar_scanner.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/visitors/test_to_ruby.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/visitors/test_yaml_tree.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+May+15+02-3A06-3A35+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed May 15 02:06:35 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/psych/helper.rb
<dd>
<p>envutil is not available outside Ruby, so port the functions from envutil
to the test helper.</p>
</dd><dt>test/psych/test_deprecated.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/test_encoding.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+May+15+00-3A42-3A54+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed May 15 00:42:54 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c
<dd>
<p>need to include unistd.h for write(2). unistd.h is now included via
ruby/defines.h, but should explicitly include here.  (suggested by kosaki)</p>
</dd></dl>

<h2 id="label-2013-05-14">2013-05-14</h2>

<h3 id="label-Tue+May+14+23-3A43-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 14 23:43:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/.document
<dd>
<p>Add ifaddr.c.</p>
</dd></dl>

<h3 id="label-Tue+May+14+23-3A24-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 14 23:24:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>check for if_nametoindex() for i686-w64-mingw32, and check for declarations
of if_indextoname() and if_nametoindex().</p>
</dd><dt>ext/socket/ifaddr.c (ifaddr_ifindex)
<dd>
<p>not-implement unless if_nametoindex() is available.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>declare if_indextoname() and if_nametoindex() if available but not
declared.</p>
</dd></dl>

<h3 id="label-Tue+May+14+19-3A58-3A17+2013++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Tue May 14 19:58:17 2013  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/lib/dl/func.rb (DL::Function#call)
<dd>
<p>check tainted when $SAFE &gt; 0.</p>
</dd><dt>ext/fiddle/function.c (function_call)
<dd>
<p>check tainted when $SAFE &gt; 0.</p>
</dd><dt>test/fiddle/test_func.rb (module <a href="../../classes/Fiddle.html">Fiddle</a>)
<dd>
<p>add test for above.</p>
</dd></dl>

<h3 id="label-Tue+May+14+14-3A51-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 14 14:51:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h (INTPTR_MAX, INTPTR_MIN, UINTPTR_MAX)
<dd>
<p>split from intptr_t and uintptr_t, since VC9 defines the latter only in
crtdefs.h.</p>
</dd></dl>

<h3 id="label-Tue+May+14+12-3A21-3A28+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue May 14 12:21:28 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (NET_LUID)
<dd>
<p>mingw may have NET_LUID and not defined <em>IFDEF</em>.</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A33-3A17+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:33:17 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_new_frozen)
<dd>
<p>remove debug print.</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A22-3A51+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:22:51 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>enable to generate write barrier protected arrays (T_ARRAY).</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A21-3A42+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:21:42 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>enable to generate write barrier protected strings (T_STRING).</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A19-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:19:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>enable to generate write barrier protected objects (T_OBJECT).</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A17-3A15+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:17:15 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>enable to generate write barrier protected objects for numeric types
(Float, <a href="../../classes/Complex.html">Complex</a>, <a
href="../../classes/Rational.html">Rational</a>, <a
href="../../classes/Bignum.html">Bignum</a>).</p>
</dd></dl>

<h3 id="label-Tue+May+14+03-3A10-3A59+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 03:10:59 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>enable RGENGC (USE_RGENGC) but no type creates write protected (sunny)
objects</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+May+14+02-3A47-3A30+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 02:47:30 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>support RGENGC. [ruby-trunk - Feature #8339] See this ticket about RGENGC.</p>
</dd><dt>gc.c
<dd>
<p>Add several flags: * RGENGC_DEBUG: if &gt;0, then prints debug information.
* RGENGC_CHECK_MODE: if &gt;0, add assertions. * RGENGC_PROFILE: if &gt;0,
add profiling features. check <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> and <a
href="../../classes/GC/Profiler.html">GC::Profiler</a>.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>disable RGENGC by default (USE_RGENGC == 0).</p>
</dd><dt>array.c
<dd>
<p>add write barriers for T_ARRAY and generate sunny objects.</p>
</dd><dt>include/ruby/ruby.h (RARRAY_PTR_USE)
<dd>
<p>added. Use this macro if you want to access raw pointers. If you modify the
contents which pointer pointed, then you need to care write barrier.</p>
</dd><dt>bignum.c, marshal.c, random.c
<dd>
<p>generate T_BIGNUM sunny objects.</p>
</dd><dt>complex.c, include/ruby/ruby.h
<dd>
<p>add write barriers for T_COMPLEX and generate sunny objects.</p>
</dd><dt>rational.c (nurat_s_new_internal), include/ruby/ruby.h
<dd>
<p>add write barriers for T_RATIONAL and generate sunny objects.</p>
</dd><dt>internal.h
<dd>
<p>add write barriers for RBasic::klass.</p>
</dd><dt>numeric.c (rb_float_new_in_heap)
<dd>
<p>generate sunny T_FLOAT objects.</p>
</dd><dt>object.c (rb_class_allocate_instance), range.c
<dd>
<p>generate sunny T_OBJECT objects.</p>
</dd><dt>string.c
<dd>
<p>add write barriers for T_STRING and generate sunny objects.</p>
</dd><dt>variable.c
<dd>
<p>add write barriers for ivars.</p>
</dd><dt>vm_insnhelper.c (vm_setivar)
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/ruby.h, debug.c
<dd>
<p>use two flags FL_WB_PROTECTED and FL_OLDGEN.</p>
</dd><dt>node.h (NODE_FL_CREF_PUSHED_BY_EVAL, NODE_FL_CREF_OMOD_SHARED)
<dd>
<p>move flag bits.</p>
</dd></dl>

<h3 id="label-Tue+May+14+01-3A54-3A48+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 01:54:48 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove rb_objspace_t::marked_num. We can use `objspace_live_num()&#39;
instead of removed `marked_num&#39; if it is after `after_gc_sweep()&#39;
function call.</p>
</dd><dt>gc.c (after_gc_sweep)
<dd>
<p>use objspace_live_num() instead of removed rb_objspace_t::marked_num.</p>
</dd><dt>gc.c (gc_mark_ptr, gc_marks)
<dd>
<p>remove rb_objspace_t::marked_num code.</p>
</dd><dt>gc.c (gc_prepare_free_objects)
<dd>
<p>do not call set_heaps_increment() with checking
objspace-&gt;heap.marked_num. At this point, we only need to check
availability of free-cell.</p>
</dd><dt>gc.c (lazy_sweep)
<dd>
<p>call after_gc_sweep() if there are no sweep_able entry.</p>
</dd><dt>gc.c (rest_sweep, gc_prepare_free_objects)
<dd>
<p>remove after_gc_sweep() call.</p>
</dd></dl>

<h3 id="label-Tue+May+14+01-3A50-3A41+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 01:50:41 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>disable GC_PROFILE_MORE_DETAIL (fix last commit).</p>
</dd><dt>gc.c (gc_prof_set_malloc_info)
<dd>
<p>fix “objspace-&gt;heap.live_num” to “objspace_live_num(objspace)”. There is
no such member variable.</p>
</dd></dl>

<h3 id="label-Tue+May+14+01-3A25-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 01:25:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>refactoring <a href="../../classes/GC/Profiler.html">GC::Profiler</a>.</p>
</dd><dt>gc.c (gc_prof_sweep_timer_start/stop)
<dd>
<p>removed because they doesn&#39;t support lazy sweep.</p>
</dd><dt>gc.c (gc_prof_sweep_slot_timer_start/stop)
<dd>
<p>added. redefine `sweeping time&#39; to accumulated time of all of
slot_sweep().</p>
</dd><dt>gc.c (rb_objspace_t::profile::count)
<dd>
<p>renamed to rb_objspace_t::profile::next_index. `counter&#39; seems
ambiguous. increment it when next record is acquired.</p>
</dd></dl>

<h3 id="label-Tue+May+14+00-3A48-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 14 00:48:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>constify RRational::(num,den) and RComplex::(real,imag). Add macro to set
these values: * RRATIONAL_SET_NUM() * RRATIONAL_SET_DEN() *
RCOMPLEX_SET_REAL() * RCOMPLEX_SET_IMAG() This change is a part of RGENGC
branch [ruby-trunk - Feature #8339]. TODO: API design.
RRATIONAL_SET(rat,num,den) is enough? TODO: Setting constify variable with
cast has same issue of r40691.</p>
</dd><dt>complex.c, rational.c
<dd>
<p>use above macros.</p>
</dd></dl>

<h2 id="label-2013-05-13">2013-05-13</h2>

<h3 id="label-Mon+May+13+21-3A49-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 13 21:49:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Check socketpair again. It is required on Unix.</p>
</dd></dl>

<h3 id="label-Mon+May+13+21-3A20-3A32+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon May 13 21:20:32 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (getipaddrs)
<dd>
<p>use alternative interface name if available, because if_nametoindex()
requires them.</p>
</dd></dl>

<h3 id="label-Mon+May+13+20-3A23-3A24+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon May 13 20:23:24 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c, include/ruby/win32.h (getipaddrs)
<dd>
<p>[experimental] emulate getipaddrs(3) on Unix.</p>
</dd><dt>win32/Makefile.sub, configure.in (LIBS)
<dd>
<p>need iphlpapi.lib for above function.</p>
</dd><dt>include/ruby/win32.h (socketpair)
<dd>
<p>rb_w32_socketpair() doesn&#39;t substitute for any function, so use
non-prefixed name.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+May+13+20-3A11-3A06+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 20:11:06 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (prepare_iseq_build)
<dd>
<p>remove additional line break.</p>
</dd></dl>

<h3 id="label-Mon+May+13+19-3A29-3A54+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 19:29:54 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>constify RBasic::klass and add RBASIC_CLASS(obj) macro which returns a
class of `obj&#39;. This change is a part of RGENGC branch [ruby-trunk -
Feature #8339].</p>
</dd><dt>object.c
<dd>
<p>add new function rb_obj_reveal(). This function reveal internal (hidden)
object by rb_obj_hide(). Note that do not change class before and after
hiding. Only permitted example is: klass = RBASIC_CLASS(obj);
rb_obj_hide(obj); .… rb_obj_reveal(obj, klass); TODO: API design.
rb_obj_reveal() should be replaced with others. TODO: modify constified
variables using cast may be harmful for compiler&#39;s analysis and
optimization. Any idea to prohibit inserting RBasic::klass directly? If
rename RBasic::klass and force to use RBASIC_CLASS(obj), then all codes
such as `RBASIC(obj)-&gt;klass&#39; will be compilation error. Is it
acceptable? (We have similar experience at Ruby 1.9, for example
“RARRAY(ary)-&gt;ptr” to “RARRAY_PTR(ary)”.</p>
</dd><dt>internal.h
<dd>
<p>add some macros. * RBASIC_CLEAR_CLASS(obj) clear RBasic::klass to make it
internal object. * RBASIC_SET_CLASS(obj, cls) set RBasic::klass. *
RBASIC_SET_CLASS_RAW(obj, cls) same as RBASIC_SET_CLASS without write
barrier (planned). * RCLASS_SET_SUPER(a, b) set super class of a.</p>
</dd><dt>array.c, class.c, compile.c, encoding.c, enum.c, error.c, eval.c, file.c, gc.c, hash.c, io.c, iseq.c, marshal.c, object.c, parse.y, proc.c, process.c, random.c, ruby.c, sprintf.c, string.c, thread.c, transcode.c, vm.c, vm_eval.c, win32/file.c
<dd>
<p>Use above macros and functions to access RBasic::klass.</p>
</dd><dd>
<p></p>
</dd><dt>ext/zlib/zlib.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+May+13+18-3A44-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 18:44:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>*.c, parse.y, insns.def
<dd>
<p>use RARRAY_AREF/ASET macro instead of using RARRAY_PTR().</p>
</dd></dl>

<h3 id="label-Mon+May+13+16-3A53-3A53+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 16:53:53 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add new utility macros to access Array&#39;s element. * RARRAY_AREF(a, i)
returns i-th element of an array `a&#39; * RARRAY_ASET(a, i, v) set i-th
element of `a&#39; to `v&#39; This change is a part of RGENGC branch
[ruby-trunk - Feature #8339].</p>
</dd></dl>

<h3 id="label-Mon+May+13+15-3A31-3A10+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 15:31:10 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_setup)
<dd>
<p>added.</p>
</dd><dt>include/ruby/ruby.h (OBJSETUP)
<dd>
<p>use rb_obj_setup() instead of a macro.</p>
</dd></dl>

<h3 id="label-Mon+May+13+15-3A24-3A16+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 15:24:16 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_data_object_alloc)
<dd>
<p>check klass only if klass is not 0. klass==0 means internal object.</p>
</dd></dl>

<h3 id="label-Mon+May+13+14-3A57-3A28+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 13 14:57:28 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_data_object_alloc, rb_data_typed_object_alloc)
<dd>
<p>use NEWOBJ_OF() instead of NEWOBJ().</p>
</dd></dl>

<h3 id="label-Mon+May+13+14-3A51-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 13 14:51:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_obj_singleton_method)
<dd>
<p>new method Kernel#singleton_method which returns a <a
href="../../classes/Method.html">Method</a> object of the singleton method.
non-singleton method causes <a
href="../../classes/NameError.html">NameError</a>, but not aliased or
zsuper method, right now. [ruby-core:54914] [Feature #8391]</p>
</dd><dt>vm_method.c (rb_method_entry_at)
<dd>
<p>return the method entry for id at klass, without ancestors.</p>
</dd><dt>class.c (rb_singleton_class_get)
<dd>
<p>get the singleton class if exists, or nil.</p>
</dd></dl>

<h3 id="label-Mon+May+13+10-3A20-3A59+2013++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Mon May 13 10:20:59 2013  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>Disabled <a
href="../../classes/OpenSSL/SSL/SSLSocket.html">OpenSSL::SSL::SSLSocket</a>
if defined(OPENSSL_NO_SOCK). This fixes a linkage error on platforms which
do not have socket. <a href="../../classes/OpenSSL.html">OpenSSL</a> itself
is still useful as a set of cryptographic functions even on such platforms.</p>
</dd></dl>

<h3 id="label-Mon+May+13+10-3A30-3A04+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 13 10:30:04 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>Hash[] and {} are not equivalent by @eam [Fixes GH-301]</p>
</dd></dl>

<h3 id="label-Mon+May+13+10-3A04-3A22+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon May 13 10:04:22 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c
<dd>
<p>Document Random::DEFAULT by @eLobato [Fixes GH-304]</p>
</dd></dl>

<h2 id="label-2013-05-12">2013-05-12</h2>

<h3 id="label-Sun+May+12+21-3A12-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 12 21:12:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (OFFT2NUM)
<dd>
<p>RUBY_REPLACE_TYPE also defines macro to convert int type to VALUE if found.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A52-3A23+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:52:23 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>removes &#39;ac_cv_func_fseeko=yes&#39; form MinGW specific definitions.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A25-3A46+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:25:46 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_s_truncate)
<dd>
<p>use correct type. chsize takes a long.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A18-3A46+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:18:46 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>move &#39;#define HAVE_SPAWNV 1&#39; to win32/Makefile.sub.</p>
</dd><dt>win32/Makefile.sub
<dd>
<p>see above.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A13-3A32+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:13:32 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>removes AC_CHECK_FUNCS(setitimer) because it&#39;s unused.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A08-3A16+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:08:16 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>removes AC_CHECK_FUNCS(pause) because it&#39;s unused.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A05-3A18+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:05:18 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_f_kill)
<dd>
<p>fixes typo. s/HAS_KILLPG/HAVE_KILLPG/.</p>
</dd></dl>

<h3 id="label-Sun+May+12+17-3A03-3A27+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 17:03:27 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>abort if gettimeofday doesn&#39;t exist.</p>
</dd></dl>

<h3 id="label-Sun+May+12+16-3A31-3A27+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 16:31:27 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>adds RUBY_REPLACE_TYPE(off_t) for creating NUM2OFFT.</p>
</dd><dt>file.c (rb_file_truncate)
<dd>
<p>use correct type. chsize() take a long.</p>
</dd><dt>include/ruby/ruby.h (NUM2OFFT)
<dd>
<p>use a definition created by a configure script by default.</p>
</dd></dl>

<h3 id="label-Sun+May+12+16-3A03-3A41+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 16:03:41 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>removes AC_CHECK_FUNC(fseeko, fseeko64, ftello, ftello64). They are not
used from anywhere.</p>
</dd><dt>win32/win32.c (fseeko)
<dd>
<p>removes.</p>
</dd><dt>win32/win32.c (rb_w32_ftello)
<dd>
<p>removes.</p>
</dd><dt>include/ruby/win32.h
<dd>
<p>removes declarations of rb_w32_ftello and rb_w32_fseeko.</p>
</dd><dt>win32/Makefile.sub
<dd>
<p>removes &#39;#define HAVE_FTELLO 1&#39;.</p>
</dd></dl>

<h3 id="label-Sun+May+12+15-3A51-3A47+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 15:51:47 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>remove AC_CHECK_FUNC(close). It is not used from anywhere.</p>
</dd></dl>

<h3 id="label-Sun+May+12+15-3A50-3A45+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 15:50:45 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>adds comments for setjmp check.</p>
</dd></dl>

<h3 id="label-Sun+May+12+15-3A38-3A09+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 15:38:09 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>move clock_gettime() check into regular place.</p>
</dd></dl>

<h3 id="label-Sun+May+12+15-3A33-3A18+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun May 12 15:33:18 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>sorts AC_CHECK_FUNCS()s as alphabetical order.</p>
</dd></dl>

<h3 id="label-Sun+May+12+16-3A06-3A43+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun May 12 16:06:43 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (rsock_inspect_sockaddr)
<dd>
<p>as r40646 check HAVE_TYPE_STRUCT_SOCKADDR_DL.</p>
</dd></dl>

<h2 id="label-2013-05-11">2013-05-11</h2>

<h3 id="label-Sat+May+11+23-3A01-3A58+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat May 11 23:01:58 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (HAVE_TYPE_STRUCT_SOCKADDR_DL)
<dd>
<p>MSVC has struct sockaddr_dl, but its content is broken. <a
href="http://ruby-mswin.cloudapp.net/vc10-x64/ruby-trunk/log/20130511T103938Z.log.html.gz">ruby-mswin.cloudapp.net/vc10-x64/ruby-trunk/log/20130511T103938Z.log.html.gz</a></p>
</dd></dl>

<h3 id="label-Sat+May+11+22-3A07-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 11 22:07:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p><a
href="../../classes/Socket.html#method-c-getifaddrs">Socket.getifaddrs</a>
may returns an interface which addr method returns nil for venet0 in
OpenVZ.</p>
</dd></dl>

<h3 id="label-Sat+May+11+21-3A56-3A34+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 11 21:56:34 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (rsock_inspect_sockaddr)
<dd>
<p>Add casts to suppress warnings.</p>
</dd></dl>

<h3 id="label-Sat+May+11+17-3A28-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 11 17:28:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>New method, <a
href="../../classes/Socket.html#method-c-getifaddrs">Socket.getifaddrs</a>,
implemented. [ruby-core:54777] [Feature #8368]</p>
</dd></dl>

<h3 id="label-Sat+May+11+00-3A47-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 11 00:47:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.h (SET_MACHINE_STACK_END)
<dd>
<p>Add !defined(_ILP32) to a defining condition to avoid compilation error on
x32. <a
href="https://sites.google.com/site/x32abi">sites.google.com/site/x32abi</a>/</p>
</dd></dl>

<h2 id="label-2013-05-10">2013-05-10</h2>

<h3 id="label-Fri+May+10+23-3A56-3A34+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 10 23:56:34 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_peek_variable_name)
<dd>
<p>treat invalid global, class, and instance variable names as mere strings
rather than errors. [ruby-core:54885] [Bug #8375]</p>
</dd></dl>

<h3 id="label-Fri+May+10+20-3A22-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 10 20:22:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Move library checks into “Checks for libraries.” part.</p>
</dd></dl>

<h3 id="label-Fri+May+10+19-3A32-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 10 19:32:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Reformat arguments of AC_CHECK_HEADERS and AC_CHECK_FUNCS to track
modifications easily.</p>
</dd></dl>

<h3 id="label-Fri+May+10+12-3A01-3A36+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 10 12:01:36 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Don&#39;t link librt if clock_gettime is available in the main C library.
glibc 2.17 moves clock_* from librt to the main C library. <a
href="http://sourceware.org/ml/libc-announce/2012/msg00001.html">sourceware.org/ml/libc-announce/2012/msg00001.html</a></p>
</dd></dl>

<h2 id="label-2013-05-09">2013-05-09</h2>

<h3 id="label-Thu+May++9+22-3A00-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 22:00:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>controls_num should not be negative.</p>
</dd></dl>

<h3 id="label-Thu+May++9+21-3A09-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 21:09:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c, ext/etc/etc.c, ext/socket/unixsocket.c, ext/openssl/ossl.h, ext/openssl/openssl_missing.c
<dd>
<p>Use HAVE_AGGREGATE_MEMBER instead of HAVE_ST_MEMBER.</p>
</dd></dl>

<h3 id="label-Thu+May++9+20-3A43-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 20:43:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>Always set controls_num to raise <a
href="../../classes/NotImplementedError.html">NotImplementedError</a>
appropriately.</p>
</dd><dt>(bsock_recvmsg_internal)
<dd>
<p>Raise <a
href="../../classes/NotImplementedError.html">NotImplementedError</a> if
:scm_rights=&gt;true is given on platforms which don&#39;t have 4.4BSD
style control message.</p>
</dd></dl>

<h3 id="label-Thu+May++9+12-3A06-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 12:06:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h, ext/socket/unixsocket.c, ext/socket/ancdata.c
<dd>
<p>Use HAVE_STRUCT_MSGHDR_MSG_CONTROL instead of HAVE_ST_MSG_CONTROL.</p>
</dd></dl>

<h3 id="label-Thu+May++9+11-3A30-3A02+2013++Zachary+Scott-09+-3Czachary-40zacharyscott.net-3E">Thu May  9 11:30:02 2013  Zachary Scott	 &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>Add call-seq alias for <a
href="../../classes/String.html#method-i-3D-3D-3D">String#===</a> [Bug
#8381]</p>
</dd></dl>

<h3 id="label-Thu+May++9+11-3A14-3A18+2013++Zachary+Scott-09+-3Czachary-40zacharyscott.net-3E">Thu May  9 11:14:18 2013  Zachary Scott	 &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>Add guide for contributing to CRuby</p>
</dd></dl>

<h3 id="label-Thu+May++9+04-3A55-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 04:55:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check socket library again.  shutdown() is used in io.c.</p>
</dd></dl>

<h3 id="label-Thu+May++9+01-3A52-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May  9 01:52:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Don&#39;t check socketpair.  socketpair is not used in ruby command itself.</p>
</dd></dl>

<h3 id="label-Thu+May++9+01-3A05-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  9 01:05:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_mod_included_modules)
<dd>
<p>should not include non-modules. [ruby-core:53158] [Bug #8025]</p>
</dd></dl>

<h2 id="label-2013-05-08">2013-05-08</h2>

<h3 id="label-Wed+May++8+13-3A46-3A52+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed May  8 13:46:52 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_iv_set, rb_iv_get)
<dd>
<p>removed. Because ruby.h has a declaration for that.</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A49-3A06+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed May  8 13:49:06 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_uint2big, rb_int2big, rb_uint2inum, rb_int2inum, rb_ll2inum, rb_ull2inum)
<dd>
<p>removed because ruby.h has a declaration for these.</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A45-3A53+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed May  8 13:45:53 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add getenv() declaration check.</p>
</dd><dt>dln_find.c
<dd>
<p>add HAVE_DECL_GETENV test.</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A41-3A57+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed May  8 13:41:57 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c
<dd>
<p>remove redundant decl for big_lshift() big_rshift().</p>
</dd></dl>

<h3 id="label-Wed+May++8+22-3A46-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  8 22:46:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_mod_included_modules)
<dd>
<p>should not include the original module itself.  [ruby-core:53158] [Bug
#8025]</p>
</dd></dl>

<h3 id="label-Wed+May++8+17-3A43-3A55+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed May  8 17:43:55 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_ext_int_to_encs)
<dd>
<p>ignore internal encoding if external encoding is ASCII-8BIT. [Bug #8342]</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A49-3A38+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed May  8 13:49:38 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/generator/generator.c (isArrayOrObject)
<dd>
<p>cast char to unsigned char. [Bug #8378]</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A46-3A10+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed May  8 13:46:10 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/generator/depend
<dd>
<p>fix dependencies [Bug #8379]</p>
</dd><dt>ext/json/parser/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A07-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  8 13:07:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>fail if $, @, @@ are not followed by a valid name character. 
[ruby-core:54846] [Bug #8375].</p>
</dd></dl>

<h3 id="label-Wed+May++8+13-3A06-3A31+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  8 13:06:31 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (ISGRAPH)
<dd>
<p>add missing macro.</p>
</dd></dl>

<h3 id="label-Wed+May++8+06-3A42-3A56+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed May  8 06:42:56 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (socket_s_ip_address_list)
<dd>
<p>fix wrongly filled sin6_scope_id on KAME introduced by r40593 for
OpenIndiana. KAME uses fe80:&lt;scope_id&gt;::&lt;interface id&gt; for
link-local address internally. Setting sin6_scope_id causes it leaked. see
also comments of sockaddr_obj().</p>
</dd></dl>

<h2 id="label-2013-05-07">2013-05-07</h2>

<h3 id="label-Tue+May++7+22-3A12-3A34+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 22:12:34 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (insert_ignore_escape)
<dd>
<p>Add a cast to unsigned char * before dereference. This suppress a warning
on Cygwin.</p>
</dd></dl>

<h3 id="label-Tue+May++7+12-3A15-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 12:15:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>Add a cast to suppress warning. Bionic defines socklen_t as int. Bionic
defines msg_controllen as unsigned int (__kernel_size_t) instead of
socklen_t as POSIX.</p>
</dd></dl>

<h3 id="label-Tue+May++7+12-3A12-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 12:12:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (ancillary_inspect)
<dd>
<p>Don&#39;t call anc_inspect_ipv6_pktinfo if !HAVE_TYPE_STRUCT_IN6_PKTINFO.
anc_inspect_ipv6_pktinfo is not defined in the case.</p>
</dd></dl>

<h3 id="label-Tue+May++7+12-3A10-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 12:10:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (socket_s_ip_address_list)
<dd>
<p>Cast EXTRA_SPACE as int.  This suppress a warning.</p>
</dd></dl>

<h3 id="label-Tue+May++7+12-3A09-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 12:09:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p><a href="../../classes/Set.html">Set</a> close_fds false for Cygwin. Cygwin
doesn&#39;t support fd passing. This enables socket extension library
cross-compilable by default.</p>
</dd></dl>

<h3 id="label-Tue+May++7+12-3A07-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  7 12:07:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (swap32)
<dd>
<p>Don&#39;t redefine it if it is already defined. Bionic defines it.</p>
</dd><dt>(swap64)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2013-05-06">2013-05-06</h2>

<h3 id="label-Mon+May++6+20-3A50-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  6 20:50:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (socket_s_ip_address_list)
<dd>
<p>Fill sin6_scope_id if getifaddrs() returns an IPv6 link local address which
sin6_scope_id is zero, such as on OpenIndiana SunOS 5.11.</p>
</dd></dl>

<h2 id="label-2013-05-05">2013-05-05</h2>

<h3 id="label-Sun+May++5+18-3A56-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May  5 18:56:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defined)
<dd>
<p>use vm_search_superclass() like as normal super call.  based on a patch
&lt;<a
href="https://gist.github.com/wanabe/5520026">gist.github.com/wanabe/5520026</a>&gt;
by wanabe.</p>
</dd><dt>vm_insnhelper.c (vm_search_superclass)
<dd>
<p>return error but not raise exceptions.</p>
</dd><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>check the result of vm_search_superclass and raise exceptions on error.</p>
</dd></dl>

<h3 id="label-Sun+May++5+16-3A29-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May  5 16:29:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defined)
<dd>
<p>get method entry from the method top level frame, not block frame. 
[ruby-core:54769] [Bug #8367]</p>
</dd></dl>

<h3 id="label-Sun+May++5+13-3A28-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May  5 13:28:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/ruby.pc.in (Cflags)
<dd>
<p>use rubyarchhdrdir for multiarch. [Bug #7874]</p>
</dd></dl>

<h2 id="label-2013-05-04">2013-05-04</h2>

<h3 id="label-Sat+May++4+07-3A20-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat May  4 07:20:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="security_rdoc.html">doc/security.rdoc</a>
<dd>
<p>Add note about reporting security vulns</p>
</dd></dl>

<h3 id="label-Sat+May++4+04-3A13-3A27+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat May  4 04:13:27 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (RUBY_ATTR_ALLOC_SIZE)
<dd>
<p>New for attribute((alloc_size(params))).</p>
</dd><dt>include/ruby/defines.h (xmalloc, xmalloc2, xcalloc, xrealloc, xrealloc2)
<dd>
<p>Annotated by RUBY_ATTR_ALLOC_SIZE.</p>
</dd><dt>include/ruby/ruby.h (rb_alloc_tmp_buffer)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-05-03">2013-05-03</h2>

<h3 id="label-Fri+May++3+19-3A32-3A13+2013++Takeyuki+FUJIOKA++-3Cxibbar-40ruby-lang.org-3E">Fri May  3 19:32:13 2013  Takeyuki FUJIOKA  &lt;xibbar@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/util.rb
<dd>
<p>All class methods modulized. We can use these methods like a function when
“include CGI::Util”. [Feature #8354]</p>
</dd></dl>

<h3 id="label-Fri+May++3+14-3A09-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May  3 14:09:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Make default_ipv6 true for Cygwin. Cygwin supports IPv6 since Cygwin 1.7.1
(2009-12). <a
href="http://cygwin.com/ml/cygwin-announce/2009-12/msg00027.html">cygwin.com/ml/cygwin-announce/2009-12/msg00027.html</a></p>
</dd></dl>

<h3 id="label-Fri+May++3+13-3A35-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  3 13:35:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/{getaddrinfo,getnameinfo}.c
<dd>
<p>define socklen_t if not defined, e.g., older VC.</p>
</dd></dl>

<h3 id="label-Fri+May++3+13-3A29-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  3 13:29:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h (INTPTR_MAX, INTPTR_MIN, UINTPTR_MAX)
<dd>
<p>also should be defined when defining intptr_t and uintptr_t. bigdecimal.c
requires the former two now.</p>
</dd></dl>

<h3 id="label-Fri+May++3+13-3A22-3A12+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  3 13:22:12 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (poll_child_status)
<dd>
<p>fix build error on older mingw.</p>
</dd></dl>

<h3 id="label-Fri+May++3+00-3A15-3A58+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Fri May  3 00:15:58 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>remove timestamps in distclean-ext realclean-ext.</p>
</dd></dl>

<h2 id="label-2013-05-02">2013-05-02</h2>

<h3 id="label-Thu+May++2+23-3A23-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  2 23:23:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_is_kind_of)
<dd>
<p>skip prepending modules. [ruby-core:54742] [Bug #8357]</p>
</dd><dt>object.c (rb_class_inherited_p)
<dd>
<p>ditto. [ruby-core:54736] [Bug #8357]</p>
</dd></dl>

<h3 id="label-Thu+May++2+22-3A11-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  2 22:11:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bin/irb
<dd>
<p>remove dead code from sample/irb.rb.</p>
</dd></dl>

<h3 id="label-Thu+May++2+17-3A32-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  2 17:32:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (copy_ivar_i)
<dd>
<p>get rid of overwriting already copied instance variables.  c.f. [Bug #8276]</p>
</dd></dl>

<h3 id="label-Thu+May++2+16-3A55-3A43+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  2 16:55:43 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (id_locals)
<dd>
<p>use cached ID.</p>
</dd><dt>vm.c (ruby_thread_init)
<dd>
<p>ditto.</p>
</dd><dt>defs/id.def
<dd>
<p>add more predefined IDs used in core.</p>
</dd></dl>

<h3 id="label-Thu+May++2+13-3A42-3A42+2013++Ryan+Davis++-3Cryand-ruby-40zenspider.com-3E">Thu May  2 13:42:42 2013  Ryan Davis  &lt;ryand-ruby@zenspider.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/minitest/*
<dd>
<p>Imported minitest 4.7.4 (r8483)</p>
</dd><dt>test/minitest/*
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+May++2+11-3A32-3A22+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu May  2 11:32:22 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (poll_child_status)
<dd>
<p>[experimental] set the cause of a child&#39;s death to status if its
exitcode seems to be an error.</p>
</dd><dt>test/ruby/test_process.rb (TestProcess#test_no_curdir)
<dd>
<p>maybe now we can test it.</p>
</dd><dt>test/ruby/test_thread.rb (TestThread#test_thread_timer_and_interrupt)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+May++2+11-3A24-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu May  2 11:24:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>nodoc EngineManager, add History doc #8344</p>
</dd></dl>

<h2 id="label-2013-05-01">2013-05-01</h2>

<h3 id="label-Wed+May++1+21-3A11-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May  1 21:11:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (localtime_with_gmtoff_zone)
<dd>
<p>musl libc may return NULL for tm_zone.</p>
</dd></dl>

<h3 id="label-Wed+May++1+18-3A59-3A36+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Wed May  1 18:59:36 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (Enumerable#chunk)
<dd>
<p>fix grammar of error message for symbols beginning with an underscore [Bug
#8351]</p>
</dd></dl>

<h3 id="label-Wed+May++1+16-3A47-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  1 16:47:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/extconf.rb (curses_version)
<dd>
<p>try once for each tests, a function or a variable.  fallback to variable
for old SVR4.</p>
</dd></dl>

<h3 id="label-Wed+May++1+16-3A17-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  1 16:17:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (extmake)
<dd>
<p>extensions not to be installed should not make static libraries, but make
dynamic libraries always.</p>
</dd></dl>

<h3 id="label-Wed+May++1+12-3A20-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed May  1 12:20:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake/version.rb
<dd>
<p>Fix <a href="../../classes/RDoc.html">RDoc</a> warning with  :include: [Bug
#8347]</p>
</dd></dl>

<h3 id="label-Wed+May++1+11-3A40-3A25+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  1 11:40:25 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def (predefined)
<dd>
<p>add “idProc”.</p>
</dd><dt>eval.c (frame_func_id)
<dd>
<p>use predefined IDs.</p>
</dd><dt>proc.c (mnew, mproc, mlambda)
<dd>
<p>use predefined IDs.</p>
</dd><dt>vm.c (rb_vm_control_frame_id_and_class)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (Init_VM)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-04-30">2013-04-30</h2>

<h3 id="label-Tue+Apr+30+23-3A18-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Apr 30 23:18:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>Update <a href="../../classes/Benchmark.html">Benchmark</a> results on
newer CPU</p>
</dd></dl>

<h3 id="label-Tue+Apr+30+12-3A31-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr 30 12:31:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mproc, mlambda)
<dd>
<p>use frozen core methods instead of plain global methods, so that methods
cannot be overridden. [ruby-core:54687] [Bug #8345]</p>
</dd><dt>vm.c (Init_VM)
<dd>
<p>define proc and lambda on the frozen core object.</p>
</dd><dt>include/ruby/intern.h (rb_block_lambda)
<dd>
<p>add declaration instead of deprecated rb_f_lambda.</p>
</dd></dl>

<h2 id="label-2013-04-29">2013-04-29</h2>

<h3 id="label-Mon+Apr+29+17-3A02-3A30+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 29 17:02:30 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/nkf/nkf-utf8/nkf.h
<dd>
<p>Bionic libc doesn&#39;t have locale. [Feature #8338]</p>
</dd></dl>

<h3 id="label-Mon+Apr+29+06-3A58-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr 29 06:58:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>no need of alloca for small fixed size array.</p>
</dd><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>check overflow first, and use alloca for small size input.</p>
</dd></dl>

<h3 id="label-Mon+Apr+29+00-3A40-3A13+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Apr 29 00:40:13 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>Clarify documentation about YAML being always <a
href="../../classes/Psych.html">Psych</a>. Give a tip about using <a
href="../../classes/YAML/Syck.html">Syck</a>. See #8344.</p>
</dd></dl>

<h2 id="label-2013-04-28">2013-04-28</h2>

<h3 id="label-Sun+Apr+28+23-3A34-3A01+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Apr 28 23:34:01 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>Use another trick to define the YAML module. <a
href="https://twitter.com/n0kada/status/328342207511801856">twitter.com/n0kada/status/328342207511801856</a></p>
</dd></dl>

<h3 id="label-Sun+Apr+28+23-3A19-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 23:19:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb
<dd>
<p>Update <a href="../../classes/PP.html">PP</a> module overview by @geopet</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+22-3A04-3A37+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Sun Apr 28 22:04:37 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>fix buffer overflow on x64 Windows and memory leak when initializing with
integer. [ruby-core:54615] [Bug #8337]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+12-3A38-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Apr 28 12:38:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>correct method name to be used.  [Bug #7982]</p>
</dd><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>add notes too.</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+10-3A35-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 10:35:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>With feedback from Steve Klabnik, reverted a change to untrusted? and
tainted?. Also adjusted grammar for $SAFE levels</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+10-3A10-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 10:10:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>Disable setting YAML const twice [ruby-core:54642]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+09-3A50-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 09:50:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>Documentation for taint and trust [Bug #8162]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+09-3A40-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 09:40:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>Copy note from r40505 for rb_sprintf() [Bug #7982]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+08-3A28-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 08:28:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/curses.c
<dd>
<p>Update Curses::Window example for nicer output Patch by Michal Suchanek
[Bug #8121] [ruby-core:53520]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+08-3A10-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 08:10:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>Update note from r40504, by Jeremy Evans [Bug #7982]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+08-3A02-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Apr 28 08:02:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>Add note to warn use of %i in Exceptions [Bug #7982]</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+02-3A41-3A05+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 28 02:41:05 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix a typo.  Should check endgrent() instead of endgrnam().</p>
</dd></dl>

<h3 id="label-Sun+Apr+28+00-3A35-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 28 00:35:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (obj2gid)
<dd>
<p>Don&#39;t call endgrent() if not exist. Bionic (Android&#39;s libc)
don&#39;t have endgrent().</p>
</dd><dt>configure.in
<dd>
<p>Check endgrnam function.</p>
</dd></dl>

<h2 id="label-2013-04-27">2013-04-27</h2>

<h3 id="label-Sat+Apr+27+23-3A53-3A00+2013++Charlie+Somerville++-3Ccharlie-40charliesomerville.com-3E">Sat Apr 27 23:53:00 2013  Charlie Somerville  &lt;charlie@charliesomerville.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>add security warning to YAML documentation</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+23-3A25-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Apr 27 23:25:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>Documentation for YAML module [Bug #8213]</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+20-3A19-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 20:19:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ruby_init_stack)
<dd>
<p>Add STACK_GROW_DIR_DETECTION. This fixes a compilation failure while
cross-compiling for Tensilica Xtensa Processor.</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+19-3A32-3A44+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Apr 27 19:32:44 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>fix typos and documentation</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+19-3A04-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 19:04:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sparc.c
<dd>
<p>Use __asm__ instead of asm for gcc. gcc doesn&#39;t provide asm keyword if
-ansi option is given. <a
href="http://gcc.gnu.org/onlinedocs/gcc/Alternate-Keywords.html">gcc.gnu.org/onlinedocs/gcc/Alternate-Keywords.html</a></p>
</dd></dl>

<h3 id="label-Sat+Apr+27+17-3A22-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 17:22:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Redundant test removed.</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+16-3A00-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 16:00:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb (test_recvmsg_with_msg_peek_creates_fds)
<dd>
<p>Extracted.</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+15-3A50-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 15:50:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (SIGNED_INTEGER_TYPE_P)
<dd>
<p>New macro.</p>
</dd><dt>(SIGNED_INTEGER_MAX)
<dd>
<p>Ditto.</p>
</dd><dt>(SIGNED_INTEGER_MIN)
<dd>
<p>Ditto.</p>
</dd><dt>(UNSIGNED_INTEGER_MAX)
<dd>
<p>Ditto.</p>
</dd><dt>(TIMET_MAX)
<dd>
<p>Use SIGNED_INTEGER_MAX and UNSIGNED_INTEGER_MAX.</p>
</dd><dt>(TIMET_MIN)
<dd>
<p>Use SIGNED_INTEGER_MIN.</p>
</dd><dt>thread.c (TIMEVAL_SEC_MAX)
<dd>
<p>Use SIGNED_INTEGER_MAX.</p>
</dd><dt>(TIMEVAL_SEC_MIN)
<dd>
<p>Use SIGNED_INTEGER_MIN.</p>
</dd></dl>

<h3 id="label-Sat+Apr+27+10-3A52-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 27 10:52:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (TIMEVAL_SEC_MAX, TIMEVAL_SEC_MIN)
<dd>
<p>Consider environments, sizeof(time_t) is smaller than sizeof(tv_sec), such
as OpenBSD 5.2 (amd64).</p>
</dd></dl>

<h2 id="label-2013-04-26">2013-04-26</h2>

<h3 id="label-Fri+Apr+26+23-3A34-3A59+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Apr 26 23:34:59 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/text.rb (REXML::Text.normalize)
<dd>
<p>Fix a bug that all entity filters are ignored. [ruby-dev:47278] [Bug #8302]
Patch by Ippei Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/test_entity.rb (EntityTester#test_entity_filter)
<dd>
<p>Add a test of the above change.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+22-3A53-3A55+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Apr 26 22:53:55 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/element.rb (REXML::Attributes#to_a)
<dd>
<p>Support namespaced attributes. [ruby-dev:47277] [Bug #8301] Patch by Ippei
Obayashi. Thanks!!!</p>
</dd><dt>test/rexml/test_attributes.rb (AttributesTester#test_to_a_with_namespaces)
<dd>
<p>Add a test of the above change.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+21-3A48-3A29+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Apr 26 21:48:29 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/atom.rb (RSS::Atom::Entry)
<dd>
<p>Fix indent of document comment.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+21-3A21-3A17+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Apr 26 21:21:17 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/maker.rb (RSS::Maker)
<dd>
<p>Fix indent of document comment.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+18-3A41-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 26 18:41:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Use a block of enable_config() for
–{enable,disable}-close-fds-by-recvmsg-with-peek configure option</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+18-3A08-3A08+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 26 18:08:08 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_set_pos)
<dd>
<p>Fix a compilation error when seekdir() is not exist.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+17-3A41-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 26 17:41:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ruby_init_stack)
<dd>
<p>Add STACK_GROW_DIR_DETECTION. This fixes a compilation failure while
cross-compiling for ARM.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+14-3A35-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Apr 26 14:35:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/atom.rb
<dd>
<p>Documentation for <a href="../../classes/RSS/Atom.html">RSS::Atom</a> based
on a patch by Michael Denomy</p>
</dd><dt>lib/rss/maker.rb
<dd>
<p>Documentation for <a href="../../classes/RSS/Maker.html">RSS::Maker</a>
also by @mdenomy</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+12-3A41-3A22+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 26 12:41:22 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/extconf.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> linkability of curses_version at
first.</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> the behavior of fd passing with
MSG_PEEK only if recvmsg(), msg_control member, AF_UNIX and SCM_RIGHTS are
available.</p>
</dd></dl>

<h3 id="label-Fri+Apr+26+00-3A07-3A52+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Fri Apr 26 00:07:52 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (Rinda::RingServer#initialize)
<dd>
<p>accept array arguments of address to specify multicast interface.</p>
</dd><dt>lib/rinda/ring.rb (Rinda::RingServer#make_socket)
<dd>
<p>add optional arguments for multicast interface.</p>
</dd><dt>test/rinda/test_rinda.rb (TestRingFinger#test_ring_server_ipv4_multicast, TestRingFinger#test_ring_server_ipv6_multicast)
<dd>
<p>add tests for above change.</p>
</dd><dt>test/rinda/test_rinda.rb (TestRingServer#test_make_socket_ipv4_multicast, TestRingServer#test_make_socket_ipv6_multicast)
<dd>
<p>change bound interface address because multicast address is not allowed on
Linux or Windows. [ruby-core:53692] [Bug #8159]</p>
</dd></dl>

<h2 id="label-2013-04-25">2013-04-25</h2>

<h3 id="label-Thu+Apr+25+23-3A45-3A02+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Thu Apr 25 23:45:02 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (Rinda::RingServer#initialize)
<dd>
<p>add a socket to @sockets in make_socket() to close sockets on shutdown even
if make_socket() is called after initialize.</p>
</dd><dt>lib/rinda/ring.rb (Rinda::RingServer#make_socket)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+23-3A39-3A42+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Thu Apr 25 23:39:42 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb (TupleSpaceProxyTest#test_take_bug_8215)
<dd>
<p>use KILL on Windows since TERM doen&#39;t work and ruby process remains
after test-all on Windows.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+23-3A16-3A28+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 25 23:16:28 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/extconf.rb
<dd>
<p>Implement –with-curses-version={function,variable} configure option for
cross-compiling.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+18-3A15-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 25 18:15:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Don&#39;t use WIDE getaddrinfo by default.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+17-3A56-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 25 17:56:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Remove obsolete options: —with-ipv6-lib and –with-ipv6-libdir.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+17-3A43-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 25 17:43:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Implement –{enable,disable}-close-fds-by-recvmsg-with-peek configure option
for cross-compiling. Make –{enable,disable}-wide-getaddrinfo configure
option cross-compiling friendly.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+16-3A11-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 25 16:11:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_ext_int_to_encs, parse_mode_enc)
<dd>
<p>bom-prefixed name is not a real encoding name, just a fallback.  so the
proper conversion should take place even if if the internal encoding is
equal to the bom-prefixed name, unless actual encoding is equal to the
internal encoding.  [ruby-core:54563] [Bug #8323]</p>
</dd><dt>io.c (io_set_encoding_by_bom)
<dd>
<p>reset extenal encoding if no BOM found.  [ruby-core:54569]</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+14-3A35-3A01+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 25 14:35:01 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>allow <a href="../../classes/Fixnum.html">Fixnum</a> and <a
href="../../classes/Bignum.html">Bignum</a>. [ruby-core:53986] [Feature
#8217]</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+14-3A26-3A32+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 25 14:26:32 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb (URI.decode_www_form)
<dd>
<p>follow current URL Standard. It gets encoding argument to specify the
character encoding. It now allows loose percent encoded strings, but denies
;-separator. [ruby-core:53475] [Bug #8103]</p>
</dd><dt>lib/uri/common.rb (URI.decode_www_form)
<dd>
<p>follow current URL Standard. It gets encoding argument to convert before
percent encode. Now UTF-16 strings aren&#39;t converted to UTF-8 before
percent encode by default.</p>
</dd></dl>

<h3 id="label-Wed+Apr+25+14-3A26-3A00+2013++Charlie+Somerville++-3Ccharlie-40charliesomerville.com-3E">Wed Apr 25 14:26:00 2013  Charlie Somerville  &lt;charlie@charliesomerville.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_hash_shift.rb
<dd>
<p>add benchmark for <a
href="../../classes/Hash.html#method-i-shift">Hash#shift</a></p>
</dd><dt>hash.c (rb_hash_shift)
<dd>
<p>use st_shift if hash is not being iterated to delete element without
iterating the whole hash.</p>
</dd><dt>hash.c (shift_i)
<dd>
<p>remove function</p>
</dd><dt>include/ruby/st.h (st_shift)
<dd>
<p>add st_shift function</p>
</dd><dt>st.c (st_shift)
<dd>
<p>ditto [Bug #8312] [ruby-core:54524] Patch by funny-falcon</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+12-3A03-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 25 12:03:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Extract C programs as toplevel constants.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+02-3A23-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 25 02:23:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_RM_RECURSIVE)
<dd>
<p>this hack is needed by only autoconf 2.69 or earlier on darwin.</p>
</dd></dl>

<h3 id="label-Thu+Apr+25+01-3A22-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 25 01:22:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tracer.rb (get_line)
<dd>
<p>simply read by <a
href="../../classes/IO.html#method-c-readlines">IO.readlines</a>.</p>
</dd><dt>lib/debug.rb (script_lines)
<dd>
<p>get source lines from SCRIPT_LINES__ or read from the file.</p>
</dd><dt>lib/debug.rb (display_list)
<dd>
<p>use script_lines instead of recursion. [Bug #8318]</p>
</dd><dt>lib/debug.rb (line_at)
<dd>
<p>use script_lines same as display_list.</p>
</dd><dt>lib/debug.rb (display_list)
<dd>
<p>Fix debug listing when called from the same file it has been required. 
patch by Dario Bertini &lt;berdario AT gmail.com&gt; [Bug #8318] [fix
GH-280]</p>
</dd></dl>

<h2 id="label-2013-04-24">2013-04-24</h2>

<h3 id="label-Wed+Apr+24+21-3A51-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 24 21:51:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check mblen(). mblen() is optional in uClibc.</p>
</dd><dt>eval_intern.h (CharNext)
<dd>
<p>Don&#39;t use mblen() is not available.</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+15-3A55-3A06+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Apr 24 15:55:06 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_fd_fix_cloexec)
<dd>
<p>use rb_update_max_fd().</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+14-3A08-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 14:08:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>Fix wiki link on <a href="../../classes/Float.html">Float</a> imprecision
in overview, patched by Makoto Kishimoto [Bug #8304] [ruby-dev:47280]</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+14-3A03-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 24 14:03:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>disallow $- without following identifier character.  [ruby-talk:406969]</p>
</dd><dt>parse.y (is_special_global_name)
<dd>
<p>mere $- is not a valid global variable name.</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+13-3A54-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 13:54:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>Document <a
href="../../classes/String.html#method-i-setbyte">String#setbyte</a> return
value by @gjmurakami-10gen [Fixes GH-294]</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+13-3A45-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 13:45:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>Example of <a
href="../../classes/Object.html#method-i-methods">Object#methods</a> by
@windwiny [Fixes GH-293]</p>
</dd><dt>ruby.c
<dd>
<p>Document return values of <a href="../../classes/Kernel.html">Kernel</a>
sub, gsub, and chop</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+12-3A54-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 12:54:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p>Doc typos by @vipulnsward [Fixes GH-292]</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+12-3A54-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 12:54:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p>Doc typos by @vipulnsward [Fixes GH-292]</p>
</dd></dl>

<h3 id="label-Wed+Apr+24+12-3A27-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Apr 24 12:27:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Fix documentation for <a
href="../../classes/Array.html#method-i-index">Array#index</a> and replace
aliases Based on a patch by @phiggins [Fixes GH-282]</p>
</dd></dl>

<h2 id="label-2013-04-23">2013-04-23</h2>

<h3 id="label-Tue+Apr+23+21-3A14-3A38+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr 23 21:14:38 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_inspect)
<dd>
<p>refix r40413, on Ruby 1.9 usual character escape uses hex/Unicode escapes,
so fix to use Unicode escape on Unicode strings and hex on others.
[ruby-core:54458] [Bug #8290]</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+20-3A10-3A02+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr 23 20:10:02 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/isnan.c (isnan)
<dd>
<p>Don&#39;t define if isnan() macro is defined. This fixes a compilation
failure on uClibc based Gentoo system.</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+14-3A04-3A44+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Apr 23 14:04:44 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (getacl_response)
<dd>
<p>parse the mailbox of an <a href="../../classes/ACL.html">ACL</a> response
correctly.  [ruby-core:54365] [Bug #8281]</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+11-3A58-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr 23 11:58:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_scrub)
<dd>
<p>fix for UTF-32.  strlen() on strings contain NUL returns wrong result, use
sizeof operator instead. [ruby-dev:45975] [Feature #6752]</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+10-3A26-3A50+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Apr 23 10:26:50 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb (TestModule#test_const_get_invalid_name, test_const_defined_invalid_name)
<dd>
<p>Fix expected values.</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+09-3A51-3A26+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Apr 23 09:51:26 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_inspect)
<dd>
<p>NUL should not be represented as “0” when octal digits may follow. 
[ruby-core:54458] [Bug #8290]</p>
</dd></dl>

<h2 id="label-2013-04-22">2013-04-22</h2>

<h3 id="label-Mon+Apr+22+22-3A54-3A00+2013++Charlie+Somerville++-3Ccharlie-40charliesomerville.com-3E">Mon Apr 22 22:54:00 2013  Charlie Somerville  &lt;charlie@charliesomerville.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_mod)
<dd>
<p>Use % operator if both operands are positive for a significant performance
improvement. Thanks to @samsaffron.</p>
</dd></dl>

<h3 id="label-Mon+Apr+22+17-3A09-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr 22 17:09:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (r_object0)
<dd>
<p>copy all instance variables not only generic ivars, before calling post
proc.  [ruby-core:51163] [Bug #7627]</p>
</dd></dl>

<h3 id="label-Mon+Apr+22+10-3A25-3A21+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 22 10:25:21 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>util.c (ruby_hdtoa)
<dd>
<p>revert r29729. If you want ruby to behave as before on x86, specify to use
SSE like -msse2 -mfpmath=sse for gcc.</p>
</dd></dl>

<h2 id="label-2013-04-21">2013-04-21</h2>

<h3 id="label-Sun+Apr+21+23-3A19-3A00+2013++Charlie+Somerville++-3Ccharlie-40charliesomerville.com-3E">Sun Apr 21 23:19:00 2013  Charlie Somerville  &lt;charlie@charliesomerville.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Revert using sigsetjmp by default due to performance problems on some
systems (eg. older Linux)</p>
</dd></dl>

<h3 id="label-Sun+Apr+21+21-3A35-3A00+2013++Charlie+Somerville++-3Ccharlie-40charliesomerville.com-3E">Sun Apr 21 21:35:00 2013  Charlie Somerville  &lt;charlie@charliesomerville.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Use sigsetjmp by default so jumping out of signal handlers properly
restores the signal mask and SS_ONSTACK flag. [ruby-core:54175] [Bug #8254]</p>
</dd><dt>configure.in
<dd>
<p>Manually check for presence of sigsetjmp. It is not a function on some
systems, so AC_CHECK_FUNCS cannot be used.</p>
</dd></dl>

<h3 id="label-Sun+Apr+21+08-3A00-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 21 08:00:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/csv/test_features.rb, test/logger/test_logger.rb test/mkmf/test_have_macro.rb, test/net/http/test_http.rb, test/openssl/test_config.rb, test/psych/test_encoding.rb, test/psych/test_exception.rb, test/psych/test_psych.rb, test/psych/test_tainted.rb, test/readline/test_readline.rb, test/rexml/test_contrib.rb, test/ruby/test_autoload.rb, test/ruby/test_beginendblock.rb, test/ruby/test_exception.rb, test/ruby/test_file.rb, test/ruby/test_io.rb, test/ruby/test_marshal.rb, test/ruby/test_process.rb, test/ruby/test_require.rb, test/ruby/test_rubyoptions.rb, test/syslog/test_syslog_logger.rb, test/webrick/test_httpauth.rb, test/zlib/test_zlib.rb
<dd>
<p>Use <a
href="../../classes/Tempfile.html#method-c-create">Tempfile.create</a>.</p>
</dd></dl>

<h3 id="label-Sun+Apr+21+00-3A15-3A36+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 21 00:15:36 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile.create)
<dd>
<p>Close when the block exits.</p>
</dd></dl>

<h2 id="label-2013-04-20">2013-04-20</h2>

<h3 id="label-Sat+Apr+20+23-3A38-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 20 23:38:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpauth/htpasswd.rb
<dd>
<p>Use <a
href="../../classes/Tempfile.html#method-c-create">Tempfile.create</a> to
avoid unintentional unlink() by the finalizer.
lib/webrick/httpauth/htdigest.rb: Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr+20+22-3A47-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 20 22:47:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile.create)
<dd>
<p>New method. The method name is proposed by Shugo Maeda.  [ruby-dev:47220]
[ruby-core:41478] [Feature #5707]</p>
</dd></dl>

<h3 id="label-Sat+Apr+20+14-3A22-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 20 14:22:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_object)
<dd>
<p>dump no ivars to the original by marshal_dump. [ruby-core:54334] [Bug
#8276]</p>
</dd><dt>marshal.c (r_object0)
<dd>
<p>copy all ivars of marshal_dump data to the result object instead. 
[ruby-core:51163] [Bug #7627]</p>
</dd></dl>

<h3 id="label-Sat+Apr+20+02-3A33-3A27+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Apr 20 02:33:27 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_scrub)
<dd>
<p>add ruby method <a
href="../../classes/String.html#method-i-scrub">String#scrub</a> which
verify and fix invalid byte sequence. [ruby-dev:45975] [Feature #6752]</p>
</dd><dt>string.c (str_compat_and_valid)
<dd>
<p>check given string is compatible and valid with given encoding.</p>
</dd><dt>transcode.c (str_transcode0)
<dd>
<p>If invalid: :replace is specified for <a
href="../../classes/String.html#method-i-encode">String#encode</a>, replace
invalid byte sequence even if the destination encoding equals to the source
encoding.</p>
</dd></dl>

<h2 id="label-2013-04-19">2013-04-19</h2>

<h3 id="label-Fri+Apr+19+21-3A55-3A40+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Apr 19 21:55:40 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT.ja (Data_Wrap_Struct)
<dd>
<p>Remove a description about orphan argument. Oh, I renamed the argument name
without changing description at r36180… Sorry.… Patch by Makoto Kishimoto.
Thanks!!! [ruby-dev:47269] [Bug #8292]</p>
</dd><dt><a href="../README_md.html">README</a>.EXT.ja (Data_Make_Struct)
<dd>
<p>Add a sample code that describes how it works. Patch by Makoto Kishimoto.
Thanks!!! [ruby-dev:47269] [Bug #8292]</p>
</dd></dl>

<h3 id="label-Fri+Apr+19+17-3A54-3A57+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Apr 19 17:54:57 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (body_type_msg)
<dd>
<p>should accept message/delivery-status with extra data. [ruby-core:53741]
[Bug #8167]</p>
</dd><dt>test/net/imap/test_imap_response_parser.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Fri+Apr+19+13-3A03-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 19 13:03:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_object)
<dd>
<p>do not dump encoding which is dumped with marshal_dump data. 
[ruby-core:54334] [Bug #8276]</p>
</dd></dl>

<h3 id="label-Fri+Apr+19+11-3A36-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 19 11:36:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (stack_protector)
<dd>
<p>control use of -fstack-protector.</p>
</dd><dt>configure.in (debugflags)
<dd>
<p>let -fstack-protector precede and disable debugflags, because they
can&#39;t work together on SmartOS.  [Bug #8268]</p>
</dd></dl>

<h3 id="label-Fri+Apr+19+07-3A43-3A52+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 19 07:43:52 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_cipher.rb
<dd>
<p>Correct a typo by jgls &lt;joerg@joergleis.com&gt; <a
href="https://github.com/ruby/ruby/pull/291">github.com/ruby/ruby/pull/291</a>
fix GH-291</p>
</dd></dl>

<h2 id="label-2013-04-18">2013-04-18</h2>

<h3 id="label-Thu+Apr+18+16-3A58-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 18 16:58:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_mod_public_method)
<dd>
<p>fix visibility on anonymous module. set visibility of singleton method, not
method in base class.  [ruby-core:54404] [Bug #8284]</p>
</dd></dl>

<h3 id="label-Thu+Apr+18+16-3A20-3A51+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 18 16:20:51 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>should skip dot directories only for recursion, but should not if matching
to the given pattern.  [ruby-core:54387] [Bug #8283]</p>
</dd></dl>

<h3 id="label-Thu+Apr+18+16-3A20-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 18 16:20:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack)
<dd>
<p>increase buffer size to fix buffer overflow, and fix garbage just after
unpacking without missing paddings. [Bug #8286]</p>
</dd></dl>

<h3 id="label-Thu+Apr+18+13-3A35-3A54+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 18 13:35:54 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack)
<dd>
<p>output characters even if the input doesn&#39;t have paddings. [Bug #8286]</p>
</dd></dl>

<h3 id="label-Thu+Apr+18+08-3A20-3A48+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 18 08:20:48 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (clean-ext)
<dd>
<p>remove timestamps.</p>
</dd></dl>

<h2 id="label-2013-04-17">2013-04-17</h2>

<h3 id="label-Wed+Apr+17+22-3A07-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 17 22:07:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (SOCKLEN_MAX)
<dd>
<p>Expression simplified.</p>
</dd></dl>

<h3 id="label-Wed+Apr+17+20-3A09-3A19+2013++Aman+Gupta++-3Cruby-40tmm1.net-3E">Wed Apr 17 20:09:19 2013  Aman Gupta  &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_add_mark_object)
<dd>
<p>Use new rb_iseq_add_mark_object().</p>
</dd><dt>insns.def (setinlinecache)
<dd>
<p>Ditto.</p>
</dd><dt>iseq.c (rb_iseq_add_mark_object)
<dd>
<p>New function to allocate iseq-&gt;mark_ary on demand. [Bug #8142]</p>
</dd><dt>iseq.h (rb_iseq_add_mark_object)
<dd>
<p>Ditto.</p>
</dd><dt>iseq.c (prepare_iseq_build)
<dd>
<p>Avoid allocating mark_ary until needed.</p>
</dd><dt>iseq.c (rb_iseq_build_for_ruby2cext)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Apr+17+20-3A00-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 17 20:00:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (SOCKLEN_MAX)
<dd>
<p>Defined.</p>
</dd><dt>ext/socket/raddrinfo.c (ext/socket/raddrinfo.c)
<dd>
<p>Reject too long Linux abstract socket name.</p>
</dd></dl>

<h3 id="label-Wed+Apr+17+19-3A45-3A27+2013++Aman+Gupta++-3Ctmm1-40ruby-lang.org-3E">Wed Apr 17 19:45:27 2013  Aman Gupta  &lt;tmm1@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_location_setup)
<dd>
<p>re-use existing string when iseq has the same path and absolute_path. [Bug
#8149]</p>
</dd></dl>

<h3 id="label-Wed+Apr+17+11-3A38-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 17 11:38:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit/assertions.rb (Test::Unit::Assertions#assert)
<dd>
<p>UNASSIGNED is not a valid message.</p>
</dd></dl>

<h3 id="label-Wed+Apr+17+10-3A58-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 17 10:58:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (sleep_timeval)
<dd>
<p>get rid of overflow on Windows where timeval.tv_sec is not time_t but mere
long.</p>
</dd></dl>

<h2 id="label-2013-04-16">2013-04-16</h2>

<h3 id="label-Tue+Apr+16+23-3A07-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr 16 23:07:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/unixsocket.c (unix_send_io)
<dd>
<p>Suppress a warning by clang.</p>
</dd><dt>(unix_recv_io)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Apr+16+12-3A27-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Apr 16 12:27:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/sdbm/init.c
<dd>
<p>Fix comment indentation, by windwiny [Fixes GH-277]</p>
</dd></dl>

<h3 id="label-Tue+Apr+16+12-3A25-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Apr 16 12:25:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>Document synonymous methods, by windwiny [GH-277]</p>
</dd><dt>ext/stringio/stringio.c
<dd>
<p>ditto</p>
</dd><dt>ext/io/wait/wait.c
<dd>
<p>ditto</p>
</dd><dt>ext/gdbm/gdbm.c
<dd>
<p>ditto</p>
</dd><dt>ext/dl/cfunc.c
<dd>
<p>ditto</p>
</dd><dt>ext/zlib/zlib.c
<dd>
<p>ditto</p>
</dd><dt>ext/win32ole/win32ole.c
<dd>
<p>ditto</p>
</dd><dt>ext/dbm/dbm.c
<dd>
<p>ditto</p>
</dd><dt>ext/json/generator/generator.c
<dd>
<p>ditto</p>
</dd><dt>ext/date/date_core.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Apr+16+11-3A23-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Apr 16 11:23:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/*
<dd>
<p>Document synonymous methods, by windwiny [GH-277]</p>
</dd></dl>

<h2 id="label-2013-04-15">2013-04-15</h2>

<h3 id="label-Mon+Apr+15+22-3A21-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr 15 22:21:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/depend
<dd>
<p>New file.</p>
</dd></dl>

<h3 id="label-Mon+Apr+15+22-3A01-3A02+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Apr 15 22:01:02 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-insert)
<dd>
<p>Check ruby-electric-is-last-command-char-expandable-punct-p here.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-closing-char)
<dd>
<p>New interactive function bound to closing characters.  Typing one of those
closing characters right after the matching counterpart cancels the effect
of automatic closing.  For example, typing “{” followed by “}” simply makes
“{}” instead of “{ } }”.</p>
</dd></dl>

<h3 id="label-Mon+Apr+15+10-3A23-3A39+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 15 10:23:39 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/coverage/depend
<dd>
<p>fix id.h place as r40283.</p>
</dd><dt>ext/coverage/extconf.rb
<dd>
<p>add topdir and topsrcdir to VPATH.</p>
</dd></dl>

<h2 id="label-2013-04-14">2013-04-14</h2>

<h3 id="label-Sun+Apr+14+19-3A46-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 14 19:46:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/debug/depend
<dd>
<p>New file.</p>
</dd><dt>ext/-test-/exception/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/printf/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/string/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/coverage/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/io/console/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/io/nonblock/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/io/wait/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/openssl/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/pathname/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/psych/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/zlib/depend
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Apr+14+02-3A46-3A50+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Apr 14 02:46:50 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#create_makefile)
<dd>
<p>remove {$(VPATH)} other than nmake.</p>
</dd><dt>ext/ripper/depend
<dd>
<p>use VPATH expecting removed by above.</p>
</dd></dl>

<h2 id="label-2013-04-13">2013-04-13</h2>

<h3 id="label-Sat+Apr+13+23-3A06-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 13 23:06:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (timestamp_file)
<dd>
<p>gather timestamp files in one directory from each extension directories.</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+21-3A09-3A02+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Apr 13 21:09:02 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#create_makefile)
<dd>
<p>output new macro disthdrdir to specify the path of id.h, parse.h and etc.</p>
</dd><dt>ext/ripper/depend
<dd>
<p>use above macro.</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+20-3A28-3A08+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Apr 13 20:28:08 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Apr+13+18-3A56-3A15+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Apr 13 18:56:15 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/ripper/depend
<dd>
<p>parse.h and id.h may be created on topdir.</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+10-3A20-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 13 10:20:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_define_without_accessor, rb_struct_define), (rb_struct_s_def)
<dd>
<p>hide member names array.</p>
</dd><dt>struct.c (anonymous_struct, new_struct, setup_struct)
<dd>
<p>split make_struct() for each purpose.</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+09-3A34-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 13 09:34:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>Add ruby/ruby.h, ruby/missing.h, ruby/intern.h, ruby/st.h and ruby/subst.h
for ruby_headers in generated Makefile.</p>
</dd><dt>ext/-test-/old_thread_select/depend
<dd>
<p>Update dependencies.</p>
</dd><dt>ext/-test-/wait_for_single_fd/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/bigdecimal/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/curses/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/bubblebabble/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/md5/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/rmd160/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/sha1/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/digest/sha2/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/dl/callback/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/dl/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/etc/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/nkf/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/objspace/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/pty/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/readline/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/ripper/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/sdbm/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/stringio/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/strscan/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/syslog/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/num2int/depend
<dd>
<p>Removed.</p>
</dd><dt>ext/dbm/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/fcntl/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/gdbm/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/racc/cparse/depend
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+00-3A15-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 13 00:15:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (Init_etc)
<dd>
<p>move Passwd and Group under <a href="../../classes/Etc.html">Etc</a>
namespace as primary names.</p>
</dd></dl>

<h2 id="label-2013-04-12">2013-04-12</h2>

<h3 id="label-Fri+Apr+12+21-3A06-3A55+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 12 21:06:55 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>pack.o depends on internal.h.</p>
</dd></dl>

<h3 id="label-Fri+Apr+12+20-3A59-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 12 20:59:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (ones)
<dd>
<p>Use __builtin_popcountl if available.</p>
</dd><dt>internal.h (GCC_VERSION_SINCE)
<dd>
<p>Macro moved from pack.c.</p>
</dd><dt>pack.c
<dd>
<p>Include internal.h for GCC_VERSION_SINCE.</p>
</dd></dl>

<h3 id="label-Fri+Apr+12+18-3A29-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 12 18:29:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>version.o depends on $(srcdir)/include/ruby/version.h instead of
{$(VPATH)}version.h to avoid confusion by VPATH between top level version.h
and include/ruby/version.h for build in-place. [ruby-dev:47249] [Bug #8256]</p>
</dd></dl>

<h3 id="label-Fri+Apr+12+15-3A21-3A24+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 12 15:21:24 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg)
<dd>
<p>non-symbol key is not a keyword argument, keep it as a positional argument.</p>
</dd></dl>

<h3 id="label-Fri+Apr+12+11-3A58-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Apr 12 11:58:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Document synonymous methods, by windwiny [GH-277]</p>
</dd><dt>bignum.c
<dd>
<p>ditto</p>
</dd><dt>complex.c
<dd>
<p>ditto</p>
</dd><dt>dir.c
<dd>
<p>ditto</p>
</dd><dt>encoding.c
<dd>
<p>ditto</p>
</dd><dt>enumerator.c
<dd>
<p>ditto</p>
</dd><dt>numeric.c
<dd>
<p>ditto</p>
</dd><dt>proc.c
<dd>
<p>ditto</p>
</dd><dt>re.c
<dd>
<p>ditto</p>
</dd><dt>string.c
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2013-04-11">2013-04-11</h2>

<h3 id="label-Thu+Apr+11+23-3A41-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 11 23:41:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Add dependencies for include/ruby.h</p>
</dd><dt>tool/update-deps
<dd>
<p>Use “make -p all miniruby ruby golf” to extract dependencies in makefiles.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+23-3A21-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 11 23:21:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Use “make -p all golf” to extract dependencies in makefiles.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+21-3A02-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 11 21:02:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Dependency updated.</p>
</dd><dt>tool/update-deps
<dd>
<p>Rewritten.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+19-3A59-3A48+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 19:59:48 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>partially revert r40183, which breaks building on other than source
directory. (its commit log also says the same thing, but such failure is
not reproducible on my environment and the commit breaks build on my
environment)</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+16-3A10-3A01+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 16:10:01 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c (USE_FFI_CLOSURE_ALLOC)
<dd>
<p>define 0 on Mac OS X and Linux [Bug #3371]</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+13-3A19-3A22+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Apr 11 13:19:22 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/drb/drbtest.rb (Drb{Core,Ary}#teardown)
<dd>
<p>retry <a href="../../classes/Process.html#method-c-kill">Process.kill</a>
if it fails with Errno::EPERM on Windows (workaround). [ruby-dev:47245]
[Bug #8251]</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+11-3A11-3A38+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Apr 11 11:11:38 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c
<dd>
<p>Fix a typo.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+10-3A39-3A34+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 10:39:34 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c (USE_FFI_CLOSURE_ALLOC)
<dd>
<p>add missing case: RUBY_LIBFFI_MODVERSION is not defined (usually on
Windows).</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+09-3A27-3A04+2013++Konstantin+Haase++-3Cme-40rkh.im-3E">Thu Apr 11 09:27:04 2013  Konstantin Haase  &lt;me@rkh.im&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (file_s_fnmatch)
<dd>
<p>Document File::FNM_EXTGLOB flag.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+09-3A17-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Apr 11 09:17:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>
<dd>
<p>Fix typo by Benjamin Winkler [Fixes GH-281]</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+06-3A15-3A51+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 06:15:51 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regint.h
<dd>
<p>fix typo: _M_AMD86 -&gt; _M_AMD64.</p>
</dd><dt>siphash.c
<dd>
<p>ditto.</p>
</dd><dt>st.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+06-3A09-3A57+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 06:09:57 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>define RUBY_LIBFFI_MODVERSION macro.</p>
</dd><dt>ext/fiddle/closure.c (USE_FFI_CLOSURE_ALLOC)
<dd>
<p>define 0 or 1 with platform and libffi&#39;s version. [Bug #3371]</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+05-3A30-3A43+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 05:30:43 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (pkg_config)
<dd>
<p>Add optional argument “option”. If it is given, it returns the result of
`pkg-config –&lt;option&gt; &lt;pkgname&gt;`.</p>
</dd></dl>

<h3 id="label-Thu+Apr+11+03-3A33-3A05+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 11 03:33:05 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c (initialize)
<dd>
<p>check mprotect&#39;s return value. If mprotect is failed because of PaX or
something, its function call will cause SEGV. <a
href="http://c5664.rubyci.org/~chkbuild/ruby-trunk/log/20130401T210301Z.diff.html.gz">c5664.rubyci.org/~chkbuild/ruby-trunk/log/20130401T210301Z.diff.html.gz</a></p>
</dd></dl>

<h2 id="label-2013-04-10">2013-04-10</h2>

<h3 id="label-Wed+Apr+10+17-3A39-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 10 17:39:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VpCtoV)
<dd>
<p>Initialize a local variable even when overflow.</p>
</dd></dl>

<h3 id="label-Wed+Apr+10+12-3A32-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 10 12:32:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_ll2big)
<dd>
<p>Don&#39;t overflow on signed integer negation.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (MUL_OVERFLOW_SIGNED_VALUE_P)
<dd>
<p>New macro.</p>
</dd><dt>(AddExponent)
<dd>
<p>Don&#39;t overflow on signed integer multiplication.</p>
</dd><dt>(VpCtoV)
<dd>
<p>Don&#39;t overflow on signed integer arithmetic.</p>
</dd><dt>(VpCtoV)
<dd>
<p>Don&#39;t overflow on signed integer arithmetic.</p>
</dd></dl>

<h3 id="label-Wed+Apr+10+06-3A32-3A12+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 10 06:32:12 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (MUL_OVERFLOW_INT_P)
<dd>
<p>New macro.</p>
</dd><dt>sprintf.c (GETNUM)
<dd>
<p>Don&#39;t overflow on signed integer multiplication.</p>
</dd></dl>

<h2 id="label-2013-04-09">2013-04-09</h2>

<h3 id="label-Tue+Apr++9+20-3A38-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  9 20:38:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (MUL_OVERFLOW_SIGNED_INTEGER_P)
<dd>
<p>New macro.</p>
</dd><dt>(MUL_OVERFLOW_FIXNUM_P)
<dd>
<p>Ditto.</p>
</dd><dt>(MUL_OVERFLOW_LONG_P)
<dd>
<p>Ditto.</p>
</dd><dt>array.c (rb_ary_product)
<dd>
<p>Don&#39;t overflow on signed integer multiplication.</p>
</dd><dt>numeric.c (fix_mul)
<dd>
<p>Ditto.</p>
</dd><dt>(int_pow)
<dd>
<p>Ditto.</p>
</dd><dt>rational.c (f_imul)
<dd>
<p>Ditto.</p>
</dd><dt>insns.def (opt_mult)
<dd>
<p>Ditto.</p>
</dd><dt>thread.c (sleep_timeval)
<dd>
<p>Don&#39;t overflow on signed integer addition.</p>
</dd><dt>bignum.c (rb_int2big)
<dd>
<p>Don&#39;t overflow on signed integer negation.</p>
</dd><dt>(rb_big2ulong)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2long)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2ull)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_big2ll)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Apr++9+19-3A45-3A44+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  9 19:45:44 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>Support multiple fields with same field name (like Set-Cookie).</p>
</dd><dt>(OpenURI::Meta#metas)
<dd>
<p>New accessor to obtain fields as a <a
href="../../classes/Hash.html">Hash</a> from field name (string) to field
values (array of strings). [ruby-core:37734] [Bug #4964] reported by ren
li.</p>
</dd></dl>

<h3 id="label-Tue+Apr++9+15-3A26-3A12+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr  9 15:26:12 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>append keyword hash to argument array to splat if needed. 
[ruby-core:54094] [Bug #8236]</p>
</dd></dl>

<h3 id="label-Tue+Apr++9+10-3A02-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr  9 10:02:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (timestamp_file)
<dd>
<p>gather timestamp files in one directory from each extension directories,
with considering target_prefix.</p>
</dd></dl>

<h3 id="label-Tue+Apr++9+04-3A57-3A59+JST+2013++Charles+Oliver+Nutter++-3Cheadius-40headius.com-3E">Tue Apr  9 04:57:59 JST 2013  Charles Oliver Nutter  &lt;headius@headius.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>Capture EAGAIN, EWOULDBLOCK, EINPROGRESS exceptions and export them for use
in WaitReadable/Writable exceptions.</p>
</dd><dt>io.c
<dd>
<p>Create versions of EAGAIN, EWOULDBLOCK, EINPROGRESS that include
WaitReadable and WaitWritable. Add rb_readwrite_sys_fail for nonblocking
failures using those exceptions. Use that function in io_getpartial and
io_write_nonblock instead of rb_mod_sys_fail</p>
</dd><dt>ext/openssl/ossl_ssl.c
<dd>
<p>Add new SSLError subclasses that include WaitReadable and WaitWritable. Use
those classes for write_would_block and read_would_block instead of
rb_mod_sys_fail.</p>
</dd><dt>ext/socket/ancdata.c
<dd>
<p>Use rb_readwrite_sys_fail instead of rb_mod_sys_fail in
bsock_sendmsg_internal and bsock_recvmsg_internal.</p>
</dd><dt>ext/socket/init.c
<dd>
<p>Use rb_readwrite_sys_fail instead of rb_mod_sys_fail in
rsock_s_recvfrom_nonblock and rsock_s_connect_nonblock.</p>
</dd><dt>ext/socket/socket.c
<dd>
<p>Use rb_readwrite_sys_fail instead of rb_mod_sys_fail in
sock_connect_nonblock.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>Export rb_readwrite_sys_fail for use instead of rb_mod_sys_fail. Introduce
new constants RB_IO_WAIT_READABLE and RB_IO_WAIT_WRITABLE for first arg to
rb_readwrite_sys_fail.</p>
</dd></dl>

<h3 id="label-Tue+Apr++9+02-3A44-3A32+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr  9 02:44:32 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>$defs needs -D or -U.  nothing is added otherwize.</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p>check struct in_addr6, which is defined in VC6 instead of in6_addr.</p>
</dd><dt>ext/socket/option.c (optname_to_sym)
<dd>
<p>fix macro name.</p>
</dd><dt>ext/socket/constants.c (rsock_cmsg_type_arg)
<dd>
<p>fix macro name.</p>
</dd></dl>

<h2 id="label-2013-04-08">2013-04-08</h2>

<h3 id="label-Mon+Apr++8+23-3A57-3A21+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr  8 23:57:21 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (id_for_setter)
<dd>
<p>extract common code from const, class variable, instance variable setters.</p>
</dd></dl>

<h3 id="label-Mon+Apr++8+23-3A55-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr  8 23:55:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/depend (ENCOBJS, TRANSOBJS)
<dd>
<p>use explicit path to ruby.h for nmake.</p>
</dd><dt>ext/depend (ENCOBJS, TRANSOBJS)
<dd>
<p>fix header dependency, VPATH has $(srcdir)/include/ruby but not
$(srcdir)/include, so cannot find out ruby/ruby.h.  use ruby.h instead and
../ruby for include/ruby.h.</p>
</dd></dl>

<h3 id="label-Mon+Apr++8+20-3A30-3A37+2013++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Mon Apr  8 20:30:37 2013  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/depend (ENCOBJS, TRANSOBJS)
<dd>
<p>Add missing dependencies.</p>
</dd></dl>

<h3 id="label-Mon+Apr++8+17-3A19-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr  8 17:19:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (fole_missing)
<dd>
<p>should check actual argument count before accessing.</p>
</dd></dl>

<h3 id="label-Mon+Apr++8+16-3A03-3A55+2013++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Mon Apr  8 16:03:55 2013  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (id.h, id.c)
<dd>
<p>Always generated in $(srcdir).</p>
</dd><dt>(ext/ripper/ripper.c)
<dd>
<p>Passes $(PATH_SEPARATOR) too to the sub make.</p>
</dd></dl>

<h3 id="label-Mon+Apr++8+12-3A05-3A02+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr  8 12:05:02 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_ivar_set)
<dd>
<p>call to_str for string only once. to_str was called from rb_is_const_name
and rb_to_id before.</p>
</dd><dt>object.c (rb_mod_const_set)
<dd>
<p>ditto.</p>
</dd><dt>object.c (rb_mod_cvar_set)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-04-07">2013-04-07</h2>

<h3 id="label-Sun+Apr++7+13-3A56-3A16+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sun Apr  7 13:56:16 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_require.rb (TestRequire#test_require_nonascii_path)
<dd>
<p>RUBY_PLATFORM should escape as <a
href="../../classes/Regexp.html">Regexp</a>, because RUBY_PLATFORM may
contain &#39;.&#39;.</p>
</dd></dl>

<h3 id="label-Sun+Apr++7+10-3A44-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr  7 10:44:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h
<dd>
<p>Simplify the logic to include sys/select.h. This fixes a compilation error
on Haiku (gcc2 and gcc4).</p>
</dd><dt>configure.in
<dd>
<p>Use shared linker as $(CC) for Haiku. This fixes a build error on Haiku
(gcc2).</p>
</dd></dl>

<h3 id="label-Sun+Apr++7+10-3A41-3A30+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr  7 10:41:30 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (MDNSOneShot#sender)
<dd>
<p>Delete an unused variable.</p>
</dd></dl>

<h3 id="label-Sun+Apr++7+03-3A24-3A36+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Apr  7 03:24:36 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c
<dd>
<p>use more generic type: * u_char -&gt; unsigned char * u_short -&gt;
unsigned short * u_int -&gt; unsigned int * u_long -&gt; unsigned long *
quad_t -&gt; int64_t * u_quad_t -&gt; uint64_t</p>
</dd><dt>addr2line.c (imax)
<dd>
<p>inline is defined by configure.</p>
</dd></dl>

<h3 id="label-Sun+Apr++7+01-3A40-3A39+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun Apr  7 01:40:39 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-hash)
<dd>
<p>New electric function that expands a hash sign inside a string or regexp to
“#{}”.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-curlies)
<dd>
<p>Do not insert spaces inside when the curly brace is a delimiter of %r, %w,
etc.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-curlies)
<dd>
<p>Insert another space before a closing curly brace when
ruby-electric-newline-before-closing-bracket is nil.</p>
</dd></dl>

<h3 id="label-Sun+Apr++7+01-3A01-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr  7 01:01:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>strftime.c (rb_strftime_with_timespec)
<dd>
<p><a href="../../classes/Test.html">Test</a> yday range. [ruby-core:44088]
[Bug #6247] reported by Ruby Submit.</p>
</dd></dl>

<h2 id="label-2013-04-06">2013-04-06</h2>

<h3 id="label-Sat+Apr++6+23-3A46-3A54+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Apr  6 23:46:54 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (AC_CHECK_HEADERS)
<dd>
<p>atomic.h for Solaris atomic_ops.</p>
</dd><dt>ruby_atomic.h
<dd>
<p>Skip using Solaris10 atomic_ops on Solaris 9 or earlier if atomic.h is not
available. [ruby-dev:47229] [Bug #8228]</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+23-3A40-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 23:40:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>Support LOC resources. [ruby-core:23361] [Feature #1436] by JB Smith.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+23-3A38-3A09+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Apr  6 23:38:09 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c
<dd>
<p>quad_t and u_quad_t is not available on Solaris. __inline is not available
with old compilers on Solaris. [ruby-dev:47229] [Bug #8227]</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+23-3A31-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 23:31:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>Add one-shot multicast DNS support. [ruby-core:53387] [Feature #8089] by
Eric Hodel.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+22-3A12-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 22:12:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS.fetch_resource)
<dd>
<p>New method to obtain full result. [ruby-dev:43587] [Feature #4788] proposed
by Makoto Kishimoto.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+20-3A17-3A51+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 20:17:51 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_raddrinfo)
<dd>
<p>Renamed from rsock_sys_fail_addrinfo.</p>
</dd><dt>(rsock_sys_fail_raddrinfo_or_sockaddr)
<dd>
<p>Renamed from rsock_sys_fail_addrinfo_or_sockaddr.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+19-3A24-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 19:24:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_sockaddr)
<dd>
<p>Takes struct sockaddr and socklen_t instead of String object.</p>
</dd><dt>(rsock_sys_fail_addrinfo_or_sockaddr)
<dd>
<p>Follow the above change.</p>
</dd><dt>ext/socket/rubysocket.h (rsock_sys_fail_sockaddr)
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+14-3A28-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 14:28:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (SockAddrStringValueWithAddrinfo)
<dd>
<p>New macro.</p>
</dd><dt>(rsock_sockaddr_string_value_with_addrinfo)
<dd>
<p>New declaration.</p>
</dd><dt>(rsock_addrinfo_inspect_sockaddr)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_sys_fail_addrinfo)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_sys_fail_sockaddr_or_addrinfo)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/raddrinfo.c (rsock_addrinfo_inspect_sockaddr)
<dd>
<p>Renamed from addrinfo_inspect_sockaddr and exported.</p>
</dd><dt>(rsock_sockaddr_string_value_with_addrinfo)
<dd>
<p>New function to obtain string and possibly addrinfo object.</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_sockaddr)
<dd>
<p>Don&#39;t use rsock_sys_fail_host_port which is IP dependent.  Invoke
rsock_sys_fail_addrinfo.</p>
</dd><dt>(rsock_sys_fail_addrinfo)
<dd>
<p>New function using rsock_addrinfo_inspect_sockaddr.</p>
</dd><dt>(rsock_sys_fail_addrinfo_or_sockaddr)
<dd>
<p>New function.</p>
</dd><dt>(sock_connect)
<dd>
<p>Use SockAddrStringValueWithAddrinfo and
rsock_sys_fail_addrinfo_or_sockaddr.</p>
</dd><dt>(sock_connect_nonblock)
<dd>
<p>Ditto.</p>
</dd><dt>(sock_bind)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+13-3A34-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 13:34:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_sockaddr)
<dd>
<p>Delete 2nd argument.</p>
</dd><dt>ext/socket/rubysocket.h (rsock_sys_fail_sockaddr)
<dd>
<p>Follow above change.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+13-3A13-3A39+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 13:13:39 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_path)
<dd>
<p>Use rb_str_inspect only for String to avoid SEGV.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+12-3A40-3A16+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 12:40:16 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (rsock_sys_fail_host_port)
<dd>
<p>Wrap by NORETURN.</p>
</dd><dt>(rsock_sys_fail_path)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_sys_fail_sockaddr)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+11-3A49-3A35+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 11:49:35 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_path)
<dd>
<p>Use rb_str_inspect if the path contains a NUL.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+11-3A39-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 11:39:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>Improve socket exception message to show socket address. [ruby-core:45617]
[Feature #6583] proposed Eric Hodel.</p>
</dd><dt>ext/socket/rubysocket.h (rsock_sys_fail_host_port)
<dd>
<p>Declared.</p>
</dd><dt>(rsock_sys_fail_path)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_sys_fail_sockaddr)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/udpsocket.c (udp_connect)
<dd>
<p>Use rsock_sys_fail_host_port.</p>
</dd><dt>(udp_bind)
<dd>
<p>Ditto.</p>
</dd><dt>(udp_send)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/init.c (rsock_init_sock)
<dd>
<p>Specify a string for rb_sys_fail argument.</p>
</dd><dt>(make_fd_nonblock)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_s_accept)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/ipsocket.c (init_inetsock_internal)
<dd>
<p>Use rsock_sys_fail_host_port.</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_host_port)
<dd>
<p>Defined.</p>
</dd><dt>(rsock_sys_fail_path)
<dd>
<p>Ditto.</p>
</dd><dt>(rsock_sys_fail_sockaddr)
<dd>
<p>Ditto.</p>
</dd><dt>(setup_domain_and_type)
<dd>
<p>Use rsock_sys_fail_sockaddr.</p>
</dd><dt>(sock_connect_nonblock)
<dd>
<p>Ditto.</p>
</dd><dt>(sock_bind)
<dd>
<p>Ditto.</p>
</dd><dt>(sock_gethostname)
<dd>
<p>Specify a string for rb_sys_fail argument.</p>
</dd><dt>(socket_s_ip_address_list)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/basicsocket.c (bsock_shutdown)
<dd>
<p>Specify a string for rb_sys_fail argument.</p>
</dd><dt>(bsock_setsockopt)
<dd>
<p>Use rsock_sys_fail_path.</p>
</dd><dt>(bsock_getsockopt)
<dd>
<p>Ditto.</p>
</dd><dt>(bsock_getpeereid)
<dd>
<p>Refine the argument for rb_sys_fail.</p>
</dd><dt>ext/socket/unixsocket.c (rsock_init_unixsock)
<dd>
<p>Use rsock_sys_fail_path.</p>
</dd><dt>(unix_path)
<dd>
<p>Ditto.</p>
</dd><dt>(unix_send_io)
<dd>
<p>Ditto.</p>
</dd><dt>(unix_recv_io)
<dd>
<p>Ditto.</p>
</dd><dt>(unix_addr)
<dd>
<p>Ditto.</p>
</dd><dt>(unix_peeraddr)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+11-3A23-3A18+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Sat Apr  6 11:23:18 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_require.rb (TestRequire#test_require_nonascii_path)
<dd>
<p>fix load path for encoding to run the test as stand-alone.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+09-3A54-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr  6 09:54:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (NATINT_LEN)
<dd>
<p>fix definition order, must be after NATINT_PACK.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+03-3A11-3A07+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Apr  6 03:11:07 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>fix symbol keys in coder emission.  Thanks @tjwallace</p>
</dd><dt>test/psych/test_coder.rb
<dd>
<p>test for change</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+02-3A54-3A08+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Apr  6 02:54:08 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/exception.rb
<dd>
<p>there should be only one exception base class. Fixes tenderlove/psych #125</p>
</dd><dt>ext/psych/lib/psych.rb
<dd>
<p>require the correct exception class</p>
</dd><dt>ext/psych/lib/psych/syntax_error.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+02-3A30-3A28+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr  6 02:30:28 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (new_defined)
<dd>
<p>remove all extra parentheses, and return “nil” for defined? with empty
expression. [ruby-core:54024] [Bug #8224]</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+02-3A06-3A04+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Apr  6 02:06:04 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>correctly register self-referential strings. Fixes tenderlove/psych #135</p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>appropriate test.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+01-3A21-3A56+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr  6 01:21:56 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (cloexec_accept)
<dd>
<p>Fix a compile error on Debian GNU/kFreeBSD.  Consider HAVE_ACCEPT4 is
defined but SOCK_CLOEXEC is not defined.</p>
</dd></dl>

<h3 id="label-Sat+Apr++6+00-3A19-3A30+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Sat Apr  6 00:19:30 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (features_index_add)
<dd>
<p>use rb_str_subseq() to specify C string position properly to fix require
non ascii path. [ruby-core:53733] [Bug #8165]</p>
</dd><dt>test/ruby/test_require.rb (TestRequire#test_require_nonascii_path)
<dd>
<p>a test for the above.</p>
</dd></dl>

<h2 id="label-2013-04-05">2013-04-05</h2>

<h3 id="label-Fri+Apr++5+20-3A41-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr  5 20:41:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (HAVE_TRUE_LONG_LONG)
<dd>
<p>Defined to distinguish availability of long long and availability of 64bit
integer type.</p>
</dd><dt>pack.c
<dd>
<p>Use HAVE_TRUE_LONG_LONG to distinguish q! and Q! support.</p>
</dd></dl>

<h3 id="label-Fri+Apr++5+20-3A19-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr  5 20:19:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c
<dd>
<p>Include ruby/missing.h to fix compile error on Debian.</p>
</dd></dl>

<h3 id="label-Fri+Apr++5+19-3A39-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr  5 19:39:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>fix of defined? with empty expression.  [ruby-core:53999] [Bug #8220]</p>
</dd></dl>

<h3 id="label-Fri+Apr++5+13-3A22-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr  5 13:22:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/curses.c (Init_curses)
<dd>
<p>fix implementation function, crmode should be same as cbreak. 
[ruby-core:54013] [Bug #8222]</p>
</dd></dl>

<h3 id="label-Fri+Apr++5+12-3A06-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Apr  5 12:06:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/curses/hello.rb
<dd>
<p>Typo in Curses example by Drew Blas [Fixes GH-273]</p>
</dd></dl>

<h2 id="label-2013-04-04">2013-04-04</h2>

<h3 id="label-Thu+Apr++4+23-3A45-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 23:45:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (bind_random_port)
<dd>
<p>Rescue EACCES for SunOS. bind() on SunOS for port 2049 (nfs) and 4045
(lockd) causes EACCES with unprivileged process.  cf. PRIV_SYS_NFS in
privileges(5) [ruby-core:48064] [Bug #7183] reported by Frank Meier.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+23-3A24-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 23:24:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Remove condition for bcc.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+22-3A53-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 22:53:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (FIX2LONG)
<dd>
<p>Parenthesize the macro body.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+22-3A32-3A32+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 22:32:32 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_strftime)
<dd>
<p>Describe %L and %N truncates digits under the specified length.
[ruby-core:52130] [Bug #7829]</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+22-3A08-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 22:08:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_cvar_set)
<dd>
<p>Reverted “avoid inadvertent symbol creation” to avoid SEGV by <a
href="../../classes/Class.html#method-i-new">Class#new</a>.class_variable_set(1,
2).</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+20-3A07-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 20:07:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/pathname.c (path_write)
<dd>
<p>New method.</p>
</dd><dt>(path_binwrite)
<dd>
<p>Ditto. [ruby-core:49468] [Feature #7378]</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+16-3A51-3A29+2013++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Thu Apr  4 16:51:29 2013  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c
<dd>
<p>Fixes wrong scopes of if USE_SLEEPY_TIMER_THREAD .. endif sections.  This
fixes a build error on NativeClient.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+16-3A55-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr  4 16:55:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (make_struct)
<dd>
<p>avoid inadvertent symbol creation.</p>
</dd><dt>(rb_struct_aref)
<dd>
<p>ditto.</p>
</dd><dt>(rb_struct_aset)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+16-3A54-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr  4 16:54:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_const_set)
<dd>
<p>avoid inadvertent symbol creation.</p>
</dd><dt>(rb_obj_ivar_set)
<dd>
<p>ditto.</p>
</dd><dt>(rb_mod_cvar_set)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+15-3A46-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr  4 15:46:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_inject)
<dd>
<p>avoid inadvertent symbol creation.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+14-3A37-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr  4 14:37:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_aref)
<dd>
<p>avoid inadvertent symbol creation.</p>
</dd><dt>(rb_thread_variable_get)
<dd>
<p>ditto.</p>
</dd><dt>(rb_thread_key_p)
<dd>
<p>ditto.</p>
</dd><dt>(rb_thread_variable_p)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+11-3A33-3A57+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr  4 11:33:57 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_to_i)
<dd>
<p>Use bn2hex to speed up. In general, binary to/from decimal needs extra
cost.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+07-3A24-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  4 07:24:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Specify arguments to test functions.</p>
</dd></dl>

<h3 id="label-Thu+Apr++4+03-3A25-3A09+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr  4 03:25:09 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>fix can&#39;t create from bn.</p>
</dd></dl>

<h2 id="label-2013-04-03">2013-04-03</h2>

<h3 id="label-Wed+Apr++3+17-3A25-3A31+2013++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Wed Apr  3 17:25:31 2013  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ruby_init_stack)
<dd>
<p>Avoid using uninitialized value. stackaddr and size are not set if
get_stack() fails.</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+22-3A09-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  3 22:09:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> functions and libraries after
headers.</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+21-3A23-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  3 21:23:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"></dl>

<h3 id="label-Wed+Apr++3+20-3A52-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  3 20:52:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Describe the behavior which Ruby invokes a commandline directly without
shell if the commandline is simple enough. [ruby-core:50459] [Bug #7489]</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+20-3A27-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  3 20:27:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (extmake)
<dd>
<p>Invoke Logging::log_close in a ensure clause.</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+18-3A53-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  3 18:53:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (extmake)
<dd>
<p>Use Logging.open to switch stdout and stderr.  Delay Logging::log_close
until the failure message is written.  Write the failure message only if
log file is opened.</p>
</dd><dt>lib/mkmf.rb (Logging.log_opened?)
<dd>
<p>New method. [ruby-dev:47215] [Bug #8209]</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+17-3A11-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  3 17:11:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (constat_apply)
<dd>
<p>pass through unknown sequence which starts with ESC but is not followed by
a bracket.  [ruby-core:53879] [Bug #8201]</p>
</dd></dl>

<h3 id="label-Wed+Apr++3+16-3A35-3A32+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  3 16:35:32 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_eq)
<dd>
<p>hide intermediate Bignums not just freeing memory.  [ruby-core:53893] [Bug
#8204]</p>
</dd><dt>object.c (rb_obj_hide)
<dd>
<p>hide an object by clearing klass.</p>
</dd><dt>bignum.c (rb_big_eq)
<dd>
<p>test as <a href="../../classes/Fixnum.html">Fixnum</a> if possible and get
rid of zero length <a href="../../classes/Bignum.html">Bignum</a>. 
[ruby-core:53893] [Bug #8204]</p>
</dd></dl>

<h2 id="label-2013-04-02">2013-04-02</h2>

<h3 id="label-Tue+Apr++2+23-3A56-3A03+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  2 23:56:03 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (SecureRandom.random_bytes)
<dd>
<p>Use <a
href="../../classes/OpenSSL/Random.html#method-c-random_add">OpenSSL::Random.random_add</a>
instead of <a
href="../../classes/OpenSSL/Random.html#method-c-seed">OpenSSL::Random.seed</a>
and specify 0.0 as the entropy. [ruby-core:47308] [Bug #6928]</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+20-3A24-3A52+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  2 20:24:52 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c
<dd>
<p>Support Q! and q! for long long.</p>
</dd><dt>(natstr)
<dd>
<p>Moved to toplevel.  Add q and Q if there is long long type.</p>
</dd><dt>(endstr)
<dd>
<p>Moved to toplevel.</p>
</dd><dt>(NATINT_PACK)
<dd>
<p>Consider long long.</p>
</dd><dt>(NATINT_LEN_Q)
<dd>
<p>New macro.</p>
</dd><dt>(pack_pack)
<dd>
<p>Support Q! and q!.</p>
</dd><dt>(pack_unpack)
<dd>
<p>Ditto. [ruby-dev:43970] [Feature #3946]</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+19-3A24-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  2 19:24:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/num2int/num2int.c
<dd>
<p>Define utility methods as module methods of Num2int.</p>
</dd><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+18-3A49-3A01+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  2 18:49:01 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>Don&#39;t use <a
href="../../classes/Array.html#method-i-to_s">Array#to_s</a>.
[ruby-core:52058] [Bug #7811] fixed by zzak (Zachary Scott).</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+17-3A38-3A20+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  2 17:38:20 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_reg_to_s)
<dd>
<p>suppress duplicated charclass warning. <a
href="../../classes/Regexp.html#method-i-to_s">Regexp#to_s</a> suppress
extra its whole regexp options by calling onig_new with its source, but it
doesn&#39;t call rb_reg_preprocess. Therefore its Unicode escapes (u{XXXX})
are given as is, and it may cause duplicated charclass warning for example
“[u{33}]” (3 is duplicated) or “[u{a}u{b}]” (u is duplicated).
[ruby-core:53649] [Bug #8151]</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+16-3A00-3A06+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  2 16:00:06 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_print_backtrace)
<dd>
<p>separate to ease showing C backtrace.</p>
</dd><dt>internal.h (rb_print_backtrace)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+15-3A22-3A09+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  2 15:22:09 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_separately)
<dd>
<p>stop_auto_run of Test::Unit::Runner to prevent auto runner use ARGV.</p>
</dd><dt>test/ruby/envutil.rb (assert_separately)
<dd>
<p>add $: to separate process.</p>
</dd><dt>test/ruby/envutil.rb (assert_separately)
<dd>
<p>fail if stderr is not empty and ignore_stderr is false.</p>
</dd></dl>

<h3 id="label-Tue+Apr++2+06-3A46-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr  2 06:46:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/num2int/num2int.c
<dd>
<p>Rename utility methods to global functions to ease manual experiments.</p>
</dd><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p>Follow the above change.</p>
</dd></dl>

<h2 id="label-2013-04-01">2013-04-01</h2>

<h3 id="label-Mon+Apr++1+22-3A26-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 22:26:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (rb_gzfile_set_mtime)
<dd>
<p>Use NUM2UINT. The old logic doesn&#39;t work well on LP64 platforms as: ..
-2**63-1 =&gt; error, -2**63 .. -2**62-1 =&gt; success, -2**62 .. -2**31-1
=&gt; error, -2**31 .. 2**31-1 =&gt; success, 2**31 .. 2**62-1 =&gt; error,
2**62 .. 2**64-1 =&gt; success, 2**64 ..  =&gt; error.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+22-3A08-3A02+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Apr  1 22:08:02 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (Zlib::Inflate.new)
<dd>
<p>Fix documentation syntax and naming errors. Based on patch by Robin Dupret.
Fix GH-271.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+21-3A22-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 21:22:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> small bignums.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+21-3A10-3A56+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 21:10:56 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num2ulong_internal)
<dd>
<p>Don&#39;t cast a negative double value into unsigned long, which is
undefined behavior.</p>
</dd><dt>(rb_num2ull)
<dd>
<p>Don&#39;t cast a value bigger than LLONG_MAX into long long, which is
undefined behavior.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+20-3A57-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 20:57:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/num2int/num2int.c
<dd>
<p>Return string for result, instead of printing.</p>
</dd><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p>updated to follow above change.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+20-3A08-3A07+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 20:08:07 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num2long)
<dd>
<p>Don&#39;t use SIGNED_VALUE uselessly.</p>
</dd><dt>(check_int)
<dd>
<p>Ditto.</p>
</dd><dt>(check_short)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_num2fix)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_num2ulong_internal)
<dd>
<p>Add a cast.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+18-3A41-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr  1 18:41:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>skip autoconf 2.64 and 2.66, 2.67 seems short-lived but stick on it for
Debian Squeeze.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+14-3A22-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr  1 14:22:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check clang version by predefined macro values. [Bug #8192]</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+12-3A05-3A15+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 12:05:15 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (check_uint)
<dd>
<p>Take the 1st argument as unsigned long, instead of VALUE.  Refine the
validity test conditions.</p>
</dd><dt>(check_ushort)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+07-3A15-3A03+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Mon Apr  1 07:15:03 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use quadrigraph to put &#39;[&#39; or &#39;]&#39;. [Bug #8192]</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+04-3A16-3A41+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr  1 04:16:41 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>kick old clang. [ruby-dev:47204] [Bug #8192]</p>
</dd></dl>

<h3 id="label-Mon+Apr++1+01-3A12-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  1 01:12:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (FIX2ULONG)
<dd>
<p>Make it consistent with NUM2ULONG.</p>
</dd><dt>ext/-test-/num2int/num2int.c
<dd>
<p>Add utility methods for FIX2XXX tests.</p>
</dd><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p>Add tests for FIX2XXX.</p>
</dd></dl>

<h2 id="label-2013-03-31">2013-03-31</h2>

<h3 id="label-Sun+Mar+31+17-3A17-3A56+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 31 17:17:56 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>consider visibility in define_method. patch by mashiro &lt;mail AT
mashiro.org&gt;.  fix GH-268.</p>
</dd></dl>

<h3 id="label-Sun+Mar+31+15-3A40-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 31 15:40:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/configure.bat
<dd>
<p>try to fix option arguments split by commas and equals here.  this batch
file no longer run with old command.com.</p>
</dd><dt>tool/mkconfig.rb
<dd>
<p>no hacks for cmd.exe.</p>
</dd></dl>

<h3 id="label-Sun+Mar+31+13-3A47-3A04+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Mar 31 13:47:04 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num2ulong_internal)
<dd>
<p>New function similar to rb_num2ulong but integer wrap around flag is also
returned.</p>
</dd><dt>(rb_num2ulong)
<dd>
<p>Use rb_num2ulong_internal.</p>
</dd><dt>(rb_num2uint)
<dd>
<p>Use rb_num2ulong_internal and the wrap around flag is used instead of
negative_int_p(val).</p>
</dd><dt>(rb_num2ushort)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Mar+31+06-3A27-3A17+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 31 06:27:17 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (HAVE_METACLASS_P)
<dd>
<p>should check FL_SINGLETON flag before get instance variable to get rid of
wrong warning about __attached__. [ruby-core:53839] [Bug #8188]</p>
</dd></dl>

<h2 id="label-2013-03-30">2013-03-30</h2>

<h3 id="label-Sat+Mar+30+14-3A11-3A28+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sat Mar 30 14:11:28 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bcc32
<dd>
<p>removed. agreed at <a
href="http://bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130223Japan">bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20130223Japan</a></p>
</dd></dl>

<h3 id="label-Sat+Mar+30+03-3A58-3A00+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Mar 30 03:58:00 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (code_page)
<dd>
<p>use cp1252 instead of cp20127 as US-ASCII. fix [ruby-core:53079] [Bug
#7996] reported and patched by mmeltner (Michael Meltner).</p>
</dd></dl>

<h3 id="label-Sat+Mar+30+03-3A49-3A21+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Mar 30 03:49:21 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (wrename)
<dd>
<p>use MoveFileExW instead of MoveFileW, because the latter fails on cross
device file move of some environments. fix [ruby-core:53492] [Bug #8109]
reported by mitchellh (Mitchell Hashimoto).</p>
</dd></dl>

<h2 id="label-2013-03-29">2013-03-29</h2>

<h3 id="label-Fri+Mar+29+22-3A09-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 29 22:09:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_mutex_synchronize_m)
<dd>
<p>yield no block params.  patch by splattael (Peter Suschlik) in
[ruby-core:53773] [Bug #8097]. fix GH-266.</p>
</dd></dl>

<h3 id="label-Fri+Mar+29+16-3A51-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 29 16:51:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (argf_next_argv)
<dd>
<p>set init flag if succeeded to forward, after skipping.</p>
</dd><dt>io.c (argf_block_call_i, argf_block_call)
<dd>
<p>no more forwarding if forwarded after skipping.  [ruby-list:49185]</p>
</dd><dt>io.c (argf_close)
<dd>
<p>deal with init flag.</p>
</dd><dt>io.c (argf_block_call_i, argf_block_call)
<dd>
<p>forward next file if skipped while iteration, to get rid of <a
href="../../classes/IOError.html">IOError</a>.  [ruby-list:49185]</p>
</dd></dl>

<h3 id="label-Fri+Mar+29+11-3A09-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 29 11:09:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (configuration)
<dd>
<p>not include all CFLAGS in CXXFLAGS, to use different set than C for C++. 
[ruby-core:45273] [Bug #6504]</p>
</dd></dl>

<h3 id="label-Fri+Mar+29+10-3A24-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 29 10:24:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h
<dd>
<p>undef POSIX compliant names on AIX, which are no longer needed.  patch
suggested by edelsohn (David Edelsohn) in [ruby-core:53815].  [Bug #8174]</p>
</dd></dl>

<h3 id="label-Fri+Mar+29+06-3A39-3A42+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Mar 29 06:39:42 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num2ull)
<dd>
<p>Cast double to unsigned LONG_LONG via LONG_LONG instead of double to
unsigned LONG_LONG directly. This is a challenge to fix a
test_num2ull(TestNum2int) failure (NUM2ULL(-1.0) should be
“18446744073709551615” but was “0”) on Mac OS X with 32bit clang. <a
href="http://a.mrkn.jp/~mrkn/chkbuild/mountain_lion/ruby-trunk-m32-o0/log/20130328T191100Z.diff.html.gz">a.mrkn.jp/~mrkn/chkbuild/mountain_lion/ruby-trunk-m32-o0/log/20130328T191100Z.diff.html.gz</a></p>
</dd></dl>

<h3 id="label-Fri+Mar+29+00-3A54-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 29 00:54:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MAIN_DOES_NOTHING)
<dd>
<p>ensure symbols for tests to be preserved.  [ruby-core:53745] [Bug #8169]</p>
</dd></dl>

<h2 id="label-2013-03-28">2013-03-28</h2>

<h3 id="label-Thu+Mar+28+23-3A11-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Mar 28 23:11:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> Windows platform by detecting <a
href="../../classes/LoadError.html">LoadError</a> when require
&#39;win32/resolv&#39; suggested by Nobuyoshi Nakada [ruby-core:53389].
[ruby-core:53388] [Feature #8090] Reported by Charles Nutter.</p>
</dd></dl>

<h3 id="label-Thu+Mar+28+23-3A10-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 28 23:10:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h
<dd>
<p>rename SVR3,4 member names as POSIX compliant, to get rid of conflict on
AIX.  [ruby-core:53765] [Bug #8174]</p>
</dd></dl>

<h3 id="label-Thu+Mar+28+18-3A22-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Mar 28 18:22:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/num2int/test_num2int.rb
<dd>
<p>extract assert_num2i_success_internal and assert_num2i_error_internal and
provide assertion messages as “NUM2XXX(NNN)”.</p>
</dd></dl>

<h3 id="label-Thu+Mar+28+07-3A05-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Mar 28 07:05:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h
<dd>
<p>Delete redundant inclusions caused by AC_INCLUDES_DEFAULT in defines.h.</p>
</dd><dt>include/ruby/defines.h
<dd>
<p>Ditto.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>Ditto.</p>
</dd><dt>include/ruby/st.h
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Mar+28+06-3A51-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Mar 28 06:51:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h
<dd>
<p>Fix a compilation error on NetBSD, “type of formal parameter 1 is
incomplete” for the rb_thread_wait_for invocation in rb_file_flock, by
including header files as AC_INCLUDES_DEFAULT of autoconf.</p>
</dd></dl>

<h2 id="label-2013-03-27">2013-03-27</h2>

<h3 id="label-Wed+Mar+27+22-3A09-3A14+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 22:09:14 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (LONG_MIN_MINUS_ONE_IS_LESS_THAN)
<dd>
<p>New macro.</p>
</dd><dt>(LLONG_MIN_MINUS_ONE_IS_LESS_THAN)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_num2long)
<dd>
<p>Use LONG_MIN_MINUS_ONE_IS_LESS_THAN.</p>
</dd><dt>(rb_num2ulong)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_num2ll)
<dd>
<p>Use LLONG_MIN_MINUS_ONE_IS_LESS_THAN.</p>
</dd><dt>(rb_num2ull)
<dd>
<p>Ditto.</p>
</dd><dt>test/-ext-/num2int/test_num2int.rb (assert_num2i_success)
<dd>
<p><a href="../../classes/Test.html">Test</a> the value converted into a <a
href="../../classes/Float.html">Float</a> if <a
href="../../classes/Float.html">Float</a> can represent the value exactly.</p>
</dd><dt>(assert_num2i_error)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+20-3A59-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 20:59:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/num2int/test_num2int.rb (assert_num2i_success)
<dd>
<p>New utility method.</p>
</dd><dt>(assert_num2i_error)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+20-3A37-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 20:37:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (num_exact)
<dd>
<p>Use to_r method only if to_int method is available. [ruby-core:53764] [Bug
#8173] Reported by Hiro Asari.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+12-3A07-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 12:07:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/num2int/test_num2int.rb (test_num2ll)
<dd>
<p>test LLONG_MIN, not LONG_MIN.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+12-3A02-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 12:02:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (TIMET_MAX_PLUS_ONE)
<dd>
<p>definition simplified.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+06-3A39-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 27 06:39:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MAIN_DOES_NOTHING)
<dd>
<p>force to refer symbols for tests to be preserved.  [ruby-core:53745] [Bug
#8169]</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+05-3A15-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 27 05:15:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_REPLACE_TYPE)
<dd>
<p>define SIGNEDNESS_OF_type same as check_signedness of mkmf.rb.</p>
</dd><dt>internal.h (TIMET_MAX, TIMET_MIN, TIMET_MAX_PLUS_ONE)
<dd>
<p>use SIGNEDNESS_OF_TIME_T.</p>
</dd></dl>

<h3 id="label-Wed+Mar+27+00-3A28-3A45+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Mar 27 00:28:45 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (TIMET_MAX_PLUS_ONE)
<dd>
<p>Defined.</p>
</dd><dt>thread.c (double2timeval)
<dd>
<p>Saturate out-of-range values.</p>
</dd></dl>

<h2 id="label-2013-03-26">2013-03-26</h2>

<h3 id="label-Tue+Mar+26+23-3A41-3A18+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Mar 26 23:41:18 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>Define TIMET_MAX and TIMET_MIN here.</p>
</dd><dt>time.c
<dd>
<p>Remove TIMET_MAX and TIMET_MIN definitions.</p>
</dd><dt>thread.c
<dd>
<p>Ditto.</p>
</dd><dt>thread_pthread.c
<dd>
<p>Remove TIMET_MAX definition.</p>
</dd><dt>thread_win32.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+26+22-3A31-3A10+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Mar 26 22:31:10 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sockaddr_len)
<dd>
<p>return the shortest length for unknown socket address.</p>
</dd></dl>

<h3 id="label-Tue+Mar+26+22-3A14-3A46+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Mar 26 22:14:46 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (double2timeval)
<dd>
<p>convert the infinity to TIME_MAX to avoid SEGV by <a
href="../../classes/Thread.html#method-c-new">Thread.new</a>
{}.join(Float::INFINITY) on Debian GNU/Linux (amd64).</p>
</dd></dl>

<h2 id="label-2013-03-25">2013-03-25</h2>

<h3 id="label-Mon+Mar+25+07-3A09-3A20+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Mar 25 07:09:20 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/tuplespace.rb
<dd>
<p>Only return tuple entry once on move, either through port or regular
return, not both.  This results in a 120% speedup when combined with #8125.
Patch by Joel VanderWerf. [ruby-trunk - Feature #8119]</p>
</dd></dl>

<h3 id="label-Mon+Mar+25+06-3A59-3A01+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Mar 25 06:59:01 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>Skip IPv6 tests if no IPv6 addresses exist.  Skip fork-dependent test if
fork is not available. [ruby-trunk - Bug #8159]</p>
</dd></dl>

<h3 id="label-Mon+Mar+25+02-3A01-3A03+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Mon Mar 25 02:01:03 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (bm_free)
<dd>
<p>need to clean up the mark flag of a free and unlinked method entry. [Bug
#8100] [ruby-core:53439]</p>
</dd></dl>

<h2 id="label-2013-03-24">2013-03-24</h2>

<h3 id="label-Sun+Mar+24+10-3A38-3A24+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar 24 10:38:24 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (putce)
<dd>
<p>suppress unused return value warning.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+22-3A13-3A51+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Mar 24 22:13:51 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_rpartition)
<dd>
<p>revert r39903, and convert byte offset to char offset; the return value of
rb_reg_search is byte offset, but other than it of rb_str_rpartition
expects char offset. [Bug #8138] [ruby-dev:47183]</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+18-3A29-3A46+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun Mar 24 18:29:46 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_rpartition)
<dd>
<p>Fix <a
href="../../classes/String.html#method-i-rpartition">String#rpartition</a>
against a multibyte string. [Bug #8138] [ruby-dev:47183]</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+13-3A42-3A24+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Sun Mar 24 13:42:24 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (GC_ENABLE_LAZY_SWEEP)
<dd>
<p>new macro to switch lazy sweeping for debugging. [Feature #8024]
[ruby-dev:47135]</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+12-3A55-3A47+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Sun Mar 24 12:55:47 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>We have no chance to expand the heap when lazy sweeping is restricted. So
collecting is often invoked if there is not enough free space in the heap.
Try to expand heap when this is the case.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+11-3A03-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Mar 24 11:03:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_require.rb
<dd>
<p>Remove temporally files in the tests.</p>
</dd><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/logger/test_logger.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/psych/test_psych.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/readline/test_readline.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/syslog/test_syslog_logger.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/webrick/test_httpauth.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/zlib/test_zlib.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+05-3A36-3A29+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Mar 24 05:36:29 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb
<dd>
<p>Added documentation for multicast support.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Point to above documentation.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+05-3A32-3A39+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Mar 24 05:32:39 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>Restore tests commented out while fixing test slowdown bug before r39895.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+05-3A03-3A36+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Mar 24 05:03:36 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb
<dd>
<p>Add multicast support to <a
href="../../classes/Rinda/RingFinger.html">Rinda::RingFinger</a> and <a
href="../../classes/Rinda/RingServer.html">Rinda::RingServer</a>. 
[ruby-trunk - Bug #8073]</p>
</dd><dt>test/rinda/test_rinda.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Update with <a href="../../classes/Rinda.html">Rinda</a> multicast support</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+04-3A13-3A27+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Mar 24 04:13:27 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>Fixed test failures in r39890 and r39891 due to stopping <a
href="../../classes/DRb.html">DRb</a> service.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+03-3A34-3A02+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Mar 24 03:34:02 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/rinda.rb
<dd>
<p>Fixed loss of tuple when remote is alive but the call stack was unwound. 
Patch by Joel VanderWerf. [ruby-trunk - Bug #8125]</p>
</dd><dt>test/rinda/test_rinda.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Sun+Mar+24+02-3A14-3A53+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Mar 24 02:14:53 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/mkmf/test_have_macro.rb
<dd>
<p>remove temporally files in the tests.</p>
</dd></dl>

<h2 id="label-2013-03-23">2013-03-23</h2>

<h3 id="label-Sat+Mar+23+23-3A50-3A04+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Mar 23 23:50:04 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (kprintf)
<dd>
<p>added from FreeBSD libstand&#39;s printf. this is consided as async signal
safe function.</p>
</dd><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>use kfprintf. [Bug #8144] [ruby-core:53632]</p>
</dd></dl>

<h3 id="label-Sat+Mar+23+23-3A28-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sat Mar 23 23:28:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_divide)
<dd>
<p>Use Qnil and NIL_P instead of (VALUE)0 as a return value.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_div)
<dd>
<p>ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_divremain)
<dd>
<p>ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_remainder)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Mar+23+17-3A39-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 23 17:39:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (check_funcall_respond_to)
<dd>
<p>preserve passed_block, which is modified in vm_call0_body() via vm_call0(),
and caused a bug of rb_check_funcall() by false negative result of
rb_block_given_p(). re-fix [ruby-core:53650] [Bug #8153]. [ruby-core:53653]
[Bug #8154]</p>
</dd></dl>

<h2 id="label-2013-03-22">2013-03-22</h2>

<h3 id="label-Fri+Mar+22+17-3A48-3A34+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 22 17:48:34 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/forwardable.rb (Forwardable::FILE_REGEXP)
<dd>
<p>create regexp object outside sources for eval, to reduce allocations in
def_delegators wrappers.  //o option does not make each regexps shared. 
patch by tmm1 (Aman Gupta) in [ruby-core:53620] [Bug #8143].</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+17-3A38-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 22 17:38:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_feature_p), vm_core.h (rb_vm_struct)
<dd>
<p>turn loaded_features_index into st_table.  patches by tmm1 (Aman Gupta) in
[ruby-core:53251] and [ruby-core:53274] [Bug #8048]</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+10-3A29-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 22 10:29:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Fix style.</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+05-3A30-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 22 05:30:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (ambiguous_operator)
<dd>
<p>refine warning message, since this warning is shown after literal too.</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+04-3A51-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 22 04:51:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg)
<dd>
<p>should check required keyword arguments even if rest hash is defined. 
[ruby-core:53608] [Bug #8139]</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+01-3A00-3A17+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Fri Mar 22 01:00:17 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_execarg_addopt, run_exec_pgroup)
<dd>
<p>use rb_pid_t instead of pid_t.</p>
</dd><dt>ext/pty/pty.c (raise_from_check, pty_check)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Mar+22+00-3A04-3A15+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Mar 22 00:04:15 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>output line at once.</p>
</dd></dl>

<h2 id="label-2013-03-21">2013-03-21</h2>

<h3 id="label-Thu+Mar+21+23-3A17-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 21 23:17:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (ruby_kill)
<dd>
<p>get rid of deadlock on signal 0. [ruby-dev:47182] [Bug #8137]</p>
</dd></dl>

<h3 id="label-Thu+Mar+21+22-3A39-3A46+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Mar 21 22:39:46 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (marshal_dump, marshal_load)
<dd>
<p>workaround for segv on Intel Solaris compiled with Oracle SolarisStudio
12.3. Partly revert r38174. [ruby-core:52042] [Bug #7805]</p>
</dd></dl>

<h3 id="label-Thu+Mar+21+16-3A48-3A06+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 21 16:48:06 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (simple_re_meta)
<dd>
<p>escape all closing characters, not only round parenthesis. 
[ruby-core:53578] [Bug #8133]</p>
</dd></dl>

<h3 id="label-Thu+Mar+21+13-3A50-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 21 13:50:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (UNINITIALIZED_VAR)
<dd>
<p>suppress warnings by clang 4.2. [ruby-core:51742] [Bug #7756]</p>
</dd></dl>

<h3 id="label-Thu+Mar+21+07-3A34-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Mar 21 07:34:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>Typo in Date::MONTHNAMES by Matt Gauger [GH fixes #261]</p>
</dd></dl>

<h2 id="label-2013-03-20">2013-03-20</h2>

<h3 id="label-Wed+Mar+20+22-3A53-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 20 22:53:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (find_library)
<dd>
<p>fix to format message. [ruby-core:53568] [Bug #8130]</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+22-3A52-3A52+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 20 22:52:52 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (install_dirs, with_destdir)
<dd>
<p>prefix with DESTDIR directories to install only unless bundled extension
libraries. [ruby-core:53502] [Bug #8115]</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+17-3A47-3A53+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Mar 20 17:47:53 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_err_in_callback.rb (TestErrInCallBack#setup)
<dd>
<p>allow using different root for source and build directories. this may fixes
a minor problem of r39834.</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+16-3A40-3A48+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Wed Mar 20 16:40:48 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_signal.rb (test_hup_me)
<dd>
<p>skip if HUP isn&#39;t supported. On Windows this test causes <a
href="../../classes/ArgumentError.html">ArgumentError</a>.</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+16-3A24-3A12+2013++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Wed Mar 20 16:24:12 2013  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_installer.rb (test_install_extension_flat)
<dd>
<p>use ruby in build directory in case ruby is not installed.
[ruby-core:53265] [Bug #8058]</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+15-3A22-3A07+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Mar 20 15:22:07 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_err_in_callback.rb (TestErrInCallBack#setup)
<dd>
<p>use relative path to get rid of “too long commandline” error.</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+04-3A27-3A42+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Wed Mar 20 04:27:42 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>remove unused variables. patched by Vipul A M &lt;vipulnsward@gmail.com&gt;</p>
</dd></dl>

<h3 id="label-Wed+Mar+20+04-3A15-3A32+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Wed Mar 20 04:15:32 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>fixed typo. patched by Vipul A M &lt;vipulnsward@gmail.com&gt;</p>
</dd></dl>

<h2 id="label-2013-03-19">2013-03-19</h2>

<h3 id="label-Tue+Mar+19+19-3A50-3A48+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar 19 19:50:48 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_kill (internal.h, thread.c)
<dd>
<p>use rb_pid_t instead of pid_t. this fixes the build failure of mswin
introduced at r39819.</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+17-3A09-3A30+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 19 17:09:30 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_conv_enc_opts)
<dd>
<p>convert with one converter, instead of re-creating converters for each
buffer expansion.</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+17-3A06-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 19 17:06:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>compose HFS file names from UTF8-MAC. [ruby-core:48745] [Bug #7267]</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+10-3A05-3A04+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Tue Mar 19 10:05:04 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>Fix typo in doc. Patch by Sho Hashimoto. [Bug #8116] [ruby-dev:47177]</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+02-3A13-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Mar 19 02:13:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>set ac_cv_prog_cxx if CXX is supplied.</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+01-3A18-3A00+2013++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Mar 19 01:18:00 2013  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix c++ compiler auto-selection not only for Darwin 11.x, but also the
other versions of Darwin.</p>
</dd></dl>

<h3 id="label-Tue+Mar+19+00-3A26-3A22+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Tue Mar 19 00:26:22 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Improve accuracy of objspace_live_num() and allocated/freed counters.
patched by tmm1(Aman Gupta). [Bug #8092] [ruby-core:53392]</p>
</dd></dl>

<h2 id="label-2013-03-18">2013-03-18</h2>

<h3 id="label-Mon+Mar+18+21-3A42-3A48+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Mon Mar 18 21:42:48 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Avoid unnecessary heap growth. patched by tmm1(Aman Gupta). [Bug #8093]
[ruby-core:53393]</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+17-3A58-3A36+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Mon Mar 18 17:58:36 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Fix unlimited memory growth with large values of RUBY_FREE_MIN. patched by
tmm1(Aman Gupta). [Bug #8095] [ruby-core:53405]</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+14-3A46-3A19+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar 18 14:46:19 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_err_in_callback.rb (TestErrInCallBack#test_err_in_callback)
<dd>
<p>shouldn&#39;t create a file in the top of build directory.</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+13-3A29-3A52+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 18 13:29:52 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (backtrace)
<dd>
<p>on darwin use custom backtrace() to trace beyond _sigtramp. darwin&#39;s
backtrace can&#39;t trace beyond signal trampoline with sigaltstack.</p>
</dd><dt>configure.in
<dd>
<p>check execinfo.h on darwin.</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+11-3A03-3A23+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 18 11:03:23 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h (END_INSN)
<dd>
<p>revert r39517 because the segv seems fixed by r39806.</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+10-3A41-3A06+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 18 10:41:06 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.c
<dd>
<p>Correct predefined macro name. This typo is introduced by r36534 and should
be backported to ruby_2_0_0.</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+03-3A18-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Mar 18 03:18:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Typo in <a href="../../classes/Array.html#method-i-delete">Array#delete</a>
by Timo Sand [GH fixes #258]</p>
</dd></dl>

<h3 id="label-Mon+Mar+18+01-3A14-3A56+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 18 01:14:56 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_fillbuf)
<dd>
<p>show fd number on failure to debug. <a
href="http://c5632.rubyci.org/~chkbuild/ruby-trunk/log/20130316T050302Z.diff.html.gz">c5632.rubyci.org/~chkbuild/ruby-trunk/log/20130316T050302Z.diff.html.gz</a></p>
</dd></dl>

<h2 id="label-2013-03-17">2013-03-17</h2>

<h3 id="label-Sun+Mar+17+02-3A38-3A21+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar 17 02:38:21 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>include sys/time.h for avoiding implicit declaration of gettimeofday().</p>
</dd></dl>

<h3 id="label-Sun+Mar+17+00-3A55-3A31+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar 17 00:55:31 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/missing.h
<dd>
<p>removed __linux__. it&#39;s unnecessary.</p>
</dd></dl>

<h2 id="label-2013-03-16">2013-03-16</h2>

<h3 id="label-Sat+Mar+16+03-3A40-3A49+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Mar 16 03:40:49 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_signal.rb (test_hup_me)
<dd>
<p>added a few comments.</p>
</dd></dl>

<h3 id="label-Sat+Mar+16+03-3A39-3A38+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Mar 16 03:39:38 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (ruby_kill)
<dd>
<p>added a few comments.</p>
</dd></dl>

<h3 id="label-Sat+Mar+16+03-3A36-3A56+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Mar 16 03:36:56 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (ruby_kill)
<dd>
<p>release GVL while waiting signal delivered.</p>
</dd></dl>

<h3 id="label-Sat+Mar+16+01-3A44-3A29+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Mar 16 01:44:29 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>added a declaration of ruby_kill().</p>
</dd><dt>thread.c (ruby_kill)
<dd>
<p>helper function of kill().</p>
</dd><dt>signal.c (rb_f_kill)
<dd>
<p>use ruby_kill() instead of kill().</p>
</dd><dt>signal.c (rb_f_kill)
<dd>
<p>call rb_thread_execute_interrupts() to ensure that make <a
href="../../classes/SignalException.html">SignalException</a> if sent a
signal to myself. [Bug #7951] [ruby-core:52864]</p>
</dd><dt>vm_core.h (typedef struct rb_thread_struct)
<dd>
<p>added th-&gt;interrupt_cond.</p>
</dd><dt>thread.c (rb_threadptr_interrupt_common)
<dd>
<p>added to initialization of th-&gt;interrupt_cond.</p>
</dd><dt>thread.c (thread_create_core)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_signal.rb (TestSignal#test_hup_me)
<dd>
<p>test for the above.</p>
</dd></dl>

<h3 id="label-Sat+Mar+16+00-3A42-3A39+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Mar 16 00:42:39 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (linux_iocparm_len)
<dd>
<p>enable only exist _IOC_SIZE(). Because musl libc doesn&#39;t have it. [Bug
#8051] [ruby-core:53229]</p>
</dd></dl>

<h2 id="label-2013-03-15">2013-03-15</h2>

<h3 id="label-Fri+Mar+15+14-3A57-3A16+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Mar 15 14:57:16 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>disabled _FORTIFY_SOURCE for avoid to hit glibc bug. [Bug #8080]
[ruby-core:53349]</p>
</dd><dt>test/ruby/test_io.rb (TestIO#test_io_select_with_many_files)
<dd>
<p>test for the above.</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+14-3A45-3A02+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Mar 15 14:45:02 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (_FORTIFY_SOURCE)
<dd>
<p>added a few comments.</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+14-3A17-3A55+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Mar 15 14:17:55 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (numberof)
<dd>
<p>renamed from ARRAY_SIZE() because other all files use numberof().</p>
</dd></dl>

<h3 id="label-Say+Mar+15+01-3A33-3A00+2013++Charles+Oliver+Nutter+-3Cheadius-40headius.com-3E">Say Mar 15 01:33:00 2013  Charles Oliver Nutter &lt;headius@headius.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_lazy_enumerator.rb (TestLazyEnumerator#test_drop_while)
<dd>
<p>Modify while condition to show dropping remains off after first false
value. This change was made in 39711.</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+23-3A06-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 15 23:06:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (GetTimeval)
<dd>
<p>check if already initialized instance.</p>
</dd><dt>time.c (GetNewTimeval)
<dd>
<p>check if newly created instance.</p>
</dd><dt>time.c (time_init_0, time_init_1, time_init_copy, time_mload)
<dd>
<p>must be newly created instance.  [ruby-core:53436] [Bug #8099]</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+14-3A51-3A33+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 15 14:51:33 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_sys_fail_path_with_func)
<dd>
<p>share same function, and path may be nil.</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+08-3A24-3A51+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Mar 15 08:24:51 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_sys_fail_path)
<dd>
<p>define &amp; use rb_sys_fail_path0 like r39752</p>
</dd></dl>

<h3 id="label-Fri+Mar+15+04-3A08-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Mar 15 04:08:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>Typo in <a href="../../classes/Proc.html#method-i-arity">Proc#arity</a>
found by Jack Nagel [Bug #8094]</p>
</dd></dl>

<h2 id="label-2013-03-14">2013-03-14</h2>

<h3 id="label-Thu+Mar+14+16-3A59-3A09+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 14 16:59:09 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_function_name_string)
<dd>
<p>macro for function name string predefined identifier, __func__ in C99, or
__FUNCTION__ in gcc.</p>
</dd><dt>file.c (rb_sys_fail_path)
<dd>
<p>use RUBY_FUNCTION_NAME_STRING.</p>
</dd></dl>

<h3 id="label-Thu+Mar+14+14-3A12-3A34+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Mar 14 14:12:34 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_sys_fail_path)
<dd>
<p>use rb_sys_fail_path0 only on GCC. __func__ is C99 feature.</p>
</dd></dl>

<h3 id="label-Thu+Mar+14+12-3A59-3A59+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Mar 14 12:59:59 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_sys_fail_path0)
<dd>
<p>add to append the name of called function to ease debugging for example
blow umask_spec failure. <a
href="http://fbsd.rubyci.org/~chkbuild/ruby-trunk/log/20130309T010202Z.diff.html.gz">fbsd.rubyci.org/~chkbuild/ruby-trunk/log/20130309T010202Z.diff.html.gz</a></p>
</dd><dt>file.c (rb_sys_fail_path)
<dd>
<p>use rb_sys_fail_path0.</p>
</dd></dl>

<h3 id="label-Thu+Mar+14+12-3A53-3A15+2013++Luis+Lavena++-3Cluislavena-40gmail.com-3E">Thu Mar 14 12:53:15 2013  Luis Lavena  &lt;luislavena@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (get_user_from_path)
<dd>
<p>add internal function that retrieves username from supplied path
(refactored).</p>
</dd><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>refactor expansion of user home to use get_user_from_path and cover
dir_string corner cases. [ruby-core:53168] [Bug #8034]</p>
</dd></dl>

<h3 id="label-Thu+Mar+14+11-3A53-3A01+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Thu Mar 14 11:53:01 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>describe RUBY_HEAP_SLOTS_GROWTH_FACTOR.</p>
</dd></dl>

<h3 id="label-Thu+Mar+14+10-3A01-3A12+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Mar 14 10:01:12 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>$? is thread-local</p>
</dd></dl>

<h2 id="label-2013-03-13">2013-03-13</h2>

<h3 id="label-Wed+Mar+13+15-3A16-3A35+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar 13 15:16:35 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/missing.h (__syscall)
<dd>
<p>moved to…</p>
</dd><dt>io.c
<dd>
<p>here. because __syscall() is only used from io.c.</p>
</dd><dt>include/ruby/missing.h
<dd>
<p>move “#include &lt;sys/type.h&gt;” to .…</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>here. because it was introduced for fixing NFDBITS issue.
[ruby-core:05179].</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+14-3A38-3A53+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar 13 14:38:53 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/missing.h (struct timespec)
<dd>
<p>include &lt;sys/time.h&gt;</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+13-3A54-3A45+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar 13 13:54:45 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check struct timeval exist or not.</p>
</dd><dt>include/ruby/missing.h (struct timeval)
<dd>
<p>check HAVE_STRUCT_TIMEVAL properly. and don&#39;t include sys/time.h if
struct timeval exist.</p>
</dd><dt>file.c
<dd>
<p>include sys/time.h explicitly.</p>
</dd><dt>random.c
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c
<dd>
<p>ditto.</p>
</dd><dt>time.c
<dd>
<p>ditto.</p>
</dd><dt>ext/date/date_strftime.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+23-3A25-3A59+2013++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Wed Mar 13 23:25:59 2013  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>allow to tune growth of heap by environment variable
RUBY_HEAP_SLOTS_GROWTH_FACTOR. patched by tmm1(Aman Gupta). [Feature #8015]
[ruby-core:53131]</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+19-3A43-3A46+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Mar 13 19:43:46 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/irb/irb.rd.ja
<dd>
<p>fix typo</p>
</dd><dt>ext/tk/MANUAL_tcltklib.eng
<dd>
<p>fix typos</p>
</dd><dt>ext/tk/sample/tktextframe.rb (Tk#component_delegates)
<dd>
<p>fix typo</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+15-3A13-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 13 15:13:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_obj_singleton_methods)
<dd>
<p>collect methods from the origin class.  [ruby-core:53207] [Bug #8044]</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+14-3A51-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 13 14:51:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_export_method)
<dd>
<p>directly override the flag of method defined in prepending class too, not
adding zsuper entry. [ruby-core:53106] [Bug #8005]</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+13-3A06-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 13 13:06:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rm, shvar_to_cpp, unexpand_shvar)
<dd>
<p>local is not available on old shells.</p>
</dd><dt>configure.in (shvar_to_cpp)
<dd>
<p>escape quotes for old shells. [Bug #7959] [Bug #8071]</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+11-3A11-3A07+2013++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Mar 13 11:11:07 2013  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (Init_Object)
<dd>
<p>remove Module#used, which has been introduced in Ruby 2.0 by mistake.  [Bug
#7916] [ruby-core:52719]</p>
</dd></dl>

<h3 id="label-Wed+Mar+13+05-3A49-3A29+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Mar 13 05:49:29 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>Fix typo</p>
</dd></dl>

<h2 id="label-2013-03-12">2013-03-12</h2>

<h3 id="label-Tue+Mar+12+22-3A20-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 12 22:20:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments, iseq_compile_each)
<dd>
<p>support required keyword arguments.   [ruby-core:51454] [Feature #7701]</p>
</dd><dt>iseq.c (rb_iseq_parameters)
<dd>
<p>ditto.</p>
</dd><dt>parse.y (f_kw, f_block_kw)
<dd>
<p>ditto.  this syntax is still experimental, the notation may change.</p>
</dd><dt>vm_core.h (rb_iseq_struct)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+12+17-3A02-3A53+2013++TAKANO+Mitsuhiro+-3Ctak-40no32.tk-3E">Tue Mar 12 17:02:53 2013  TAKANO Mitsuhiro &lt;tak@no32.tk&gt;</h3>
<dl class="rdoc-list note-list"><dt>date_core.c
<dd>
<p>clearly specify operator precedence.</p>
</dd></dl>

<h3 id="label-Tue+Mar+12+17-3A00-3A45+2013++TAKANO+Mitsuhiro+-3Ctak-40no32.tk-3E">Tue Mar 12 17:00:45 2013  TAKANO Mitsuhiro &lt;tak@no32.tk&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def
<dd>
<p>fix condition.</p>
</dd></dl>

<h3 id="label-Tue+Mar+12+16-3A48-3A19+2013++TAKANO+Mitsuhiro+-3Ctak-40no32.tk-3E">Tue Mar 12 16:48:19 2013  TAKANO Mitsuhiro &lt;tak@no32.tk&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c
<dd>
<p>fix dangling if, else-if and else.</p>
</dd></dl>

<h3 id="label-Tue+Mar+12+06-3A27-3A59+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Mar 12 06:27:59 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/setup_command.rb
<dd>
<p>Don&#39;t delete non-rubygems files when installing RubyGems.</p>
</dd><dt>test/rubygems/test_gem_commands_setup_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/ext/ext_conf_builder.rb
<dd>
<p>Use full path to siteconf.rb in case the extconf.rb changes directories
(like memcached does).</p>
</dd><dt>lib/rubygems/package.rb
<dd>
<p>Remove double slash from path.</p>
</dd><dt>test/rubygems/test_gem_package.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>test/rubygems/test_gem_package_old.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/source.rb
<dd>
<p>Revert automatic HTTPS upgrade</p>
</dd><dt>lib/rubygems/spec_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_remote_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_source.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_spec_fetcher.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+12+02-3A25-3A19+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Mar 12 02:25:19 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/smtp.rb
<dd>
<p>Added <a
href="../../classes/Net/SMTP.html#method-i-rset">Net::SMTP#rset</a> method
to implement the SMTP RSET command.  [ruby-trunk - Feature #5373]</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>ditto.</p>
</dd><dt>test/net/smtp/test_smtp.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h2 id="label-2013-03-11">2013-03-11</h2>

<h3 id="label-Mon+Mar+11+22-3A44-3A57+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Mar 11 22:44:57 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv-replace.rb (TCPSocket#initialize)
<dd>
<p>resolve the 3rd argument only if non-nil value is given. [ruby-dev:47150]
[ruby-trunk - Bug #8054] reported and analyzed by mrkn.</p>
</dd></dl>

<h3 id="label-Mon+Mar+11+19-3A22-3A54+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar 11 19:22:54 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/mkmf/base.rb
<dd>
<p>class name conflict.</p>
</dd></dl>

<h3 id="label-Mon+Mar+11+18-3A45-3A09+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 11 18:45:09 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_with_index)
<dd>
<p>try to convert given offset to integer. fix bug introduced in r39594.</p>
</dd></dl>

<h3 id="label-Mon+Mar+11+17-3A27-3A57+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 11 17:27:57 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (EnvUtil.with_default_external)
<dd>
<p>add for changing <a
href="../../classes/Encoding.html#method-c-default_external">Encoding.default_external</a>
without warnings.</p>
</dd><dt>test/ruby/envutil.rb (EnvUtil.with_default_internal)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_io_m17n.rb
<dd>
<p>use above with_default_external.</p>
</dd></dl>

<h3 id="label-Mon+Mar+11+16-3A57-3A00+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 11 16:57:00 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (extract_binmode)
<dd>
<p>raise error even if binmode and textmode don&#39;t conflict. [Bug #5918]
[ruby-core:42199]</p>
</dd></dl>

<h3 id="label-Mon+Mar+11+12-3A25-3A12+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 11 12:25:12 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Mar+11+11-3A53-3A35+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 11 11:53:35 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#dir_config, MakeMakefile#_libdir_basename)
<dd>
<p>defer use of instance variable until needed.  [Bug #8074]</p>
</dd></dl>

<h2 id="label-2013-03-10">2013-03-10</h2>

<h3 id="label-Sun+Mar+10+23-3A38-3A15+2013++Luis+Lavena++-3Cluislavena-40gmail.com-3E">Sun Mar 10 23:38:15 2013  Luis Lavena  &lt;luislavena@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>Expand home directory when used as second parameter (dir_string). 
[ruby-core:53168] [Bug #8034]</p>
</dd><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p>add test to verify.</p>
</dd></dl>

<h3 id="label-Sun+Mar+10+23-3A27-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 10 23:27:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.build)
<dd>
<p>it is impossible to predict which file will be installed to where, by the
arguments, so use intermediate destination directory always. [Bug #7698]</p>
</dd></dl>

<h3 id="label-Sun+Mar+10+17-3A00-3A22+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sun Mar 10 17:00:22 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c
<dd>
<p>edited rdoc.</p>
</dd><dt>rational.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Mar+10+15-3A02-3A39+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar 10 15:02:39 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (setup_communication_pipe)
<dd>
<p>remove unused function. it was unintentionally added r39683.</p>
</dd></dl>

<h3 id="label-Sun+Mar+10+09-3A12-3A51+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sun Mar 10 09:12:51 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c
<dd>
<p>described syntax of string form.</p>
</dd><dt>rational.c
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-03-09">2013-03-09</h2>

<h3 id="label-Sat+Mar++9+11-3A58-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  9 11:58:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_extended)
<dd>
<p>check for prepended object. [ruby-core:53206] [Bug #8043]</p>
</dd></dl>

<h3 id="label-Sat+Mar++9+08-3A36-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  9 08:36:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (features_index_add_single, rb_feature_p)
<dd>
<p>store single index as <a href="../../classes/Fixnum.html">Fixnum</a> to
reduce the number of arrays for the indexes.  based on the patch by tmm1
(Aman Gupta) in [ruby-core:53216] [Bug #8048].</p>
</dd></dl>

<h3 id="label-Sat+Mar++9+00-3A25-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  9 00:25:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (r_object0)
<dd>
<p>load prepended objects.  treat the class of extended object in the included
modules as prepended singleton class. [ruby-core:53202] [Bug #8041]</p>
</dd></dl>

<h2 id="label-2013-03-08">2013-03-08</h2>

<h3 id="label-Fri+Mar++8+19-3A44-3A00+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Mar  8 19:44:00 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/rake.1, man/ruby.1
<dd>
<p>Use the Pa macro to make URLs stand out.</p>
</dd></dl>

<h3 id="label-Fri+Mar++8+13-3A20-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Mar  8 13:20:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/pathname.c (path_f_pathname)
<dd>
<p>rdoc for Pathname()</p>
</dd></dl>

<h3 id="label-Fri+Mar++8+12-3A00-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Mar  8 12:00:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/rake.1
<dd>
<p>Document ENVIRONMENT variables on RAKE(1) manpage</p>
</dd></dl>

<h3 id="label-Fri+Mar++8+10-3A44-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Mar  8 10:44:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpproxy.rb
<dd>
<p>Fix typos in HTTPProxyServer [Bug #8013] Patch by Nobuhiro IMAI
[ruby-core:53127]</p>
</dd></dl>

<h2 id="label-2013-03-07">2013-03-07</h2>

<h3 id="label-Thu+Mar++7+10-3A42-3A28+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Mar  7 10:42:28 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/thread.rb (Queue#clear)
<dd>
<p>return self. Patch by Cubing Cube. Thank you! [Bug #7947] [ruby-dev:47098]</p>
</dd><dt>lib/thread.rb (Queue#push)
<dd>
<p>ditto.</p>
</dd><dt>lib/thread.rb (SizedQueue#push)
<dd>
<p>ditto.</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>add tests for the above.</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+10-3A40-3A49+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Mar  7 10:40:49 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/change_maker.rb (#diff2index)
<dd>
<p>check Encoding::BINARY. BASERUBY may still be 1.8.x.</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+08-3A47-3A42+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Mar  7 08:47:42 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a> (Mutex#owned?)
<dd>
<p>no longer experimental.</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+01-3A17-3A00+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Mar  7 01:17:00 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/thread/test_queue.rb (TestQueue#test_thr_kill)
<dd>
<p>reduce iterations from 2000 to 250. When running on uniprocessor systems,
every th.kill needs TIME_QUANTUM_USEC time (i.e. 100msec on posix systems).
Because, “r.read 1” is 3 steps operations that 1) release GVL 2) read 3)
acquire gvl and</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Mar++7+00-3A14-3A51+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Mar  7 00:14:51 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_update_max_fd)
<dd>
<p>use ATOMIC_CAS because this function is used from timer thread too.</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+14-3A21-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar  7 14:21:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>pass keyword arguments to zsuper, with current values.  [ruby-core:53114]
[Bug #8008]</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+12-3A53-3A47+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Mar  7 12:53:47 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/setup_command.rb
<dd>
<p>Install .pem files.</p>
</dd><dt>test/rubygems/test_gem_commands_setup_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/spec_fetcher.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> HTTPS upgrade with <a
href="../../classes/URI/HTTPS.html">URI::HTTPS</a>, not <a
href="../../classes/URI/HTTP.html">URI::HTTP</a>.  Fixes bug in automatic
HTTPS upgrade.</p>
</dd><dt>test/rubygems/test_gem_spec_fetcher.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems.rb
<dd>
<p>Version 2.0.2</p>
</dd><dt>lib/rubygems/test_utilities.rb
<dd>
<p>Ensure scheme and uri class match.</p>
</dd></dl>

<h3 id="label-Thu+Mar++7+10-3A39-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar  7 10:39:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (gem)
<dd>
<p><a
href="../../classes/Gem.html#method-c-ensure_gem_subdirectories">Gem.ensure_gem_subdirectories</a>
now has mode option since r39607.  refix of r38870.</p>
</dd></dl>

<h2 id="label-2013-03-06">2013-03-06</h2>

<h3 id="label-Wed+Mar++6+00-3A30-3A40+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 00:30:40 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/gen_ruby_tapset.rb
<dd>
<p>add tapset generator.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+03-3A27-3A43+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 03:27:43 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>probes.d (symbol-create)
<dd>
<p>change argument name `string&#39; to `str&#39;. `string&#39; is a keyword
for systemtap.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+23-3A30-3A21+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 23:30:21 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ARRAY_SIZE)
<dd>
<p>new.</p>
</dd><dt>thread_pthread.c (gvl_acquire_common)
<dd>
<p>use low priority notification for avoiding timer thread interval confusion.
If we use <a href="1">timer_thread_pipe</a>, every gvl_yield() request one
more gvl_yield(). It lead to thread starvation. [Bug #7999]
[ruby-core:53095]</p>
</dd><dt>thread_pthread.c (rb_reserved_fd_p)
<dd>
<p>adds timer_thread_pipe_low to reserved fds.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+22-3A36-3A19+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 22:36:19 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (rb_thread_wakeup_timer_thread_fd)
<dd>
<p>add fd argument and remove hardcoded dependency of <a
href="1">timer_thread_pipe</a>.</p>
</dd><dt>thread_pthread.c (consume_communication_pipe)
<dd>
<p>add fd argument.</p>
</dd><dt>thread_pthread.c (close_communication_pipe)
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c (timer_thread_sleep)
<dd>
<p>adjust the above changes.</p>
</dd><dt>thread_pthread.c (setup_communication_pipe_internal)
<dd>
<p>factor out pipe initialize logic.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+22-3A56-3A14+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 22:56:14 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ubf_select)
<dd>
<p>add to small comments why we need to call rb_thread_wakeup_timer_thread().</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+21-3A42-3A24+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 21:42:24 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (rb_thread_create_timer_thread)
<dd>
<p>factor out creating communication pipe logic into separate function.</p>
</dd><dt>thread_pthread.c (setup_communication_pipe)
<dd>
<p>new helper function.</p>
</dd><dt>thread_pthread.c (set_nonblock)
<dd>
<p>moves a definition before setup_communication_pipe.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+21-3A31-3A35+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 21:31:35 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (timer_thread_sleep)
<dd>
<p>use poll() instead of select(). select doesn&#39;t work if <a
href="0">timer_thread_pipe</a> is greater than FD_SETSIZE.</p>
</dd><dt>thread_pthread.c (USE_SLEEPY_TIMER_THREAD)
<dd>
<p>add a dependency against poll.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+21-3A00-3A23+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Mar  6 21:00:23 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (USE_SLEEPY_TIMER_THREAD)
<dd>
<p>use more accurate ifdef conditions.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+13-3A14-3A28+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Mar  6 13:14:28 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_spec_fetcher.rb
<dd>
<p>Removed unused variable.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+08-3A10-3A15+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Mar  6 08:10:15 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_require.rb
<dd>
<p>Fix tests when &#39;a.rb&#39; exists. [ruby-trunk - Bug #7749]</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+08-3A00-3A59+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Mar  6 08:00:59 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>Allow specification of directory permissions. [ruby-trunk - Bug #7713]</p>
</dd><dt>test/rubygems/test_gem.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+07-3A40-3A21+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Mar  6 07:40:21 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/query_command.rb
<dd>
<p>Only fetch remote specs when showing details.  [ruby-trunk - Bug #8019] 
RubyGems bug #487</p>
</dd><dt>lib/rubygems/remote_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/security/policy.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_commands_query_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/security.rb
<dd>
<p>Make <a href="../../classes/OpenSSL.html">OpenSSL</a> optional for
RubyGems.</p>
</dd><dt>lib/rubygems/commands/cert_command.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/config_file.rb
<dd>
<p>Display file with YAML error, not ~/.gemrc</p>
</dd><dt>lib/rubygems/remote_fetcher.rb
<dd>
<p>Only create gem subdirectories when installing gems.</p>
</dd><dt>lib/rubygems/dependency_resolver.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/test_utilities.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_commands_fetch_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/spec_fetcher.rb
<dd>
<p>Only try to upgrade <a href="http://rubygems.org">rubygems.org</a> to HTTPS</p>
</dd><dt>test/rubygems/test_gem_spec_fetcher.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems.rb
<dd>
<p>Update win_platform? check for JRuby compatibility.</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p>Update for Ruby 1.9.2 compatibility</p>
</dd></dl>

<h3 id="label-Wed+Mar++6+01-3A19-3A28+2013++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Mar  6 01:19:28 2013  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_with_index, lazy_take)
<dd>
<p>use INT2FIX(0) instead of INT2NUM(0).</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_exp)
<dd>
<p>ditto.</p>
</dd><dt>ext/fiddle/function.c (function_call)
<dd>
<p>ditto.</p>
</dd><dt>ext/openssl/ossl_x509store.c (ossl_x509store_initialize)
<dd>
<p>ditto.</p>
</dd><dt>process.c (proc_getsid)
<dd>
<p>ditto.</p>
</dd><dt>transcode.c (econv_finish)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-03-05">2013-03-05</h2>

<h3 id="label-Tue+Mar++5+22-3A23-3A01+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Mar  5 22:23:01 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>probes.d
<dd>
<p>added argument name</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+21-3A36-3A43+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 21:36:43 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_prepend_module)
<dd>
<p>check redefinition of built-in optimized methods.  [ruby-dev:47124] [Bug
#7983]</p>
</dd><dt>vm.c (rb_vm_check_redefinition_by_prepend)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+20-3A29-3A25+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 20:29:25 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew)
<dd>
<p>revert r39224.  [ruby-core:53038] [Bug #7988]</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+20-3A23-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 20:23:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_check_arity)
<dd>
<p>make a static inline function so it can be used as an expression and argc
would be evaluated only once.</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+12-3A30-3A55+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Mar  5 12:30:55 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>Bump version to 2.0.1 for upcoming bugfix release</p>
</dd><dt>lib/rubygems/ext/ext_conf_builder.rb
<dd>
<p>Restore ruby 1.8 compatibility for [Bug #7698]</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/rubygems/package.rb
<dd>
<p>Restore ruby 1.8 compatibility.</p>
</dd><dt>test/rubygems/test_gem_dependency_installer.rb
<dd>
<p>Fix warnings</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+12-3A24-3A23+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Mar  5 12:24:23 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_with_index)
<dd>
<p>Restore handling of a nil memo from r39594.</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+10-3A40-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 10:40:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (count_nodes)
<dd>
<p>count also newly added nodes, and fix key for unknown node.  patch by tmm1
(Aman Gupta) in [ruby-core:53130] [Bug #8014]</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+10-3A20-3A16+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 10:20:16 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_with_index_i)
<dd>
<p>allow <a href="../../classes/Bignum.html">Bignum</a> as offset, to get rid
of conversion exception and integer overflow. [ruby-dev:47131] [Bug #8010]</p>
</dd><dt>numeric.c (rb_int_succ, rb_int_pred)
<dd>
<p>shortcut optimization for <a href="../../classes/Bignum.html">Bignum</a>.</p>
</dd></dl>

<h3 id="label-Tue+Mar++5+10-3A02-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar  5 10:02:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.build)
<dd>
<p>clear DESTDIR so RUBYARCHDIR and RUBYLIBDIR are not be overridden. [Bug
#7698]</p>
</dd></dl>

<h2 id="label-2013-03-04">2013-03-04</h2>

<h3 id="label-Mon+Mar++4+15-3A33-3A40+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  4 15:33:40 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.build)
<dd>
<p>fix for unusual cases again.  install to a temporary directory once and
move installed files to the destination directory, if it is same as the
current directory.  [Bug #7698]</p>
</dd></dl>

<h3 id="label-Mon+Mar++4+14-3A13-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  4 14:13:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (miniruby, ruby)
<dd>
<p>move MAINLIBC because linker arguments must appear after object files with
newer versions of gcc.  patch by tmm1 (Aman Gupta) in [ruby-core:53121]
[Bug #8009]</p>
</dd></dl>

<h3 id="label-Mon+Mar++4+10-3A23-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Mar  4 10:23:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c
<dd>
<p>Typo in <a href="../../classes/Encoding.html">Encoding</a> overview by Tom
Wardrop [GH fixes #255]</p>
</dd></dl>

<h2 id="label-2013-03-03">2013-03-03</h2>

<h3 id="label-Sun+Mar++3+02-3A42-3A29+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar  3 02:42:29 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (consume_communication_pipe)
<dd>
<p>retry when read returned CCP_READ_BUFF_SIZE.</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+02-3A30-3A36+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Mar  3 02:30:36 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (set_nonblock)
<dd>
<p>new helper function for set O_NONBLOCK.</p>
</dd><dt>thread_pthread.c (rb_thread_create_timer_thread)
<dd>
<p>set O_NONBLOCK to <a href="0">timer_thread_pipe</a> too.</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+12-3A35-3A08+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  3 12:35:08 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#libpath_env)
<dd>
<p>set runtime library path for the case rpath is disabled.</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+12-3A17-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  3 12:17:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.hack_for_obsolete_style_gems)
<dd>
<p>remove circular dependencies in install-so too.  [ruby-core:52882] [Bug
#7698]</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+07-3A33-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Mar  3 07:33:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/tcpserver.c
<dd>
<p>Grammar for <a
href="../../classes/TCPServer.html#method-c-new">TCPServer.new</a> from
r39554</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+01-3A17-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  3 01:17:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.hack_for_obsolete_style_gems)
<dd>
<p>remove circular dependencies for old style gems which locate extconf.rb on
the toplevel.  [ruby-core:53059] [ruby-trunk - Bug #7698]</p>
</dd><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.build)
<dd>
<p>use RUBYOPT instead of -r option, and revert some tests.  [Bug #7698]</p>
</dd><dt>lib/rubygems/ext/ext_conf_builder.rb (Gem::Ext::ExtConfBuilder.build)
<dd>
<p>revert use of temporary directory for build, to work some buggy extconf.rb
which cannot build outside the source directory. [ruby-core:53056] [Bug
#7698]</p>
</dd></dl>

<h3 id="label-Sun+Mar++3+00-3A04-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  3 00:04:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/depend (CPPFLAGS), lib/mkmf.rb (MakeMakefile#create_makefile)
<dd>
<p>define RUBY_EXPORT for static-linked-ext mswin.  [Bug #7960]</p>
</dd></dl>

<h2 id="label-2013-03-02">2013-03-02</h2>

<h3 id="label-Sat+Mar++2+22-3A49-3A47+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  2 22:49:47 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (ENCOBJS, EXTOBJS, config.h)
<dd>
<p>definitions for static-linked-ext.  [Bug #7960]</p>
</dd></dl>

<h3 id="label-Sat+Mar++2+17-3A34-3A19+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Mar  2 17:34:19 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb
<dd>
<p>use <a
href="../../classes/Socket.html#method-c-tcp_server_sockets">Socket.tcp_server_sockets</a>
to create server sockets. fix [Bug #7100] <a
href="https://bugs.ruby-lang.org/issues/7100">bugs.ruby-lang.org/issues/7100</a>
reported by sho-h (Sho Hashimoto).</p>
</dd></dl>

<h3 id="label-Sat+Mar++2+02-3A45-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Mar  2 02:45:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>typo in comment patch by Nami-Doc [Github fixes #253]</p>
</dd></dl>

<h3 id="label-Sat+Mar++2+01-3A33-3A17+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Mar  2 01:33:17 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h2 id="label-2013-03-01">2013-03-01</h2>

<h3 id="label-Wed+Dec+11+03-3A18-3A08+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Dec 11 03:18:08 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def
<dd>
<p>Fix optimization bug of Float#/ [Bug #9238]</p>
</dd></dl>

<h3 id="label-Thu+Dec++5+19-3A35-3A35+2013++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Thu Dec  5 19:35:35 2013  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c
<dd>
<p>tweaked comment</p>
</dd></dl>

<h3 id="label-Wed+Nov++6+16-3A32-3A32+2013++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Nov  6 16:32:32 2013  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p>tweaked grammar in comments</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+21-3A57-3A24+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Oct 24 21:57:24 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>Remove +(binary) and -(binary) special cases [Feature #9048]</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+00-3A11-3A24+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Oct 24 00:11:24 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb
<dd>
<p>raise <a href="../../classes/NoMethodError.html">NoMethodError</a> with a
name and args. Raise <a
href="../../classes/RuntimeError.html">RuntimeError</a> when modifying
frozen instances instead of <a
href="../../classes/TypeError.html">TypeError</a>.</p>
</dd><dt>(OpenStruct#each_pair)
<dd>
<p>Return an enumerator with size</p>
</dd><dt>(OpenStruct#delete)
<dd>
<p>Use the converted argument. Patches by Kenichi Kamiya. [Fixes GH-383]</p>
</dd><dt>test/ostruct/test_ostruct.rb
<dd>
<p>Added tests for above.</p>
</dd></dl>

<h3 id="label-Thu+Oct+24+00-3A10-3A22+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Oct 24 00:10:22 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Add <a href="../../classes/Array.html#method-i-to_h">Array#to_h</a>
[Feature #7292]</p>
</dd><dt>enum.c
<dd>
<p>Add <a
href="../../classes/Enumerable.html#method-i-to_h">Enumerable#to_h</a></p>
</dd></dl>

<h3 id="label-Tue+Aug+27+11-3A51-3A37+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Tue Aug 27 11:51:37 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c
<dd>
<p>Allow <a href="../../classes/Enumerator.html">Enumerator</a> size argument
to be any callable. Patch by Avdi Grimm. [bug #8641] [ruby-core:56032] [fix
GH-362]</p>
</dd><dt>test/ruby/test_enumerator.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for above</p>
</dd></dl>

<h3 id="label-Mon+Jul++8+08-3A26-3A15+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Mon Jul  8 08:26:15 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pkey_ec.rb
<dd>
<p>Skip tests for “Oakley” curves as they are not suitable for ECDSA.
[ruby-core:54881] [Bug #8384]</p>
</dd></dl>

<h3 id="label-Sat+Jul++6+07-3A37-3A43+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Sat Jul  6 07:37:43 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_pkey_ec.c
<dd>
<p>Ensure compatibility to builds of <a
href="../../classes/OpenSSL.html">OpenSSL</a> with OPENSSL_NO_EC2M defined,
but OPENSSL_NO_EC not defined.</p>
</dd><dt>test/openssl/test_pkey_ec.rb
<dd>
<p>Iterate over built-in curves</p>
</dd><dt>(and assert their non-emptiness!) instead of hard-coding them, as this may cause problems with respect to the different availability of individual curves in individual <a href="../../classes/OpenSSL.html">OpenSSL</a> builds. [ruby-core
<dd>
<p>54881] [Bug #8384] Thanks to Vit Ondruch for providing the patch!</p>
</dd></dl>

<h3 id="label-Sat+Jul++6+07-3A12-3A39+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Sat Jul  6 07:12:39 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_x509crl.rb
<dd>
<p>Remove unused variable. [ruby-core:53501] [Bug #8114] Thanks, Vipul Amler,
for pointing this out!</p>
</dd></dl>

<h3 id="label-Sat+Jul++6+06-3A37-3A10+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Sat Jul  6 06:37:10 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>Provide CRYPTO_set_locking_callback() and CRYPTO_set_id_callback() callback
functions ossl_thread_id and ossl_lock_callback to ensure the <a
href="../../classes/OpenSSL.html">OpenSSL</a> extension is usable in
multi-threaded environments. [ruby-core:54900] [Bug #8386] Thanks, Dirkjan
Bussink, for the patch!</p>
</dd></dl>

<h3 id="label-Sat+Jul++6+06-3A06-3A16+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Sat Jul  6 06:06:16 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/openssl/ssl.rb
<dd>
<p>Fix SSL client connection crash for SAN marked critical. The patch for
CVE-2013-4073 caused SSL crash when a SSL server returns the certificate
that has critical SAN value.  X509 extension could include 2 or 3 elements
in it: [id, criticality, octet_string] if critical, [id, octet_string] if
not. Making sure to pick the last element of X509 extension and use it as
SAN value. [ruby-core:55685] [Bug #8575] Thank you @nahi for providing the
patch!</p>
</dd></dl>

<h3 id="label-Tue+Apr+23+17-3A40-3A40+2013++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Tue Apr 23 17:40:40 2013  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb, lib/rexml/element.rb, lib/rexml/formatters/pretty.rb
<dd>
<p>remove opinionated language in documentation. [Bug #8309], reported by
Charles Beckmann</p>
</dd></dl>

<h3 id="label-Mon+Apr+15+12-3A54-3A42+2013++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Mon Apr 15 12:54:42 2013  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>Correct shutdown behavior w.r.t <a href="../../classes/GC.html">GC</a>.</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>Add tests to verify correct behavior. [Bug #8240] Patch provided by Shugo
Maeda. Thanks!</p>
</dd></dl>

<h3 id="label-Sat+Apr+13+12-3A08-3A16+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Apr 13 12:08:16 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a
href="../../classes/Vector.html#method-i-cross_product">Vector#cross_product</a>,
patch by Luis Ezcurdia [fix GH-276] [rubyspec:81eec89a124]</p>
</dd></dl>

<h3 id="label-Fri+Mar++8+03-3A16-3A15+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Mar  8 03:16:15 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_mod_ancestors)
<dd>
<p>Include singleton_class in ancestors list [Feature #8035]</p>
</dd><dt>test/ruby/test_module.rb (class)
<dd>
<p>test for above</p>
</dd><dt>test/ruby/marshaltestlib.rb (module)
<dd>
<p>adapt test</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>list change</p>
</dd></dl>

<h3 id="label-Fri+Mar++1+11-3A09-3A06+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Mar  1 11:09:06 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>Revert r34669 which altered the way metaprogramming in <a
href="../../classes/FileUtils.html">FileUtils</a> occurred.  [ruby-trunk -
Bug #7958]</p>
</dd><dt>test/fileutils/visibility_tests.rb
<dd>
<p>Refactored tests of <a href="../../classes/FileUtils.html">FileUtils</a>
options modules to expose bug found in #7958</p>
</dd><dt>test/fileutils/test_dryrun.rb
<dd>
<p>ditto.</p>
</dd><dt>test/fileutils/test_nowrite.rb
<dd>
<p>ditto.</p>
</dd><dt>test/fileutils/test_verbose.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Mar++1+09-3A18-3A00+2013++Zachary+Scott+-3Czachary-40zacharyscott.net-3E">Fri Mar  1 09:18:00 2013  Zachary Scott &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/psych.rb
<dd>
<p>specify in rdoc what object is returned in parser By Adam Stankiewicz
[Github tenderlove/psych#133]</p>
</dd></dl>

<h3 id="label-Fri+Mar++1+07-3A21-3A41+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Mar  1 07:21:41 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/ext/builder.rb
<dd>
<p>Fix incompatibilities when installing extensions.  Patch by Nobu.
[ruby-trunk - Bug #7698] [ruby-trunk - Bug #7971]</p>
</dd><dt>lib/rubygems/ext/ext_conf_builder.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/installer.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_ext_ext_conf_builder.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/commands/sources_command.rb
<dd>
<p>Prefer HTTPS over HTTP.</p>
</dd><dt>lib/rubygems/defaults.rb
<dd>
<p>ditto</p>
</dd><dt>lib/rubygems/dependency_resolver.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/rubygems/source.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/spec_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/specification.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/test_utilities.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>test/rubygems/test_gem_commands_sources_command.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_dependency_resolver_api_set.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_remote_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_source.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_spec_fetcher.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Mar+1+03-3A25-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Mar 1 03:25:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>rdoc for <a href="../../classes/Psych.html">Psych</a> overview by Adam
Stankiewicz [Github tenderlove/psych#134]</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+08-3A57-3A46+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Feb 23 08:57:46 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/NEWS-*
<dd>
<p>Update <a href="../NEWS.html">NEWS</a> from their respective branches</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+08-3A14-3A43+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Feb 23 08:14:43 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>many additions for Ruby 2.0.0</p>
</dd><dt>object.c
<dd>
<p>Add doc for Module.prepended</p>
</dd></dl>

<h2 id="label-2013-02-28">2013-02-28</h2>

<h3 id="label-Thu+Feb+28+22-3A57-3A48+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Feb 28 22:57:48 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>remove redundant trace(line) instruction. for example, at the following
script def m() p:xyzzy 1 2 end compiler ignores `1&#39; because there is no
effect. However, `trace(line)&#39; instruction remains in bytecode. This
modification removes such redundant trace(line) instruction.</p>
</dd><dt>test/ruby/test_iseq.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Thu+Feb+28+22-3A23-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Feb 28 22:23:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (inspect_sockaddr)
<dd>
<p>don&#39;t show that Unix domain socket filename is bigger than
sizeof(sun_path). This limit is not rigid on some platforms such as Darwin
and SunOS.</p>
</dd></dl>

<h3 id="label-Thu+Feb+28+21-3A33-3A01+2013++WATANABE+Hirofumi++-3Ceban-40ruby-lang.org-3E">Thu Feb 28 21:33:01 2013  WATANABE Hirofumi  &lt;eban@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in(AC_DISABLE_OPTION_CHECKING)
<dd>
<p>avoid warning “WARNING: Unrecognized options: –with-PACKAGE”.</p>
</dd></dl>

<h3 id="label-Thu+Feb+28+20-3A22-3A04+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Feb 28 20:22:04 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>fix condition. r34303 introduces a bug to avoid all line information from a
result of ISeq#to_a. This is a regression problem from 2.0.0p0.</p>
</dd><dt>test/ruby/test_iseq.rb
<dd>
<p>add a test of lines after ISeq#to_a.</p>
</dd></dl>

<h3 id="label-Thu+Feb+28+08-3A20-3A33+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Feb 28 08:20:33 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/available_set.rb
<dd>
<p>Undent for style</p>
</dd><dt>lib/rubygems/dependency_installer.rb
<dd>
<p>Pick latest prerelease gem to install.  Fixes RubyGems bug #468.</p>
</dd><dt>test/rubygems/test_gem_dependency_installer.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/dependency_installer.rb
<dd>
<p>Don&#39;t display “Done installing documentation” if documentation will not
be installed.</p>
</dd><dt>lib/rubygems/rdoc.rb
<dd>
<p>ditto</p>
</dd><dt>lib/rubygems/dependency_list.rb
<dd>
<p>Use <a href="../../classes/Array.html#method-i-concat">Array#concat</a> for
Ruby 1.x performance.</p>
</dd><dt>lib/rubygems/installer.rb
<dd>
<p>Use formatted program name when comparing executables.  RubyGems pull
request #471</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>lib/rubygems/package.rb
<dd>
<p>Use more explicit feature check to work around JRuby bug #552</p>
</dd><dt>lib/rubygems/ssl_certs/GeoTrust_Global_CA.pem
<dd>
<p>Added GeoTrust root certificate.</p>
</dd><dt>test/rubygems/test_gem_source_list.rb
<dd>
<p>Use “example” instead of real hostname</p>
</dd></dl>

<h3 id="label-Thu+Feb+28+05-3A57-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Feb 28 05:57:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>rdoc formatting for <a href="../../classes/Thread.html">Thread</a>, <a
href="../../classes/ThreadGroup.html">ThreadGroup</a>, and <a
href="../../classes/ThreadError.html">ThreadError</a></p>
</dd></dl>

<h3 id="label-Thu+Feb+28+02-3A42-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Thu Feb 28 02:42:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>Typo in overview for example of <a
href="../../classes/Thread.html#method-i-status">Thread#status</a>
returning false Reported by Lee Jarvis</p>
</dd></dl>

<h2 id="label-2013-02-27">2013-02-27</h2>

<h3 id="label-Wed+Feb+27+22-3A54-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 27 22:54:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h (union_sockaddr)
<dd>
<p>make it longer for SunOS and Darwin.</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+21-3A14-3A34+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Wed Feb 27 21:14:34 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/security.rb (REXML::Security)
<dd>
<p>create.</p>
</dd><dt>lib/rexml/rexml.rb
<dd>
<p>move entity_expansion_limit and entity_expansion_text_limit accessors to …</p>
</dd><dt>lib/rexml/security.rb
<dd>
<p>… here.</p>
</dd><dt>lib/rexml/document.rb
<dd>
<p>use <a href="../../classes/REXML/Security.html">REXML::Security</a>.</p>
</dd><dt>lib/rexml/text.rb
<dd>
<p>use <a href="../../classes/REXML/Security.html">REXML::Security</a>.</p>
</dd><dt>test/rexml/test_document.rb
<dd>
<p>use <a href="../../classes/REXML/Security.html">REXML::Security</a>.</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+19-3A53-3A32+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Wed Feb 27 19:53:32 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Thread)
<dd>
<p>fix typos in overview</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+13-3A21-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 13:21:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Thread)
<dd>
<p>Typo in overview, swap setting and getting</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+13-3A02-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 13:02:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Thread)
<dd>
<p>Documentation overview of <a href="../../classes/Thread.html">Thread</a>
class</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+12-3A57-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 12:57:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_wakeup)
<dd>
<p>rdoc formatting</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+12-3A53-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 12:53:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_group)
<dd>
<p>rdoc formatting</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+12-3A33-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 12:33:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb
<dd>
<p>Typo in <a href="../../classes/OpenStruct.html">OpenStruct</a> overview
[Github Fixes #251] Patch by Chun-wei Kuo</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+12-3A13-3A32+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Feb 27 12:13:32 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h (END_INSN)
<dd>
<p>llvm-gcc may optimize out reg_cfp and cause Stack/cfp consistency error
when the instruction doesn&#39;t use reg_cfp. Usually instructions use
PUSH() but for example trace doesn&#39;t. This hack cause speed down but
you shouldn&#39;t use llvm-gcc, use clang. [Bug #7938]</p>
</dd></dl>

<h3 id="label-Wed+Feb+27+10-3A23-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 27 10:23:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_raise_m)
<dd>
<p>rdoc formatting</p>
</dd></dl>

<h2 id="label-2013-02-26">2013-02-26</h2>

<h3 id="label-Tue+Feb+26+23-3A32-3A44+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Feb 26 23:32:44 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb
<dd>
<p>move entity_expansion_limit accessor to …</p>
</dd><dt>lib/rexml/rexml.rb
<dd>
<p>… here for consistency.</p>
</dd><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_limit)
<dd>
<p>deprecated.</p>
</dd><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_limit=)
<dd>
<p>deprecated.</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+23-3A26-3A13+2013++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Feb 26 23:26:13 2013  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb
<dd>
<p>move entity_expansion_text_limit accessor to …</p>
</dd><dt>lib/rexml/rexml.rb
<dd>
<p>… here to make rexml/text independent from <a
href="../../classes/REXML/Document.html">REXML::Document</a>. It causes
circular require.</p>
</dd><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_text_limit)
<dd>
<p>deprecated.</p>
</dd><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_text_limit=)
<dd>
<p>deprecated.</p>
</dd><dt>lib/rexml/text.rb
<dd>
<p>add missing require “rexml/rexml” for REXML.entity_expansion_text_limit.
Reported by Robert Ulejczyk. Thanks!!! [ruby-core:52895] [Bug #7961]</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+15-3A12-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 26 15:12:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/mkconfig.rb
<dd>
<p>reconstruct comma separated list values.  a command line to Windows batch
file is split not only by spaces and equal signs but also by commas and
semicolons.</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+15-3A04-3A19+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 26 15:04:19 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (unexpand_shvar)
<dd>
<p>get rid of non-portable shell behavior on OpenBSD, so no extra quotes. 
[Bug #7959]</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+10-3A24-3A49+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 26 10:24:49 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (IS_LABEL_POSSIBLE)
<dd>
<p>allow labels for keyword arguments just after method definition without a
parenthesis.  [ruby-core:52820] [Bug #7942]</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+04-3A50-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Feb 26 04:50:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>clarify reason for sleep in <a
href="../../classes/SignalException.html">SignalException</a> example</p>
</dd></dl>

<h3 id="label-Tue+Feb+26+03-3A47-3A00+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Feb 26 03:47:00 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>clarify a document of <a
href="../../classes/SignalException.html">SignalException</a>. <a
href="../../classes/Process.html#method-c-kill">Process.kill</a>
doesn&#39;t have any guarantee when signal will be delivered. [Bug #7951]
[ruby-core:52864]</p>
</dd></dl>

<h2 id="label-2013-02-25">2013-02-25</h2>

<h3 id="label-Mon+Feb+25+23-3A51-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 25 23:51:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/version.h
<dd>
<p>bump RUBY_API_VERSION same as RUBY_VERSION.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+21-3A03-3A34+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Feb 25 21:03:34 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_byte_substr)
<dd>
<p>don&#39;t set coderange if it&#39;s not known. [Bug #7954] [ruby-dev:47108]</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+16-3A47-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 25 16:47:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (realclean-local)
<dd>
<p>miniprelude.c is made by srcs, so it should not removed by distclean but by
realclean.  [Bug #6807]</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+16-3A30-3A30+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Mon Feb 25 16:30:30 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/config_file.rb
<dd>
<p>Lazily load .gem/credentials to only check permissions when necessary. 
RubyGems bug #465</p>
</dd><dt>test/rubygems/test_gem_config_file.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>test/rubygems/test_gem_commands_push_command.rb
<dd>
<p>Remove duplicated test.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+15-3A47-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 25 15:47:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/depend (ARFLAGS)
<dd>
<p>VisualC++ linker does not allow spaces between output option and the output
file name.  [Bug #7950]</p>
</dd><dt>enc/depend (RANLIB)
<dd>
<p>set default command to do nothing, or make the entire line a label on
Windows.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+14-3A41-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 25 14:41:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#init_mkmf)
<dd>
<p>default libdirname to libdir.</p>
</dd><dt>tool/rbinstall.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+13-3A12-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 25 13:12:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (setup)
<dd>
<p>find Setup file from target_os 1. by suffix (e.g. Setup.nacl,
Setup.atheos), 2. by “platform” option (e.g. Setup.nt, Setup.emx), and 3.
default Setup.  And Setup.dj had been removed.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+12-3A48-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Mon Feb 25 12:48:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Document <a href="../../classes/Thread.html#method-c-new">Thread.new</a>,
clean up ::fork and mention calling super if subclassing <a
href="../../classes/Thread.html">Thread</a></p>
</dd></dl>

<h3 id="label-Mon+Feb+25+12-3A38-3A50+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 25 12:38:50 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>don&#39;t test ss_family and ss_len member of struct sockaddr_storage. 
They are not used now except SunOS specific code.</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+11-3A03-3A38+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Feb 25 11:03:38 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (unexpand_shvar)
<dd>
<p>Use the numeric comparison operator instead of &#39;==&#39; which is a ksh
extension. [Bug #7941]</p>
</dd></dl>

<h3 id="label-Mon+Feb+25+02-3A37-3A56+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 25 02:37:56 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>define and use union_sockaddr instead of struct sockaddr_storage for less
casts.</p>
</dd><dt>ext/socket/rubysocket.h (union_sockaddr)
<dd>
<p>defined.</p>
</dd><dt>ext/socket/socket.c (sock_accept)
<dd>
<p>use union_sockaddr.</p>
</dd><dt>(sock_accept_nonblock)
<dd>
<p>ditto.</p>
</dd><dt>(sock_sysaccept)
<dd>
<p>ditto.</p>
</dd><dt>(sock_s_getnameinfo)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/basicsocket.c (bsock_getsockname)
<dd>
<p>ditto.</p>
</dd><dt>(bsock_getpeername)
<dd>
<p>ditto.</p>
</dd><dt>(bsock_local_address)
<dd>
<p>ditto.</p>
</dd><dt>(bsock_remote_address)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/init.c (recvfrom_arg)
<dd>
<p>ditto.</p>
</dd><dt>(recvfrom_blocking)
<dd>
<p>ditto.</p>
</dd><dt>(rsock_s_recvfrom)
<dd>
<p>ditto.</p>
</dd><dt>(rsock_s_recvfrom_nonblock)
<dd>
<p>ditto.</p>
</dd><dt>(rsock_getfamily)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/raddrinfo.c (rb_addrinfo_t)
<dd>
<p>ditto.</p>
</dd><dt>(ai_get_afamily)
<dd>
<p>ditto.</p>
</dd><dt>(inspect_sockaddr)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_mdump)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_mload)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_getnameinfo)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_ip_port)
<dd>
<p>ditto.</p>
</dd><dt>(extract_in_addr)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_ipv6_to_ipv4)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_unix_path)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/tcpserver.c (tcp_accept)
<dd>
<p>ditto.</p>
</dd><dt>(tcp_accept_nonblock)
<dd>
<p>ditto.</p>
</dd><dt>(tcp_sysaccept)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/ipsocket.c (ip_addr)
<dd>
<p>ditto.</p>
</dd><dt>(ip_peeraddr)
<dd>
<p>ditto.</p>
</dd><dt>(ip_s_getaddress)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-02-24">2013-02-24</h2>

<h3 id="label-Sun+Feb+24+21-3A15-3A05+2013++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sun Feb 24 21:15:05 2013  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>[ruby-core:52303]</p>
</dd></dl>

<h3 id="label-Sun+Feb+24+15-3A33-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 24 15:33:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rb_random_ulong_limited)
<dd>
<p>limit is inclusive, but generic rand method should return a number less
than it, so increase for the difference.  [ruby-core:52779] [Bug #7935]</p>
</dd></dl>

<h3 id="label-Sun+Feb+24+15-3A32-3A36+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 24 15:32:36 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rb_random_ulong_limited)
<dd>
<p>limit is inclusive, but generic rand method should return a number less
than it, so increase for the difference.  [ruby-core:52779] [Bug #7935]</p>
</dd></dl>

<h3 id="label-Sun+Feb+24+15-3A14-3A43+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Feb 24 15:14:43 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>Removed duplicate Accept-Encoding in <a
href="../../classes/Net/HTTP.html#method-i-get">Net::HTTP#get</a>.
[ruby-trunk - Bug #7924]</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Sun+Feb+24+13-3A35-3A57+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 24 13:35:57 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>block level control frame does not have method entry, so obtain the method
entry from method top-level control frame to be compared with refined
method entry. [ruby-core:52750] [Bug #7925]</p>
</dd></dl>

<h3 id="label-Sun+Feb+24+07-3A50-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 24 07:50:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments)
<dd>
<p>no keyword check if any keyword rest argument exists, even unnamed. 
[ruby-core:52744] [Bug #7922]</p>
</dd></dl>

<h2 id="label-2013-02-23">2013-02-23</h2>

<h3 id="label-Sat+Feb+23+16-3A51-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 16:51:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Documentation for <a
href="../../classes/Thread.html#method-i-backtrace_locations">Thread#backtrace_locations</a></p>
</dd></dl>

<h3 id="label-Sat+Feb+23+16-3A05-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 16:05:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>Typo in <a
href="../../classes/ObjectSpace/WeakMap.html">ObjectSpace::WeakMap</a>
overview</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+16-3A00-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 16:00:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Improved rdoc for ::handle_interrupt, ::pending_interrupt? and
pending_interrupt?</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+12-3A26-3A43+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sat Feb 23 12:26:43 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el (ruby-electric-curlies, ruby-electric-matching-char, ruby-electric-bar)
<dd>
<p>Avoid electric insertion when there is a prefix argument.</p>
</dd><dt>misc/ruby-electric.el (ruby-electric-insert, ruby-electric-cua-replace-region-p, ruby-electric-cua-replace-region)
<dd>
<p>Avoid electric insertion and fall back when cua-mode is enabled and a
region is active.</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+12-3A35-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 12:35:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Document #&lt;=&gt; return values and formatting</p>
</dd><dt>bignum.c
<dd>
<p>ditto</p>
</dd><dt>file.c
<dd>
<p>ditto</p>
</dd><dt>object.c
<dd>
<p>ditto</p>
</dd><dt>numeric.c
<dd>
<p>ditto</p>
</dd><dt>rational.c
<dd>
<p>ditto</p>
</dd><dt>string.c
<dd>
<p>ditto</p>
</dd><dt>time.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+10-3A50-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 10:50:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_diff, rb_ary_and, rb_ary_or)
<dd>
<p>Document return order [RubySpec #7803]</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+10-3A17-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb 23 10:17:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_comp)
<dd>
<p>Documenting Object#&lt;=&gt; return values Patch by Stefan Rusterholz</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+09-3A48-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 23 09:48:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (file_s_fnmatch, fnmatch_brace)
<dd>
<p>encoding-incompatible pattern and string do not match, instead of
exception.  [ruby-dev:47069] [Bug #7911]</p>
</dd></dl>

<h3 id="label-Sat+Feb+23+07-3A52-3A53+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 23 07:52:53 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/ruby.pc.in
<dd>
<p>reorder library flags which may refer library names.  [Bug #7913]</p>
</dd></dl>

<h2 id="label-2013-02-22">2013-02-22</h2>

<h3 id="label-Fri+Feb+22+23-3A46-3A20+2013++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Fri Feb 22 23:46:20 2013  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_text_limit)
<dd>
<p>fix a typo in comment in r39384.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+18-3A31-3A46+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Feb 22 18:31:46 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb (REXML::Document.entity_expansion_text_limit)
<dd>
<p>new attribute to read/write entity expansion text limit.  the default limit
is 10Kb.</p>
</dd><dt>lib/rexml/text.rb (REXML::Text.unnormalize)
<dd>
<p>check above attribute.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+17-3A36-3A23+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Feb 22 17:36:23 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_rbconfig.rb (TestRbConfig)
<dd>
<p>fix r39372. It must see RbConfig::CONFIG instead of CONFIG.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+14-3A55-3A41+2013++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Fri Feb 22 14:55:41 2013  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (ruby_abort)
<dd>
<p>fix typo in r39354 [Bug #5014]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+12-3A46-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 22 12:46:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rb_random_ulong_limited)
<dd>
<p>fix error message for negative value.  [ruby-dev:47061] [Bug #7903]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+11-3A36-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 22 11:36:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_rbconfig.rb (TestRbConfig)
<dd>
<p>skip user defined values by configuration options.  [Bug #7902]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+11-3A33-3A42+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 22 11:33:42 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#init_mkmf)
<dd>
<p>adjust default library path for multiarch.  [Bug #7874]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+11-3A10-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Feb 22 11:10:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (Enumerable#chunk
<dd>
<p>Improved examples, grammar, and formatting Patch by Dan Bernier and Rich
Bruchal of newhaven.rb [Github documenting-ruby/ruby#8]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+11-3A00-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Feb 22 11:00:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>Examples and formatting for <a
href="../../classes/Numeric.html">Numeric</a> and <a
href="../../classes/Float.html">Float</a> Based on a patch by Zach Morek
and Oren K of newhaven.rb [Github documenting-ruby/ruby#5]</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+07-3A04-3A41+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Feb 22 07:04:41 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/installer.rb (build_extensions)
<dd>
<p>Create extension install destination before building extension.  Patch by
Kenta Murata. [ruby-trunk - Bug #7897]</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+06-3A30-3A57+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Feb 22 06:30:57 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>Document what setting $DEBUG does.</p>
</dd><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>Added pointer to $-d for full documentation.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+06-3A27-3A07+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Feb 22 06:27:07 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>Document what setting $VERBOSE does.  [Bug #7899]</p>
</dd><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>Added pointer to $-w and $-v for full documentation.</p>
</dd></dl>

<h3 id="label-Fri+Feb+22+02-3A33-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Fri Feb 22 02:33:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/abbrev.rb
<dd>
<p>Add words parameter to <a
href="../../classes/Abbrev.html#method-c-abbrev">Abbrev.abbrev</a> Patch by
Devin Weaver [Github documenting-ruby/ruby#7]</p>
</dd></dl>

<h2 id="label-2013-02-21">2013-02-21</h2>

<h3 id="label-Thu+Feb+21+17-3A28-3A14+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Feb 21 17:28:14 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/merger.rb
<dd>
<p>add interaction when only <a href="../ChangeLog.html">ChangeLog</a> is
modified.</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+16-3A34-3A46+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 21 16:34:46 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>extract duplicated code and get rid of declaration-after-statement.  [Bug
#5014]</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+14-3A14-3A13+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 14:14:13 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (sigsegv)
<dd>
<p>avoid to use async signal unsafe functions when nested sigsegv is happen.
[Bug #5014] [ruby-dev:44082]</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+13-3A47-3A59+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 13:47:59 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_group_member)
<dd>
<p>added an error check. SUS says, getgroups(small_value) may return EINVAL.</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+13-3A37-3A07+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 13:37:07 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (RB_MAX_GROUPS)
<dd>
<p>moved to</p>
</dd><dt>internal.h (RB_MAX_GROUPS)
<dd>
<p>here.</p>
</dd><dt>file.c (rb_group_member)
<dd>
<p>use RB_MAX_GROUPS instead of RUBY_GROUP_MAX. They are the same.</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+13-3A15-3A40+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 13:15:40 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (access_internal)
<dd>
<p>removed.</p>
</dd><dt>file.c (rb_file_readable_real)
<dd>
<p>use access() instead of access_internal().</p>
</dd><dt>file.c (rb_file_writable_real)
<dd>
<p>ditto.</p>
</dd><dt>file.c (rb_file_executable_real)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+13-3A04-3A59+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 13:04:59 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (eaccess)
<dd>
<p>use access() when not using setuid nor setgid. This is minor optimization.</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+12-3A56-3A19+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 21 12:56:19 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_group_member)
<dd>
<p>get rid of NGROUPS dependency. [Bug #7886] [ruby-core:52537]</p>
</dd></dl>

<h3 id="label-Thu+Feb+21+12-3A45-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 21 12:45:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (ruby_init_loadpath_safe)
<dd>
<p>try two levels upper for stripping libdir name.  [Bug #7874]</p>
</dd><dt>configure.in (libdir_basename)
<dd>
<p>expand with multiarch in configure, not to defer the expansion till
ruby.pc.in and mkmf.rb.  [Bug #7874]</p>
</dd><dt>configure.in (libdir_basename)
<dd>
<p>also -rpath and -install_name flags are affected when libruby directory
changes.  [Bug #7874]</p>
</dd></dl>

<h2 id="label-2013-02-20">2013-02-20</h2>

<h3 id="label-Wed+Feb+20+14-3A28-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 14:28:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Document ThreadGroup::Default</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+14-3A23-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 14:23:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Grammar for backtrace_locations and ::handle_interrupt</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+13-3A23-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 13:23:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>Document methods receiving string and convert to symbol Patch by Stefan
Rusterholz</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto</p>
</dd><dt>vm_method.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+07-3A20-3A56+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Feb 20 07:20:56 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (sigsegv)
<dd>
<p>suppress unused result warning. Because write(2) is marked
<em>warn_unused_result</em> on Linux glibc.</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+19-3A27-3A02+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 20 19:27:02 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (HAVE_RB_SCAN_ARGS_OPTIONAL_HASH)
<dd>
<p>for rb_scan_args() optional hash feature.  [Bug #7861]</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+18-3A02-3A26+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 20 18:02:26 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (target_os)
<dd>
<p>do not strip -gnu suffix on Linux if –target is given explicitly.  [Bug
#7874]</p>
</dd><dt>configure.in (libdirname)
<dd>
<p>adjust library path name which libruby files will be installed.  [Bug
#7874]</p>
</dd><dt>tool/rbinstall.rb (libdir)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+13-3A37-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 13:37:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pty/pty.c
<dd>
<p>Documentation for the <a href="../../classes/PTY.html">PTY</a> module</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+12-3A18-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 12:18:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>Document <a href="../../classes/Data.html">Data</a> class [Bug #7890]
[ruby-core:52549] Patch by Matthew Mongeau</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+11-3A50-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Wed Feb 20 11:50:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mutex_m.rb
<dd>
<p>Add rdoc for <a href="../../classes/Mutex_m.html">Mutex_m</a> module</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+09-3A34-3A43+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Feb 20 09:34:43 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/update_command.rb
<dd>
<p>Create the installer after options are processed.  [ruby-trunk - Bug #7779]</p>
</dd><dt>test/rubygems/test_gem_commands_update_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Wed+Feb+20+07-3A51-3A19+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Feb 20 07:51:19 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/installer.rb
<dd>
<p>Use gsub instead of gsub! to avoid altering @bin_dir.  Fixes tests on
windows.  [ruby-trunk - Bug #7885]</p>
</dd></dl>

<h2 id="label-2013-02-19">2013-02-19</h2>

<h3 id="label-Tue+Feb+19+20-3A50-3A00+2013++Kenta+MURATA++-3Cmrkn-40mrkn.jp-3E">Tue Feb 19 20:50:00 2013  Kenta MURATA  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>bump to 1.2.0. [ruby-core:51777] [Bug #7761]</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+13-3A07-3A25+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Feb 19 13:07:25 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/syslog/syslog.c (Init_syslog)
<dd>
<p>Define inspect as a singleton method and remove it as an instance method.
[Bug #6502]</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+12-3A30-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Tue Feb 19 12:30:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>rdoc formatting for Kernel#Array()</p>
</dd><dt>array.c
<dd>
<p>Add rdoc for Array() method to Creating Arrays section</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+10-3A35-3A52+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Feb 19 10:35:52 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c (class <a href="../../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>Use only inner parenthesis in create_extension examples.</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+10-3A27-3A12+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Feb 19 10:27:12 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c (class <a href="../../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>Fixed ExtensionFactory example. Patch by Richard Bradley.  [ruby-trunk -
Bug #7551]</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+08-3A32-3A11+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Feb 19 08:32:11 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call0_body)
<dd>
<p>check interrupts after method dispatch from C methods. [Bug #7878]</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+08-3A14-3A40+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Feb 19 08:14:40 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/installer.rb
<dd>
<p>Fixed placement of executables with –user-install.  [ruby-trunk - Bug
#7779]</p>
</dd><dt>test/rubygems/test_gem_installer.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for above.</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+06-3A04-3A06+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Feb 19 06:04:06 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump
<dd>
<p>FreeBSD ports&#39; libexecinfo&#39;s backtrace(3) can&#39;t trace beyond
signal trampoline, and as described in r38342 it can&#39;t trace on -O
because it see stack frame pointers. libunwind unw_backtrace see dwarf
information in the binary and it works with -O (without frame pointers).</p>
</dd><dt>configure.in
<dd>
<p>remove r38342&#39;s hack and check libunwind.</p>
</dd></dl>

<h3 id="label-Tue+Feb+19+04-3A26-3A29+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Feb 19 04:26:29 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check whether backtrace(3) works well or not.</p>
</dd><dt>vm_dump.c
<dd>
<p>set HAVE_BACKTRACE 0 if BROKEN_BACKTRACE.</p>
</dd></dl>

<h2 id="label-2013-02-18">2013-02-18</h2>

<h3 id="label-Mon+Feb+18+16-3A30-3A18+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Feb 18 16:30:18 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ipaddr.rb (IPAddr#in6_addr)
<dd>
<p>Fix a typo with the closing parenthesis.</p>
</dd></dl>

<h3 id="label-Mon+Feb+18+12-3A32-3A24+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Feb 18 12:32:24 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ipaddr.rb (IPAddr#in6_addr)
<dd>
<p>Fix the parser so that it can recognize IPv6 addresses with only one edge
16-bit piece compressed, like [::2:3:4:5:6:7:8] or [1:2:3:4:5:6:7::]. [Bug
#7477]</p>
</dd></dl>

<h3 id="label-Mon+Feb+18+10-3A09-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 18 10:09:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (unexpand_shvar)
<dd>
<p>regularize a shell variable by unexpanding shell variables in it.</p>
</dd></dl>

<h2 id="label-2013-02-17">2013-02-17</h2>

<h3 id="label-Sun+Feb+17+20-3A55-3A44+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 17 20:55:44 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (rb_invcmp)
<dd>
<p>compare by inversed comparison, with preventing from infinite recursion. 
[ruby-core:52305] [Bug #7870]</p>
</dd><dt>string.c (rb_str_cmp_m), time.c (time_cmp)
<dd>
<p>get rid of infinite recursion.</p>
</dd></dl>

<h3 id="label-Sun+Feb+17+17-3A23-3A22+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 17 17:23:22 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>remove extra topdir in VPATH, which was in win32/Makefile.sub for some
reason and moved from there. [ruby-dev:46998] [Bug #7864]</p>
</dd></dl>

<h3 id="label-Sun+Feb+17+01-3A19-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb 17 01:19:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/y.rb
<dd>
<p>Document Kernel#y by Adam Stankiewicz [Github tenderlove/psych#127]</p>
</dd></dl>

<h3 id="label-Sun+Feb+17+00-3A52-3A14+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Feb 17 00:52:14 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/mkconfig.rb
<dd>
<p>remove prefix from rubyarchdir. r39267 expands variables, it changes
expansion timing, breaks <a href=""includedir"">RbConfig::CONFIG</a> and
building extension libraries with installed ruby.</p>
</dd></dl>

<h2 id="label-2013-02-16">2013-02-16</h2>

<h3 id="label-Sat+Feb+16+20-3A51-3A17+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Feb 16 20:51:17 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (ENV_IN_HEAP_P)
<dd>
<p>fix off-by-one error.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+20-3A47-3A16+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sat Feb 16 20:47:16 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (LIBRUBY_DLDFLAGS)
<dd>
<p>Fix a bug where –with-opt-dir options given were not reflected to
LIBRUBY_DLDFLAGS on many platforms including Linux and other GNU-based
systems, NetBSD, AIX and BeOS.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+20-3A43-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 20:43:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (rsock_recvmsg)
<dd>
<p>ignore truncated part of socket address returned from recvmsg().</p>
</dd><dt>ext/socket/init.c (recvfrom_blocking)
<dd>
<p>ignore truncated part of socket address returned from recvfrom().</p>
</dd><dt>(rsock_s_recvfrom_nonblock)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+20-3A05-3A26+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sat Feb 16 20:05:26 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb
<dd>
<p>fixed typo patched by Hiroki Matsue via <a
href="https://github.com/ruby/ruby/pull/248">github.com/ruby/ruby/pull/248</a></p>
</dd></dl>

<h3 id="label-Sat+Feb+16+16-3A08-3A35+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Feb 16 16:08:35 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_thread_mark)
<dd>
<p>mark a working <a href="../../classes/Proc.html">Proc</a> of bmethod</p>
</dd><dt>(a method defined by define_method) even if the method was removed. We could not trace working <a href="../../classes/Proc.html">Proc</a> object which represents the body of bmethod if the method was removed (alias/undef/overridden). Simply, it was mark miss. This patch by Kazuki Tsujimoto. [Bug #7825] NOTE
<dd>
<p>We can brush up this marking because we do not need to mark `me&#39; on
each living control frame. We need to mark `me&#39;s only if `me&#39; was
free&#39;ed. This is future work after Ruby 2.0.0.</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+15-3A45-3A56+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Feb 16 15:45:56 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_binding_new_with_cfp)
<dd>
<p>create binding object even if the frame is IFUNC. But return a ruby-level
binding to keep compatibility. This patch fix degradation introduced from
r39067. [Bug #7774] [ruby-dev:46960]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+13-3A40-3A13+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 16 13:40:13 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (shvar_to_cpp)
<dd>
<p>do not substitute exec_prefix itself with RUBY_EXEC_PREFIX, which cause
recursive definition. [ruby-core:52296] [Bug #7860]</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+13-3A13-3A04+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 16 13:13:04 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/io-console.gemspec
<dd>
<p>bump to 0.4.2.  now explicitly requires ruby 1.9.3 or later.  [Bug #7847]</p>
</dd><dt>ext/io/console/console.c (console_dev)
<dd>
<p>compatibility with ruby 1.8.</p>
</dd><dt>ext/io/console/console.c (rawmode_opt, console_dev)
<dd>
<p>compatibility with ruby 1.9.  [ruby-core:52220] [Bug #7847]</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+12-3A45-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 16 12:45:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>unexpand arch sitearch and exec_prefix values, so directly specified
bindir, libdir, rubyprefix, etc can be properly substituted. 
[ruby-core:52296] [Bug #7860]</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+12-3A15-3A20+2013++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Feb 16 12:15:20 2013  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>add dtrace probe for symbol create.</p>
</dd><dt>probes.d
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+09-3A27-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 09:27:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>don&#39;t test sys/feature_tests.h which is not used now. It was included
in r7901 as “bug of gcc 3.0 on Solaris 8 ?”.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+09-3A24-3A37+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 09:24:37 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>reorder header tests to consider inclusion order in rubysocket.h.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+08-3A42-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 08:42:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in, ext/socket/extconf.rb
<dd>
<p>test netinet/in_systm.h in ext/socket/extconf.rb instead of configure.in.
Originally, netinet/in_systm.h is included for NextStep, OpenStep, and
Rhapsody.  [ruby-core:1596]</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+07-3A55-3A40+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 07:55:40 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>don&#39;t test xti.h here.</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p>test xti.h here. Originally, xti.h is included for IRIX [ruby-core:14447].</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+07-3A16-3A49+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 07:16:49 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test struct sockaddr_un and its member, sun_len.</p>
</dd><dt>ext/socket/sockport.h (INIT_SOCKADDR_UN)
<dd>
<p>new macro defined.</p>
</dd><dt>ext/socket/socket.c (sock_s_pack_sockaddr_un)
<dd>
<p>use INIT_SOCKADDR_UN.</p>
</dd><dt>ext/socket/unixsocket.c (rsock_init_unixsock)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/raddrinfo.c (init_unix_addrinfo)
<dd>
<p>ditto.</p>
</dd><dt>(addrinfo_mload)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+07-3A05-3A59+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 07:05:59 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/sockport.h (INIT_SOCKADDR_IN)
<dd>
<p>don&#39;t need family argument.  it is always AF_INET.</p>
</dd><dt>ext/socket/raddrinfo.c (make_inetaddr)
<dd>
<p>follow INIT_SOCKADDR_IN change.</p>
</dd><dt>(addrinfo_ipv6_to_ipv4)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+04-3A21-3A07+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Feb 16 04:21:07 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>workaround for mswin/mingw build problem. sendmsg emulation in
win32/win32.c is not enough.</p>
</dd></dl>

<h3 id="label-Sat+Feb+16+00-3A19-3A20+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 16 00:19:20 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>use all all tested available headers for have_func.</p>
</dd></dl>

<h2 id="label-2013-02-15">2013-02-15</h2>

<h3 id="label-Fri+Feb+15+22-3A21-3A37+2013++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Feb 15 22:21:37 2013  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix a bug introduced in r38342 that the cflagspat substitution is messed up
by the way CFLAGS and optflags are modified, which affected FreeBSD and
NetBSD/amd64 when configured to use libexecinfo.  This bug resulted in
CFLAGS and CXXFLAGS in RbConfig::CONFIG having warnflags expanded in them,
forcing third-party C/C++ extensions to follow what warnflags demands, like
ANSI/ISO-C90 conformance.  ref [Bug #7101]</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+20-3A29-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 20:29:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/sockport.h (SET_SIN_LEN)
<dd>
<p>defined for strict-aliasing rule.</p>
</dd><dt>(INIT_SOCKADDR_IN)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/raddrinfo.c (make_inetaddr)
<dd>
<p>use INIT_SOCKADDR_IN.</p>
</dd><dt>(addrinfo_ipv6_to_ipv4)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+18-3A24-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 15 18:24:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#try_run)
<dd>
<p>bail out explicitly if cross compiling, because it cannot work of course.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+12-3A34-3A58+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 12:34:58 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test struct sockaddr_storage directly.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>use HAVE_TYPE_STRUCT_SOCKADDR_STORAGE.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+12-3A26-3A13+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 12:26:13 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/getaddrinfo.c (GET_AI)
<dd>
<p>don&#39;t cast 1st argument for INIT_SOCKADDR.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+08-3A12-3A11+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 08:12:11 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/sockport.h (SET_SS_LEN)
<dd>
<p>removed.</p>
</dd><dt>(SET_SIN_LEN)
<dd>
<p>removed.</p>
</dd><dt>(INIT_SOCKADDR)
<dd>
<p>new macro.</p>
</dd><dt>ext/socket/ancdata.c (extract_ipv6_pktinfo)
<dd>
<p>use INIT_SOCKADDR.</p>
</dd><dt>ext/socket/raddrinfo.c (make_inetaddr)
<dd>
<p>use INIT_SOCKADDR.</p>
</dd><dt>(addrinfo_ipv6_to_ipv4)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/getaddrinfo.c (GET_AI)
<dd>
<p>use INIT_SOCKADDR.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+07-3A49-3A27+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Feb 15 07:49:27 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc.rb
<dd>
<p>Update to release version of 4.0.0</p>
</dd><dt>lib/rubygems.rb
<dd>
<p>Update to release version of 2.0.0</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+07-3A07-3A27+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 07:07:27 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/sockport.h (SA_LEN)
<dd>
<p>removed because unused now.</p>
</dd><dt>(SS_LEN)
<dd>
<p>ditto.</p>
</dd><dt>(SIN_LEN)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+15+00-3A15-3A31+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb 15 00:15:31 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/sockport.h (VALIDATE_SOCKLEN)
<dd>
<p>new macro to validate sa_len member of 4.4BSD socket address.</p>
</dd><dt>ext/socket/getnameinfo.c (getnameinfo)
<dd>
<p>use VALIDATE_SOCKLEN, instead of SA_LEN.</p>
</dd><dt>ext/socket/socket.c (sock_s_getnameinfo)
<dd>
<p>use VALIDATE_SOCKLEN instead of SS_LEN.</p>
</dd></dl>

<h2 id="label-2013-02-14">2013-02-14</h2>

<h3 id="label-Thu+Feb+14+10-3A45-3A31+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Feb 14 10:45:31 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_setsid)
<dd>
<p>Added a workaround for MacOS X. Patch by nagachika. [Bug #7826]
[ruby-core:52126]</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+22-3A25-3A54+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Feb 14 22:25:54 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sockaddr_len)
<dd>
<p>extracted from sockaddr_obj.</p>
</dd><dt>(sockaddr_obj)
<dd>
<p>add an argument to length of socket address.</p>
</dd><dt>(socket_s_ip_address_list)
<dd>
<p>call sockaddr_obj with actual socket address length if given, use
sockaddr_len otherwise.</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+20-3A11-3A23+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Feb 14 20:11:23 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>always operate length of socket address companion with socket address.</p>
</dd><dt>ext/socket/rubysocket.h (rsock_make_ipaddr)
<dd>
<p>add an argument for socket address length.</p>
</dd><dt>(rsock_ipaddr)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/ipsocket.c (ip_addr)
<dd>
<p>pass length to rsock_ipaddr.</p>
</dd><dt>(ip_peeraddr)
<dd>
<p>ditto.</p>
</dd><dt>(ip_s_getaddress)
<dd>
<p>pass length to rsock_make_ipaddr.</p>
</dd><dt>ext/socket/socket.c (make_addrinfo)
<dd>
<p>pass length to rsock_ipaddr.</p>
</dd><dt>(sock_s_getnameinfo)
<dd>
<p>pass actual address length to rb_getnameinfo.</p>
</dd><dt>(sock_s_unpack_sockaddr_in)
<dd>
<p>pass length to rsock_make_ipaddr.</p>
</dd><dt>ext/socket/init.c (rsock_s_recvfrom)
<dd>
<p>pass length to rsock_ipaddr.</p>
</dd><dt>(rsock_s_recvfrom_nonblock)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/tcpsocket.c (tcp_sockaddr)
<dd>
<p>pass length to rsock_make_ipaddr.</p>
</dd><dt>ext/socket/raddrinfo.c (make_ipaddr0)
<dd>
<p>add an argument for socket address length.  pass the length to
rb_getnameinfo.</p>
</dd><dt>(rsock_ipaddr)
<dd>
<p>ditto.</p>
</dd><dt>(rsock_make_ipaddr)
<dd>
<p>add an argument for socket address length. pass the length to make_ipaddr0.</p>
</dd><dt>(make_inetaddr)
<dd>
<p>pass length to make_ipaddr0. a local variable renamed.</p>
</dd><dt>(host_str)
<dd>
<p>a local variable renamed.</p>
</dd><dt>(port_str)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+14-3A31-3A43+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Feb 14 14:31:43 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>Removed <a href="../../classes/OpenSSL.html">OpenSSL</a> dependency from <a
href="../../classes/Net/HTTP.html">Net::HTTP</a>.</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p>Remove <a href="../../classes/Zlib.html">Zlib</a> dependency from tests.</p>
</dd><dt>test/net/http/test_http_request.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+11-3A08-3A15+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 14 11:08:15 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (include_modules_at)
<dd>
<p>detect cyclic prepend with original method table.  [ruby-core:52205] [Bug
#7841]</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+10-3A30-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 14 10:30:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>call method_removed hook on called class, not on prepending iclass. 
[ruby-core:52207] [Bug #7843]</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+10-3A05-3A57+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Feb 14 10:05:57 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http
<dd>
<p>Do not handle Content-Encoding when the user sets Accept-Encoding.  This
allows users to handle Content-Encoding for themselves.  This restores
backwards-compatibility with Ruby 1.x. [ruby-trunk - Bug #7831]</p>
</dd><dt>lib/net/http/generic_request.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/net/http/response.rb
<dd>
<p>ditto</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd><dt>test/net/http/test_http_request.rb
<dd>
<p>ditto.</p>
</dd><dt>test/net/http/test_httpresponse.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb+14+08-3A18-3A47+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Feb 14 08:18:47 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>don&#39;t define HAVE_SA_LEN and HAVE_SA_LEN. use
HAVE_STRUCT_SOCKADDR_SA_LEN and HAVE_STRUCT_SOCKADDR_IN_SIN_LEN instead.</p>
</dd></dl>

<h2 id="label-2013-02-13">2013-02-13</h2>

<h3 id="label-Wed+Feb+13+20-3A59-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 13 20:59:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>don&#39;t define socklen_t here, just test.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>define socklen_t if not available.</p>
</dd></dl>

<h3 id="label-Wed+Feb+13+18-3A37-3A50+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 13 18:37:50 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew)
<dd>
<p>skip prepending modules and return the method bound on the given class. 
[ruby-core:52160] [Bug #7836]</p>
</dd></dl>

<h3 id="label-Wed+Feb+13+18-3A11-3A59+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 13 18:11:59 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_original_name)
<dd>
<p>new methods <a
href="../../classes/Method.html#method-i-original_name">Method#original_name</a>
and <a
href="../../classes/UnboundMethod.html#method-i-original_name">UnboundMethod#original_name</a>.
[ruby-core:52048] [Bug #7806] [EXPERIMENTAL]</p>
</dd><dt>proc.c (method_inspect)
<dd>
<p>show the given name primarily, and original_id if aliased. 
[ruby-core:52048] [Bug #7806]</p>
</dd></dl>

<h3 id="label-Wed+Feb+13+17-3A56-3A39+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 13 17:56:39 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (warnflags)
<dd>
<p>disable -Werror by default unless development.  [ruby-core:52131] [Bug
#7830]</p>
</dd></dl>

<h3 id="label-Wed+Feb+13+06-3A05-3A52+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Feb 13 06:05:52 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>Return BINARY strings from <a
href="../../classes/Gem.html#method-c-gzip">Gem.gzip</a> and <a
href="../../classes/Gem.html#method-c-gunzip">Gem.gunzip</a>. Fixes
intermittent test failures.  RubyGems issue #450 by Jeremey Kemper.</p>
</dd><dt>test/rubygems/test_gem.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Wed+Feb+13+05-3A49-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 13 05:49:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test functions just after struct members.</p>
</dd></dl>

<h2 id="label-2013-02-12">2013-02-12</h2>

<h3 id="label-Tue+Feb+12+12-3A02-3A35+2013++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Feb 12 12:02:35 2013  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json
<dd>
<p>merge <a href="../../classes/JSON.html">JSON</a> 1.7.7. This includes
security fix. [CVE-2013-0269] <a
href="https://github.com/flori/json/commit/d0a62f3ced7560daba2ad546d83f0479a5ae2cf2">github.com/flori/json/commit/d0a62f3ced7560daba2ad546d83f0479a5ae2cf2</a>
<a
href="https://groups.google.com/d/topic/rubyonrails-security/4_YvCpLzL58/discussion">groups.google.com/d/topic/rubyonrails-security/4_YvCpLzL58/discussion</a></p>
</dd></dl>

<h2 id="label-2013-02-11">2013-02-11</h2>

<h3 id="label-Mon+Feb+11+23-3A08-3A48+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 11 23:08:48 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>enable rb_cv_page_size_log test for MirOS BSD.</p>
</dd></dl>

<h3 id="label-Mon+Feb+11+20-3A06-3A38+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 11 20:06:38 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use -pthread on mirbsd*.</p>
</dd></dl>

<h3 id="label-Mon+Feb+11+16-3A07-3A09+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 11 16:07:09 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add SOLIBS and LIBRUBY_SO definition for mirbsd*.</p>
</dd></dl>

<h3 id="label-Mon+Feb+11+13-3A17-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 11 13:17:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rubysitearchprefix)
<dd>
<p>sitearchdir and vendorarchdir should use sitearch, not arch. 
[ruby-dev:46964] [Bug #7823]</p>
</dd><dt>win32/Makefile.sub (config.status)
<dd>
<p>site and vendor directories should use sitearch, not arch. 
[ruby-dev:46964] [Bug #7823]</p>
</dd></dl>

<h3 id="label-Mon+Feb+11+12-3A31-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 11 12:31:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>move OS specific header/function knowledge before automatic header tests.</p>
</dd></dl>

<h3 id="label-Mon+Feb+11+11-3A04-3A29+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 11 11:04:29 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>move the test for -march=i486 just after
RUBY_UNIVERSAL_ARCH/RUBY_DEFAULT_ARCH.</p>
</dd></dl>

<h2 id="label-2013-02-10">2013-02-10</h2>

<h3 id="label-Sun+Feb+10+23-3A42-3A26+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 10 23:42:26 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test structure members just after types test.</p>
</dd></dl>

<h3 id="label-Sun+Feb+10+20-3A58-3A17+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 10 20:58:17 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test types just after headers test.</p>
</dd></dl>

<h3 id="label-Sun+Feb++10+16-3A00-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb  10 16:00:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake/doc/MIT-LICENSE
<dd>
<p>Add license file from upstream</p>
</dd><dt>lib/rake/doc/README.rdoc
<dd>
<p>Link to license file from Rake <a href="../README_md.html">README</a></p>
</dd><dt>lib/rake/version.rb
<dd>
<p>Include <a href="../README_md.html">README</a> rdoc for Rake module
overview</p>
</dd></dl>

<h3 id="label-Sun+Feb++10+15-3A26-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb  10 15:26:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake/doc/*
<dd>
<p><a href="../../classes/Sync.html">Sync</a> Rake rdoc files from upstream</p>
</dd></dl>

<h3 id="label-Sun+Feb+10+15-3A50-3A02+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Feb 10 15:50:02 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.h (DISPATCH_ARCH_DEPEND_WAY)
<dd>
<p>use __asm__ __volatile__ instead of asm volatile.</p>
</dd></dl>

<h3 id="label-Sun+Feb+10+15-3A50-3A02+2013++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Feb 10 15:50:02 2013  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.h (SET_MACHINE_STACK_END)
<dd>
<p>use __volatile__ instead of volatile.</p>
</dd></dl>

<h3 id="label-Sun+Feb+10+14-3A25-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb 10 14:25:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/rake/, lib/rake/doc/
<dd>
<p>Move Rake rdoc files to lib/rake</p>
</dd></dl>

<h3 id="label-Sun+Feb+10+12-3A10-3A25+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 10 12:10:25 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>test headers at first.</p>
</dd></dl>

<h3 id="label-Sun+Feb++10+12-3A00-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb  10 12:00:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/rake/*
<dd>
<p>Removed stale Rake static files</p>
</dd></dl>

<h3 id="label-Sun+Feb++10+09-3A10-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sun Feb  10 09:10:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb, lib/prettyprint.rb
<dd>
<p>Documentation for <a href="../../classes/PP.html">PP</a> and <a
href="../../classes/PrettyPrint.html">PrettyPrint</a> Based on a patch by
Vincent Batts [ruby-core:51253] [Bug #7656]</p>
</dd></dl>

<h2 id="label-2013-02-09">2013-02-09</h2>

<h3 id="label-Sat+Feb++9+21-3A11-3A21+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  9 21:11:21 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>move header files check to the beginning of “header and library section”.
test rlim_t with sys/types.h and sys/time.h for MirOS BSD. sys/types.h and
sys/time.h is guarded by ifdef and the above move is required for this
change.</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+17-3A45-3A58+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb  9 17:45:58 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in, version.c
<dd>
<p>prevent duplicated load paths by empty version string, it does not work
right now.</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+17-3A38-3A41+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb  9 17:38:41 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>fix arch parameters in help message.  [Bug #7804]</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+13-3A13-3A00+2013++Zachary+Scott++-3Czachary-40zacharyscott.net-3E">Sat Feb  9 13:13:00 2013  Zachary Scott  &lt;zachary@zacharyscott.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>Note about <a href="../../classes/TracePoint.html">TracePoint</a> events
set, and comment on <a
href="../../classes/Kernel.html#method-i-set_trace_func">Kernel#set_trace_func</a>
to prefer new <a href="../../classes/TracePoint.html">TracePoint</a> API</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+10-3A07-3A47+2013++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Feb  9 10:07:47 2013  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>BSDL
<dd>
<p>update copyright notice for 2013.</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+09-3A24-3A38+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Feb  9 09:24:38 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/package/old.rb
<dd>
<p>Fix behavior only on ruby 1.8.</p>
</dd><dt>lib/rubygems/package.rb
<dd>
<p>Include checksums.yaml.gz signatures for verification.</p>
</dd><dt>test/rubygems/test_gem_package.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Sat+Feb++9+01-3A23-3A24+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  9 01:23:24 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/helper.rb
<dd>
<p>specify libc and libm locations for MirOS BSD.</p>
</dd><dt>test/dl/test_base.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2013-02-08">2013-02-08</h2>

<h3 id="label-Fri+Feb++8+23-3A25-3A33+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb  8 23:25:33 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>change CFLAGS temporally to test ARCH_FLAG=“-march=i486”.</p>
</dd></dl>

<h3 id="label-Fri+Feb++8+21-3A19-3A41+2013++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb  8 21:19:41 2013  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>don&#39;t define ARCH_FLAG=“-march=i486” if it causes compilation problem.</p>
</dd></dl>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>