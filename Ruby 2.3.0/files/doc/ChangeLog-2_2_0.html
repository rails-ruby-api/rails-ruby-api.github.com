<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ChangeLog-2.2.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            ChangeLog-2.2.0
        </h1>
        <ul class="files">
            
            <li>
                doc/ChangeLog-2.2.0
                
            </li>
            <li>Last modified: 2014-12-25 14:53:36 +0100</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-ChangeLog-2.2.0">ChangeLog-2.2.0</h1>

<h2 id="label-2014-12-25">2014-12-25</h2>

<h3 id="label-Thu+Dec+25+16-3A01-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 16:01:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_expand_path_internal)
<dd>
<p>drop characters ignored by filesystem on Mac OS X.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+15-3A36-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 15:36:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>get the real name and replace the base name with it by getattrlist(2) if
available. suggested by Matthew Draper at [ruby-core:67116].  [Bug #10015]</p>
</dd><dt>dir.c (glob_helper)
<dd>
<p>get the real name of the whole path, not only the last name.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+13-3A59-3A17+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 13:59:17 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (NET_LUID)
<dd>
<p>include also ifdef.h as a workaround of a bug in mingw-w64 header. 
[ruby-core:67103] [Bug #10640]</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+12-3A47-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 12:47:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (gettable_gen)
<dd>
<p>warn possible reference to a local variable defined in a past scope.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+10-3A09-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 10:09:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c (console_dev)
<dd>
<p>id_console is not a constant name, use rb_const_remove() to get rid of <a
href="../../classes/NameError.html">NameError</a>.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+09-3A18-3A55+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 25 09:18:55 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/resolv/test_dns.rb (TestResolvDNS#test_query_ipv4_address)
<dd>
<p>set timeout for recvfrom because if client thread is crashed, it waits
infinity.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+08-3A42-3A11+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec 25 08:42:11 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (split_userinfo)
<dd>
<p>fstring for 1-byte split</p>
</dd><dt>(set_port)
<dd>
<p>reduce bytecode size</p>
</dd><dt>(check_path)
<dd>
<p>reduce garbage via opt_str_freeze</p>
</dd><dt>(query=)
<dd>
<p>ditto</p>
</dd><dt>(fragment=)
<dd>
<p>ditto [misc #10628]</p>
</dd><dt>lib/uri/rfc3986_parser.rb (regexp)
<dd>
<p>cache as attr</p>
</dd><dt>(initialize)
<dd>
<p>setup and freeze regexp attr once</p>
</dd><dt>(split)
<dd>
<p>reduce bytecode size, use opt_str_freeze</p>
</dd><dt>(parse)
<dd>
<p>minor bytecode and garbage reduction</p>
</dd><dt>(default_regexp)
<dd>
<p>rename for initialize</p>
</dd></dl>

<h2 id="label-2014-12-24">2014-12-24</h2>

<h3 id="label-Wed+Dec+24+20-3A38-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 24 20:38:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_make_pattern)
<dd>
<p>restrict searching case-insensitive name from the filesystem to only last
part, for the performance. [ruby-core:63591] [Bug #10015]</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+18-3A21-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 24 18:21:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove unused rb_objspace_t::rgengc::old_objects_at_gc_start.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+13-3A25-3A22+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Dec 24 13:25:22 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>require view_changesets permission.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+13-3A00-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 24 13:00:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb (Downloader.download)
<dd>
<p>fix the exception to re-raise.  initialize methods of subclasses of <a
href="../../classes/Exception.html">Exception</a> may have different
parameters.  [ruby-core:67086] [Bug #10639]</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+12-3A16-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 24 12:16:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.h (rb_data_type_t)
<dd>
<p>revert r48647 and revise parent member. [ruby-core:66969] [Bug #10621]</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+05-3A40-3A52+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Dec 24 05:40:52 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>use config.guess in gcc repo.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+11-3A50-3A19+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 24 11:50:19 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_delete)
<dd>
<p>return Qnil if there are no corresponding entry. [Bug #10623]</p>
</dd><dt>hash.c (rb_hash_delete_entry)
<dd>
<p>try delete and return Qundef if there are no corresponding entry.</p>
</dd><dt>internal.h
<dd>
<p>add rb_hash_delete_entry()&#39;s declaration.</p>
</dd><dt>symbol.c
<dd>
<p>use rb_hash_delete_entry().</p>
</dd><dt>thread.c
<dd>
<p>use rb_hash_delete_entry().</p>
</dd><dt>ext/-test-/hash/delete.c
<dd>
<p>use rb_hash_delete_entry().</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+09-3A35-3A11+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 24 09:35:11 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>remove ffitarget.h generated by configure on mswin, because it&#39;s not
normal file (cygwin&#39;s symlink) and have system attribute.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+05-3A40-3A52+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Dec 24 05:40:52 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>support ruby 1.8.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+02-3A44-3A06+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Dec 24 02:44:06 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (Net::HTTPResponse)
<dd>
<p>require one or more spaces [Bug #10591]. by leriksen
&lt;leif.eriksen.au@gmail.com&gt; <a
href="https://github.com/ruby/ruby/pull/782">github.com/ruby/ruby/pull/782</a>
fix GH-782 NOTE: graph.facebook.com returns without SP Reason-Phrase.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+02-3A12-3A22+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 24 02:12:22 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot (package)
<dd>
<p>VCS#branch_list expects glob a pattern string but not a regexp.  based on
the patch by Vit Ondruch.  in [ruby-core:67064].  [Bug #10636]</p>
</dd><dt>tool/vcs.rb (VCS::SVN#branch_list)
<dd>
<p>strip newlines.</p>
</dd><dt>tool/vcs.rb (VCS::GIT.get_revisions)
<dd>
<p>retrieve modified time from toplevel log too.</p>
</dd><dt>tool/vcs.rb (VCS::GIT#branch_list)
<dd>
<p>yield for each lines.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+00-3A23-3A13+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 24 00:23:13 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/extlibs.rb (do_extract)
<dd>
<p>the pipe should be binmode.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+00-3A21-3A44+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 24 00:21:44 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in, common.mk
<dd>
<p>move common-srcs to Makefile.in because it breaks build on mswin.</p>
</dd></dl>

<h3 id="label-Wed+Dec+24+00-3A04-3A45+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 24 00:04:45 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb (OpenURI.open_http)
<dd>
<p>accept multiple certs path in ssl_ca_certs.</p>
</dd><dt>tool/downloader.rb
<dd>
<p>use certs of rubygems for downloading gems.</p>
</dd></dl>

<h2 id="label-2014-12-23">2014-12-23</h2>

<h3 id="label-Tue+Dec+23+22-3A39-3A11+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 23 22:39:11 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extlibs
<dd>
<p>libffi-3.2.1 and patch for mswin.</p>
</dd></dl>

<h3 id="label-Tue+Dec+23+22-3A04-3A38+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Dec 23 22:04:38 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic#query=)
<dd>
<p>don&#39;t escape []^ on both rfc2396 and rfc3986. [Bug #10619]</p>
</dd></dl>

<h3 id="label-Tue+Dec+23+16-3A03-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 23 16:03:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::Error#initialize)
<dd>
<p>try en_US message if the default message cannot be encoded to locale. 
[ruby-core:65295] [Bug #10300]</p>
</dd></dl>

<h3 id="label-Tue+Dec+23+11-3A42-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 23 11:42:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_cipher.c (ossl_cipher_update_long)
<dd>
<p>update huge data gradually not to exceed INT_MAX.  workaround of <a
href="../../classes/OpenSSL.html">OpenSSL</a> API limitation. 
[ruby-core:67043] [Bug #10633]</p>
</dd></dl>

<h2 id="label-2014-12-22">2014-12-22</h2>

<h3 id="label-Mon+Dec+22+21-3A30-3A16+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Dec 22 21:30:16 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_event.rb
<dd>
<p>some tests are executed on standard Windows OS without ADO.</p>
</dd></dl>

<h3 id="label-Mon+Dec+22+14-3A08-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 22 14:08:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (received_signal)
<dd>
<p>fix condition to define. [ruby-core:67032] [Bug #10629]</p>
</dd></dl>

<h2 id="label-2014-12-21">2014-12-21</h2>

<h3 id="label-Sun+Dec+21+10-3A51-3A51+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Dec 21 10:51:51 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_event.rb
<dd>
<p>test_s_new_exception is executed on standard Windows OS without ADO.</p>
</dd></dl>

<h3 id="label-Sun+Dec+21+08-3A35-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 21 08:35:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (jemalloc)
<dd>
<p>fix option argument, should use `$withval` but not `yes` always. 
[ruby-core:66994] [Bug #10625]</p>
</dd><dt>configure.in (jemalloc)
<dd>
<p>defer adding the liner option to get rid of linking contest against
jemalloc, so that it works without runtime dynamic load path.</p>
</dd></dl>

<h2 id="label-2014-12-20">2014-12-20</h2>

<h3 id="label-Sat+Dec+20+17-3A49-3A03+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Dec 20 17:49:03 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tmpdir.rb (Dir.mktmpdir)
<dd>
<p>Accept nil again, as Ruby 2.1. [ruby-core:66943] [Bug #10616] Fixed by Alex
Slynko.</p>
</dd></dl>

<h3 id="label-Sat+Dec+20+11-3A22-3A58+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 20 11:22:58 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/depend, ext/fiddle/extconf.rb
<dd>
<p>try to build bundled libffi if existing.</p>
</dd></dl>

<h3 id="label-Sat+Dec+20+05-3A21-3A00+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec 20 05:21:00 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_weakref.rb (test_repeated_object_leak)
<dd>
<p>increase timeout [Bug #10618]</p>
</dd></dl>

<h2 id="label-2014-12-19">2014-12-19</h2>

<h3 id="label-Fri+Dec+19+22-3A33-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Dec 19 22:33:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Use $(hdrdir) if possible.</p>
</dd></dl>

<h3 id="label-Fri+Dec+19+22-3A10-3A00+2014++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Fri Dec 19 22:10:00 2014  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/depend
<dd>
<p>Fix dependencies to make bigdecimal installable by rubygems.</p>
</dd><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>version 1.2.6.</p>
</dd></dl>

<h3 id="label-Fri+Dec+19+20-3A00-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 19 20:00:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (PRIsVALUE)
<dd>
<p>put a space after string literals not to be confused with C++11 string
literal suffix. <a
href="https://github.com/ruby/ruby/commit/a9f3eb7#commitcomment-9040169">github.com/ruby/ruby/commit/a9f3eb7#commitcomment-9040169</a></p>
</dd></dl>

<h3 id="label-Fri+Dec+19+15-3A36-3A02+2014++Simon+Genier++-3Csimon.genier-40shopify.com-3E">Fri Dec 19 15:36:02 2014  Simon Genier  &lt;simon.genier@shopify.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (hash_equal)
<dd>
<p>prefer true than the result of implicit conversion from int returned by
rb_eql() to VALUE.  [Fix GH-789]</p>
</dd></dl>

<h2 id="label-2014-12-18">2014-12-18</h2>

<h3 id="label-Thu+Dec+18+17-3A45-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 18 17:45:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_binary_elf)
<dd>
<p>get rid of -e option of cat which is not available on BusyBox, use tr
instead. [ruby-core:64824] [Bug #10210]</p>
</dd></dl>

<h3 id="label-Thu+Dec+18+14-3A25-3A17+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 18 14:25:17 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (ruby_signal)
<dd>
<p>since SIGKILL is not supported by MSVCRT, should be treated before calling
signal(3). [Bug #10615]</p>
</dd></dl>

<h2 id="label-2014-12-17">2014-12-17</h2>

<h3 id="label-Wed+Dec+17+12-3A20-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 17 12:20:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_method_for_self_aref, rb_method_for_self_aset)
<dd>
<p>move from iseq.c to build from node instead of arrays.</p>
</dd></dl>

<h3 id="label-Wed+Dec+17+10-3A50-3A09+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Dec 17 10:50:09 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/gdbm/test_gdbm.rb
<dd>
<p>Added test for each_key called without a block. Patch by @joeyates [fix
GH-783]</p>
</dd></dl>

<h3 id="label-Wed+Dec+17+10-3A18-3A42+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 17 10:18:42 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>check iseq-&gt;compile_data-&gt;option-&gt;specialized_instruction for
opt_* insn.</p>
</dd><dt>test/ruby/test_iseq.rb
<dd>
<p>check no specialized_instructions option.</p>
</dd></dl>

<h3 id="label-Wed+Dec+17+09-3A48-3A57+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec 17 09:48:57 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>only emit opt_str_freeze, opt_aref_with, and opt_aset_with insn when no
block is given [Bug #10557] [ruby-core:66595]</p>
</dd><dt>test/ruby/test_optimization.rb (test_block_given_aset_aref)
<dd>
<p>new test for bug thanks to Bartosz Kopinski.</p>
</dd><dt>(test_string_freeze)
<dd>
<p>additional assertion for object_id</p>
</dd></dl>

<h3 id="label-Wed+Dec+17+01-3A06-3A47+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 17 01:06:47 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/Win32API.rb (Win32API#call)
<dd>
<p>need to splat.  hmm, when was this broken?</p>
</dd></dl>

<h2 id="label-2014-12-16">2014-12-16</h2>

<h3 id="label-Tue+Dec+16+15-3A18-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 16 15:18:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_method_for_self_aref, rb_method_for_self_aset)
<dd>
<p>call accessor functions directly, not to be affected by [] and []= methods.
[ruby-core:66846] [Bug #10601]</p>
</dd><dt>struct.c (define_aref_method, define_aset_method)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (rb_vm_opt_struct_aref, rb_vm_opt_struct_aset)
<dd>
<p>direct accessors of <a href="../../classes/Struct.html">Struct</a>.</p>
</dd></dl>

<h3 id="label-Tue+Dec+16+12-3A01-3A29+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 16 12:01:29 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>extend timeout seconds to 60 for RGENGC_CHECK_MODE &gt; 0 environment.</p>
</dd></dl>

<h3 id="label-Tue+Dec+16+08-3A53-3A12+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec 16 08:53:12 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb
<dd>
<p>fix Ruby 1.8 compatibility harder</p>
</dd></dl>

<h3 id="label-Tue+Dec+16+07-3A37-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec 16 07:37:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (GC_HEAP_FREE_SLOTS)
<dd>
<p>move definition to match use order</p>
</dd><dt>(RUBY_GC_HEAP_GROWTH_SLOTS)
<dd>
<p>s/factor/number of slots/</p>
</dd><dt>man/ruby.1
<dd>
<p>add section for <a href="../../classes/GC.html">GC</a> environment
variables [Feature #10197]</p>
</dd></dl>

<h3 id="label-Tue+Dec+16+05-3A41-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec 16 05:41:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb
<dd>
<p>fix Ruby 1.8 compatibility</p>
</dd></dl>

<h2 id="label-2014-12-15">2014-12-15</h2>

<h3 id="label-Mon+Dec+15+17-3A51-3A28+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec 15 17:51:28 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p><a
href="../../classes/ObjectSpace.html#method-c-memsize_of">ObjectSpace.memsize_of</a>
returns with sizeof(RVALUE). [Bug #8984]</p>
</dd><dt>gc.c (obj_memsize_of)
<dd>
<p>ditto.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add a <a href="../NEWS.html">NEWS</a> entry.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>catch up this fix.</p>
</dd><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+15+16-3A19-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 15 16:19:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_enc_str_coderange)
<dd>
<p>dummy wchar, non-endianness encoding string cannot be ascii only.
[ruby-core:66835] [Bug #10598]</p>
</dd></dl>

<h2 id="label-2014-12-14">2014-12-14</h2>

<h3 id="label-Sun+Dec+14+20-3A11-3A42+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 14 20:11:42 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (primary)
<dd>
<p>restore current_arg so that circular reference after a method definition is
also warned. [ruby-core:61299] [Bug #9593]</p>
</dd></dl>

<h2 id="label-2014-12-13">2014-12-13</h2>

<h3 id="label-Sat+Dec+13+20-3A41-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 13 20:41:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_postponed_job_flush)
<dd>
<p>mask signal trap interrupt too to defer handling after finalizers finished.
[ruby-core:66825] [Bug #10595]</p>
</dd></dl>

<h3 id="label-Sat+Dec+13+18-3A33-3A25+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Dec 13 18:33:25 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pkey_ec.rb
<dd>
<p>ignored tests with old <a href="../../classes/OpenSSL.html">OpenSSL</a>.</p>
</dd></dl>

<h3 id="label-Sat+Dec+13+18-3A01-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 13 18:01:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>check sp also on i386/x86_64 FreeBSD.</p>
</dd></dl>

<h3 id="label-Sat+Dec+13+09-3A58-3A41+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec 13 09:58:41 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (define_final0)
<dd>
<p>avoid duplicate blocks [Bug #10537]</p>
</dd><dt>test/test_weakref.rb (test_repeated_object_leak)
<dd>
<p>new test</p>
</dd></dl>

<h3 id="label-Sat+Dec+13+04-3A59-3A20+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 13 04:59:20 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bin/erb (ERB::Main#run)
<dd>
<p>get rid of shadowing outer local variables.  [ruby-core:65772] [Feature
#10395]</p>
</dd></dl>

<h2 id="label-2014-12-12">2014-12-12</h2>

<h3 id="label-Fri+Dec+12+21-3A56-3A44+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Fri Dec 12 21:56:44 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade to test-unit 3.0.8. assert_throw and assert_nothing_thrown in
test-unit 3.0.7 were broken by <a
href="../../classes/UncaughtThrowError.html">UncaughtThrowError</a> change
introduced in Ruby 2.2.0 preview2. These assertions in test-unit 3.0.8 work
well with <a
href="../../classes/UncaughtThrowError.html">UncaughtThrowError</a> in Ruby
2.2.0 preview2.</p>
</dd></dl>

<h3 id="label-Fri+Dec+12+19-3A48-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 12 19:48:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bin/erb (ARGV.switch, ERB::Main#run)
<dd>
<p>allow variables to be set from the command line.  [ruby-core:65772]
[Feature #10395]</p>
</dd></dl>

<h3 id="label-Fri+Dec+12+19-3A31-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 12 19:31:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb (ERB#lineno)
<dd>
<p>accessor for line number to eval.</p>
</dd><dt>lib/erb.rb (ERB#location=)
<dd>
<p>setter of file name and line number.</p>
</dd></dl>

<h3 id="label-Fri+Dec+12+13-3A09-3A13+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 12 13:09:13 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_latest_gc_info)
<dd>
<p>return :state field to show current <a href="../../classes/GC.html">GC</a>
state (none/marking/sweeping). [Feature #10590]</p>
</dd></dl>

<h3 id="label-Fri+Dec+12+10-3A49-3A18+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 12 10:49:18 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_crypt)
<dd>
<p>check arguments more strictly. * crypt() is not for wide char strings *
salt bytes should not be NUL</p>
</dd></dl>

<h3 id="label-Fri+Dec+12+08-3A16-3A01+2014++Matt+Hoyle++-3Cmatt-40deployable.co-3E">Fri Dec 12 08:16:01 2014  Matt Hoyle  &lt;matt@deployable.co&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h2 id="label-2014-12-11">2014-12-11</h2>

<h3 id="label-Thu+Dec+11+19-3A06-3A01+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 11 19:06:01 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (class_alloc)
<dd>
<p>Start from age == 2. <a href="../../classes/Class.html">Class</a> and <a
href="../../classes/Module.html">Module</a> objects can be living long
life.</p>
</dd><dt>iseq.c
<dd>
<p>Same for ISeq objects.</p>
</dd><dt>gc.c (RVALUE_AGE_RESET)
<dd>
<p>added.</p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>allow to generate (age != 0) objects.</p>
</dd><dt>gc.c (rb_copy_wb_protected_attribute)
<dd>
<p>reset age for wb unprotected objects.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>add RUBY_TYPED_PROMOTED1 as an unrecommended flag.</p>
</dd></dl>

<h3 id="label-Thu+Dec+11+04-3A27-3A24+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 11 04:27:24 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>introduce new field rb_thread_t::local_storage_recursive_hash_for_trace to
store recursive hash to avoid creating new recursive (nested) hashes for
each trace events. [Bug #10511]</p>
</dd><dt>vm_trace.c (rb_threadptr_exec_event_hooks_orig)
<dd>
<p>use it.</p>
</dd><dt>cont.c
<dd>
<p>catch up this fix.</p>
</dd><dt>vm.c (rb_thread_mark)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-12-10">2014-12-10</h2>

<h3 id="label-Wed+Dec+10+13-3A39-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 10 13:39:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (define_aref_method, define_aset_method)
<dd>
<p>use iseq VALUE instead of rb_iseq_t to prevent from <a
href="../../classes/GC.html">GC</a>, as RB_GC_GUARD makes sense only for
local variables.  [Feature #10575]</p>
</dd></dl>

<h3 id="label-Wed+Dec+10+09-3A38-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 10 09:38:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (exec_recursive)
<dd>
<p>use the same last method name as recursive_push in the error message when
recursive_pop failed. [ruby-core:66742] [Bug #10579]</p>
</dd></dl>

<h3 id="label-Wed+Dec+10+02-3A48-3A46+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec 10 02:48:46 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_https.rb (TestNetHTTPS#test_certificate_verify_failure)
<dd>
<p>on Windows, <a
href="../../classes/Errno/ECONNRESET.html">Errno::ECONNRESET</a> will be
raised when the verify is failure at the client side, and it&#39;ll be
eaten by <a href="../../classes/WEBrick.html">WEBrick</a>.</p>
</dd><dt>test/open-uri/test_ssl.rb (TestOpenURISSL#test_validation_failure)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Dec+10+00-3A42-3A13+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec 10 00:42:13 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_method_for_self_aref, rb_method_for_self_aset)
<dd>
<p>new methods to generate bytecode for struct.c [Feature #10575]</p>
</dd><dt>struct.c (rb_struct_ref, rb_struct_set)
<dd>
<p>remove</p>
</dd><dt>(define_aref_method, define_aset_method)
<dd>
<p>new functions</p>
</dd><dt>(setup_struct)
<dd>
<p>use new functions</p>
</dd><dt>test/ruby/test_struct.rb
<dd>
<p>add test for struct &gt;10 members</p>
</dd><dt>benchmark/bm_vm2_struct_big_aref_hi.rb
<dd>
<p>new benchmark</p>
</dd><dt>benchmark/bm_vm2_struct_big_aref_lo.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_big_aset.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_small_aref.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_small_aset.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-12-09">2014-12-09</h2>

<h3 id="label-Tue+Dec++9+20-3A24-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Dec  9 20:24:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>[DOC] Add missing documentation around <a
href="../../classes/String.html#method-i-chomp">String#chomp</a>. Patch by
@stderr [ci skip][fix GH-780]</p>
</dd></dl>

<h3 id="label-Tue+Dec++9+18-3A20-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  9 18:20:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>[DOC] Revise documentation by Marcus Stollsteimer at [ruby-core:66368]. 
[Bug #10526] * inspect: be more specific about generated string, remove
obsolete example. * nil?: use code examples instead of different
call-seq&#39;s. * tap: clarify what is yielded. * Integer(): be more
specific about to_int and to_i, remove reference to Ruby 1.8. * Array():
fix error. * Class: fix variable name style and indentation in example. *
improve consistency, fix typos and formatting.</p>
</dd></dl>

<h3 id="label-Tue+Dec++9+12-3A48-3A32+2014++Josef+Simanek++-3Cjosef.simanek-40gmail.com-3E">Tue Dec  9 12:48:32 2014  Josef Simanek  &lt;josef.simanek@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_eval_string_wrap)
<dd>
<p>[DOC] Fix `rb_eval_string_wrap` documentation.  It is referencing `require`
instead of `load`. The former does not have the optional argument.  [Fix
GH-779]</p>
</dd></dl>

<h3 id="label-Tue+Dec++9+10-3A16-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  9 10:16:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_frame_last_func)
<dd>
<p>return the most recent frame method name.</p>
</dd><dt>thread.c (recursive_list_access)
<dd>
<p>use the last method name, instead of the current method name which can be
unset in some cases, not to use a symbol by the invalid ID.
[ruby-core:66742] [Bug #10579]</p>
</dd></dl>

<h2 id="label-2014-12-07">2014-12-07</h2>

<h3 id="label-Sun+Dec++7+19-3A36-3A12+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Dec  7 19:36:12 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/basicsocket.c, ext/socket/sockssocket.c
<dd>
<p>remove code for $SAFE=4.</p>
</dd></dl>

<h3 id="label-Sun+Dec++7+10-3A20-3A55+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec  7 10:20:55 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 4.2.0.</p>
</dd><dt>test/rdoc
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Dec++7+09-3A52-3A30+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec  7 09:52:30 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.4.5.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-12-06">2014-12-06</h2>

<h3 id="label-Sat+Dec++6+10-3A05-3A08+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Dec  6 10:05:08 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb
<dd>
<p>Fix undefined variable usage &amp; refactor/DRY code.  Patch by @aledovsky.
[Fixes GH-770]</p>
</dd><dt>test/net/test_imap.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Sat+Dec++6+10-3A09-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec  6 10:09:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (do_select)
<dd>
<p>rename parameters to avoid shadowing</p>
</dd></dl>

<h3 id="label-Sat+Dec++6+09-3A22-3A45+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Dec  6 09:22:45 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake
<dd>
<p>Update to rake 10.4.2</p>
</dd><dt>test/rake
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Dec++6+06-3A48-3A03+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec  6 06:48:03 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_build_from_ary)
<dd>
<p>remove misc handling</p>
</dd></dl>

<h3 id="label-Sat+Dec++6+06-3A14-3A23+2014++Vit+Ondruch++-3Cvondruch-40redhat.com-3E">Sat Dec  6 06:14:23 2014  Vit Ondruch  &lt;vondruch@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_LIB_VERSION)
<dd>
<p>Fix –with-ruby-version configuration option.  get rid of quoting in
config.status.</p>
</dd><dt>template/verconf.h.tmpl
<dd>
<p>quote RUBY_LIB_VERSION here. [ruby-core:66724] [Bug #10572]</p>
</dd></dl>

<h3 id="label-Sat+Dec++6+04-3A33-3A52+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Dec  6 04:33:52 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb (File::Stat#pretty_print)
<dd>
<p>some platforms (such as Windows) does not have major/minor parts of device.</p>
</dd></dl>

<h2 id="label-2014-12-05">2014-12-05</h2>

<h3 id="label-Fri+Dec++5+22-3A43-3A04+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Dec  5 22:43:04 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bump version to 2.0.8</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto.</p>
</dd><dt>ext/psych/psych_emitter.c
<dd>
<p>ditto.</p>
</dd><dt>ext/psych/psych_parser.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec++5+17-3A09-3A09+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  5 17:09:09 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c (inet_ntop)
<dd>
<p>link aliased inet_ntop in libruby on mswin not rb_w32_inet_ntop which fails
to link for unknown reason.</p>
</dd></dl>

<h3 id="label-Fri+Dec++5+11-3A09-3A54+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Dec  5 11:09:54 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (prepare_iseq_build)
<dd>
<p>remove unused block_opt param</p>
</dd><dt>(rb_iseq_new_with_bopt_and_opt)
<dd>
<p>remove</p>
</dd><dt>(rb_iseq_new_with_opt)
<dd>
<p>inline removed function</p>
</dd><dt>(rb_iseq_new_with_bopt)
<dd>
<p>remove</p>
</dd><dt>(iseq_load)
<dd>
<p>adjust prepare_iseq_build call [Feature #10565]</p>
</dd></dl>

<h3 id="label-Fri+Dec++5+09-3A46-3A05+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  5 09:46:05 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>fix lex_state after tLABEL_END, should be EXPR_LABELARG to be followed by
“paren with arg”. [ruby-core:66705] [Feature #4935]</p>
</dd></dl>

<h3 id="label-Fri+Dec++5+02-3A27-3A47+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  5 02:27:47 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>as all extension objects including initializations of ext and enc should be
linked to libruby if enable-shared, EXTOBJS should not be linked to main
programs. [ruby-core:66675] [Bug #10566]</p>
</dd></dl>

<h2 id="label-2014-12-04">2014-12-04</h2>

<h3 id="label-Thu+Dec++4+07-3A06-3A02+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec  4 07:06:02 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_build_from_exception)
<dd>
<p>entry-&gt;sp is unsigned</p>
</dd><dt>(iseq_build_callinfo_from_hash)
<dd>
<p>account for kw_arg</p>
</dd><dt>(iseq_build_from_ary_body)
<dd>
<p>update for r35459</p>
</dd><dt>(CHECK_STRING, CHECK_INTEGER)
<dd>
<p>remove unused checks</p>
</dd><dt>(int_param)
<dd>
<p>new function for checking new `params&#39; hash</p>
</dd><dt>(iseq_build_kw)
<dd>
<p>new function for loading rb_iseq_param_keyword</p>
</dd><dt>(rb_iseq_build_from_ary)
<dd>
<p>account for `misc&#39; entry and general structure changes [Feature #8543]</p>
</dd><dt>iseq.c (CHECK_HASH)
<dd>
<p>new macro (for `misc&#39; and `param&#39; entries)</p>
</dd><dt>(iseq_load)
<dd>
<p>account for `misc&#39; and `params&#39; hashes</p>
</dd><dt>(iseq_data_to_ary)
<dd>
<p>add final opt to arg_opt_labels, fix kw support, account for unsigned
entry-&gt;sp</p>
</dd><dt>ext/-test-/iseq_load/iseq_load.c
<dd>
<p>new ext for test</p>
</dd><dt>ext/-test-/iseq_load/extconf.rb
<dd>
<p>ditto</p>
</dd><dt>test/-ext-/iseq_load/test_iseq_load.rb
<dd>
<p>new test</p>
</dd></dl>

<h3 id="label-Thu+Dec++4+06-3A56-3A57+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec  4 06:56:57 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_free)
<dd>
<p>avoid segfault on incomplete iseq</p>
</dd><dt>test/ruby/test_syntax.rb (test_invalid_next)
<dd>
<p>new test for syntax error, not segfault</p>
</dd></dl>

<h3 id="label-Thu+Dec++4+04-3A20-3A34+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  4 04:20:34 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (ruby_require_internal)
<dd>
<p>ignore error detail, just return an error.</p>
</dd></dl>

<h2 id="label-2014-12-03">2014-12-03</h2>

<h3 id="label-Wed+Dec++3+17-3A13-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  3 17:13:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (load_encoding)
<dd>
<p>use rb_require_internal instead of calling rb_require_safe with protection.</p>
</dd></dl>

<h3 id="label-Wed+Dec++3+16-3A47-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  3 16:47:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (register_init_ext, ruby_init_ext)
<dd>
<p>defer running the registered initialization function until required, not to
enable extensions which have global effects just by loading, e.g.,
mathn/complex and mathn/rational.  fix `make test` with
–with-static-linked-ext.</p>
</dd><dt>enc/encinit.c.erb (Init_enc)
<dd>
<p>initialize encdb and transdb directly.</p>
</dd></dl>

<h3 id="label-Wed+Dec++3+14-3A51-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  3 14:51:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (ruby_require_internal)
<dd>
<p>separate from rb_require_safe, not to raise exceptions.</p>
</dd><dt>ruby.c (process_options)
<dd>
<p>remove unnatural encoding search.</p>
</dd></dl>

<h3 id="label-Wed+Dec++3+14-3A34-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  3 14:34:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (setup_fake_str)
<dd>
<p>fake string does not share another string, but just should not free.</p>
</dd></dl>

<h3 id="label-Wed+Dec++3+11-3A14-3A14+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec  3 11:14:14 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (w32_spawn)
<dd>
<p>`v2` is used not only for `shell` but also `cmd`, so must not free before
using `cmd`. [ruby-core:66648] [Bug #10563]</p>
</dd></dl>

<h3 id="label-Wed+Dec++3+09-3A48-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  3 09:48:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/racc/cparse/cparse.c (cparse_params_type)
<dd>
<p>use typed data.</p>
</dd></dl>

<h2 id="label-2014-12-02">2014-12-02</h2>

<h3 id="label-Tue+Dec++2+21-3A33-3A56+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Dec  2 21:33:56 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>use typed data for com_hash.</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+07-3A20-3A21+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  2 07:20:21 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>keep hidden variables Thanks to wanabe [ruby-core:66566]</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+06-3A46-3A57+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Tue Dec  2 06:46:57 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bumping version</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+06-3A34-3A08+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Tue Dec  2 06:34:08 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>support objects that are marshalable, but inherit from basic object. Thanks
Sean Griffin &lt;sean@thoughtbot.com&gt;</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>ditto</p>
</dd><dt>test/psych/test_marshalable.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+06-3A32-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  2 06:32:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (ripper_flush_string_content)
<dd>
<p>preserve the dispatched results at tSTRING_CONTENT.  [ruby-dev:48714] [Bug
#10437]</p>
</dd><dt>parse.y (regexp_contents)
<dd>
<p>check in ripper only if the whole content is a single regexp without
interpolation. [ruby-dev:48714] [Bug #10437]</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+06-3A30-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  2 06:30:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_reg_region_copy)
<dd>
<p>new function to try with <a href="../../classes/GC.html">GC</a> if copy
failed and return the error.</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+04-3A43-3A08+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  2 04:43:08 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (CHECK_REGION_COPIED)
<dd>
<p>onig_region_copy() can fail when memory exhausted but returns nothing, so
check by if allocated.</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+02-3A53-3A00+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  2 02:53:00 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (magic_comment_encoding)
<dd>
<p>enable in ripper, since the encoding is necessary to parse non-default
encoding scripts.</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+02-3A30-3A25+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Dec  2 02:30:25 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic.build)
<dd>
<p>use hostname= to detect and wrap IPv6 hosts. Build is accepting <a
href="../../classes/URI.html">URI</a> components and users may not expect
that a host component needs to be wrapped with square brackets since
it&#39;s not providing a <a href="../../classes/URI.html">URI</a>. Note:
initialize with arg_check =&gt; true does not wrap IPv6 hosts. by Joe
Rafaniello &lt;jrafanie@redhat.com&gt; <a
href="https://github.com/ruby/ruby/pull/765">github.com/ruby/ruby/pull/765</a>
fix GH-765</p>
</dd><dt>test/uri/test_generic.rb
<dd>
<p>Add more tests</p>
</dd></dl>

<h2 id="label-2014-12-01">2014-12-01</h2>

<h3 id="label-Mon+Dec++1+20-3A01-3A12+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Dec  1 20:01:12 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>use typed data for <a href="../../classes/WIN32OLE.html">WIN32OLE</a>.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_event.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec++1+17-3A20-3A42+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec  1 17:20:42 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (verconf.h)
<dd>
<p>so depends on verconf.mk, which is rebuilt by setup.mak.</p>
</dd></dl>

<h3 id="label-Mon+Dec++1+11-3A05-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Dec  1 11:05:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>fix grammar by @BenMorganIO [fix GH-764][ci skip]</p>
</dd></dl>

<h3 id="label-Mon+Dec++1+10-3A49-3A53+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Dec  1 10:49:53 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/rake.1
<dd>
<p>Update latest man content by @aledovsky [fix GH-771][ci skip]</p>
</dd></dl>

<h3 id="label-Mon+Dec++1+10-3A42-3A31+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Dec  1 10:42:31 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>refinements are no longer experimental. patch by @gaurish [fix GH-775][ci
skip]</p>
</dd></dl>

<h2 id="label-2014-11-30">2014-11-30</h2>

<h3 id="label-Sun+Nov+30+20-3A05-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 30 20:05:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (regexp_contents)
<dd>
<p>fix a typo.  pointed out by wanabe. [ruby-dev:48741] [Bug #10543]</p>
</dd></dl>

<h3 id="label-Sun+Nov+30+18-3A55-3A32+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 30 18:55:32 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>Don&#39;t raise <a href="../../classes/Interrupt.html">Interrupt</a>.</p>
</dd></dl>

<h3 id="label-Sun+Nov+30+17-3A11-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 30 17:11:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>Use assert_separately.</p>
</dd></dl>

<h3 id="label-Sun+Nov+30+00-3A02-3A52+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 30 00:02:52 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (process_options, ruby_script)
<dd>
<p>transcode script name and program name to locale encoding as well as argv.
[ruby-dev:48752] [Bug #10555]</p>
</dd><dt>ruby.c (translit_char_bin)
<dd>
<p>should not use code page dependent CharNext on UTF-8 string. 
[ruby-dev:48752] [Bug #10555]</p>
</dd></dl>

<h2 id="label-2014-11-29">2014-11-29</h2>

<h3 id="label-Sat+Nov+29+16-3A53-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 29 16:53:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (ruby_set_argv)
<dd>
<p>convert argv from UTF-8.</p>
</dd><dt>win32/win32.c (rb_w32_sysinit, cmdglob, w32_cmdvector)
<dd>
<p>convert wide char command line to UTF-8 argv, and glob in UTF-8 so that
metacharacters would match multibyte characters. [ruby-dev:48752] [Bug
#10555]</p>
</dd></dl>

<h3 id="label-Sat+Nov+29+10-3A49-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 29 10:49:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (win32_direct_conv, rb_w32_readdir)
<dd>
<p>convert UTF-8 and filesystem code page by using Win32 API directly.</p>
</dd></dl>

<h3 id="label-Sat+Nov+29+09-3A37-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 29 09:37:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (syserr_initialize)
<dd>
<p>simplify message building and get rid of potential invalid byte sequence.</p>
</dd></dl>

<h3 id="label-Sat+Nov+29+06-3A09-3A44+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Nov 29 06:09:44 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (error_print)
<dd>
<p>respect the encoding of the message.</p>
</dd><dt>io.c (rb_write_error_str)
<dd>
<p>use rb_w32_write_console() on Windows if stderr is a tty.</p>
</dd></dl>

<h2 id="label-2014-11-28">2014-11-28</h2>

<h3 id="label-Fri+Nov+28+05-3A10-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 28 05:10:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (–with-setup)
<dd>
<p>add option to select ext/Setup file.</p>
</dd></dl>

<h3 id="label-Fri+Nov+28+05-3A02-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 28 05:02:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dmyenc.c (Init_enc)
<dd>
<p>separate from dmyext.c for statically linked extension excluding encoding
libraries.</p>
</dd></dl>

<h2 id="label-2014-11-27">2014-11-27</h2>

<h3 id="label-Thu+Nov+27+21-3A58-3A30+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 27 21:58:30 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (miniprelude.c)
<dd>
<p>It does not depend on prelude.rb now.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+21-3A49-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 27 21:49:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>List up files built always in the source directory and source files built
always in the build directory.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+21-3A24-3A55+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu Nov 27 21:24:55 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add obsolete callcc.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+19-3A59-3A49+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 27 19:59:49 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>remove duplicated line event. [Bug #10449]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add and fix tests.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+19-3A04-3A50+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 27 19:04:50 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c
<dd>
<p>fix backtrace location for keyword related exceptions. For example, the
following program def foo(k1: 1); end # line 1 foo(k2: 2)          # line 2
causes “unknown keyword: k2 (ArgumentError)”. Before this patch, the
backtrace location is only line 2. However, error should be located at line
1 (over line 2 in stack trace). This patch fix this problem.</p>
</dd><dt>class.c (rb_keyword_error_new)
<dd>
<p>separate exception creation logic from rb_keyword_error(), to use in
vm_args.c.</p>
</dd><dt>vm_insnhelper.c (rb_arg_error_new)
<dd>
<p>rename to rb_arity_error_new().</p>
</dd><dt>vm_args.c (argument_arity_error)
<dd>
<p>rename to argument_arity_error().</p>
</dd><dt>vm_args.c (argument_kw_error)
<dd>
<p>added to fix backtrace.</p>
</dd><dt>test/ruby/test_keyword.rb
<dd>
<p>add tests.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+17-3A31-3A58+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 27 17:31:58 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (prelude.c)
<dd>
<p>no longer depends on miniruby, since not depending on rbconfig.rb.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+17-3A12-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 27 17:12:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (miniprelude.c)
<dd>
<p>miniruby needs no preludes.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+17-3A10-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 27 17:10:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/prelude.c.tmpl
<dd>
<p>no code if no prelude code is given.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+13-3A11-3A00+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 27 13:11:00 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_malloc_increase)
<dd>
<p>enable lazy sweep on <a href="../../classes/GC.html">GC</a> by malloc()</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Nov+27+12-3A46-3A38+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 27 12:46:38 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_s_mkutc)
<dd>
<p>[DOC] <a href="../../classes/Time.html#method-c-utc">Time.utc</a>&#39;s 10
arguments form doesn&#39;t examine wday, yday, isdst and tz.</p>
</dd><dt>(time_s_mktime)
<dd>
<p>[DOC] <a
href="../../classes/Time.html#method-c-mktime">Time.mktime</a>&#39;s 10
arguments form doesn&#39;t examine wday, yday and tz. Suggested by naruse.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+11-3A45-3A33+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov 27 11:45:33 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>add missing <a href="../../classes/GC.html">GC</a> guard</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+10-3A51-3A59+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 27 10:51:59 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>add rb_thread_t::local_storage_recursive_hash to speed up <a
href=":recursive_key">Thread#</a> access. [Bug #10511]</p>
</dd><dt>thread.c (threadptr_local_aref)
<dd>
<p>add fast path for :<em>recursive_data</em>.</p>
</dd><dt>thread.c (threadptr_recursive_hash, threadptr_recursive_hash_set)
<dd>
<p>add special accessor for recursive hash.</p>
</dd><dt>cont.c
<dd>
<p>store/restore local_storage_recursive_hash.</p>
</dd><dt>vm.c
<dd>
<p>init and mark local_storage_recursive_hash.</p>
</dd><dt>vm_trace.c (rb_threadptr_exec_event_hooks_orig)
<dd>
<p>clear and restore local_storage_recursive_hash directly.</p>
</dd></dl>

<h3 id="label-Thu+Nov+27+07-3A11-3A00+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov 27 07:11:00 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_calc_param_size)
<dd>
<p>hoist out of iseq_set_arguments</p>
</dd></dl>

<h2 id="label-2014-11-26">2014-11-26</h2>

<h3 id="label-Wed+Nov+26+22-3A28-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 26 22:28:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (rb_get_kwargs, rb_extract_keywords)
<dd>
<p>export keyword argument functions.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+21-3A18-3A40+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Nov 26 21:18:40 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/inlinetest.rb
<dd>
<p>removed unused test helper.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+20-3A47-3A28+2014++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Wed Nov 26 20:47:28 2014  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/continuation/continuation.c (Init_continuation)
<dd>
<p>obsolete callcc. first step of [Feature #10548].</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+19-3A57-3A54+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 26 19:57:54 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (test_latest_gc_info)
<dd>
<p>do test separately to avoid mysterious behavior.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+19-3A54-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 26 19:54:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (constat_reset)
<dd>
<p>do nothing on non-standard console emulators.  [ruby-core:66471] [Bug
#10546]</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+19-3A44-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 26 19:44:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tsort.rb
<dd>
<p>Returns an enumerator if no block is given. [ruby-core:66270] [Feature
#10508] Proposed by Andrey Savchenko.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+17-3A25-3A45+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 26 17:25:45 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (f_label, f_kw, formal_argument_gen)
<dd>
<p>ignore invalid formal argument in keyword argument definition.
[ruby-dev:48742] [Bug #10545]</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+15-3A32-3A06+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 26 15:32:06 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_sequence)
<dd>
<p>use “nop” insn instead of “jump to next insn”. <a
href="https://bugs.ruby-lang.org/issues/8543#change-50085">bugs.ruby-lang.org/issues/8543#change-50085</a></p>
</dd></dl>

<h3 id="label-Wed+Nov+26+11-3A01-3A35+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Nov 26 11:01:35 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_s_compile_file)
<dd>
<p>close <a href="../../classes/IO.html">IO</a> when done</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+06-3A06-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 26 06:06:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>encdb.h and transdb.h depends on $(PREP). So prebuild files for them in
tarball are useless.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+02-3A08-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 26 02:08:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>Don&#39;t generate enc/trans/newline.c in tarball.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+00-3A41-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 26 00:41:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (prereq)
<dd>
<p>Don&#39;t depends on prelude.c and golf_prelude.c. Since they depend on
$(PREP) which is miniruby, they are rebuilt after miniruby is built, even
if tarball contains them.</p>
</dd></dl>

<h3 id="label-Wed+Nov+26+00-3A20-3A48+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 26 00:20:48 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/prelude.c.tmpl
<dd>
<p>Don&#39;t expand <a href="...">RbConfig::Config</a>. It is not used now.</p>
</dd><dt>common.mk
<dd>
<p>prelude.c and golf_prelude.c doesn&#39;t depend on rbconfig.</p>
</dd></dl>

<h2 id="label-2014-11-25">2014-11-25</h2>

<h3 id="label-Tue+Nov+25+17-3A07-3A06+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 25 17:07:06 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add an “Implementation changes” section.</p>
</dd></dl>

<h3 id="label-Tue+Nov+25+16-3A09-3A28+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 25 16:09:28 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>Do not attempt SSL session resumption when the session is expired.  [Bug
#10533]</p>
</dd></dl>

<h3 id="label-Tue+Nov+25+15-3A59-3A46+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Nov 25 15:59:46 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake
<dd>
<p>Update to rake 10.4.0</p>
</dd><dt>test/rake
<dd>
<p>ditto.</p>
</dd><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>ditto.</p>
</dd><dt>test/lib/minitest/unit.rb
<dd>
<p>Add compatibility shim for minitest 5. This only provides minitest 5 unit
test naming compatibility.</p>
</dd></dl>

<h3 id="label-Tue+Nov+25+15-3A26-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 25 15:26:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb (get_revisions)
<dd>
<p>use <a href="../../classes/Time.html#method-c-new">Time.new</a> instead of
<a href="../../classes/Time.html#method-c-mktime">Time.mktime</a> which
does not accept UTC offset, and offset manually for older versions than
1.9.</p>
</dd></dl>

<h3 id="label-Tue+Nov+25+12-3A14-3A43+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 25 12:14:43 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (Init_process)
<dd>
<p>initialize static IDs before constant definitions.  [ruby-core:66445]</p>
</dd></dl>

<h3 id="label-Tue+Nov+25+10-3A32-3A23+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 25 10:32:23 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_build_callinfo_from_hash)
<dd>
<p>hoist out</p>
</dd><dt>(iseq_build_from_ary_body)
<dd>
<p>shorten callinfo case</p>
</dd></dl>

<h2 id="label-2014-11-24">2014-11-24</h2>

<h3 id="label-Mon+Nov+24+23-3A03-3A21+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Mon Nov 24 23:03:21 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Update to test-unit 3.0.7.</p>
</dd></dl>

<h3 id="label-Mon+Nov+24+12-3A44-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 24 12:44:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (check_exec_redirect_fd, check_exec_redirect), (rb_execarg_addopt)
<dd>
<p>get rid of inadvertent ID pindown.</p>
</dd></dl>

<h3 id="label-Mon+Nov+24+02-3A03-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 24 02:03:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_setter)
<dd>
<p>preserve encoding of global variable name in error message.</p>
</dd></dl>

<h3 id="label-Mon+Nov+24+02-3A03-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 24 02:03:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_insn_operand_intern)
<dd>
<p>preserve encoding of method name in CALL_INFO at disassembling.</p>
</dd></dl>

<h3 id="label-Mon+Nov+24+02-3A02-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 24 02:02:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (must_respond_to)
<dd>
<p>preserve encodings of variable name and class name in warning message.</p>
</dd></dl>

<h2 id="label-2014-11-23">2014-11-23</h2>

<h3 id="label-Sun+Nov+23+10-3A46-3A23+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Nov 23 10:46:23 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (struct rb_execarg)
<dd>
<p>160 =&gt; 144 bytes on x86-64</p>
</dd><dt>ruby.c (struct load_file_arg)
<dd>
<p>48 =&gt; 40 bytes on x86-64</p>
</dd><dt>vm_args.c (struct args_info)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Nov+23+07-3A46-3A54+2014++Andy+Maloney++-3Casmaloney-40gmail.com-3E">Sun Nov 23 07:46:54 2014  Andy Maloney  &lt;asmaloney@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_sysread)
<dd>
<p>Remove redundant assignment of &#39;n&#39;. [Fix GH-767]</p>
</dd></dl>

<h2 id="label-2014-11-22">2014-11-22</h2>

<h3 id="label-Sat+Nov+22+09-3A48-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 22 09:48:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>Specify PWD macro for make. PWD environment variable may not exist.</p>
</dd></dl>

<h3 id="label-Sat+Nov+22+01-3A11-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 22 01:11:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_const_get, rb_mod_const_defined)
<dd>
<p>ditto.</p>
</dd><dt>variable.c (rb_const_missing, rb_mod_const_missing)
<dd>
<p>call const_missing without new ID to get rid of inadvertent ID creation.</p>
</dd></dl>

<h2 id="label-2014-11-21">2014-11-21</h2>

<h3 id="label-Fri+Nov+21+11-3A58-3A58+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Nov 21 11:58:58 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>fall back if canonicalization fails. Thanks Vit Ondruch for the patch! 
[ruby-core:65836]</p>
</dd><dt>test/resolv/test_dns.rb
<dd>
<p>test for patch</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+19-3A32-3A57+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 21 19:32:57 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>revert about srcdir and top_srcdir.</p>
</dd><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>use $(PWD) for Unix, $(MAKEDIR) for Windows.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+18-3A12-3A37+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Nov 21 18:12:37 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Refactored.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+14-3A25-3A40+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Nov 21 14:25:40 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (top_srcdir)
<dd>
<p>added because lacking this macro causes build error at r48526.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+12-3A00-3A58+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Nov 21 12:00:58 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps (in_makefile)
<dd>
<p>Use FILES_NEED_VPATH and FILES_CONFUSING.</p>
</dd><dt>ext/objspace/extconf.rb
<dd>
<p>Add VPATH for id.h</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+09-3A10-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 21 09:10:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>fix dependencies for the case to make ripper.y and id.h under the build
directory.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+08-3A42-3A21+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 21 08:42:21 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>id.h in VPATH may exist in the build directory.</p>
</dd><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>$(RM) was not defined.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+00-3A36-3A09+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Nov 21 00:36:09 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name::RFC2253DN::StringChar)
<dd>
<p>get rid of a false positive assertion in ripper&#39;s test.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+00-3A29-3A51+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Nov 21 00:29:51 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (Net::IMAP::ResponseParser::BEG_REGEXP)
<dd>
<p>no need to use embed string.</p>
</dd></dl>

<h3 id="label-Fri+Nov+21+00-3A19-3A17+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Nov 21 00:19:17 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/mailto.rb (URI::MailTo::EMAIL_REGEXP)
<dd>
<p>should escape `#`.</p>
</dd></dl>

<h2 id="label-2014-11-20">2014-11-20</h2>

<h3 id="label-Thu+Nov+20+23-3A17-3A11+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 20 23:17:11 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Insert all dependencies found by compiler.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+15-3A51-3A01+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Nov 20 15:51:01 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/nkf/depend (nkf.o)
<dd>
<p>add nkf.c as dependency. bsdmake tries to make nkf.o with nkf-utf8/nkf.c
without this.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+08-3A54-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 20 08:54:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (struct parser_params)
<dd>
<p>reduce size by reordering members and an unused member.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+02-3A10-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 20 02:10:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (ripper_flush_string_content, parser_parse_string)
<dd>
<p>preserve parsed string content.  [ruby-dev:48714] [Bug #10437]</p>
</dd><dt>parse.y (ripper_new_yylval)
<dd>
<p>abstract function to create ripper wrapper, and make it able to hold
another object.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+01-3A00-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 20 01:00:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (reg_named_capture_assign_gen)
<dd>
<p>use predefined ID instead of rb_intern.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+00-3A54-3A57+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 20 00:54:57 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (ruby_init_setproctitle)
<dd>
<p>Declare here.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+00-3A26-3A37+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 20 00:26:37 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_here_document)
<dd>
<p>append byte sequence directly to the delayed content instead of creating an
intermediate string object.</p>
</dd></dl>

<h2 id="label-2014-11-19">2014-11-19</h2>

<h3 id="label-Wed+Nov+19+21-3A11-3A01+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Nov 19 21:11:01 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/json/parser/parser.c)
<dd>
<p>don&#39;t touch parse.c, ruby repo is a downstream.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+20-3A38-3A11+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Nov 19 20:38:11 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>use $(PWD) to get &lt;build-directory&gt;/ext/ripper.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+18-3A12-3A17+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Nov 19 18:12:17 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb (RubyGems.download)
<dd>
<p>Don&#39;t download gem if the version is already downloaded. A gem file is
versioned and it must be identical if the version is the same.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+17-3A59-3A25+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Nov 19 17:59:25 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c)
<dd>
<p>pass build directory as VPATH.</p>
</dd><dt>ext/ripper/depend (.y.c)
<dd>
<p>use VPATH for y.tab.c.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+10-3A07-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 19 10:07:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/prelude.c.tmpl (Prelude#translate)
<dd>
<p>strip VPATH prefix from prelude names, so that srcdir differences do not
make the generated code different.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+07-3A45-3A11+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Nov 19 07:45:11 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_write)
<dd>
<p>should set the error of GetOverlappedResult()&#39;s, not WriteFile()&#39;s
(it&#39;s always ERROR_IO_PENDING, of course).</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+04-3A49-3A07+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Nov 19 04:49:07 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>debug.c (set_debug_option)
<dd>
<p>need the declaration.</p>
</dd><dt>debug.c (set_debug_option)
<dd>
<p>use the same macro with the implementation at win32/win32.c.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+04-3A16-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 19 04:16:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (symbol_list)
<dd>
<p>fix the node type of literal symbol list with no interpolation. 
[ruby-core:66343]</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+00-3A26-3A15+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 19 00:26:15 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Sort dependencies.</p>
</dd></dl>

<h3 id="label-Wed+Nov+19+00-3A24-3A18+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 19 00:24:18 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/encdb.c
<dd>
<p>Include internal.h.</p>
</dd></dl>

<h2 id="label-2014-11-18">2014-11-18</h2>

<h3 id="label-Tue+Nov+18+14-3A16-3A47+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 18 14:16:47 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_record)
<dd>
<p>add information for debug print.</p>
</dd></dl>

<h3 id="label-Tue+Nov+18+23-3A23-3A45+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 18 23:23:45 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>Gather declarations in non-header files.</p>
</dd></dl>

<h3 id="label-Tue+Nov+18+23-3A45-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 18 23:45:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>debug.c (SET_WHEN)
<dd>
<p>Don&#39;t declare debug variables here. ruby_initial_gc_stress_ptr is
changed int* to VALUE* at r41406.</p>
</dd><dt>internal.h (ruby_initial_gc_stress_ptr)
<dd>
<p>Declared.</p>
</dd><dt>(ruby_enable_coredump)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+18+18-3A06-3A43+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 18 18:06:43 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (FMODE_WSPLIT)
<dd>
<p>Removed.  The write() system call is not required to split.  It was useful
to avoid whole process blocking in Ruby 1.8 but not useful since write() is
invoked without GVL.</p>
</dd><dt>(FMODE_WSPLIT_INITIALIZED)
<dd>
<p>Ditto.</p>
</dd><dt>io.c (wsplit_p)
<dd>
<p>Removed.</p>
</dd><dt>(io_writable_length)
<dd>
<p>Removed.</p>
</dd><dt>(rb_fcntl)
<dd>
<p>Don&#39;t update the removed flags.</p>
</dd></dl>

<h3 id="label-Tue+Nov+18+03-3A23-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 18 03:23:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (check_setter_id)
<dd>
<p>show the original argument instead of nil on <a
href="../../classes/TypeError.html">TypeError</a>.</p>
</dd></dl>

<h3 id="label-Tue+Nov+18+03-3A20-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 18 03:20:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.h (is_{local,global,instance,attrset,const,class,junk}_sym)
<dd>
<p>fix ID type names.</p>
</dd></dl>

<h2 id="label-2014-11-17">2014-11-17</h2>

<h3 id="label-Mon+Nov+17+20-3A17-3A59+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Nov 17 20:17:59 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_event.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Mon+Nov+17+12-3A54-3A56+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Nov 17 12:54:56 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/*, test/rubygems/*
<dd>
<p>Update to RubyGems 2.4.4 master (2f6e42e).</p>
</dd></dl>

<h3 id="label-Mon+Nov+17+06-3A13-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 17 06:13:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_binding)
<dd>
<p>use the original iseq on a binding from proc from method object to get the
location.</p>
</dd></dl>

<h2 id="label-2014-11-16">2014-11-16</h2>

<h3 id="label-Sun+Nov+16+19-3A38-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 16 19:38:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_current_receiver)
<dd>
<p>new function to return the receiver in the current control frame.  [Feature
#10195]</p>
</dd></dl>

<h3 id="label-Sun+Nov+16+19-3A11-3A04+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 16 19:11:04 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout::ExitException#exception)
<dd>
<p>rescue <a
href="../../classes/UncaughtThrowError.html">UncaughtThrowError</a> which
is specific for throw, instead of <a
href="../../classes/ArgumentError.html">ArgumentError</a>.</p>
</dd></dl>

<h3 id="label-Sun+Nov+16+18-3A22-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Nov 16 18:22:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>warning to disable ccache</p>
</dd></dl>

<h3 id="label-Sun+Nov+16+13-3A11-3A35+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 16 13:11:35 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (CCAN_LIST_INCLUDES)
<dd>
<p>Unused variable removed.</p>
</dd><dt>(ENCODING_H_INCLUDES)
<dd>
<p>Ditto.</p>
</dd><dt>(PROBES_H_INCLUDES)
<dd>
<p>Ditto.</p>
</dd><dt>(VM_CORE_H_INCLUDES)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov+16+11-3A07-3A25+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Nov 16 11:07:25 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_readpartial_locktmp)
<dd>
<p>remove unnecessary begin/end</p>
</dd></dl>

<h3 id="label-Sun+Nov+16+00-3A45-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov 16 00:45:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Specify dependencies for generated C sources.</p>
</dd></dl>

<h2 id="label-2014-11-15">2014-11-15</h2>

<h3 id="label-Sat+Nov+15+23-3A10-3A45+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 15 23:10:45 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>No need to declare dependencies which will be detected by inference rules.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A34-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 15 20:34:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>Include ruby.h and ruby/encoding.h to be includable without prior
inclusion.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A46-3A44+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:46:44 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument::EntityExpansionLimitTest)
<dd>
<p>Group tests by general entity and parameter entity.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A43-3A31+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:43:31 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument::EntityExpansionLimitTest)
<dd>
<p>Define test <a href="../../classes/XML.html">XML</a> in each test method
because (1) each <a href="../../classes/XML.html">XML</a> in used only one
test and (2) related data and code should be close.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A39-3A06+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:39:06 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument::EntityExpansionLimitTest)
<dd>
<p>Use one test method for one test.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A16-3A59+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:16:59 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument::EntityExpansionLimitTest)
<dd>
<p>Use setup and teardown instead of ensure in test.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A11-3A34+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:11:34 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument)
<dd>
<p>Group entity expansion limit related tests.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+20-3A09-3A00+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Nov 15 20:09:00 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb (REXMLTests::TestDocument::BomTest)
<dd>
<p>Fix wrong parent class. It doesn&#39;t need inherit tests in TestDocument
class.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+19-3A48-3A59+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Nov 15 19:48:59 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (depend_rules)
<dd>
<p>support comments during a line.</p>
</dd><dt>lib/mkmf.rb (depend_rules)
<dd>
<p>apply RULE_SUBST even if the dependency file contains path.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+19-3A25-3A46+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 15 19:25:46 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Remove comments in Dependency lines. Notified by usa.</p>
</dd><dt>enc/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/**/depend
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+16-3A28-3A05+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 15 16:28:05 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_throw_obj)
<dd>
<p>throw <a
href="../../classes/UncaughtThrowError.html">UncaughtThrowError</a> instead
of <a href="../../classes/ArgumentError.html">ArgumentError</a>.  [Feature
#10480]</p>
</dd></dl>

<h3 id="label-Sat+Nov+15+14-3A13-3A38+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 15 14:13:38 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Extend to fix dependencies.</p>
</dd><dt>common.mk
<dd>
<p>Dependencies updated by tool/update-deps.</p>
</dd><dt>enc/depend
<dd>
<p>Ditto.</p>
</dd><dt>ext/**/depend
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-11-14">2014-11-14</h2>

<h3 id="label-Fri+Nov+14+17-3A36-3A48+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Nov 14 17:36:48 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/update-deps
<dd>
<p>Support GNU Make 4.0.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+16-3A59-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 14 16:59:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (default_proc_for_compat_func)
<dd>
<p>check arguments number and type, and get rid of reentering this default
proc.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+16-3A33-3A06+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 14 16:33:06 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>support compatible layer for <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> type access.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+16-3A19-3A08+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 14 16:19:08 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>add compatible layer. From Ruby 2.2, keys of <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> are changed [Feature
#9924]. To provide compatible layer, <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> add a default_proc</p>
</dd><dt>(if default_proc of given <a href="../../classes/Hash.html">Hash</a> object is not set). At first use of this compatible layer of interpreter process, show a warning message like that
<dd>
<p>program: <a href="../../classes/GC.html#method-c-stat">GC.stat</a> warning
message: “warning: <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> keys were changed
from Ruby 2.1. In this case, you refer to obsolete
`total_allocated_object&#39;</p>
</dd><dt>(new key is `total_allocated_objects&#39;). Please check &lt;https
<dd>
<p>//bugs.ruby-lang.org/issues/9924&gt; for more information.“ Please correct
my <a href="../../classes/English.html">English</a> message :)</p>
</dd><dt>hash.c (rb_hash_set_default_proc)
<dd>
<p>export (in internal).</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+10-3A41-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 14 10:41:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>guard by if/#endif with GC_ENABLE_INCREMENTAL_MARK to hide unused codes.</p>
</dd><dt>gc.c
<dd>
<p>similar to GC_ENABLE_LAZY_SWEEP.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+10-3A23-3A35+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Nov 14 10:23:35 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_eval_cmd)
<dd>
<p>use pre-defined idCall</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+09-3A25-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Nov 14 09:25:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_yield_splat)
<dd>
<p>add missing <a href="../../classes/GC.html">GC</a> guard [Bug #10509]</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+08-3A12-3A40+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Nov 14 08:12:40 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix build error caused by implicit conversion with clang.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+06-3A54-3A06+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Nov 14 06:54:06 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_succ)
<dd>
<p>remove <a href="../../classes/Time.html#method-i-succ">Time#succ</a>
optimization [Feature #10501]</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+05-3A29-3A46+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 14 05:29:46 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>refactoring.</p>
</dd><dt>gc.c
<dd>
<p>use GC_ENABLE_INCREMENTAL_MARK instead of USE_RINCGC.</p>
</dd><dt>gc.c (gc_start)
<dd>
<p>check FORCE_MAJOR_GC.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+04-3A51-3A18+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 14 04:51:18 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Tuning RincGC parameters. Before this patch, gc_marks_step() marks (white
-&gt; grey) fixed number objects. However, this strategy does not fit
practical cases, for example too slow to make progress. This patch changes
this strategy how many objects the gc_marks_step() should handle. We can
estimate how many times gc_marks_step() is called during this major marking
(== C) with the free slot number in pooled pages. We also can estimate the
living object number (== L) using last marked_slots value. We can solve
this problem (how many objects should be process in gc_marks_step()) by
L/C.</p>
</dd><dt>gc.c (rb_objspace_t)
<dd>
<p>add rb_objspace_t::rincgc::pooled_slots and step_slots.</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+01-3A26-3A47+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Nov 14 01:26:47 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (search_response)
<dd>
<p>parse MODSEQ in SEARCH responses properly.  [ruby-core:64203] [Bug #10112]</p>
</dd></dl>

<h3 id="label-Fri+Nov+14+01-3A03-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Nov 14 01:03:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb
<dd>
<p>Moved from test/ruby/.</p>
</dd><dt>test/lib/find_executable.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/lib/memory_status.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/lib/test/unit.rb
<dd>
<p>require envutil.</p>
</dd><dt>test/
<dd>
<p>Don&#39;t require envutil in test files.</p>
</dd></dl>

<h2 id="label-2014-11-13">2014-11-13</h2>

<h3 id="label-Thu+Nov+13+21-3A59-3A58+2014++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Thu Nov 13 21:59:58 2014  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/document.rb
<dd>
<p>add <a
href="../../classes/REXML/Document.html#method-i-document">REXML::Document#document</a>.
reported by Tomas Hoger &lt;thoger@redhat.com&gt; and patched by nahi.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+21-3A51-3A56+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 13 21:51:56 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/monitor/test_monitor.rb
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+21-3A45-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 13 21:45:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl
<dd>
<p>Don&#39;t specify port number.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+21-3A22-3A35+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 13 21:22:35 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/ssl_server.rb
<dd>
<p>Unused file removed. It is not used since r16111, Ruby 1.9.1.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+18-3A50-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 13 18:50:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_ensure)
<dd>
<p>remove obsolete prot_tag comment.  patch by Jack Danger at
[ruby-core:66238].  [misc #10502]</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+18-3A10-3A38+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 13 18:10:38 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_make_proc_lambda)
<dd>
<p>similar to rb_vm_make_proc() with is_lambda argument.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+12-3A11-3A18+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 13 12:11:18 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_fstat{,i64})
<dd>
<p>speed up.  adjusting timestamps in this function is to get rid of the side
effect of <a href=""TZ"">ENV</a>.  then, if <a href=""TZ"">ENV</a> is not
set, no need to adjust. this change makes <a
href="../../classes/IO.html#method-i-stat">IO#stat</a> about 60% faster.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+11-3A56-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 13 11:56:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c
<dd>
<p>include “internal.h” for STATIC_ASSERT.</p>
</dd></dl>

<h3 id="label-Thu+Nov+13+03-3A56-3A38+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov 13 03:56:38 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (struct heap_page)
<dd>
<p>trivial packing 304 =&gt; 296 bytes on x86-64</p>
</dd></dl>

<h2 id="label-2014-11-12">2014-11-12</h2>

<h3 id="label-Wed+Nov+12+22-3A50-3A12+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Nov 12 22:50:12 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Update to test-unit 3.0.6 and minitest 5.4.3.</p>
</dd></dl>

<h3 id="label-Wed+Nov+12+22-3A30-3A52+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Nov 12 22:30:52 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/*
<dd>
<p>Update to RubyGems 2.4.3 master (7b1f684).</p>
</dd></dl>

<h3 id="label-Wed+Nov+12+00-3A26-3A37+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov 12 00:26:37 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_object.rb
<dd>
<p>Specify an exception class for rescue clause.</p>
</dd><dt>test/dbm/test_dbm.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/gdbm/test_gdbm.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/sdbm/test_sdbm.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-11-11">2014-11-11</h2>

<h3 id="label-Tue+Nov+11+23-3A43-3A51+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 11 23:43:51 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+22-3A51-3A14+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 11 22:51:14 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/resolv/test_dns.rb
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+22-3A33-3A08+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 11 22:33:08 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/pop/test_pop.rb
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+22-3A07-3A20+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 11 22:07:20 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_https_proxy.rb
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+18-3A09-3A11+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 11 18:09:11 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/prelude.c.tmpl
<dd>
<p>move from tool/compile_prelude.rb and expand by generic_erb.rb.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+13-3A01-3A31+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Nov 11 13:01:31 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/contents_command.rb (files_in_default_gem)
<dd>
<p>remove useless sort. show_files will sort the result and another branch,
files_in_gem, doesn&#39;t sort. it should be removed for consistency.</p>
</dd><dt>test/rubygems/test_gem_commands_contents_command.rb (test_execute_default_gem)
<dd>
<p>adjust the sort algorithm with <a
href="../../classes/Gem/Commands/ContentsCommand.html#method-i-show_files">Gem::Commands::ContentsCommand#show_files</a>,
which sort items as array of [prefix, basename] not strings.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+10-3A37-3A09+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Nov 11 10:37:09 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (sym_equal)
<dd>
<p>use rb_obj_equal(). rb_obj_equal() is specially optimized in
opt_eq_func()@vm_insnhelper.c. This fix is made from this discussion: <a
href="https://www.omniref.com/ruby/2.1.4/symbols/Symbol/%3D%3D#line=8361">www.omniref.com/ruby/2.1.4/symbols/Symbol/%3D%3D#line=8361</a>.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+09-3A38-3A55+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Nov 11 09:38:55 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/known_classes.rb
<dd>
<p>reverted regression changes of rdoc known class.</p>
</dd></dl>

<h3 id="label-Tue+Nov+11+00-3A21-3A50+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 11 00:21:50 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/imap/test_imap.rb
<dd>
<p>Don&#39;t ignore exceptions on server threads.</p>
</dd></dl>

<h2 id="label-2014-11-10">2014-11-10</h2>

<h3 id="label-Mon+Nov+10+23-3A34-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 23:34:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/ftp/test_ftp.rb (create_ftp_server)
<dd>
<p>Don&#39;t ignore exceptions on server thread. Delete read_timeout method
call to fix <a href="../../classes/NoMethodError.html">NoMethodError</a>.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+20-3A20-3A53+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Nov 10 20:20:53 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_read)
<dd>
<p>retry with reduced length if cannot to write any data but no error occurs.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+20-3A04-3A16+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 20:04:16 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Setup shutdown pipe in listen method.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+19-3A37-3A09+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Nov 10 19:37:09 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c, include/win32/win32.h (rb_w32_set_nonblock)
<dd>
<p>new function to support nonblock-mode of pipes.</p>
</dd><dt>win32/win32.c (rb_w32_read)
<dd>
<p>nonblock-mode pipe returns ERROR_NO_DATA if there is no data, but also
returns it if remote-end is closed.</p>
</dd><dt>win32/win32.c (rb_w32_write)
<dd>
<p>if cannot to write any data, it may be blocking.</p>
</dd><dt>io.c (rb_io_set_nonblock)
<dd>
<p>use rb_w32_set_nonblock for Windows.</p>
</dd><dt>ext/io/nonblock/nonblock.c (rb_io_nonblock_set)
<dd>
<p>use ruby&#39;s API when setting nonblock-mode.</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>test nonblock pipes on Windows.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+17-3A24-3A34+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 10 17:24:34 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_getlogin)
<dd>
<p>set login name encoding properly. [ruby-core:66163] [Bug #10493]</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+16-3A20-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Nov 10 16:20:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/*.rb
<dd>
<p>Update to RubyGems master(3e36528).</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+16-3A09-3A43+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 10 16:09:43 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_f_kill)
<dd>
<p>[DOC] mention known signal list. [ruby-core:66162] [Bug #10492]</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+14-3A17-3A58+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Nov 10 14:17:58 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/*.rb
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 4.2.0.alpha(579a11c)</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+12-3A44-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 12:44:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Less instance variables.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+12-3A19-3A43+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 12:19:43 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb (shutdown)
<dd>
<p>Use close() on @shutdown_pipe_w to notify readability on the read side of
the pipe. write_nonblock() is not usable for pipe on Windows.</p>
</dd><dt>(cleanup_shutdown_pipe)
<dd>
<p>Rescue <a href="../../classes/IOError.html">IOError</a> for
@shutdown_pipe_w.close.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+07-3A31-3A59+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 07:31:59 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb (initialize)
<dd>
<p>Initialize shutdown pipe here to avoid race condition.</p>
</dd><dt>(cleanup_shutdown_pipe)
<dd>
<p>New private method.</p>
</dd><dt>(cleanup_listener)
<dd>
<p>Extracted from shutdown method. Call this method from start method to avoid
race condition.</p>
</dd></dl>

<h3 id="label-Mon+Nov+10+05-3A57-3A53+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov 10 05:57:53 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/webrick.cgi
<dd>
<p>Don&#39;t use debug mode.</p>
</dd><dt>test/webrick/webrick_long_filename.cgi
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-11-09">2014-11-09</h2>

<h3 id="label-Sun+Nov++9+23-3A25-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  9 23:25:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call_super)
<dd>
<p>allow bound proc method to call super method.</p>
</dd><dt>vm_insnhelper.c (vm_yield_with_cfunc)
<dd>
<p>push defined class and bound proc method entry to the control frame.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+22-3A46-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 22:46:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/open-uri
<dd>
<p><a href="../../classes/Test.html">Test</a> server log in server thread.</p>
</dd><dt>test/webrick
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+22-3A28-3A34+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 22:28:34 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpstatus.rb
<dd>
<p>require webrick/accesslog for AccessLog.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+21-3A03-3A59+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 21:03:59 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick
<dd>
<p>Fix the argument order of assert_equal.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+20-3A29-3A01+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 20:29:01 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick
<dd>
<p>Store log in an array.</p>
</dd><dt>test/net/http
<dd>
<p>Ditto.</p>
</dd><dt>test/open-uri
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+18-3A35-3A36+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 18:35:36 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc
<dd>
<p>Refine log test.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+18-3A07-3A00+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 18:07:00 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc
<dd>
<p>Use assert_join_threads.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+14-3A06-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 14:06:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/xmlrpc
<dd>
<p><a href="../../classes/Test.html">Test</a> webrick error log is empty.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+13-3A47-3A02+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Nov  9 13:47:02 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_incremental_marking)
<dd>
<p>use if/#else because rb_objspace_t::flags::during_incremental_marking is
not defined when GC_ENABLE_INCREMENTAL_MARK is 0.</p>
</dd><dt>gc.c (will_be_incremental_marking, is_full_marking)
<dd>
<p>similar fix.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+12-3A16-3A22+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  9 12:16:22 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (SecureRandom.gen_random)
<dd>
<p>separate implementation details and select at the load time.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+12-3A09-3A38+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  9 12:09:38 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::API#Enum{Value,Key)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+11-3A48-3A40+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 11:48:40 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http
<dd>
<p>Examine webrick log.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+11-3A45-3A19+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Nov  9 11:45:19 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>upgraded to test-unit 3.0.5.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+11-3A40-3A50+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 11:40:50 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/known_errors.def
<dd>
<p>More errors for FreeBSD.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+11-3A25-3A11+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Nov  9 11:25:11 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>upgraded to power_assert 0.2.0.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+10-3A31-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  9 10:31:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>set the script encoding to make a string literal in
SecureRandom::Kernel32.last_error_message single byte encoding so msg[]
works in bytes, since FormatMessage() returns the size in TCHARs, not in
characters.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+09-3A50-3A22+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 09:50:22 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick
<dd>
<p>Refine log tests.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+08-3A58-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 08:58:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/known_errors.def (EHWPOISON)
<dd>
<p>New errno symbol. It is defined by glibc-2.16.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+05-3A00-3A23+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Nov  9 05:00:23 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (initialize)
<dd>
<p>call the special method for Win32 before checking `/dev/urandom` because we
know windows doesn&#39;t have it.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+04-3A01-3A46+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Nov  9 04:01:46 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (SecureRandom::AdvApi32)
<dd>
<p>split from `initialize`. thanks @zzak to remember it.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+02-3A05-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 02:05:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/utils.rb
<dd>
<p>Don&#39;t connect to spawned server before actual test.</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+01-3A51-3A50+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Nov  9 01:51:50 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (Module#const_defined?)
<dd>
<p>[DOC] Revise the documentation. Patch by Xavier Noria. [Fixes GH-754] <a
href="https://github.com/ruby/ruby/pull/754">github.com/ruby/ruby/pull/754</a></p>
</dd></dl>

<h3 id="label-Sun+Nov++9+00-3A37-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  9 00:37:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick
<dd>
<p>Examine log and use assert_join_threads.</p>
</dd></dl>

<h2 id="label-2014-11-07">2014-11-07</h2>

<h3 id="label-Fri+Nov++7+00-3A00-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  7 00:00:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/unicode_norm_gen.tmpl
<dd>
<p>expand kompatible_table so that recursive expansion is not needed at
runtime.</p>
</dd></dl>

<h2 id="label-2014-11-06">2014-11-06</h2>

<h3 id="label-Thu+Nov++6+23-3A58-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  6 23:58:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_pack)
<dd>
<p>escape unprintable characters and preserve the encoding of warning message.</p>
</dd></dl>

<h3 id="label-Thu+Nov++6+23-3A55-3A18+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  6 23:55:18 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (sym_printable)
<dd>
<p>QUOTE() should not raise an exception even on invalid byte sequence.</p>
</dd></dl>

<h3 id="label-Thu+Nov++6+21-3A44-3A36+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov  6 21:44:36 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_unicode_normalize.rb
<dd>
<p>Rename TestNormalize to TestUnicodeNormalize. Define constants under
TestUnicodeNormalize.</p>
</dd></dl>

<h3 id="label-Thu+Nov++6+21-3A22-3A59+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov  6 21:22:59 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/open-uri/test_open-uri.rb
<dd>
<p>Check empty webrick log.</p>
</dd></dl>

<h3 id="label-Thu+Nov++6+19-3A27-3A34+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Nov  6 19:27:34 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (unescape_nonascii)
<dd>
<p>cast -1 for the case char is unsigned char. If char is signed char, for
example gcc for ARM or ppc64, it caused infinite loop. <a
href="http://kmuto.jp/build-ruby/arm/ruby-trunk/log/20141106T013005Z.fail.html.gz">kmuto.jp/build-ruby/arm/ruby-trunk/log/20141106T013005Z.fail.html.gz</a>
<a
href="http://rubyci.blob.core.windows.net/f19p8/ruby-trunk/log/20141106T090217Z.fail.html.gz">rubyci.blob.core.windows.net/f19p8/ruby-trunk/log/20141106T090217Z.fail.html.gz</a></p>
</dd></dl>

<h3 id="label-Thu+Nov++6+09-3A53-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov  6 09:53:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc2396_parser.rb (initialize)
<dd>
<p>reduce bytecode size 2088 =&gt; 1332 bytes on 32-bit x86</p>
</dd></dl>

<h2 id="label-2014-11-05">2014-11-05</h2>

<h3 id="label-Wed+Nov++5+23-3A43-3A24+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Nov  5 23:43:24 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (compile_data_alloc)
<dd>
<p>add padding when strict alignment is required for memory access. Currently,
the padding is enabled only when the CPU is 32-bit SPARC and the compiler
is GCC. [Bug #9681] [ruby-core:61715]</p>
</dd><dt>compile.c (STRICT_ALIGNMENT)
<dd>
<p>defined if strict alignment is required</p>
</dd><dt>compile.c (ALIGNMENT_SIZE, ALIGNMENT_SIZE_MASK, PADDING_SIZE_MAX)
<dd>
<p>new macros for alignment word size, bit mask, max size of padding.</p>
</dd><dt>compile.c (calc_padding)
<dd>
<p>new function to calculate padding size.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+23-3A24-3A45+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov  5 23:24:45 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/open-uri/test_open-uri.rb
<dd>
<p>Don&#39;t ignore webrick&#39;s log.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+19-3A20-3A08+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Nov  5 19:20:08 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Stop listener loop properly. [ruby-core:66085] [Bug #10478] Fixed by
Charles Nutter.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+17-3A20-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 17:20:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_disable_super, rb_enable_super)
<dd>
<p>warn as deprecated at build time, instead of ignoring silently or warning
at runtime only.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+16-3A55-3A52+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 16:55:52 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_f_lambda)
<dd>
<p>remove deprecated function, which has been unavailable from extension
libraries.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+16-3A26-3A58+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 16:26:58 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_clear_cache)
<dd>
<p>mark as deprecated, not only warnings at runtime.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+15-3A05-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 15:05:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_{,l,r}strip_bang)
<dd>
<p>rb_str_subseq() will not NUL-terminate the result string, in the future, so
it will not be needed in other cases.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+14-3A11-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 14:11:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (lib/unicode_normalize/tables.rb)
<dd>
<p>do nothing unless BASERUBY is available.  MINIRUBY cannot load extension
libraries, so cannot update Unicode data.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+12-3A13-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 12:13:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_lstrip, rb_str_strip)
<dd>
<p>reduce memory copy by copying necessary part only.</p>
</dd><dt>string.c (rb_str_strip_bang, rb_str_strip)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+12-3A13-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 12:13:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_lstrip, rb_str_strip)
<dd>
<p>reduce memory copy by copying necessary part only.</p>
</dd><dt>string.c (rb_str_strip_bang, rb_str_strip)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Nov++5+10-3A54-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov  5 10:54:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_lstrip_bang, rb_str_rstrip_bang)
<dd>
<p>terminate wchar strings with wchar 0.</p>
</dd></dl>

<h2 id="label-2014-11-04">2014-11-04</h2>

<h3 id="label-Tue+Nov++4+21-3A23-3A22+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov  4 21:23:22 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/Win32API.rb
<dd>
<p><a href="../../classes/Fiddle/Importer.html">Fiddle::Importer</a> is
defined in fiddle/import.rb and it&#39;s not loaded implicitly.</p>
</dd><dt>ext/win32/lib/Win32API.rb (Win32API#initialize)
<dd>
<p>`import` is a string.</p>
</dd><dt>ext/win32/lib/Win32API.rb (Win32API#initialize)
<dd>
<p>Fiddle::Importer::CALL_TYPE_TO_ABI is private constant.</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+21-3A20-3A07+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov  4 21:20:07 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (SecureRandom.random_bytes)
<dd>
<p>use fiddle directly instead of using Win32API.</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+21-3A04-3A30+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov  4 21:04:30 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_request_set_lockfile.rb (test_relative_path_from)
<dd>
<p>driveletter support.</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+16-3A23-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov  4 16:23:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_remote_fetcher.rb (RemoteFetcherCleanup)
<dd>
<p>close all pooled connections for each tests to fix leaked file descriptors.</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+12-3A51-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov  4 12:51:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (PRIsVALUE), vsnprintf.c (BSD_vfprintf)
<dd>
<p>add RUBY_PRI_VALUE_MARK to reduce danger of accidental conflict with plain
“%i”.  binary incompatible with extension libraries using PRIsVALUE and
built for 2.1 and earlier.  [EXPERIMENTAL]</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+12-3A33-3A44+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Nov  4 12:33:44 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>fix document of Kernel#String by @suzukaze [fix GH-743][ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+12-3A21-3A45+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Nov  4 12:21:45 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>added documentation for skip_blanks option by @decasia [fix GH-744][ci
skip]</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+12-3A09-3A18+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Nov  4 12:09:18 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p>fix code formatting in documentation by @JoshCheek [fix GH-747][ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Nov++4+08-3A57-3A37+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov  4 08:57:37 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_memsize)
<dd>
<p>remove unnecessary function [ruby-core:65304]</p>
</dd></dl>

<h2 id="label-2014-11-03">2014-11-03</h2>

<h3 id="label-Mon+Nov++3+18-3A09-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Nov  3 18:09:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/utils.rb
<dd>
<p>The default of :ignore_listener_error is changed to false.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+14-3A42-3A37+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 14:42:37 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_free)
<dd>
<p>resolve memory leak.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+13-3A49-3A18+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 13:49:18 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_memsize)
<dd>
<p>catch up recent changes.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+13-3A38-3A28+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 13:38:28 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>change semantics of opt_num and opt_table. `opt_num&#39; was the number of
optional parameters + 1. `opt_table&#39; has “opt_num” entries. Change them
to: `opt_num&#39; is the number of optional parameters. `opt_table&#39; has
“opt_num + 1” entries. This change simplify parameter fitting logics.</p>
</dd><dt>compile.c
<dd>
<p>catch up this change.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+11-3A47-3A44+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Nov  3 11:47:44 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>added period into <a href="../../classes/Matrix.html">Matrix</a> section.
[ci skip] [misc #<a href="ruby-core:65987">10446]</a></p>
</dd></dl>

<h3 id="label-Mon+Nov++3+09-3A43-3A30+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Nov  3 09:43:30 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c
<dd>
<p>fixed build error with clang</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+09-3A32-3A46+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Nov  3 09:32:46 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc3986_parser.rb (URI::RFC3986_Parser::RFC3986_URI)
<dd>
<p>allow &#39;[&#39; and &#39;]&#39; for <a
href="../../classes/URI.html">URI</a> input (and escape). [Bug #10402]</p>
</dd><dt>lib/uri/generic.rb (URI#query=)
<dd>
<p>escape &#39;[&#39;, &#39;&#39;, and &#39;]&#39;.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+07-3A49-3A34+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 07:49:34 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>change iseq parameter data structure. <a
href="https://bugs.ruby-lang.org/issues/10440#change-49694">bugs.ruby-lang.org/issues/10440#change-49694</a>
* change terminology `arg&#39; to `param&#39;. * move rb_iseq_t::arg_* to
rb_iseq_t::param. * move rb_iseq_t::arg_size to rb_iseq_t::param::size. *
move rb_iseq_t::argc to rb_iseq_t::param::lead_num. * move
rb_iseq_t::arg_opts to rb_iseq_t::param::opt_num. * move
rb_iseq_t::arg_rest to rb_iseq_t::param::rest_start. * move
rb_iseq_t::arg_post_num to rb_iseq_t::param::post_num. * move
rb_iseq_t::arg_post_start to rb_iseq_t::param::post_start. * move
rb_iseq_t::arg_block to rb_iseq_t::param::block_start. * move
rb_iseq_t::arg_keyword* to rb_iseq_t::param::keyword.
rb_iseq_t::param::keyword is allocated only when keyword parameters are
available. * introduce rb_iseq_t::param::flags to represent parameter
availability. For example, rb_iseq_t::param::flags::has_kw represents that
this iseq has keyword parameters and rb_iseq_t::param::keyword is
allocated. We don&#39;t need to compare with -1 to check availability. *
remove rb_iseq_t::arg_simple.</p>
</dd><dt>compile.c
<dd>
<p>catch up this change.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c, vm_args.c, vm_dump.c, vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>support keyword argument.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+03-3A39-3A04+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 03:39:04 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_method.rb
<dd>
<p>r48239 makes this test green.</p>
</dd></dl>

<h3 id="label-Mon+Nov+03+03-3A02-3A38+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov 03 03:02:38 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>vm_core.h
<dd>
<p>change iseq data structures. * introduce rb_call_info_kw_arg_t to represent
keyword arguments. * add rb_call_info_t::kw_arg. * rename
rb_iseq_t::arg_post_len to rb_iseq_t::arg_post_num. * rename
rb_iseq_t::arg_keywords to arg_keyword_num. * rename rb_iseq_t::arg_keyword
to rb_iseq_t::arg_keyword_bits. to represent keyword bitmap parameter
index. This bitmap parameter shows that which keyword parameters are given
or not given (0 for given). It is referred by `checkkeyword&#39;
instruction described bellow. * rename rb_iseq_t::arg_keyword_check to
rb_iseq_t::arg_keyword_rest to represent keyword rest parameter index. *
add rb_iseq_t::arg_keyword_default_values to represent default keyword
values. * rename VM_CALL_ARGS_SKIP_SETUP to VM_CALL_ARGS_SIMPLE to
represent</p>
</dd><dd>
<p></p>
</dd><dt>vm_insnhelper.c, vm_args.c
<dd>
<p>rewrite with refactoring. * rewrite splat argument code. * rewrite keyword
arguments/parameters code. * merge method and block parameter fitting code
into one code base.</p>
</dd><dt>vm.c, vm_eval.c
<dd>
<p>catch up these changes.</p>
</dd><dt>compile.c (new_callinfo)
<dd>
<p>callinfo requires kw_arg parameter.</p>
</dd><dt>compile.c (compile_array_)
<dd>
<p>check the last argument <a href="../../classes/Hash.html">Hash</a> object
or not. If <a href="../../classes/Hash.html">Hash</a> object and all keys
are <a href="../../classes/Symbol.html">Symbol</a> literals, they are
compiled to keyword arguments.</p>
</dd><dt>insns.def (checkkeyword)
<dd>
<p>add new instruction. This instruction check the availability of
corresponding keyword. For example, a method “def foo k1: &#39;v1&#39;;
end” is compiled to the following instructions. 0000 checkkeyword     2, 0 
# check k1 is given. 0003 branchif         9     # if given, jump to
address #9 0005 putstring        “v1” 0007 setlocal_OP__WC__0 3   # k1 =
&#39;v1&#39; 0009 trace            8 0011 putnil 0012 trace            16
0014 leave</p>
</dd><dt>insns.def (opt_send_simple)
<dd>
<p>removed and add new instruction “opt_send_without_block”.</p>
</dd><dt>parse.y (new_args_tail_gen)
<dd>
<p>reorder variables. Before this patch, a method “def foo(k1: 1, kr1:, k2: 2,
**krest, &amp;b)” has parameter variables “k1, kr1, k2, &amp;b,
internal_id, krest”, but this patch reorders to “kr1, k1, k2, internal_id,
krest, &amp;b”.</p>
</dd><dd>
<p></p>
</dd><dt>parse.y (vtable_pop)
<dd>
<p>added. This function remove latest `n&#39; variables from vtable.</p>
</dd><dt>iseq.c
<dd>
<p>catch up iseq data changes.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>class.c (keyword_error)
<dd>
<p>export as rb_keyword_error().</p>
</dd><dt>common.mk
<dd>
<p>depend vm_args.c for vm.o.</p>
</dd><dt>hash.c (rb_hash_has_key)
<dd>
<p>export.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+02-3A35-3A32+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 02:35:32 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/simple-bench.rb
<dd>
<p>added to measure performance of simple lines.</p>
</dd></dl>

<h3 id="label-Mon+Nov++3+02-3A33-3A43+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Nov  3 02:33:43 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>show T_STRING more details.</p>
</dd></dl>

<h2 id="label-2014-11-02">2014-11-02</h2>

<h3 id="label-Sun+Nov++2+01-3A30-3A32+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Nov  2 01:30:32 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>Don&#39;t ignore errors on listener threads, as much as possible.</p>
</dd><dt>test/openssl/test_ssl_session.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/openssl/test_partial_record_read.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-11-01">2014-11-01</h2>

<h3 id="label-Sat+Nov++1+23-3A11-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  1 23:11:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/utils.rb (start_server)
<dd>
<p>Don&#39;t close sockets before threads finished.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+22-3A06-3A24+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  1 22:06:24 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl_session.rb (test_ctx_client_session_cb)
<dd>
<p>Don&#39;t ignore errors of SSL accept.</p>
</dd><dt>(test_ctx_server_session_cb)
<dd>
<p>Ditto.</p>
</dd><dt>test/openssl/utils.rb (server_loop)
<dd>
<p>Add ignore_ssl_accept_error argument.</p>
</dd><dt>(start_server)
<dd>
<p>Refine threads waits.</p>
</dd><dt>test/ruby/envutil.rb (assert_join_threads)
<dd>
<p>Show a thread before backtrace.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+20-3A40-3A18+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  1 20:40:18 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/utils.rb (start_server, server_loop)
<dd>
<p>Use a pipe to stop server instead of shutdown/close a listening socket.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+19-3A24-3A59+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  1 19:24:59 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_join_threads)
<dd>
<p>New assertion to join multiple threads without exceptions.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+17-3A09-3A32+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov  1 17:09:32 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_balance_with_mulfunc)
<dd>
<p>Fix free work area location. [ruby-dev:48723] [Bug #10464]
[ruby-core:66044] [Bug #10465] Reported by Kohji Nishihama.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+15-3A45-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov  1 15:45:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parse_atmark)
<dd>
<p>mere atmark and two atmarks without succeeding identifiers are invalid as
instance/class variable names.</p>
</dd></dl>

<h3 id="label-Sat+Nov++1+06-3A31-3A41+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Nov  1 06:31:41 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_variant.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h2 id="label-2014-10-31">2014-10-31</h2>

<h3 id="label-Fri+Oct+31+13-3A55-3A28+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Oct 31 13:55:28 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/*
<dd>
<p>remove DL as it is replaced by <a
href="../../classes/Fiddle.html">Fiddle</a>. [Feature #5458] Thanks to
Jonan Scheffler &lt;jonanscheffler@gmail.com&gt; for this patch</p>
</dd><dt>test/dl/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+15-3A26-3A02+2014++Charles+Oliver+Nutter++-3Cheadius-40headius.com-3E">Fri Oct 31 15:26:02 2014  Charles Oliver Nutter  &lt;headius@headius.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>Add certificate verification chain test from JRuby community.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+18-3A58-3A02+2014++Charles+Oliver+Nutter++-3Cheadius-40headius.com-3E">Fri Oct 31 18:58:02 2014  Charles Oliver Nutter  &lt;headius@headius.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/psych/test_emitter.rb
<dd>
<p>Fix line_width test…initial value is impl-specific and attr assignment
always returns LHS.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+22-3A19-3A30+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 31 22:19:30 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/lib/digest.rb (Digest())
<dd>
<p>This function should now be thread-safe.  If you have a problem with regard
to on-demand loading under a multi-threaded environment, preload “digest/*”
modules on boot or use this method instead of directly referencing
Digest::*. [Bug #9494] cf. <a
href="https://github.com/aws/aws-sdk-ruby/issues/525">github.com/aws/aws-sdk-ruby/issues/525</a></p>
</dd></dl>

<h3 id="label-Fri+Oct+31+21-3A33-3A17+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 31 21:33:17 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/digest/test_digest.rb
<dd>
<p>Drop #!.  This no longer runs stand-alone because it depends on
ruby/envutil.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+17-3A22-3A19+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Oct 31 17:22:19 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/setup.mak
<dd>
<p>$(APPEND) with some arguments insert a space before the arguments, so it
causes error if the arguments are expected to be a macro definition.  this
fix resolve the build error introduced at r48210.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+16-3A47-3A35+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 31 16:47:35 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/syslog/lib/syslog/logger.rb (Syslog::Logger::VERSION)
<dd>
<p>Bump the VERSION to 2.1.0. [ruby-core:64483] [Bug #10159]</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+16-3A33-3A46+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Oct 31 16:33:46 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (Net::IMAP#fetch)
<dd>
<p>[DOC] Document that <a
href="../../classes/Net/IMAP.html#method-i-fetch">Net::IMAP#fetch</a> will
return nil instead of an empty array.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+12-3A54-3A43+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 31 12:54:43 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (.unicode-tables.time)
<dd>
<p>needs Unicode files always, and should update after downloading these
files. [ruby-core:66026] [Bug #10461]</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+10-3A16-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct 31 10:16:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>reverted r48199, it&#39;s unrelated configuration.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+09-3A58-3A14+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct 31 09:58:14 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_unicode_normalize.rb
<dd>
<p>added unicode version number to test data location.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+09-3A56-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct 31 09:56:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored unicode data with version directories.</p>
</dd></dl>

<h3 id="label-Fri+Oct+31+09-3A35-3A30+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct 31 09:35:30 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>tweak build scripts for unicode_normalize.rb.</p>
</dd></dl>

<h2 id="label-2014-10-30">2014-10-30</h2>

<h3 id="label-Thu+Oct+30+18-3A47-3A04+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Oct 30 18:47:04 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>fix for the case ALWAYS_UPDATE_UNICODE=no</p>
</dd></dl>

<h3 id="label-Thu+Oct+30+11-3A16-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 30 11:16:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_arg{_complex,})
<dd>
<p>try conversion by to_ary for a lambda, as well as a proc. [ruby-core:65887]
[Bug #9605]</p>
</dd></dl>

<h2 id="label-2014-10-29">2014-10-29</h2>

<h3 id="label-Wed+Oct+29+21-3A13-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 29 21:13:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (gettable_gen)
<dd>
<p>warn circular argument reference, for transition from 2.1 and earlier. 
[ruby-core:65990] [Bug #10314]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+20-3A41-3A01+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 29 20:41:01 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_params)
<dd>
<p>remove unused member `cur_mid`. this has been taken over by `in_def` since
1.6.</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+14-3A44-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 29 14:44:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_f_load)
<dd>
<p>path name needs to be transcoded to OS path encoding.  [ruby-list:49994]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+11-3A48-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 29 11:48:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (__builtin_setjmp)
<dd>
<p>disable with gcc/clang earlier than 4.3 on Mac OS X.  [ruby-core:65174]
[Bug #10272]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+10-3A00-3A18+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Oct 29 10:00:18 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Update latest version of bundled gems.</p>
</dd></dl>

<h2 id="label-2014-10-28">2014-10-28</h2>

<h3 id="label-Tue+Oct+28+16-3A52-3A07+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Oct 28 16:52:07 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (install_sighandler)
<dd>
<p>remove rb_disable_interrupt and rb_enable_interrupt calls</p>
</dd><dt>(init_sigchld)
<dd>
<p>ditto</p>
</dd><dt>(Init_signal)
<dd>
<p>disable and enable interrupt once around all install_sighandler and
init_sigchld to reduce syscalls at start [Feature #9345] [ruby-core:59480]</p>
</dd></dl>

<h3 id="label-Tue+Oct+28+16-3A22-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 28 16:22:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (process_options, load_file_internal2)
<dd>
<p>should not require other files when dump option is given. [ruby-dev:48712]
[Bug #10435]</p>
</dd></dl>

<h3 id="label-Tue+Oct+28+14-3A51-3A38+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Oct 28 14:51:38 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>remove apple-gcc4.2 from CC candidates.</p>
</dd></dl>

<h2 id="label-2014-10-27">2014-10-27</h2>

<h3 id="label-Mon+Oct+27+20-3A13-3A37+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct 27 20:13:37 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/entity.rb
<dd>
<p>keep the entity size within the limitation. reported by Willis Vandevanter
&lt;will@silentrobots.com&gt; and patched by nahi.</p>
</dd></dl>

<h3 id="label-Mon+Oct+27+17-3A17-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 27 17:17:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_proc)
<dd>
<p>the receiver of binding from method should be same as the receiver of the
method. [ruby-core:65917] [Bug #10432]</p>
</dd></dl>

<h3 id="label-Mon+Oct+27+16-3A26-3A37+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct 27 16:26:37 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_super.rb
<dd>
<p>add a test to check block passing.</p>
</dd></dl>

<h3 id="label-Mon+Oct+27+15-3A59-3A26+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Oct 27 15:59:26 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>is_incremental_marking(), will_be_incremental_marking(): use
`&amp;&amp;&#39; with GC_ENABLE_INCREMENTAL_MARK instead of using
if/#else/#endif.</p>
</dd></dl>

<h3 id="label-Mon+Oct+27+13-3A40-3A11+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 27 13:40:11 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_sweep_rest)
<dd>
<p>sweep rest pages regardless of whether lazy sweep is enabled or not.  based
on the patch by Masahiro Ide at [ruby-dev:48706].  [Bug #10431]</p>
</dd></dl>

<h3 id="label-Mon+Oct+27+11-3A18-3A32+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Oct 27 11:18:32 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>reduce garbage during forks</p>
</dd></dl>

<h2 id="label-2014-10-26">2014-10-26</h2>

<h3 id="label-Sun+Oct+26+12-3A24-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 26 12:24:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/ripper/lib/ripper/sexp.rb (Ripper.sexp, <a href="../../classes/Ripper.html#method-c-sexp_raw">Ripper.sexp_raw</a>)
<dd>
<p>return nil on error.  [ruby-dev:48678] [Bug #10405]</p>
</dd></dl>

<h3 id="label-Sun+Oct+26+07-3A40-3A11+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Oct 26 07:40:11 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_val2variant, ole_invoke)
<dd>
<p>refactoring. use ole_variant2variant to convert <a
href="../../classes/WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a> object to
VARIANT object.</p>
</dd><dt>ext/win32ole/win32ole_variant.c
<dd>
<p>refactoring. add ole_variant2variant.</p>
</dd><dt>ext/win32ole/win32ole_variant.h
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-10-25">2014-10-25</h2>

<h3 id="label-Sat+Oct+25+22-3A28-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Oct 25 22:28:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_binwrite_string)
<dd>
<p><a href="../../classes/Test.html">Test</a> writev() failure.</p>
</dd></dl>

<h2 id="label-2014-10-24">2014-10-24</h2>

<h3 id="label-Fri+Oct+24+22-3A49-3A42+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 24 22:49:42 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>dispatch newline and space at fluent interface, so that the following
identifier does not include the space.  [ruby-dev:48684] [Bug #10411]</p>
</dd></dl>

<h3 id="label-Fri+Oct+24+20-3A41-3A36+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Fri Oct 24 20:41:36 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_reserved_signal_)
<dd>
<p>fix write count since r47991.</p>
</dd></dl>

<h2 id="label-2014-10-23">2014-10-23</h2>

<h3 id="label-Thu+Oct+23+21-3A42-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 23 21:42:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_delete)
<dd>
<p>now does not call the block given to the current method.  [ruby-core:65861]
[Bug #10413]</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+19-3A13-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 23 19:13:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>warn redefinition only for already defined methods, but not for undefined
methods. [ruby-dev:48691] [Bug #10421]</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+17-3A19-3A04+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Oct 23 17:19:04 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/source.rb (REXML::IOSource#encoding_updated)
<dd>
<p>Fix a bug that can&#39;t parse <a href="../../classes/XML.html">XML</a>
correctly when <a
href="../../classes/Encoding.html#method-c-default_internal">Encoding.default_internal</a>
is different with <a href="../../classes/XML.html">XML</a> encoding. <a
href="../../classes/REXML/Source.html">REXML::Source</a> converts <a
href="../../classes/XML.html">XML</a> encoding on read. So <a
href="../../classes/IO.html">IO</a> should not convert <a
href="../../classes/XML.html">XML</a> encoding. Based on patch by NAKAMURA
Usaku. [ruby-dev:48686] [Bug #10418]</p>
</dd><dt>test/rexml/test_encoding.rb (REXMLTests::EncodingTester#test_parse_utf16_with_utf8_default_internal)
<dd>
<p>Add the for the above case.</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+16-3A29-3A02+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Oct 23 16:29:02 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_encoding.rb (REXMLTests::EncodingTester#test_parse_utf16)
<dd>
<p>Use meaningful test name. “ticket” in the old test name means the ticket in
REXML&#39;s issue tracker. The REXML&#39;s issue tracker was gone. So
“ticket” is meaningless.</p>
</dd><dt>test/rexml/data/ticket_110_utf16.xml
<dd>
<p>Rename to …</p>
</dd><dt>test/rexml/data/utf16.xml
<dd>
<p>… this.</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+16-3A18-3A11+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Thu Oct 23 16:18:11 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_encoding.rb (REXMLTests::EncodingTester#test_ticket_110)
<dd>
<p>Fix expected and actual order. Patch by NAKAMURA Usaku. Thanks!!!</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+10-3A47-3A16+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 23 10:47:16 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (getlocal,setlocal)
<dd>
<p>add comment to def/opt_operand.def</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+10-3A22-3A41+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 23 10:22:41 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>use <a
href="../../classes/IO.html#method-i-wait_readable">IO#wait_readable</a>
instead of timeout</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+10-3A22-3A24+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 23 10:22:24 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>ensure exit! during fork failure</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+03-3A41-3A51+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 23 03:41:51 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (unknown_keyword_error)
<dd>
<p>delete expected keywords directly from raw table, so that the given block
is not called. [ruby-core:65837] [Bug #10413]</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+02-3A33-3A01+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 23 02:33:01 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (update-unicode)
<dd>
<p>invert dependency to run every times. [ruby-core:65842] [Bug #10415]</p>
</dd><dt>common.mk (after-update)
<dd>
<p>update files under source tree. [ruby-core:65840] [Bug #10414]</p>
</dd></dl>

<h2 id="label-2014-10-22">2014-10-22</h2>

<h3 id="label-Wed+Oct+22+22-3A38-3A59+2014++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Wed Oct 22 22:38:59 2014  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (DEFAULT_PARAMS)
<dd>
<p>override options even if OpenSSL::SSL::OP_NO_SSLv3 is not defined. this is
pointed out by Stephen Touset. [ruby-core:65711] [Bug #9424]</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+21-3A31-3A56+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Oct 22 21:31:56 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (prelude.c)
<dd>
<p>add dependency to LIB_SRCS because enc/prelude.rb requires
lib/unicode_normalize.rb, and it&#39;s also requires
lib/unicode_normalize/tables.rb (=LIB_SRCS).</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+21-3A09-3A51+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Wed Oct 22 21:09:51 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (nacl_cv_cpu_nick)
<dd>
<p>fix typo in PNaCl.</p>
</dd><dt>(XCFLAGS) Add -isystem flag to pnacl and nacl-newlib (CXX)
<dd>
<p>added</p>
</dd><dt>nacl/GNUmakefile.in (CXX)
<dd>
<p>Added</p>
</dd><dt>(PPROGRAM)
<dd>
<p>Use clang++ instead of clang because libnacl_io depends on c++ std lib.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+21-3A07-3A32+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Wed Oct 22 21:07:32 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (build-ext)
<dd>
<p>avoid trying to build dynamic libraries if configured
–with-static-linked-ext.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+18-3A13-3A29+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Oct 22 18:13:29 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>as often said, ruby is sometimes built at non-srcdir.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+08-3A21-3A09+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Wed Oct 22 08:21:09 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>nacl/pepper_main.c (Instance_DidCreate)
<dd>
<p>mount devfs and rebind fd 0 .. 2 so that stderr goes to the console of the
browser.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+03-3A47-3A43+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 22 03:47:43 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors_affin)
<dd>
<p>maximum “n” should be 16384.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+03-3A37-3A00+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 22 03:37:00 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors_affin)
<dd>
<p>minor spell fix.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+03-3A33-3A58+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 22 03:33:58 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors_affin)
<dd>
<p>optimize memory usage a bit. Typical rubyist never use 8k cpus machine.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+00-3A01-3A09+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Wed Oct 22 00:01:09 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (XCFLAGS)
<dd>
<p>Add include path for NaCl libraries.</p>
</dd><dt>(XLDFLAGS)
<dd>
<p>ditto.</p>
</dd><dt>(NACL_LIB_PATH)
<dd>
<p>new substitution</p>
</dd><dt>nacl/nacl-config.rb
<dd>
<p>support NACL_LIB_PATH</p>
</dd><dt>nacl/package.rb
<dd>
<p>ditto.</p>
</dd><dt>nacl/pepper_main.c
<dd>
<p>replace old implementations with nacl_io.</p>
</dd><dt>nacl/GNUmakefile.in
<dd>
<p>link nacl_io to pepper_ruby</p>
</dd><dt>ruby.c (rb_load_file)
<dd>
<p>remove __attribute__((weak)) because the old override hack was replaced
with nacl_io.</p>
</dd><dt>file.c (rb_file_load_ok)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-10-21">2014-10-21</h2>

<h3 id="label-Tue+Oct+21+11-3A49-3A16+2014++Andreas+Schwab++-3Cschwab-40suse.de-3E">Tue Oct 21 11:49:16 2014  Andreas Schwab  &lt;schwab@suse.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (mark_current_machine_context) [<em>mc68000</em>]
<dd>
<p>Update stack marking.</p>
</dd><dt>(rb_gc_mark_machine_stack) [<em>mc68000</em>]
<dd>
<p>Also handle it here.</p>
</dd></dl>

<h2 id="label-2014-10-20">2014-10-20</h2>

<h3 id="label-Mon+Oct+20+23-3A59-3A38+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct 20 23:59:38 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/prelude.rb
<dd>
<p>we sometimes run ruby without library path (especially for test), so should
permit to run ruby if unicode_normalize.rb is missing.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+23-3A57-3A58+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct 20 23:57:58 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (lib/unicode_normalize/tables.rb)
<dd>
<p>enable running (n)make in non-srcdir.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+23-3A58-3A04+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 20 23:58:04 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>add -a option to always download regardless existing files.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+23-3A18-3A18+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct 20 23:18:18 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>no need to convert path separator for COPY because it&#39;s ruby -run cp
and it can treat &#39;/&#39; on any platform.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+02-3A23-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 20 02:23:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_ivar_get), vm_insnhelper.c (vm_getivar)
<dd>
<p>improve instance variable retrieval performance by checking ruby_verbose
before call of rb_warning and evaluation of its argument. [ruby-core:65786]
[Feature #10396]</p>
</dd></dl>

<h2 id="label-2014-10-19">2014-10-19</h2>

<h3 id="label-Sun+Oct+19+23-3A31-3A29+2014++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Sun Oct 19 23:31:29 2014  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>(unicode_normalize!): change method name. catch up the method name change
at r48014. [Feature #10084]</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+20-3A05-3A58+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Oct 19 20:05:58 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/lib/tkextlib/tile/treeview.rb
<dd>
<p>fix syntax error.</p>
</dd></dl>

<h2 id="label-2014-10-18">2014-10-18</h2>

<h3 id="label-Sat+Oct+18+20-3A40-3A52+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Oct 18 20:40:52 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, proc.c, vm_backtrace.c, vm_trace.c
<dd>
<p>remove rb_binding_new_with_cfp, and use rb_vm_make_binding instead.</p>
</dd></dl>

<h3 id="label-Sat+Oct+18+20-3A38-3A48+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Oct 18 20:38:48 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, vm.c, proc.c
<dd>
<p>fix <a href="../../classes/GC.html">GC</a> mark miss on bindings.
[ruby-dev:48616] [Bug #10368]</p>
</dd><dt>test/ruby/test_eval.rb
<dd>
<p>add a test code.</p>
</dd></dl>

<h2 id="label-2014-10-17">2014-10-17</h2>

<h3 id="label-Fri+Oct+17+22-3A47-3A11+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Oct 17 22:47:11 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack)
<dd>
<p>Add casts for char references for &#39;u&#39;. Fix line ending recognition
algorithm.</p>
</dd></dl>

<h3 id="label-Fri+Oct+17+21-3A49-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Oct 17 21:49:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack)
<dd>
<p>Add casts for char references for &#39;b&#39; and &#39;h&#39;.</p>
</dd></dl>

<h3 id="label-Fri+Oct+17+17-3A50-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Oct 17 17:50:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>string.c (rb_str_sum)
<dd>
<p>Avoid undefined behavior.</p>
</dd></dl>

<h3 id="label-Fri+Oct+17+17-3A43-3A50+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Oct 17 17:43:50 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>include/ruby/ruby.h (INT2FIX)
<dd>
<p>Avoid undefined behavior.</p>
</dd><dt>node.h (nd_set_line)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c (encodes)
<dd>
<p>Ditto.</p>
</dd><dt>(pack_unpack)
<dd>
<p>Ditto.</p>
</dd><dt>regint.h (BIT_STATUS_AT)
<dd>
<p>Ditto.</p>
</dd><dt>(BS_BIT)
<dd>
<p>Ditto.</p>
</dd><dt>time.c (time_mdump)
<dd>
<p>Ditto.</p>
</dd><dt>(time_mload)
<dd>
<p>Ditto.</p>
</dd><dt>vm_core.h (VM_FRAME_MAGIC_MASK)
<dd>
<p>Ditto.</p>
</dd><dt>vm_trace.c (recalc_add_ruby_vm_event_flags)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct+17+15-3A06-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 17 15:06:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (unescape_nonascii)
<dd>
<p>make dynamically compiled US-ASCII regexps ASCII-8BIT encoding if binary
(hexadecimal, control, meta) escapes are contained, as well as literal
regexps. [ruby-dev:48626] [Bug #10382]</p>
</dd></dl>

<h3 id="label-Fri+Oct+17+03-3A05-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct 17 03:05:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/bug_reporter/test_bug_reporter.rb (test_bug_reporter_add)
<dd>
<p>revert r47972</p>
</dd><dt>test/ruby/test_rubyoptions.rb (test_segv_test)
<dd>
<p>revert r47971 [ruby-core:65764]</p>
</dd></dl>

<h2 id="label-2014-10-16">2014-10-16</h2>

<h3 id="label-Thu+Oct+16+23-3A17-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 16 23:17:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_sigaltstack_size)
<dd>
<p>double default size to get rid of heap corruption by alternate stack
overflow in SEGV handler. typically happened at fprintf() in
control_frame_dump().</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+22-3A43-3A12+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Oct 16 22:43:12 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c (id2str)
<dd>
<p>Fix a variable name. [ruby-dev:48642] [Bug #10389]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+20-3A01-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Oct 16 20:01:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_pattern_list)
<dd>
<p>Show number of matched patterns and characters.</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+16-3A26-3A09+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 16:26:09 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (fiber_store)
<dd>
<p>fix WIN32 fibers [ruby-core:65745] [ruby-core:65758]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+15-3A05-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 16 15:05:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_here_document)
<dd>
<p>do not append already appended and disposed code fragment. 
[ruby-dev:48647] [Bug #10392]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+10-3A35-3A33+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 10:35:33 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/bug_reporter/test_bug_reporter.rb (test_bug_reporter_add)
<dd>
<p>fix race</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+10-3A09-3A02+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 10:09:02 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rubyoptions.rb (test_segv_test)
<dd>
<p>fix race</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+09-3A17-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 16 09:17:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_fiber_t)
<dd>
<p>fix compile error caused by move to vm_core.h at r47964.  [Feature #10341]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+08-3A58-3A11+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 08:58:11 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>avoid killing wrong parent</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+08-3A40-3A04+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 08:40:04 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (fiber_store)
<dd>
<p>restore references to next_fib (fix typo)</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+08-3A26-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 16 08:26:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (fiber_store)
<dd>
<p>remove references to nextfib fix build when FIBER_USE_NATIVE is 0</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+06-3A51-3A35+2014++Knut+Franke++-3CKnut.Franke-40gmx.de-3E">Thu Oct 16 06:51:35 2014  Knut Franke  &lt;Knut.Franke@gmx.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>declare rb_fiber_t typedef</p>
</dd><dt>(rb_thread_t)
<dd>
<p>fiber and root_fiber become rb_fiber_t * (from VALUE)</p>
</dd><dt>vm.c (rb_thread_mark)
<dd>
<p>use rb_fiber_mark_self</p>
</dd><dt>cont.c (rb_fiber_t)
<dd>
<p>prev becomes rb_fiber_t * (from VALUE)</p>
</dd><dt>(cont_mark, cont_free)
<dd>
<p>simplify conditions</p>
</dd><dt>(rb_fiber_mark_self)
<dd>
<p>new function</p>
</dd><dt>(fiber_mark)
<dd>
<p>use rb_fiber_mark_self</p>
</dd><dt>(cont_save_thread, cont_restore_thread)
<dd>
<p>inline</p>
</dd><dt>(cont_restore_thread)
<dd>
<p>simplify</p>
</dd><dt>(fiber_setcontext)
<dd>
<p>simplify conditions</p>
</dd><dt>(rb_cont_call)
<dd>
<p>remove dereference</p>
</dd><dt>(fiber_t_alloc)
<dd>
<p>update for rb_fiber_t-&gt;prev type change</p>
</dd><dt>(rb_fiber_start)
<dd>
<p>ditto</p>
</dd><dt>(fiber_current)
<dd>
<p>extract from rb_fiber_current</p>
</dd><dt>(return_fiber)
<dd>
<p>move, simplify type checks</p>
</dd><dt>(rb_fiber_current)
<dd>
<p>use fiber_current</p>
</dd><dt>(fiber_store)
<dd>
<p>simplify type checks</p>
</dd><dt>(fiber_switch)
<dd>
<p>ditto, simplify call to fiber_setcontext, use fiber_current</p>
</dd><dt>(rb_fiber_transfer)
<dd>
<p>update for type changes</p>
</dd><dt>(rb_fiber_terminate)
<dd>
<p>move, use fiber_switch</p>
</dd><dt>(rb_fiber_resume)
<dd>
<p>update for type changes</p>
</dd><dt>(rb_fiber_reset_root_local_storage)
<dd>
<p>ditto</p>
</dd><dt>(rb_fiber_yield)
<dd>
<p>use rb_fiber_switch instead of rb_fiber_transfer</p>
</dd><dt>(rb_fiber_m_transfer)
<dd>
<p>ditto [ruby-core:65518] [Feature #10341]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+06-3A25-3A29+2014++Knut+Franke++-3CKnut.Franke-40gmx.de-3E">Thu Oct 16 06:25:29 2014  Knut Franke  &lt;Knut.Franke@gmx.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_context_t)
<dd>
<p>comment on saved_thread</p>
</dd><dt>(cont_save_thread)
<dd>
<p>sparse copy</p>
</dd><dt>(cont_init)
<dd>
<p>copy extra fields</p>
</dd><dt>(fiber_init)
<dd>
<p>use current thread VM stack size [ruby-core:65518] [Feature #10341]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+06-3A13-3A09+2014++Knut+Franke++-3CKnut.Franke-40gmx.de-3E">Thu Oct 16 06:13:09 2014  Knut Franke  &lt;Knut.Franke@gmx.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (cont_capture)
<dd>
<p>remove unnecessary variable [ruby-core:65518] [Feature #10341]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+05-3A02-3A31+2014++Knut+Franke++-3CKnut.Franke-40gmx.de-3E">Thu Oct 16 05:02:31 2014  Knut Franke  &lt;Knut.Franke@gmx.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (fiber_store, fiber_switch)
<dd>
<p>simplify [ruby-core:65518] [Feature #10341]</p>
</dd></dl>

<h3 id="label-Thu+Oct+16+04-3A28-3A41+2014++Knut+Franke++-3CKnut.Franke-40gmx.de-3E">Thu Oct 16 04:28:41 2014  Knut Franke  &lt;Knut.Franke@gmx.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_fiber_t)
<dd>
<p>remove prev_fiber/next_fiber</p>
</dd><dt>(fiber_link_join, fiber_link_remove)
<dd>
<p>remove functions</p>
</dd><dt>(fiber_free, fiber_init, root_fiber_alloc)
<dd>
<p>remove references to removed fields and functions [ruby-core:65518]
[Feature #10341]</p>
</dd></dl>

<h2 id="label-2014-10-15">2014-10-15</h2>

<h3 id="label-Wed+Oct+15+22-3A08-3A37+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Oct 15 22:08:37 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors_affin)
<dd>
<p><a href="../../classes/Test.html">Test</a> CPU_ALLOC availability. CentOS 5
don&#39;t have CPU_ALLOC().</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+18-3A26-3A19+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 15 18:26:19 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors_affinity)
<dd>
<p>use sched_getaffinity for getting precious number of available cpus.</p>
</dd><dt>ext/etc/etc.c (etc_nprocessors)
<dd>
<p>use etc_nprocessors_affinity if possible. [Feature #10267]
etc-nprocessors-kosaki2.patch</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+17-3A53-3A28+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Oct 15 17:53:28 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>test/-ext-/bug_reporter/test_bug_reporter.rb
<dd>
<p>Use assert_pattern_list.</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+12-3A26-3A58+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Oct 15 12:26:58 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_regexp_list)
<dd>
<p>New assertion method.</p>
</dd><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>Use assert_regexp_list.</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+07-3A21-3A09+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Oct 15 07:21:09 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>min(n) drops elements bigger than the n-th maximum element.</p>
</dd><dt>(struct nmin_data)
<dd>
<p>New field to record the n-th maximum element, limit</p>
</dd><dt>(nmin_filter)
<dd>
<p>Update limit field.</p>
</dd><dt>(nmin_i)
<dd>
<p>Drop too big elements.</p>
</dd><dt>(nmin_run)
<dd>
<p>Initialize limit field.</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+07-3A00-3A14+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Oct 15 07:00:14 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_optimization.rb (test_string_size)
<dd>
<p>new test</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+06-3A51-3A13+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Oct 15 06:51:13 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_optimization.rb (test_string_eq_neq)
<dd>
<p>new test</p>
</dd><dt>(test_string_ltlt)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+06-3A50-3A29+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Oct 15 06:50:29 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_optimization.rb (test_hash_aset_with)
<dd>
<p>assert assignment</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+04-3A56-3A27+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Oct 15 04:56:27 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_obj_id)
<dd>
<p>[DOC] Fix typo, clean up sentence, and wrap cols</p>
</dd></dl>

<h3 id="label-Wed+Oct+15+04-3A53-3A30+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Oct 15 04:53:30 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>[DOC] Fix case of type in exception message by @tricknotes [Fixes GH-740]
<a
href="https://github.com/ruby/ruby/pull/740">github.com/ruby/ruby/pull/740</a></p>
</dd><dt>object.c
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-10-14">2014-10-14</h2>

<h3 id="label-Tue+Oct+14+21-3A39-3A16+2014++Vit+Ondruch++-3Cvondruch-40redhat.com-3E">Tue Oct 14 21:39:16 2014  Vit Ondruch  &lt;vondruch@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (gem)
<dd>
<p>Fix permissions of bundled gems specification files.  [ruby-core:65700]
[Bug #10383]</p>
</dd></dl>

<h3 id="label-Tue+Oct+14+19-3A15-3A31+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Oct 14 19:15:31 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_record.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Tue+Oct+14+16-3A23-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 14 16:23:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (global_symbols)
<dd>
<p>make ids two-dimensional array of strings and symbols, for write-barrier.</p>
</dd><dt>symbol.c (global_symbols)
<dd>
<p>make IDs immortal always, instead of treating dynamic symbols as IDs.</p>
</dd><dt>iseq.c, marshal.c, string.c
<dd>
<p>use rb_str_intern instead of rb_str_dynamic_intern.</p>
</dd><dt>symbol.c (rb_str_intern)
<dd>
<p>rename rb_str_dynamic_intern.</p>
</dd></dl>

<h3 id="label-Tue+Oct+14+10-3A19-3A10+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Oct 14 10:19:10 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_optimization.rb (test_string_freeze)
<dd>
<p>new test</p>
</dd><dt>(test_hash_aref_with)
<dd>
<p>ditto</p>
</dd><dt>(test_hash_aset_with)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Oct+14+01-3A27-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct 14 01:27:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (nmin_run)
<dd>
<p>max(n) and max_by(n) returns an array in descending order.
[ruby-core:65452] Suggested by David Grayson.</p>
</dd></dl>

<h2 id="label-2014-10-13">2014-10-13</h2>

<h3 id="label-Mon+Oct+13+20-3A44-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 13 20:44:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (update-gems)
<dd>
<p>chdir to the target directory and then add the tool directory to load
paths, for older BASERUBY. [Bug #<a href="ruby-core:65630">10372]</a></p>
</dd></dl>

<h3 id="label-Mon+Oct+13+17-3A53-3A01+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Oct 13 17:53:01 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/parser.rb
<dd>
<p>added new parser class using libxml-ruby gem. [Feature #<a
href="ruby-core:59633">9379]</a></p>
</dd><dt>lib/xmlrpc/config.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Oct+13+16-3A32-3A56+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct 13 16:32:56 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/find.rb (Find.find)
<dd>
<p>Call to_path for arguments to obtain strings. [ruby-core:63713] [Bug
#10035] Reported by Herwin.</p>
</dd></dl>

<h3 id="label-Mon+Oct+13+15-3A42-3A25+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Oct 13 15:42:25 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>use relative load path for bundled_gems directory. [Bug #<a
href="ruby-core:65630">10372]</a></p>
</dd></dl>

<h3 id="label-Mon+Oct+13+08-3A44-3A06+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Oct 13 08:44:06 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>[DOC] fix example missing typedef with patch by @steveklabnik [Fixes
GH-739] <a
href="https://github.com/ruby/ruby/pull/739">github.com/ruby/ruby/pull/739</a></p>
</dd><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Oct+13+06-3A52-3A09+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Oct 13 06:52:09 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_recycle_hash)
<dd>
<p>add RB_GC_GUARD</p>
</dd><dt>(rb_ary_diff)
<dd>
<p>remove volatile [Bug #10369]</p>
</dd></dl>

<h3 id="label-Mon+Oct+13+03-3A20-3A23+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Oct 13 03:20:23 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>[DOC] Clean up whitespace, examples, and typos in date_core based on a
patch by @vipulnsward [Fixes GH-724] <a
href="https://github.com/ruby/ruby/pull/724">github.com/ruby/ruby/pull/724</a></p>
</dd></dl>

<h3 id="label-Mon+Oct+13+02-3A39-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 13 02:39:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (remove_duplicate_keys)
<dd>
<p>should not simply eliminate all value nodes, which may have side effects.
[ruby-core:65625] [Bug #10315]</p>
</dd></dl>

<h2 id="label-2014-10-12">2014-10-12</h2>

<h3 id="label-Sun+Oct+12+10-3A39-3A16+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Oct 12 10:39:16 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>[DOC] fix typo by @yui-knk [Fixes GH-738] <a
href="https://github.com/ruby/ruby/pull/738">github.com/ruby/ruby/pull/738</a></p>
</dd></dl>

<h3 id="label-Sun+Oct+12+09-3A24-3A15+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Oct 12 09:24:15 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit.rb
<dd>
<p>Hide skips by default.</p>
</dd></dl>

<h3 id="label-Sun+Oct+12+01-3A37-3A11+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sun Oct 12 01:37:11 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>include sys/time.h only if HAVE_SYS_TIME_H</p>
</dd></dl>

<h2 id="label-2014-10-11">2014-10-11</h2>

<h3 id="label-Sat+Oct+11+22-3A29-3A40+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 22:29:40 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (HAVE_UTIMENSAT)
<dd>
<p>disabled for NativeClient. Fixes build error.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+22-3A11-3A58+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 22:11:58 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>generates the rule for extinit.$(OBJEXT). extinit.$(OBJEXT) used to be
generated by the builtin rule, thus didn&#39;t accept custom $(CC) and
caused linkage error for cross compiling.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+18-3A46-3A50+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 18:46:50 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_fd_select)
<dd>
<p>declare struct timeval, or the struct gets local to the function in C99.</p>
</dd><dt>file.c (#include)
<dd>
<p>add nacl/stat.h for PNaCl.</p>
</dd><dt>(utimes)
<dd>
<p>added a declaration for PNaCl.</p>
</dd><dt>(stat_atimespec)
<dd>
<p>stat::st_atimensec is long long but timespec::tv_nsec is long in PNaCl.</p>
</dd><dt>(stat_mtimespec, stat_ctimespec)
<dd>
<p>ditto.</p>
</dd><dt>(rb_group_member)
<dd>
<p>disable getgroups unless HAVE_GETGROUPS.</p>
</dd><dt>(eaccess)
<dd>
<p>unify the fallback to generic defined(USE_GETEUID).</p>
</dd><dt>io.c
<dd>
<p>include sys/time.h for struct timeval.</p>
</dd><dt>(rb_close_before_exec)
<dd>
<p>nothing we can do if F_GETFD is not available.</p>
</dd><dt>(ioctl)
<dd>
<p>pnacl newlib actually doesn&#39;t have ioctl.</p>
</dd><dt>process.c (maxgroups)
<dd>
<p>it is used iff defined(_SC_NGROUPS_MAX) || defined(NGROUPS_MAX) but not
defined(HAVE_GETGROUPS) || defined(HAVE_SETGROUPS).</p>
</dd><dt>(obj2gid)
<dd>
<p>fail unless the object is a <a href="../../classes/Fixnum.html">Fixnum</a>
if getgrnam is not available.</p>
</dd><dt>(disable_child_handler_fork_child)
<dd>
<p>sigaction is not available in PNaCl newlib.</p>
</dd><dt>configure.in (warnflags, strict_warnflags)
<dd>
<p>avoid -ansi for strlcpy.</p>
</dd><dt>(rb_cv_gcc_atomic_builtins)
<dd>
<p>also check __atomic_or_etch because it is used in ruby_atomic.h.</p>
</dd><dt>(rb_cv_gcc_sync_builtins)
<dd>
<p>ditto.</p>
</dd><dt>(HAVE_GETGRNAM)
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+15-3A32-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Oct 11 15:32:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_build_from_ary_exception)
<dd>
<p>move RB_GC_GUARD</p>
</dd><dt>(iseq_build_from_ary_body)
<dd>
<p>use PRIsVALUE instead of RB_GC_GUARD</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+14-3A57-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Oct 11 14:57:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_intern)
<dd>
<p>remove unnecessary RB_GC_GUARD</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+13-3A47-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 11 13:47:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (remove_duplicate_keys)
<dd>
<p>remove duplicate literal keys, i.e., symbols and strings. 
[ruby-core:65368] [Bug #10315]</p>
</dd><dt>vm.c (kwmerge_i)
<dd>
<p>override existing keys by new keys. [ruby-core:65368] [Bug #10315]</p>
</dd><dt>parse.y (assocs)
<dd>
<p>concatenate splatted literal hashes.  the former key has precedence even if
duplicated literal keys follow.  [ruby-core:65368] [Bug #10315]</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+12-3A27-3A03+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 12:27:03 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_NACL)
<dd>
<p>automatically locate pnacl-clang.</p>
</dd><dt>(RUBY_PLATFORM)
<dd>
<p>pnacl instead of le32-nacl.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+11-3A27-3A14+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 11:27:14 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c
<dd>
<p>fix issues in the last two commits. don&#39;t disable cloexec for platforms
other than NativeClient.</p>
</dd><dt><a href="../ChangeLog.html">ChangeLog</a>
<dd>
<p>ditto. add entries for the last two commits.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+11-3A12-3A00+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 11:12:00 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (install_signalhandler, init_sigchld)
<dd>
<p>allow failure because it always fails with ENOSYS on NaCl.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+11-3A11-3A53+2014++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sat Oct 11 11:11:53 2014  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_NACL and others)
<dd>
<p>merge patch from naclports. Supports PNaCl.</p>
</dd><dt>dln.c
<dd>
<p>ditto. replace the old hacky dynamic loading over HTTP with nacl_io.</p>
</dd><dt>file.c
<dd>
<p>ditto. tentatively use access(2) instead of eaccess.</p>
</dd><dt>(rb_file_load_ok)
<dd>
<p>weaken with attribute but not by postprocess.</p>
</dd><dt>io.c
<dd>
<p>ditto.</p>
</dd><dt>(socket.h)
<dd>
<p>now NaCl has socket.h</p>
</dd><dt>(flock)
<dd>
<p>disable here instead of nacl/ioctl.h</p>
</dd><dt>nacl/GNUmakefile.in
<dd>
<p>ditto.</p>
</dd><dt>(CC, LD, NM, AR, AS, RANLIB, OBJDUMP, OBJCOPY)
<dd>
<p>respect path to them if they are absolute. This helps naclports to build
ruby in their source tree.</p>
</dd><dt>(PROGRAM_NMF, .SUFFIXES)
<dd>
<p>support .pnexe for PNaCl.</p>
</dd><dt>(ruby.o, file.o)
<dd>
<p>move the hack to attributes in ruby.c and file.c</p>
</dd><dt>nacl/ioctl.h
<dd>
<p>ditto. removed. move the hack to io.c.</p>
</dd><dt>nacl/nacl-config.rb
<dd>
<p>ditto. support arm, pnacl and others.</p>
</dd><dt>nacl/pepper_main.c
<dd>
<p>ditto. support build in a naclports tree.</p>
</dd><dt>ruby.c (rb_load_file)
<dd>
<p>ditto. weaken with attribute but not by postprocess.</p>
</dd></dl>

<h3 id="label-Sat+Oct+11+09-3A32-3A00+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct 11 09:32:00 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/unixsocket.c
<dd>
<p>[DOC] Fix example to render in HTML properly, with a patch by @eval [Fixes
GH-733] <a
href="https://github.com/ruby/ruby/pull/733">github.com/ruby/ruby/pull/733</a></p>
</dd></dl>

<h3 id="label-Sat+Oct+11+04-3A14-3A41+2014++Kir+Shatrov++-3Cshatrov-40me.com-3E">Sat Oct 11 04:14:41 2014  Kir Shatrov  &lt;shatrov@me.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb (OpenURI::Options)
<dd>
<p>add :open_timeout default</p>
</dd><dt>(def OpenURI.open_http)
<dd>
<p>check :open_timeout option</p>
</dd><dt>(module <a href="../../classes/OpenURI.html">OpenURI</a>)
<dd>
<p>rdoc for :open_timeout</p>
</dd><dt>test/open-uri/test_open-uri.rb (test_open_timeout)
<dd>
<p>new test [Feature #10361]</p>
</dd></dl>

<h2 id="label-2014-10-10">2014-10-10</h2>

<h3 id="label-Fri+Oct+10+11-3A27-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 10 11:27:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (rb_io_mode_flags, rb_io_modenum_flags)
<dd>
<p>deprecate old macros for compatibility for ruby 1.8 and older.</p>
</dd></dl>

<h2 id="label-2014-10-09">2014-10-09</h2>

<h3 id="label-Thu+Oct++9+23-3A31-3A47+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Oct  9 23:31:47 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (absint_numwords_generic)
<dd>
<p>set an array element after definition of a variable to fix compile error
with older version of fcc (Fujitsu C Compiler) 5.6 on Solaris 10 on Sparc.
[Bug #10350] [ruby-dev:48608]</p>
</dd></dl>

<h3 id="label-Thu+Oct++9+16-3A15-3A26+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  9 16:15:26 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/st/foreach/extconf.rb
<dd>
<p>new file</p>
</dd><dt>ext/-test-/st/foreach/foreach.c
<dd>
<p>ditto</p>
</dd><dt>test/-ext-/st/test_foreach.rb
<dd>
<p>ditto [Feature #10321]</p>
</dd></dl>

<h3 id="label-Thu+Oct++9+12-3A40-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  9 12:40:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_hash_aref_sym*.rb
<dd>
<p>force static symbols</p>
</dd></dl>

<h3 id="label-Thu+Oct++9+12-3A38-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  9 12:38:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_any_hash)
<dd>
<p>remove unnecessary dsym check</p>
</dd></dl>

<h3 id="label-Thu+Oct++9+07-3A20-3A30+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Thu Oct  9 07:20:30 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/setproctitle.c
<dd>
<p>Avoid invalidating <a href="1">argv</a>, <a href="2">argv</a>, etc. until
the first call to <a
href="../../classes/Process.html#method-c-setproctitle">Process.setproctitle</a>,
because the ps command of AIX refers to the argv array. [Bug #10090]</p>
</dd></dl>

<h3 id="label-Thu+Oct++9+00-3A53-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct  9 00:53:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_s_aref)
<dd>
<p>fix rdoc.  `Dir.glob` allows an array but `Dir[]` not.  the former accepts
an optional parameter `flags`, while the latter accepts arbitrary number of
arguments but no `flags`.  [ruby-core:65265] [Bug #10294]</p>
</dd></dl>

<h2 id="label-2014-10-08">2014-10-08</h2>

<h3 id="label-Wed+Oct++8+21-3A44-3A10+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Oct  8 21:44:10 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_variable.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+16-3A36-3A47+2014++gogo+tanaka++-3Cmail-40tanakakazuki.com-3E">Wed Oct  8 16:36:47 2014  gogo tanaka  &lt;mail@tanakakazuki.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_syntax.rb
<dd>
<p>added syntax tests of underscore arguments.  [Feature #<a
href="ruby-core:65496">10340]</a></p>
</dd></dl>

<h3 id="label-Wed+Oct++8+07-3A42-3A39+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Oct  8 07:42:39 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI#inspect)
<dd>
<p>remove <a href="../../classes/Object.html">Object</a> id. <a
href="../../classes/URI.html">URI</a> is considered that it doesn&#39;t
require id.</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+05-3A22-3A42+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Oct  8 05:22:42 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_systmpdir)
<dd>
<p>set default tmplen correctly Fixup r47826</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+04-3A58-3A48+2014++John+Bachir++-3Cj-40jjb.cc-3E">Wed Oct  8 04:58:48 2014  John Bachir  &lt;j@jjb.cc&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_io.rb (assert_finish)
<dd>
<p>normalize rescue for <a
href="../../classes/Timeout/Error.html">Timeout::Error</a></p>
</dd><dt>lib/net/ftp.rb (Net#read_timeout)
<dd>
<p>ditto for doc</p>
</dd><dt>lib/resolv.rb (Resolv::ResolvTimeout)
<dd>
<p>ditto for subclass</p>
</dd><dt>lib/webrick/httprequest.rb (_read_data)
<dd>
<p>ditto for rescue</p>
</dd><dt>sample/timeout.rb (p timeout)
<dd>
<p>ditto for call</p>
</dd><dt>test/drb/drbtest.rb (test_06_timeout)
<dd>
<p>ditto</p>
</dd><dt>test/ruby/test_readpartial.rb (test_open_pipe)
<dd>
<p>ditto</p>
</dd><dt>test/thread/test_queue.rb (test_queue_thread_raise)
<dd>
<p>ditto</p>
</dd><dt>thread.c (rb_thread_s_handle_interrupt)
<dd>
<p>ditto for doc [ruby-core:65481] [misc #10339]</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+04-3A38-3A29+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Wed Oct  8 04:38:29 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (TestProcess#test_setsid)
<dd>
<p>AIX does not allow <a
href="../../classes/Process.html#method-c-getsid">Process.getsid</a> when
pid is in a different session.</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+04-3A33-3A04+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Wed Oct  8 04:33:04 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rubyoptions.rb (TestRubyOptions#test_encoding)
<dd>
<p>On AIX, locale_charmap is ISO-8859-1 with LANG=C.  This means the source
encoding of stdin is ISO-8859-1, so “invalid multibyte char” error does not
occur.</p>
</dd></dl>

<h2 id="label-2014-10-07">2014-10-07</h2>

<h3 id="label-Tue+Oct++7+23-3A40-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  7 23:40:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_f_kill)
<dd>
<p>get rid of deadlock as unhandled and discarded signals do not make
interrupt_cond signaled. based on the patch by Kazuki Tsujimoto at
[ruby-dev:48606]. [Bug #9820]</p>
</dd></dl>

<h3 id="label-Tue+Oct++7+22-3A43-3A44+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Oct  7 22:43:44 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_method.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Tue+Oct++7+21-3A47-3A05+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Oct  7 21:47:05 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_param.c
<dd>
<p>refactoring.</p>
</dd></dl>

<h3 id="label-Tue+Oct++7+21-3A40-3A17+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Oct  7 21:40:17 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_method.c
<dd>
<p>refactoring. add olemethod_data_get_struct to wrap Data_Get_Struct.</p>
</dd><dt>ext/win32ole/win32ole_method.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_param.c (oleparam_ole_param)
<dd>
<p>call olemethod_data_get_struct instead of Data_Get_Struct.</p>
</dd></dl>

<h3 id="label-Tue+Oct++7+11-3A17-3A08+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  7 11:17:08 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_systmpdir)
<dd>
<p>try user temporary directory by confstr() on Mac OS X. c.f. <a
href="http://www.opensource.apple.com/source/ruby/ruby-104/patches/ext_etc_etc.c.diff">www.opensource.apple.com/source/ruby/ruby-104/patches/ext_etc_etc.c.diff</a></p>
</dd></dl>

<h3 id="label-Tue+Oct++7+10-3A48-3A17+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  7 10:48:17 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (struct stat.st_size)
<dd>
<p>prefer off_t over int, long, and so on.  inspired by <a
href="http://www.opensource.apple.com/source/ruby/ruby-104/patches/config.h.ed">www.opensource.apple.com/source/ruby/ruby-104/patches/config.h.ed</a></p>
</dd></dl>

<h3 id="label-Tue+Oct++7+10-3A37-3A39+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  7 10:37:39 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_UNIVERSAL_ARCH)
<dd>
<p>fix missing quoting brackets.  incorporated from <a
href="http://www.opensource.apple.com/source/ruby/ruby-104/patches/configure.diff">www.opensource.apple.com/source/ruby/ruby-104/patches/configure.diff</a></p>
</dd></dl>

<h2 id="label-2014-10-06">2014-10-06</h2>

<h3 id="label-Mon+Oct++6+23-3A34-3A42+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Oct  6 23:34:42 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_param.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+22-3A37-3A09+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  6 22:37:09 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.h (struct RSymbol)
<dd>
<p>move from internal.h.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+21-3A43-3A03+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct  6 21:43:03 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>update exception tree. [DOC] reported by @hemge via twitter.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+18-3A43-3A03+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Mon Oct  6 18:43:03 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix typo. [Bug #9914]</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+16-3A23-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  6 16:23:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_f_kill)
<dd>
<p>should not ignore signal unless the default handler is registered. 
[ruby-dev:48592] [Bug #9820]</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+16-3A07-3A11+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  6 16:07:11 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_string.rb (test_LSHIFT_neary_long_max)
<dd>
<p>enable only on platforms where string size range is smaller than memory
space.  this test does not make sense but just wastes memory and time on
other platforms, as it is hardly possible that a string size becomes neary
LONG_MAX if long size equals pointer size. [ruby-core:65410] [Bug #10325]</p>
</dd></dl>

<h2 id="label-2014-10-05">2014-10-05</h2>

<h3 id="label-Sun+Oct++5+11-3A04-3A13+2014++Luiz+Angelo+Daros+de+Luca++-3Cluizluca-40gmail.com-3E">Sun Oct  5 11:04:13 2014  Luiz Angelo Daros de Luca  &lt;luizluca@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/{md5,rmd160,sha1,sha2}/extconf.rb
<dd>
<p>configure <a href="../../classes/OpenSSL.html">OpenSSL</a> only if bundled
libraries is not used, so that <a
href="../../classes/OpenSSL.html">OpenSSL</a> is not linked unnecessarily. 
[ruby-core:65404] [Bug #10324]</p>
</dd></dl>

<h3 id="label-Sun+Oct++5+10-3A39-3A11+2014++Luiz+Angelo+Daros+de+Luca++-3Cluizluca-40gmail.com-3E">Sun Oct  5 10:39:11 2014  Luiz Angelo Daros de Luca  &lt;luizluca@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/rmd160/extconf.rb
<dd>
<p>fix transform function name to check.  [ruby-core:65091] [Bug #10252]</p>
</dd></dl>

<h3 id="label-Sun+Oct++5+05-3A46-3A00+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Oct  5 05:46:00 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (zstream_mark, zstream_free)
<dd>
<p>update signature</p>
</dd><dt>(gzfile_mark, gzfile_free)
<dd>
<p>ditto</p>
</dd><dt>(zstream_memsize)
<dd>
<p>new function for rb_data_type-&gt;dsize</p>
</dd><dt>(gzfile_memsize)
<dd>
<p>ditto</p>
</dd><dt>(zstream_data_type, gzfile_data_type)
<dd>
<p>new data types</p>
</dd><dt>(zstream_new)
<dd>
<p>Data_Make_Struct =&gt; TypedData_Make_Struct</p>
</dd><dt>(gzfile_new)
<dd>
<p>ditto</p>
</dd><dt>(get_zstream, get_gzfile)
<dd>
<p>Data_Get_Struct =&gt; TypedData_Get_Struct</p>
</dd><dt>(rb_zstream_flush_next_in)
<dd>
<p>ditto</p>
</dd><dt>(rb_zstream_flush_next_out)
<dd>
<p>ditto</p>
</dd><dt>(rb_zstream_avail_out)
<dd>
<p>ditto</p>
</dd><dt>(rb_zstream_avail_in)
<dd>
<p>ditto</p>
</dd><dt>(rb_zstream_closed_p)
<dd>
<p>ditto</p>
</dd><dt>(rb_deflate_initialize)
<dd>
<p>ditto</p>
</dd><dt>(rb_deflate_init_copy)
<dd>
<p>ditto</p>
</dd><dt>(rb_inflate_initialize)
<dd>
<p>ditto</p>
</dd><dt>(gzfile_ensure_close)
<dd>
<p>ditto</p>
</dd><dt>(rb_gzfile_closed_p)
<dd>
<p>ditto</p>
</dd><dt>(rb_gzfile_path)
<dd>
<p>ditto</p>
</dd><dt>(rb_gzwriter_initialize)
<dd>
<p>ditto</p>
</dd><dt>(rb_gzreader_initialize)
<dd>
<p>ditto</p>
</dd><dt>(rb_gzreader_unused)
<dd>
<p>ditto [ruby-core:65377] [Feature #10319]</p>
</dd></dl>

<h2 id="label-2014-10-04">2014-10-04</h2>

<h3 id="label-Sat+Oct++4+16-3A24-3A41+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sat Oct  4 16:24:41 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_syslog.rb (TestSyslog#test_log)
<dd>
<p>In AIX, each output line of LOG_PERROR to stderr has an additional empty
line appended, so skip that line.</p>
</dd></dl>

<h3 id="label-Sat+Oct++4+16-3A05-3A49+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sat Oct  4 16:05:49 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_unix.rb (TestSocket_UNIXSocket#test_too_long_path)
<dd>
<p>sockaddr_un.sun_path in AIX is defined as <a href="1024">char</a>, so “a” *
300 is not too long. “a” * 3000 would be enough.</p>
</dd></dl>

<h3 id="label-Sat+Oct++4+09-3A12-3A03+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct  4 09:12:03 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/sample/example*.rb
<dd>
<p>Add wait input to quit for examples with patch provided by @windwiny [Fixes
GH-705] <a
href="https://github.com/ruby/ruby/pull/705">github.com/ruby/ruby/pull/705</a></p>
</dd></dl>

<h3 id="label-Sat+Oct++4+09-3A08-3A18+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct  4 09:08:18 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>[DOC] Fix typo in :nodoc: reported by @windwiny to [Fix GH-705] <a
href="https://github.com/ruby/ruby/pull/705">github.com/ruby/ruby/pull/705</a></p>
</dd><dt>ext/pty/pty.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Oct++4+08-3A59-3A45+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct  4 08:59:45 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_rand.c
<dd>
<p>[DOC] Add call signature for pseudo_bytes and random_bytes, wrap lines at
80 chars, and remove useless comments.</p>
</dd></dl>

<h3 id="label-Sat+Oct++4+08-3A49-3A34+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct  4 08:49:34 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_rand.c
<dd>
<p>[DOC] Add rdoc for method descriptions By @vipulnsward [Fixes GH-657] <a
href="https://github.com/ruby/ruby/pull/657">github.com/ruby/ruby/pull/657</a></p>
</dd></dl>

<h3 id="label-Sat+Oct++4+08-3A23-3A48+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Oct  4 08:23:48 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_rand.c
<dd>
<p>Use rb_define_module_function instead of macro. [Fixes GH-686] <a
href="https://github.com/ruby/ruby/pull/686">github.com/ruby/ruby/pull/686</a></p>
</dd></dl>

<h3 id="label-Sat+Oct++4+06-3A04-3A56+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Oct  4 06:04:56 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_method.c(olemethod_set_member)
<dd>
<p>remove redundant NULL check.</p>
</dd><dt>ext/win32ole/win32ole_type.c(oletype_set_member)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Oct++4+00-3A25-3A04+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Oct  4 00:25:04 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>removed needless preparation for gcc.</p>
</dd></dl>

<h2 id="label-2014-10-03">2014-10-03</h2>

<h3 id="label-Fri+Oct++3+23-3A41-3A20+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct  3 23:41:20 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>enabled gcc build with osx on travis.</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+23-3A22-3A23+2014++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Fri Oct  3 23:22:23 2014  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/fake.rb.in
<dd>
<p>fix make install failure due to MSYS path with mingw on MSYS environment.
[ruby-core:64965] [Bug #10230]</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+21-3A02-3A32+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct  3 21:02:32 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (TestIO#test_advise)
<dd>
<p>avoid to infinite loop.</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+19-3A26-3A01+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct  3 19:26:01 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>enabled test results of linux.</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+18-3A52-3A16+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct  3 18:52:16 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (TestIO#test_advise)
<dd>
<p>added workaround of fadvise(2) with tmpfs and old linux kernel.
[ruby-core:65355][Bug #10313]</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+18-3A22-3A45+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Oct  3 18:22:45 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>Disabled to generate document on travis. Reduce test running time.</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+06-3A06-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct  3 06:06:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (next_pow2)
<dd>
<p>new function (from old bignum.c)</p>
</dd><dt>(new_size)
<dd>
<p>use next_pow2 function</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+05-3A58-3A58+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct  3 05:58:58 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_tp_t)
<dd>
<p>pack 56 =&gt; 48 bytes on 64-bit</p>
</dd></dl>

<h2 id="label-2014-10-02">2014-10-02</h2>

<h3 id="label-Thu+Oct++2+18-3A41-3A45+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Oct  2 18:41:45 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors)
<dd>
<p>Windows support. see [Feature #10267]</p>
</dd></dl>

<h3 id="label-Thu+Oct++2+12-3A21-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Oct  2 12:21:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_nprocessors)
<dd>
<p>New method. Accepted by matz at RubyKaigi 2014. [ruby-core:65142] [Feature
#10267]</p>
</dd></dl>

<h3 id="label-Thu+Oct++2+07-3A56-3A49+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  2 07:56:49 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_line_trace_each)
<dd>
<p>explicit cast Fix <a
href="https://travis-ci.org/ruby/ruby/jobs/36814282">travis-ci.org/ruby/ruby/jobs/36814282</a></p>
</dd></dl>

<h3 id="label-Thu+Oct++2+05-3A40-3A05+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  2 05:40:05 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.h
<dd>
<p>set rb_event_flag_t to uint32_t [ruby-core:65315] [misc #10249]</p>
</dd></dl>

<h3 id="label-Thu+Oct++2+05-3A32-3A17+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  2 05:32:17 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (fptr_finalize)
<dd>
<p>free memory before <a href="../../classes/GC.html">GC</a> sweep
[ruby-core:65269] [Feature #10295]</p>
</dd></dl>

<h3 id="label-Thu+Oct++2+05-3A27-3A24+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct  2 05:27:24 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_class)
<dd>
<p>check dump_arg-&gt;compat_tbl before lookup</p>
</dd><dt>(w_object)
<dd>
<p>lazy init -&gt;compat_tbl before insert</p>
</dd><dt>(obj_alloc_by_class)
<dd>
<p>ditto</p>
</dd><dt>(clear_dump_arg)
<dd>
<p>free only non-NULL -&gt;compat_tbl</p>
</dd><dt>(clear_load_arg)
<dd>
<p>ditto for -&gt;compat_tbl</p>
</dd><dt>(marshal_dump)
<dd>
<p>-&gt;compat_tbl defaults to zero</p>
</dd><dt>(marshal_load)
<dd>
<p>ditto for -&gt;compat_tbl</p>
</dd><dt>(r_entry0)
<dd>
<p>check l-&gt;compat_tbl before lookup</p>
</dd><dt>(r_fixup_compat)
<dd>
<p>ditto [ruby-core:65305] [Feature #10302]</p>
</dd></dl>

<h2 id="label-2014-10-01">2014-10-01</h2>

<h3 id="label-Wed+Oct++1+21-3A14-3A34+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Oct  1 21:14:34 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_type.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Wed+Oct++1+18-3A15-3A42+2014++Nolan+Evans++-3Cnolane-40gmail.com-3E">Wed Oct  1 18:15:42 2014  Nolan Evans  &lt;nolane@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>remove commented out code.</p>
</dd></dl>

<h3 id="label-Wed+Oct++1+17-3A38-3A53+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Wed Oct  1 17:38:53 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb
<dd>
<p>AIX does not allow a sticky bit on a regular file.</p>
</dd></dl>

<h3 id="label-Wed+Oct++1+17-3A31-3A41+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Oct  1 17:31:41 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add RubyGems update.</p>
</dd></dl>

<h3 id="label-Wed+Oct++1+17-3A28-3A58+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Wed Oct  1 17:28:58 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.4.2.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-09-30">2014-09-30</h2>

<h3 id="label-Tue+Sep+30+22-3A25-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 30 22:25:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_data_type)
<dd>
<p>separate ripper data type for from parser.</p>
</dd></dl>

<h3 id="label-Tue+Sep+30+18-3A46-3A31+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Sep 30 18:46:31 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_typelib.c
<dd>
<p>use typed data.</p>
</dd></dl>

<h3 id="label-Tue+Sep+30+09-3A51-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Sep 30 09:51:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>fixed broken reference of update-config_files task</p>
</dd></dl>

<h2 id="label-2014-09-29">2014-09-29</h2>

<h3 id="label-Mon+Sep+29+22-3A54-3A51+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep 29 22:54:51 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (append_wstr)
<dd>
<p>set expanded length, not length of appended string.  fix “probable buffer
overflow” bug. [ruby-core:65317] [Bug #10304]</p>
</dd><dt>string.c (str_make_independent_expand)
<dd>
<p>drop NOFREE flag after reallocation, static buffer is not pointed anymore.
[ruby-core:65317] [Bug #10304]</p>
</dd></dl>

<h2 id="label-2014-09-28">2014-09-28</h2>

<h3 id="label-Sun+Sep+28+23-3A59-3A17+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Sep 28 23:59:17 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gcdebug_print_obj_condition)
<dd>
<p>use RVALUE_REMEMBERED because GET_HEAP_REMEMBERSET_BITS is obsoleted.</p>
</dd></dl>

<h2 id="label-2014-09-27">2014-09-27</h2>

<h3 id="label-Sat+Sep+27+10-3A31-3A48+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Sep 27 10:31:48 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>upgraded to power_assert 0.1.4.</p>
</dd></dl>

<h2 id="label-2014-09-26">2014-09-26</h2>

<h3 id="label-Fri+Sep+26+15-3A03-3A19+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Fri Sep 26 15:03:19 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc3986_parser.rb
<dd>
<p>raise <a
href="../../classes/URI/InvalidURIError.html">URI::InvalidURIError</a> when
uri doesn&#39;t respond to to_str. [ruby-core:64453] [Bug #10150]</p>
</dd><dt>test/uri/test_parser.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Fri+Sep+26+12-3A52-3A36+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 26 12:52:36 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_write)
<dd>
<p>ASCII-8BIT <a href="../../classes/StringIO.html">StringIO</a> should be
writable any encoding strings, without conversion. [ruby-core:65240] [Bug
#10285]</p>
</dd></dl>

<h3 id="label-Fri+Sep+26+05-3A21-3A01+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 26 05:21:01 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_class_real)
<dd>
<p>do not dereference 0 VALUE</p>
</dd><dt>test/ruby/test_module.rb (test_inspect_segfault)
<dd>
<p><a href="../../classes/Test.html">Test</a> case and bug report by Thomas
Stratmann. [ruby-core:65214] [Bug #10282]</p>
</dd></dl>

<h3 id="label-Fri+Sep+26+05-3A12-3A10+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 26 05:12:10 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>document stack size env variables [Feature #10197]</p>
</dd></dl>

<h2 id="label-2014-09-25">2014-09-25</h2>

<h3 id="label-Thu+Sep+25+19-3A37-3A34+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep 25 19:37:34 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (free_io_buffer)
<dd>
<p>new function for a common pattern</p>
</dd><dt>(clear_readconv)
<dd>
<p>use free_io_buffer</p>
</dd><dt>(rb_io_fptr_finalize)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Sep+25+07-3A51-3A07+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Thu Sep 25 07:51:07 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Fix docs. Patched by Ben Woodall. [GH-726]</p>
</dd></dl>

<h2 id="label-2014-09-23">2014-09-23</h2>

<h3 id="label-Tue+Sep+23+22-3A00-3A20+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 23 22:00:20 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parse_ident)
<dd>
<p>just after a label, new expression should start, cannot be a modifier. 
[ruby-core:65211] [Bug #10279]</p>
</dd></dl>

<h3 id="label-Tue+Sep+23+11-3A55-3A09+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Sep 23 11:55:09 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>added rubyspec into travis tasks and eliminate to stdout.</p>
</dd></dl>

<h2 id="label-2014-09-22">2014-09-22</h2>

<h3 id="label-Mon+Sep+22+20-3A00-3A29+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Sep 22 20:00:29 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_variant.rb (test_conversion_time2date_with_msec)
<dd>
<p>test by using only assert_in_delta  to avoid to fail when converting <a
href="../../classes/Time.html">Time</a> object with 999999999 nanoseconds
into VT_DATE Variant.</p>
</dd></dl>

<h3 id="label-Mon+Sep+22+19-3A49-3A12+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Sep 22 19:49:12 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/methods_rdoc.html">doc/syntax/methods.rdoc</a>
<dd>
<p>[DOC] [] and []= methods by @process [Fixes GH-662] <a
href="https://github.com/ruby/ruby/pull/662">github.com/ruby/ruby/pull/662</a></p>
</dd></dl>

<h3 id="label-Mon+Sep+22+18-3A21-3A35+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Sep 22 18:21:35 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>Only osx build is enabled. linux builds is random failure and test results
of major linux is covered by rubyci.</p>
</dd></dl>

<h3 id="label-Mon+Sep+22+12-3A10-3A29+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep 22 12:10:29 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_time_tz.rb
<dd>
<p>Fix test error with tzdata-2014g. [ruby-core:65058] [Bug #10245] Reported
by Vit Ondruch.</p>
</dd></dl>

<h3 id="label-Mon+Sep+22+09-3A28-3A43+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Sep 22 09:28:43 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c ({send,recv}msg_args_struct)
<dd>
<p>24 =&gt; 16 bytes</p>
</dd><dt>ext/socket/init.c (connect_arg)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/raddrinfo.c (getnameinfo_arg)
<dd>
<p>56 =&gt; 48 bytes</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Sep+22+02-3A04-3A25+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Sep 22 02:04:25 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>Support graceful shutdown.</p>
</dd><dt>(DRbTCPSocket#initialize)
<dd>
<p>Create a pipe for shutdown notification.</p>
</dd><dt>(DRbTCPSocket#close)
<dd>
<p>Invoke close_shutdown_pipe.</p>
</dd><dt>(DRbTCPSocket#close_shutdown_pipe)
<dd>
<p>New private method.</p>
</dd><dt>(DRbTCPSocket#accept)
<dd>
<p>Use accept_or_shutdown.</p>
</dd><dt>(DRbTCPSocket#accept_or_shutdown)
<dd>
<p>New private method which returns nil on shutdown.</p>
</dd><dt>(DRbServer#stop_service)
<dd>
<p>Use shutdown instead of <a
href="../../classes/Thread.html#method-i-kill">Thread#kill</a>.</p>
</dd><dt>(DRbServer#run)
<dd>
<p>Break infinite loop when main_loop returns nil.</p>
</dd><dt>(DRbServer#main_loop)
<dd>
<p>@protocol.accept may return nil.</p>
</dd><dt>lib/drb/ssl.rb
<dd>
<p>Follow above change.</p>
</dd><dt>lib/drb/unix.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-09-21">2014-09-21</h2>

<h3 id="label-Sun+Sep+21+13-3A54-3A36+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun Sep 21 13:54:36 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c
<dd>
<p>raise exception when minutes of utc_offset is out of 00-59. patch is from
Kenichi Kamiya. [ruby-dev:47539] [Bug #8679]</p>
</dd><dt>test/ruby/test_time.rb
<dd>
<p>test for above. patch is from Kenichi Kamiya.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+19-3A04-3A08+2014++Narihiro+Nakamura+-3Cauthornari-40gmail.com-3E">Sun Sep 21 19:04:08 2014  Narihiro Nakamura &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (do_hash_bin)
<dd>
<p>unused macro.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+18-3A45-3A01+2014++Narihiro+Nakamura+-3Cauthornari-40gmail.com-3E">Sun Sep 21 18:45:01 2014  Narihiro Nakamura &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_class_nest)
<dd>
<p>unused variable after YARV merged (r11439).</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+18-3A14-3A03+2014++Narihiro+Nakamura+-3Cauthornari-40gmail.com-3E">Sun Sep 21 18:14:03 2014  Narihiro Nakamura &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (numberof)
<dd>
<p>unused. internal.h has same macro.</p>
</dd><dt>node.c (F_CUSTOM2)
<dd>
<p>unused.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+14-3A11-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep 21 14:11:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (native_set_thread_name)
<dd>
<p>New function to set thread name visible with ps command on GNU/Linux. Ex.
ps -o %c -L</p>
</dd><dt>thread.c (thread_start_func_2)
<dd>
<p>Call native_set_thread_name at beginning.</p>
</dd><dt>(rb_thread_inspect_msg)
<dd>
<p>Extract from rb_thread_inspect.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+12-3A49-3A11+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep 21 12:49:11 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_defined_string)
<dd>
<p>trim redundant semi-colon</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+12-3A19-3A29+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep 21 12:19:29 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_find_file_ext_safe)
<dd>
<p>clear tmp buffer on failure</p>
</dd><dt>(rb_find_file_safe)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+12-3A10-3A18+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Sep 21 12:10:18 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/*<strong>/</strong>.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+11-3A16-3A56+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Sep 21 11:16:56 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (rbtime2vtdate, vtdate2rbtime)
<dd>
<p>fix the bug in conversion of milliseconds. [Bug #10258]</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb (test_conversion_dbl2date_with_msec, test_conversion_time2date_with_msec)
<dd>
<p>use assert_in_delta instead of assert_equal to treat an acceptable error
range.</p>
</dd></dl>

<h3 id="label-Sun+Sep+21+11-3A03-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 21 11:03:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (ruby_signal)
<dd>
<p>although “EINVAL from sigaction(2) is not a bug”, but even it is a failure.
pointed at toRuby/guRuby in RubyHiroba.</p>
</dd></dl>

<h2 id="label-2014-09-20">2014-09-20</h2>

<h3 id="label-Sat+Sep+20+04-3A42-3A18+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sat Sep 20 04:42:18 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>avoid unnecessary object allocations. patch is from Andrew Vit.
[ruby-core:63215] [Feature #9952]</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+03-3A46-3A58+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sat Sep 20 03:46:58 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>use rb_equal_opt() for performance improvement. [ruby-core:64954] [Feature
#10227]</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+03-3A00-3A26+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sat Sep 20 03:00:26 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>define parameters appropriately and some refactoring.</p>
</dd><dt>lib/tmpdir.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+23-3A58-3A21+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep 20 23:58:21 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_chunk)
<dd>
<p>Deprecate the state management.</p>
</dd><dt>(enum_slice_before)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+15-3A39-3A11+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep 20 15:39:11 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_slice_when)
<dd>
<p>New method: <a
href="../../classes/Enumerable.html#method-i-slice_when">Enumerable#slice_when</a>.</p>
</dd><dt>(slicewhen_i)
<dd>
<p>New function.</p>
</dd><dt>(slicewhen_ii)
<dd>
<p>New function.</p>
</dd><dt>enumerator.c (InitVM_Enumerator)
<dd>
<p>New method: <a
href="../../classes/Enumerator/Lazy.html#method-i-slice_when">Enumerator::Lazy#slice_when</a>.
[ruby-core:62499] [Feature #9826]</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+11-3A55-3A19+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Sep 20 11:55:19 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>added new configurations for osx on travis ci. [fix GH-723]</p>
</dd><dt>test/ruby/test_object.rb
<dd>
<p>tweaked to memory leak limit for osx build.</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+10-3A48-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 20 10:48:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (assoc)
<dd>
<p>allow quoted ID as a key of a hash literal. [ruby-core:34453] [Feature
#4276]</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+10-3A23-3A00+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 20 10:23:00 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments)
<dd>
<p>store local variable IDs in temporary list as Symbols.  previously these
are stored as Fixnums to prevent from <a
href="../../classes/GC.html">GC</a>, but IDs of dynamic symbols can exceed
<a href="../../classes/Fixnum.html">Fixnum</a> range and cause <a
href="../../classes/RangeError.html">RangeError</a> at inverting from <a
href="../../classes/Fixnum.html">Fixnum</a>.  [ruby-dev:48564] [Bug #10266]</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+10-3A02-3A51+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep 20 10:02:51 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name#pretty_print)
<dd>
<p>New method.</p>
</dd><dt>(OpenSSL::X509::Certificate#pretty_print)
<dd>
<p>Ditto.</p>
</dd><dt>ext/openssl/lib/openssl/bn.rb (OpenSSL::BN#pretty_print)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep+20+07-3A55-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 20 07:55:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>fix super from eval with scope.  set klass in the current control frame to
the class of the receiver in the context to be evaluated, this class/module
must match the actual receiver to call super. [ruby-core:65122] [Bug
#10263]</p>
</dd></dl>

<h2 id="label-2014-09-19">2014-09-19</h2>

<h3 id="label-Fri+Sep+19+20-3A06-3A00+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 19 20:06:00 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (rb_str_dynamic_intern)
<dd>
<p>check if the stem ID of attrset ID is already registered as a static ID.
[ruby-dev:48559] [Bug #10259]</p>
</dd></dl>

<h3 id="label-Fri+Sep+19+15-3A48-3A09+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Sep 19 15:48:09 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (VCSUP)
<dd>
<p>nothing to do if this worktree is not under any VCS (it means that the
worktree may be from the release package).</p>
</dd></dl>

<h3 id="label-Fri+Sep+19+10-3A47-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 19 10:47:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_math.rb (TestMath#assert_infinity)
<dd>
<p><a href="../../classes/Float.html#method-i-finite-3F">Float#finite?</a>
returns true also for NaN, so use <a
href="../../classes/Float.html#method-i-infinite-3F">Float#infinite?</a>
instead. [ruby-core:65117] [Feature #10261]</p>
</dd></dl>

<h3 id="label-Fri+Sep+19+05-3A36-3A16+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 19 05:36:16 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>note –with-jemalloc option [ci skip]</p>
</dd></dl>

<h2 id="label-2014-09-18">2014-09-18</h2>

<h3 id="label-Thu+Sep+18+16-3A26-3A27+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Sep 18 16:26:27 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_commands_setup_command.rb
<dd>
<p>@ui uses <a href="../../classes/StringIO.html">StringIO</a> as its streams,
and <a
href="../../classes/Encoding.html#method-c-default_external">Encoding.default_external</a>
does not effect to StringIOs already exist.  so, we need to set
external_encoding of @ui.outs directly.  this problem (test failure) does
not appear in the environments default_external is us-ascii or utf-8.</p>
</dd></dl>

<h3 id="label-Thu+Sep+18+15-3A02-3A15+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Sep 18 15:02:15 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_specification.rb
<dd>
<p>&#39;/&#39; is not always the root.</p>
</dd></dl>

<h3 id="label-Thu+Sep+18+09-3A36-3A37+2014++Scott+Francis++-3Cscott.francis-40shopify.com-3E">Thu Sep 18 09:36:37 2014  Scott Francis  &lt;scott.francis@shopify.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (Init_Method)
<dd>
<p>make global method cache size configurable by environment variable
“RUBY_GLOBAL_METHOD_CACHE_SIZE”  [Fix GH-719]</p>
</dd></dl>

<h3 id="label-Thu+Sep+18+07-3A03-3A36+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep 18 07:03:36 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/string/test_modify_expand.rb
<dd>
<p>increase limit for {je,tc}malloc [Bug #10236]</p>
</dd></dl>

<h3 id="label-Thu+Sep+18+06-3A41-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep 18 06:41:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (struct gzfile)
<dd>
<p>pack (288 =&gt; 272 bytes) on 64-bit</p>
</dd></dl>

<h3 id="label-Thu+Sep+18+05-3A44-3A05+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep 18 05:44:05 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_connect)
<dd>
<p>refactor for blocking</p>
</dd><dt>(wait_connectable)
<dd>
<p>clear error before wait [Bug #9356]</p>
</dd></dl>

<h2 id="label-2014-09-17">2014-09-17</h2>

<h3 id="label-Wed+Sep+17+23-3A12-3A36+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Sep 17 23:12:36 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc3986_parser.rb
<dd>
<p>specify a regexp for :OPAQUE; generic.rb assumes it is present, and will
refuse all values otherwise. by Matthew Draper &lt;matthew@trebex.net&gt;
<a
href="https://github.com/ruby/ruby/pull/718">github.com/ruby/ruby/pull/718</a>
fix GH-718</p>
</dd></dl>

<h3 id="label-Wed+Sep+17+16-3A22-3A58+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Sep 17 16:22:58 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (zlib_mem_alloc)
<dd>
<p>check overflow</p>
</dd></dl>

<h3 id="label-Wed+Sep+17+11-3A33-3A35+2014++Laurent+Arnoud++-3Claurent-40spkdev.net-3E">Wed Sep 17 11:33:35 2014  Laurent Arnoud  &lt;laurent@spkdev.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/test_import.rb (Fiddle::TestImport#test_sizeof)
<dd>
<p>added test for long long [fix GH-716]</p>
</dd></dl>

<h3 id="label-Wed+Sep+17+11-3A09-3A21+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Sep 17 11:09:21 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>fixed invalid options with latest rubygems. <a
href="https://github.com/rubygems/rubygems/issues/1013">github.com/rubygems/rubygems/issues/1013</a></p>
</dd></dl>

<h2 id="label-2014-09-16">2014-09-16</h2>

<h3 id="label-Tue+Sep+16+19-3A19-3A00+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 16 19:19:00 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_aobench.rb
<dd>
<p>update outdated links to the original program.  [ruby-dev:48550] [Feature
#10247]</p>
</dd></dl>

<h3 id="label-Tue+Sep+16+01-3A06-3A40+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Sep 16 01:06:40 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>reg*.c
<dd>
<p>Merge Onigmo 5.15.0 38a870960aa7370051a3544</p>
</dd></dl>

<h2 id="label-2014-09-15">2014-09-15</h2>

<h3 id="label-Mon+Sep+15+16-3A21-3A10+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Sep 15 16:21:10 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (struct io_advise_struct)
<dd>
<p>32 =&gt; 24 bytes on 64-bit</p>
</dd><dt>io.c (struct io_internal_writev_struct)
<dd>
<p>24 =&gt; 16 bytes on 64-bit</p>
</dd><dt>process.c (struct waitpid_arg)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+Sep+15+10-3A29-3A25+2014++Natalie+Weizenbaum++-3Cnweiz-40google.com-3E">Mon Sep 15 10:29:25 2014  Natalie Weizenbaum  &lt;nweiz@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (SAME_PATHS)
<dd>
<p><a
href="../../classes/Pathname.html#method-i-relative_path_from">Pathname#relative_path_from</a>
uses <a
href="../../classes/String.html#method-i-casecmp">String#casecmp</a> to
compare strings on case-insensitive filesystem platforms (e.g., Windows).
This can return nil for strings with different encodings, and the code
previously assumed that it always returned a <a
href="../../classes/Fixnum.html">Fixnum</a>.  [Fix GH-713]</p>
</dd></dl>

<h3 id="label-Mon+Sep+15+09-3A43-3A18+2014++Sho+Hashimoto++-3Csho.hsmt-40gmail.com-3E">Mon Sep 15 09:43:18 2014  Sho Hashimoto  &lt;sho.hsmt@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/lib/fiddle/import.rb (Fiddle::Importer#sizeof)
<dd>
<p>fix typo, SIZEOF_LONG_LON.  [Fix GH-714]</p>
</dd></dl>

<h3 id="label-Mon+Sep+15+08-3A13-3A40+2014++Matthew+Draper++-3Cmatthew-40trebex.net-3E">Mon Sep 15 08:13:40 2014  Matthew Draper  &lt;matthew@trebex.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>rational &#39;f&#39; format works for more values.  [fix GH-717]</p>
</dd></dl>

<h2 id="label-2014-09-14">2014-09-14</h2>

<h3 id="label-Sun+Sep+14+16-3A57-3A27+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep 14 16:57:27 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/vm.inc.tmpl
<dd>
<p>“insns.c” =&gt; “insns.def”</p>
</dd><dt>tool/instruction.rb
<dd>
<p>typo fix</p>
</dd></dl>

<h3 id="label-Sun+Sep+14+12-3A29-3A52+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Sep 14 12:29:52 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_tracer.rb
<dd>
<p>fixed testcase for rubygems update.</p>
</dd></dl>

<h3 id="label-Sun+Sep+14+12-3A29-3A02+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Sep 14 12:29:02 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.4.1 master(713ab65) Complete history at: <a
href="https://github.com/rubygems/rubygems/blob/master/History.txt#L3-L216">github.com/rubygems/rubygems/blob/master/History.txt#L3-L216</a></p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Sep+14+11-3A03-3A24+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sun Sep 14 11:03:24 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>update version</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Sep+14+08-3A43-3A37+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep 14 08:43:37 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ccan/container_of/container_of.h (container_of_or_null)
<dd>
<p>added [ccan 7ec5b8e06b2fd5fa98b1fcde1158c286d2d429d8] (David Gibson)</p>
</dd></dl>

<h3 id="label-Sun+Sep+14+08-3A41-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep 14 08:41:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ccan/list/list.h (list_del_init, list_node_init)
<dd>
<p>new functions for multiple list_del() calls [ccan
ec8654d94d3c5c47aa5f82698f7e8048c79765b1] (Rusty Russell)</p>
</dd></dl>

<h2 id="label-2014-09-13">2014-09-13</h2>

<h3 id="label-Sat+Sep+13+22-3A19-3A26+2014++Bernard+Potocki++-3Cbernard.potocki-40imanel.org-3E">Sat Sep 13 22:19:26 2014  Bernard Potocki  &lt;bernard.potocki@imanel.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_aset)
<dd>
<p>fix misleading example which may suggest that <a
href="../../classes/Hash.html#method-i-store">Hash#store</a> will return
self instead of value - <a
href="../../classes/Hash.html#method-i-store">Hash#store</a> is returning
value and update itself, as well as <a
href="../../classes/Hash.html#method-i-5B-5D-3D">Hash#[]=</a>. [Fix GH-715]</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+15-3A16-3A31+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 15:16:31 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>use ALLOC(rb_subclass_entry_t)</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+14-3A14-3A00+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 14:14:00 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (free_exec_arg)
<dd>
<p>remove</p>
</dd><dt>(memsize_exec_arg)
<dd>
<p>ptr is never NULL</p>
</dd><dt>(exec_arg_data_type)
<dd>
<p>use RUBY_TYPED_DEFAULT_FREE</p>
</dd><dt>variable.c (autoload_i_free)
<dd>
<p>remove</p>
</dd><dt>(autoload_data_i_type)
<dd>
<p>use RUBY_TYPED_DEFAULT_FREE</p>
</dd><dt>(autoload_memsize)
<dd>
<p>ptr is never NULL</p>
</dd><dt>vm_backtrace.c (location_free)
<dd>
<p>remove</p>
</dd><dt>(location_mark)
<dd>
<p>ptr is never NULL</p>
</dd><dt>(location_data_type)
<dd>
<p>use RUBY_TYPED_DEFAULT_FREE</p>
</dd><dt>(backtrace_mark)
<dd>
<p>ditto</p>
</dd><dt>(backtrace_free)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+13-3A43-3A07+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 13:43:07 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS-2_0_0.html">doc/NEWS-2.0.0</a>
<dd>
<p>fix typo for default RUBY_FIBER_MACHINE_STACK_SIZE [ci skip]</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+11-3A16-3A58+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Sep 13 11:16:58 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_event.c(ev_advise, ole_event_free, fev_s_allocate, fev_unadvise)
<dd>
<p>avoid segmentation fault when COM server freed before calling Unadvise from
<a href="../../classes/WIN32OLE_EVENT.html">WIN32OLE_EVENT</a> object.</p>
</dd><dt>ext/win32ole/win32ole.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+09-3A47-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 09:47:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>use https for *.ruby-lang.org links</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+06-3A31-3A23+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 06:31:23 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (thread_alloc)
<dd>
<p>remove needless volatile</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+06-3A13-3A55+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 06:13:55 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_free)
<dd>
<p>remove, use RUBY_TYPED_DEFAULT_FREE</p>
</dd><dt>(proc_mark, proc_memsize)
<dd>
<p>remove needless branching</p>
</dd><dt>vm.c (env_free)
<dd>
<p>remove, use RUBY_TYPED_DEFAULT_FREE</p>
</dd><dt>(env_mark, env_memsize)
<dd>
<p>remove needless branching</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+05-3A52-3A15+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 05:52:15 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_proc_alloc)
<dd>
<p>inline and move to vm.c</p>
</dd><dt>(rb_proc_wrap)
<dd>
<p>new wrapper function used by rb_proc_alloc</p>
</dd><dt>(proc_dup)
<dd>
<p>simplify alloc + copy + wrap operation [ruby-core:64994]</p>
</dd><dt>vm.c (rb_proc_alloc)
<dd>
<p>new inline function</p>
</dd><dt>(rb_vm_make_proc)
<dd>
<p>call rb_proc_alloc</p>
</dd><dt>vm_core.h
<dd>
<p>remove rb_proc_alloc, add rb_proc_wrap</p>
</dd><dt>benchmark/bm_vm2_newlambda.rb
<dd>
<p>short test to show difference</p>
</dd></dl>

<h3 id="label-Sat+Sep+13+04-3A40-3A04+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 13 04:40:04 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (Init_process)
<dd>
<p>subclass <a href="../../classes/Thread.html">Thread</a> as <a
href="../../classes/Process/Waiter.html">Process::Waiter</a></p>
</dd><dt>(rb_detach_process)
<dd>
<p>use <a href="../../classes/Process/Waiter.html">Process::Waiter</a> instead
of singleton class Thanks to headius and nobu. [Bug #10231]</p>
</dd><dt>test/ruby/test_process.rb (test_process_detach)
<dd>
<p>new test</p>
</dd><dt>inits.c (rb_call_inits)
<dd>
<p>call Init_Thread before Init_process to ensure <a
href="../../classes/Process/Waiter.html">Process::Waiter</a> may be a
subclass of <a href="../../classes/Thread.html">Thread</a></p>
</dd></dl>

<h2 id="label-2014-09-12">2014-09-12</h2>

<h3 id="label-Fri+Sep+12+18-3A14-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 12 18:14:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (env_alloc)
<dd>
<p>inline to avoid extra zeroing tiny speedup [ruby-core:64980]</p>
</dd></dl>

<h3 id="label-Fri+Sep+12+17-3A13-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 12 17:13:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make, remove_method)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Sep+12+14-3A39-3A55+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Sep 12 14:39:55 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgraded to test-unit-3.0.1 and minitest-5.4.1</p>
</dd></dl>

<h3 id="label-Fri+Sep+12+06-3A55-3A40+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 12 06:55:40 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (Init_frozen_strings)
<dd>
<p>use st_init_table_with_size</p>
</dd></dl>

<h3 id="label-Fri+Sep+12+06-3A15-3A37+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Sep 12 06:15:37 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (sym_find)
<dd>
<p>remove Symbol.find because we have <a
href="../../classes/Symbol.html">Symbol</a> <a
href="../../classes/GC.html">GC</a> now. <a
href="https://bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20140904Japan">bugs.ruby-lang.org/projects/ruby/wiki/DevelopersMeeting20140904Japan</a>
If you still want this, request again on Redmine. [Feature #7854] <a
href="https://bugs.ruby-lang.org/issues/7854">bugs.ruby-lang.org/issues/7854</a></p>
</dd><dt>ext/-test-/symbol/init.c (sym_find)
<dd>
<p>moved from string.c for tests.</p>
</dd></dl>

<h3 id="label-Fri+Sep+12+04-3A24-3A03+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep 12 04:24:03 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (once)
<dd>
<p>define and use fake RUNNING_THREAD_ONCE_DONE pointer to indicate
is-&gt;once.running_thread is done.</p>
</dd><dt>vm_core.h (iseq_inline_storage_entry)
<dd>
<p>remove done field, allowing the union to be reduced from 24=&gt;16 bytes on
64-bit [Feature #10187]</p>
</dd></dl>

<h2 id="label-2014-09-11">2014-09-11</h2>

<h3 id="label-Thu+Sep+11+20-3A10-3A00+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 20:10:00 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_thread_mark)
<dd>
<p>use rb_gc_mark_values() to mark VM stack.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+19-3A50-3A57+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 19:50:57 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_register_special_exception)
<dd>
<p>make new function to make and register special exceptions.</p>
</dd><dt>vm.c (rb_vm_mark)
<dd>
<p>do not need to mark special exceptions because they are registered by
rb_gc_register_mark_object().</p>
</dd><dt>eval.c (Init_eval)
<dd>
<p>use rb_vm_register_special_exception().</p>
</dd><dt>gc.c (Init_GC)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (Init_Proc)
<dd>
<p>ditto.</p>
</dd><dt>thread.c (Init_Thread)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+19-3A32-3A30+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 19:32:30 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_mark_values)
<dd>
<p>added. This function is similar to rb_gc_mark_locations(), but not
conservative.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd><dt>vm.c (env_mark)
<dd>
<p>use rb_gc_mark_values() because env values should be Ruby VALUEs.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+19-3A16-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 19:16:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_ptr)
<dd>
<p>rename to gc_mark_set.</p>
</dd><dt>gc.c (gc_mark)
<dd>
<p>add gc_mark_ptr() to skip is_markable_object() check. gc_mark_maybe() can
use gc_mark_ptr() directly because passed pointer is checked by
is_pointer_to_heap().</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+18-3A40-3A16+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Sep 11 18:40:16 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored temporary files and coverage results.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+18-3A15-3A30+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Sep 11 18:15:30 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored only simplecov.</p>
</dd><dt>coverage/README
<dd>
<p>Added coverage docs.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+17-3A25-3A31+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 17:25:31 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, gc.c
<dd>
<p>add new internal events RUBY_INTERNAL_EVENT_GC_ENTER and
RUBY_INTERNAL_EVENT_GC_EXIT. When invoking <a
href="../../classes/GC.html">GC</a> process, GC_ENTER event is called. When
exiting from <a href="../../classes/GC.html">GC</a> process, GC_EXIT event
is called. Incremental <a href="../../classes/GC.html">GC</a> (incremental
marking and lazy sweep) can call these events many times. For example
(minor marking):</p>
</dd><dt>(1) GC_ENTER - (2) GC_START (minor <a href="../../classes/GC.html">GC</a>, minor marking) - (3) GC_END_MARK (start lazy sweep, 4) GC_EXIT (ruby process, 5) GC_ENTER (lazy sweep, 6) GC_EXIT (ruby process, … repeat (5), (6), 7) GC_ENTER (finish lazy sweep) - (8) GC_END_SWEEP (9) GC_EXIT 2nd example (incremental major marking)
<dd>
<p></p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Sep+11+17-3A04-3A54+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep 11 17:04:54 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>remove CLOCK_MONOTONIC_RAW support Thanks to Vit Ondruch for reporting the
issue on ARM. [Bug #10202]</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+14-3A31-3A57+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep 11 14:31:57 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>freeze nil/true/false. [Feature #8923]</p>
</dd><dt>gc.c (should_be_finalizable)
<dd>
<p>check frozen after checkin FL_ABLE.</p>
</dd><dt>object.c (rb_obj_taint)
<dd>
<p>check OBJ_TAINTABLE(obj).</p>
</dd><dt>object.c (rb_obj_freeze)
<dd>
<p>remove immediate_frozen_tbl because all of immediate values are frozen.
YAY!</p>
</dd><dt>object.c (rb_obj_frozen_p)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_eval.rb
<dd>
<p>skip instance_variable_set for frozen objects.</p>
</dd><dt>test/ruby/test_weakmap.rb
<dd>
<p>check <a href="../../classes/ArgumentError.html">ArgumentError</a> instead
of <a href="../../classes/RuntimeError.html">RuntimeError</a>.</p>
</dd></dl>

<h3 id="label-Thu+Sep+11+10-3A03-3A16+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Sep 11 10:03:16 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc.rb, lib/rdoc, test/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 4.2.0.alpha(21b241a)</p>
</dd></dl>

<h2 id="label-2014-09-10">2014-09-10</h2>

<h3 id="label-Wed+Sep+10+17-3A52-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 17:52:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_vm_addr2insn)
<dd>
<p>rename to rb_vm_insn_addr2insn to clear what address.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+16-3A22-3A26+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 16:22:26 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>fix condition.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+15-3A29-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Sep 10 15:29:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_call_info_t)
<dd>
<p>ci-&gt;flag becomes 32-bit unsigned int ci-&gt;index becomes a 32-bit
signed int (from signed long). Reorder for better packing on 64-bit, giving
an 8 byte reduction from 104 to 96 bytes for each ci. [Feature #10187]</p>
</dd><dt>compile.c (new_callinfo, setup_args, iseq_compile_each, iseq_build_from_ary_body)
<dd>
<p>adjust for type changes</p>
</dd><dt>vm_insnhelper.c (vm_getivar)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+15-3A07-3A35+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Sep 10 15:07:35 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_translate_threaded_code)
<dd>
<p>modify in-place w/o copy</p>
</dd><dt>(rb_vm_addr2insn)
<dd>
<p>new function for debug</p>
</dd><dt>(rb_iseq_original_iseq)
<dd>
<p>ditto</p>
</dd><dt>(iseq_set_sequence)
<dd>
<p>assign iseq_encoded directly [Feature #10185]</p>
</dd><dt>vm_core (rb_iseq_t)
<dd>
<p>move original -&gt;iseq to bottom</p>
</dd><dt>iseq.c (iseq_free, iseq_free)
<dd>
<p>adjust for new layout</p>
</dd><dt>(rb_iseq_disasm)
<dd>
<p>use original iseq for dump</p>
</dd><dt>(iseq_data_to_ary)
<dd>
<p>ditto</p>
</dd><dt>(rb_iseq_line_trace_each)
<dd>
<p>ditto</p>
</dd><dt>(rb_iseq_build_for_ruby2cext)
<dd>
<p>use iseq_encoded directly</p>
</dd><dt>vm_dump.c (rb_vmdebug_debug_print_pre)
<dd>
<p>use original iseq</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+15-3A00-3A11+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Sep 10 15:00:11 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_mark)
<dd>
<p>remove NULL check</p>
</dd><dt>(time_memsize)
<dd>
<p>ditto</p>
</dd><dt>(time_free)
<dd>
<p>remove, use RUBY_TYPED_DEFAULT_FREE instead [Feature #10219]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+14-3A14-3A57+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Sep 10 14:14:57 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (encs enc trans libencs libenc libtrans)
<dd>
<p>force to run enk.mk because common.mk does not know the dependency, but
enk.mk knows. [ruby-dev:48530] [Bug #10220]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+11-3A59-3A10+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 11:59:10 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat)
<dd>
<p>update rdoc.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+11-3A52-3A08+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 11:52:08 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>rename: * malloc_increase -&gt; malloc_increase_bytes * malloc_limit -&gt;
malloc_increase_bytes_limit * oldmalloc_increase -&gt;
oldmalloc_increase_bytes * oldmalloc_limit -&gt;
oldmalloc_increase_bytes_limit ref: [Feature #9924]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+11-3A45-3A40+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 11:45:40 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>rename `heap_used&#39; to `heap_allocated_pages&#39;. ref: [Feature #9924]</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>add constraints test for gc stat information.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+11-3A31-3A16+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 11:31:16 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>rename: * remembered_shady_object -&gt; remembered_wb_unprotected_objects *
remembered_shady_object_limit -&gt; remembered_wb_unprotected_objects_limit
* old_object -&gt; old_objects * old_object_limit -&gt; old_objects_limit
ref: [Feature #9924]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+11-3A12-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 11:12:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>support: * total_allocated_pages * total_freed_pages ref: [Feature #9924]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+10-3A48-3A04+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 10:48:04 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>catch up last fix.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+10-3A36-3A08+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 10:36:08 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_total_slot)
<dd>
<p>rename objspace_available_slots.</p>
</dd><dt>gc.c (objspace_live_slot, objspace_free_slot)
<dd>
<p>rename …_slot() to …_slots().</p>
</dd><dt>gc.c (objspace_free_slot)
<dd>
<p>should subtract heap_pages_final_slots.</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>* add `heap_available_slots&#39; field * rename heap_live_slot to
heap_live_slots * rename heap_free_slot to heap_free_slots ref: [Feature
#9924]</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+07-3A22-3A53+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep 10 07:22:53 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>refactoring for RGENGC_PROFILE &gt; 0. * rename
rb_objspace_t::profile::…_count to rb_objspace_t::profile::total_…_count *
rename promote_infant_types to promote_types</p>
</dd><dt>gc.c (gc_remember_unprotected)
<dd>
<p>count remembered shady objects here.</p>
</dd></dl>

<h3 id="label-Wed+Sep+10+03-3A12-3A12+2014++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Wed Sep 10 03:12:12 2014  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (init_mark_stack)
<dd>
<p>MEMZERO() receive type as 2nd argument instead of size. Coverity Scan found
this bug.</p>
</dd></dl>

<h2 id="label-2014-09-09">2014-09-09</h2>

<h3 id="label-Tue+Sep++9+21-3A55-3A39+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Sep  9 21:55:39 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/sample/excel2.rb
<dd>
<p>remove some commented-out code. rotate graph more slowly to see graph
clearly.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+19-3A52-3A33+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 19:52:33 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename rb_objspace_t::marked_objects to marked_slots.</p>
</dd><dt>gc.c (gc_marks_start)
<dd>
<p>should be clear first.</p>
</dd><dt>gc.c (gc_marks_start)
<dd>
<p>remembered shady objects are also marked.</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>add heap_marked_slots.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+18-3A58-3A48+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 18:58:48 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename * total_allocated_object_num -&gt; total_allocated_objects *
total_allocated_object_num_at_gc_start -&gt;
total_allocated_objects_at_gc_start * total_freed_object_num -&gt;
total_freed_objects</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>* rename total_allocated_object -&gt; total_allocated_objects * rename
total_freed_object -&gt; total_freed_objects</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+18-3A51-3A36+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 18:51:36 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>fix symbol names * heap_final_slot -&gt; heap_final_slots * heap_swept_slot
-&gt; heap_swept_slots</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+18-3A18-3A07+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 18:18:07 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_t::heap_pages)
<dd>
<p>rename field names: * used -&gt; allocated_pages * increment -&gt;
allocatable_pages * length -&gt; sorted_length And remove unused
`limit&#39; field.</p>
</dd><dt>gc.c
<dd>
<p>rename macros: * heap_pages_used -&gt; heap_allocated_pages *
heap_pages_length -&gt; heap_pages_sorted_length * heap_pages_increment
-&gt; heap_allocatable_pages</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>fix symbol names * heap_used -&gt; heap_allocated_pages *
heap_eden_page_length -&gt; heap_eden_pages * heap_tomb_page_length -&gt;
heap_tomb_pages * heap_increment -&gt; heap_allocatable_pages * heap_length
-&gt; heap_sorted_length ref: [Feature #9924] <a
href="https://docs.google.com/spreadsheets/d/11Ua4uBr6o0k-nORrZLEIIUkHJ9JRzRR0NyZfrhEEnc8/edit?usp=sharing">docs.google.com/spreadsheets/d/11Ua4uBr6o0k-nORrZLEIIUkHJ9JRzRR0NyZfrhEEnc8/edit?usp=sharing</a>
Yellow color fields in this table are changed.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+14-3A56-3A03+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 14:56:03 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>continue layout changing. newobj_of() also touch:</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Sep++9+14-3A21-3A50+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 14:21:50 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix layout of rb_objspace_t to improve cache locality. newobj_of()
accesses:</p>
</dd><dt>(1) rb_objspace_t
<dd>
<p>:flags</p>
</dd><dt>(2) rb_objspace_t
<dd>
<p>:eden_heap::freelist</p>
</dd><dt>(3) and rb_objspace_t
<dd>
<p>:eden_heap::free_pages if freelist is NULL.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+14-3A09-3A36+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 14:09:36 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>move rb_objspace_t::flags::gc_stressful after during_gc to make accessing
both parameters easy.</p>
</dd><dt>gc.c (heap_get_freeobj)
<dd>
<p>add LIKELY() hint.</p>
</dd><dt>gc.c (heap_get_freeobj_from_next_freepage)
<dd>
<p>ditto.</p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>check both parameters at once for exceptional case.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+13-3A51-3A32+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 13:51:32 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add rb_objspace_t::flags::gc_stressful and ruby_gc_stressful macro. Rename
objspace-&gt;gc_stress to objspace-&gt;gc_stress_mode. If
objspace-&gt;gc_stress_mode is true (!nil and !false) then
ruby_gc_stressful becomes TRUE. ruby_gc_stressful will speedup newobj_of()
slightly.</p>
</dd><dt>gc.c
<dd>
<p>initialize ruby_gc_stress(full|_mode) by gc_params.gc_stress even if
ENABLE_VM_OBJSPACE is false.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+13-3A05-3A50+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 13:05:50 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove ruby_disable_gc_stress and add ruby_disable_gc to speed-up
newobj_of().</p>
</dd><dt>gc.c (ready_to_gc)
<dd>
<p>check ruby_disable_gc.</p>
</dd><dt>signal.c
<dd>
<p>use ruby_disable_gc.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+12-3A11-3A41+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 12:11:41 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename gc_stat entries and check stat transition.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+12-3A06-3A03+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 12:06:03 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_sweep_rest)
<dd>
<p>remove wrong modification of during_gc flag.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+11-3A39-3A41+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 11:39:41 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>pack boolean values into rb_objspace_t::flags with bit fields to improve
cache locality.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+11-3A11-3A05+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  9 11:11:05 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_object.rb
<dd>
<p>extend timeout.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+09-3A02-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep  9 09:02:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#pkg_config)
<dd>
<p>append –cflags to also $CXXFLAGS, as they are often used by C++ compiler.
[ruby-core:54532] [Bug #8315]</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+07-3A03-3A22+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Sep  9 07:03:22 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>remove needless SYM2ID &lt;-&gt; ID2SYM conversions [misc #10207]</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+05-3A48-3A42+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Sep  9 05:48:42 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (rb_intern_cstr_without_pindown)
<dd>
<p>check dsymbol on return This is not a complete fix for bug 10206, but seems
to reduce that crash and also looks correct.</p>
</dd></dl>

<h3 id="label-Tue+Sep++9+04-3A36-3A24+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Sep  9 04:36:24 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_env_t)
<dd>
<p>use flexible array This reduces allocations and speeds up the lambda
calculus fizzbuzz (bm_app_lc_fizzbuzz.rb) benchmark [ruby-core:64858]</p>
</dd><dt>proc.c (get_local_variable_ptr)
<dd>
<p>deconst to adjust for flex array</p>
</dd><dt>vm.c (env_mark, env_free, env_memsize)
<dd>
<p>remove check for env-&gt;env</p>
</dd><dt>vm.c (env_alloc)
<dd>
<p>single allocation for flex array</p>
</dd><dt>vm.c (vm_make_env_each)
<dd>
<p>adjust env_alloc call</p>
</dd></dl>

<h2 id="label-2014-09-08">2014-09-08</h2>

<h3 id="label-Mon+Sep++8+16-3A08-3A22+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep  8 16:08:22 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_lc_fizzbuzz.rb
<dd>
<p>should skip output on benchmark.</p>
</dd></dl>

<h3 id="label-Mon+Sep++8+16-3A04-3A02+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep  8 16:04:02 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_lc_fizzbuzz.rb
<dd>
<p>`answer.to_a&#39; does not return a string, but an array.</p>
</dd></dl>

<h3 id="label-Mon+Sep++8+13-3A18-3A37+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep  8 13:18:37 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_lc_fizzbuzz.rb
<dd>
<p>added. This program is described closely in “Understanding Computation”
chapter 6 by Tom Stuart. &lt;<a
href="http://computationbook.com">computationbook.com</a>/&gt; Japanese
translation will be published soon. &lt;<a
href="http://www.oreilly.co.jp/books/9784873116976">www.oreilly.co.jp/books/9784873116976</a>/&gt;</p>
</dd></dl>

<h3 id="label-Mon+Sep++8+12-3A01-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Sep  8 12:01:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add incremental <a href="../../classes/GC.html">GC</a> algorithm. [Feature
#10137] Please refer this ticket for details. This change also introduces
the following changes. * Remove RGENGC_AGE2_PROMOTION and introduce object
age (0 to 3). Age can be count with FL_PROMOTE0 and FL_PROMOTE1 flags in
RBasic::flags (2 bit). Age == 3 objects become old objects. * WB_PROTECTED
flag in RBasic to WB_UNPROTECTED bitmap. * LONG_LIVED bitmap to represent
living objects while minor GCs It specifies (1) Old objects and (2)
remembered shady objects. * Introduce rb_objspace_t::marked_objects which
counts marked objects in current marking phase. marking count is needed to
introduce incremental marking. * rename mark related function and sweep
related function to gc_(marks|sweep)_(start|finish|step|rest|continue). *
rename rgengc_report() to gc_report(). * Add obj_info() function to get
cstr of object details. * Add MEASURE_LINE() macro to measure execution
time of specific line. * and many small fixes.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>add flag USE_RINCGC. Now USE_RINCGC can be set only with USE_RGENGC.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>introduce FL_PROMOTED0 and add FL_PROMOTED1 to count object age.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>rewrite write barriers for incremental marking.</p>
</dd><dt>debug.c
<dd>
<p>catch up flag name changes.</p>
</dd><dt>internal.h
<dd>
<p>add rb_gc_writebarrier_remember() instead of
rb_gc_writebarrier_remember_promoted().</p>
</dd><dt>array.c (ary_memcpy0)
<dd>
<p>use rb_gc_writebarrier_remember().</p>
</dd><dt>array.c (rb_ary_modify)
<dd>
<p>ditto.</p>
</dd><dt>hash.c (rb_hash_keys)
<dd>
<p>ditto.</p>
</dd><dt>hash.c (rb_hash_values)
<dd>
<p>ditto.</p>
</dd><dt>object.c (init_copy)
<dd>
<p>use rb_copy_wb_protected_attribute() because FL_WB_PROTECTED is moved from
RBasic::flags.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>catch up <a
href="../../classes/ObjectSpace.html#method-c-dump">ObjectSpace.dump</a>
changes.</p>
</dd></dl>

<h2 id="label-2014-09-07">2014-09-07</h2>

<h3 id="label-Sun+Sep++7+12-3A47-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep  7 12:47:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>PTHREAD_CANCEL_DISABLE is not defined on Android.</p>
</dd></dl>

<h2 id="label-2014-09-06">2014-09-06</h2>

<h3 id="label-Sat+Sep++6+20-3A59-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  6 20:59:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (has_privilege)
<dd>
<p>The gid zero is not a privilege.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+20-3A19-3A16+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  6 20:19:16 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (struct child_handler_disabler_state)
<dd>
<p>cancelstate field added.</p>
</dd><dt>(disable_child_handler_before_fork)
<dd>
<p>Record cancelstate.</p>
</dd><dt>(disable_child_handler_fork_parent)
<dd>
<p>Restore cancelstate.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+19-3A27-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  6 19:27:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (struct child_handler_disabler_state)
<dd>
<p>Defined.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+18-3A31-3A32+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Sep  6 18:31:32 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake.rb, lib/rake/*, test/rake/*
<dd>
<p>Update latest rake master(e47d023)</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+16-3A38-3A08+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Sep  6 16:38:08 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_variant.c (ole_val2variant_err, ole_val2variantdata, Init_win32ole_variant)
<dd>
<p>support VT_ERROR variant with error code. add WIN32OLE_VARIANT::NoParam.</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb(test_c_noparam, test_vt_error_noparam)
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+11-3A08-3A52+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep  6 11:08:52 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (arg_ambiguous_gen)
<dd>
<p>fix warning message, “even” does not mean the number of spaces here.  state
the place to put a space and the operator.  [ruby-core:64790] [Bug #10204]</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+08-3A44-3A40+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Sep  6 08:44:40 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/generator/template/darkfish/js/jquery.js
<dd>
<p>Backport 74f60fcb04fee1778fe2694d1a0ea6513f8e67b7 at rdoc/rdoc</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+08-3A10-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep  6 08:10:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_readpartial_locktmp)
<dd>
<p>use <a href="../../classes/IO.html#method-i-nonblock-3D">IO#nonblock=</a>
Old fcntl invocation may drop necessary flags on some platforms.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+07-3A46-3A51+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep  6 07:46:51 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_readpartial_locktmp)
<dd>
<p>avoid EBADF [ruby-core:64773] [ruby-core:64775]</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+01-3A34-3A31+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  6 01:34:31 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_f_exec)
<dd>
<p>Call before_exec_async_signal_safe and after_exec_async_signal_safe around
rb_exec_async_signal_safe.</p>
</dd><dt>(rb_exec_async_signal_safe)
<dd>
<p>Don&#39;t call before_exec_async_signal_safe and
after_exec_async_signal_safe.</p>
</dd><dt>(rb_exec_without_timer_thread)
<dd>
<p>Call before_exec and after_exec.</p>
</dd><dt>(disable_child_handler_fork_child)
<dd>
<p>Make SIGPIPE handler SIG_DFL.</p>
</dd></dl>

<h3 id="label-Sat+Sep++6+00-3A49-3A41+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Sep  6 00:49:41 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (ruby_signal)
<dd>
<p>Don&#39;t set SA_SIGINFO for SIG_IGN and SIG_DFL.</p>
</dd></dl>

<h2 id="label-2014-09-05">2014-09-05</h2>

<h3 id="label-Fri+Sep++5+21-3A45-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 21:45:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (disable_child_handler_before_fork)
<dd>
<p>New function.</p>
</dd><dt>(disable_child_handler_fork_parent)
<dd>
<p>Ditto.</p>
</dd><dt>(disable_child_handler_fork_child)
<dd>
<p>Ditto.</p>
</dd><dt>(retry_fork_async_signal_safe)
<dd>
<p>Call above functions to disable signal handlers in child process.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+21-3A02-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 21:02:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (handle_fork_error)
<dd>
<p>Make try_gc_p argument volatile to suppress “clobbered” warning.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+20-3A48-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 20:48:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (handle_fork_error)
<dd>
<p>Don&#39;t need state_p argument.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+20-3A35-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 20:35:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (has_privilege)
<dd>
<p>Fix a return value.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+19-3A00-3A40+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Sep  5 19:00:40 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shellwords.rb
<dd>
<p>proofreading documentation. [Bug #<a href="ruby-core:64471">10155]</a></p>
</dd></dl>

<h3 id="label-Fri+Sep++5+18-3A34-3A33+2014++Laurent+Arnoud++-3Claurent-40spkdev.net-3E">Fri Sep  5 18:34:33 2014  Laurent Arnoud  &lt;laurent@spkdev.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/csv/test_row.rb
<dd>
<p>Added some missing tests in <a href="../../classes/CSV.html">CSV</a>. [fix
GH-710]</p>
</dd><dt>test/csv/test_table.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+12-3A57-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 12:57:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (has_privilege)
<dd>
<p>Refine uid/gid check.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+12-3A40-3A55+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 12:40:55 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check sys/id.h, getuidx and getgidx for AIX.</p>
</dd><dt>process.c (getresuid)
<dd>
<p>Defined for AIX.</p>
</dd><dt>(getresgid)
<dd>
<p>Ditto AIX don&#39;t have getresuid/getresgid but getuidx/getgidx.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+12-3A28-3A21+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 12:28:21 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (has_privilege)
<dd>
<p>Fix assignments.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+11-3A10-3A13+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Sep  5 11:10:13 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/generator/pot/po.rb
<dd>
<p>fixed broken tests for trailing whitespace.</p>
</dd><dt>test/rdoc/test_rdoc_generator_pot.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rdoc/test_rdoc_generator_pot_po.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+10-3A41-3A07+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Sep  5 10:41:07 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rdoc/test_rdoc_rdoc.rb (TestRDocRDoc#test_parse_file_encoding)
<dd>
<p>typofix.</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+10-3A39-3A14+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Sep  5 10:39:14 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc.rb, lib/rdoc, test/rdoc
<dd>
<p>Update to <a href="../../classes/RDoc.html">RDoc</a> 4.2.0.alpha(313287)</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+06-3A04-3A22+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Sep  5 06:04:22 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>remove unused USE_THREAD_RECYCLE [misc #10198]</p>
</dd></dl>

<h3 id="label-Fri+Sep++5+00-3A29-3A08+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Sep  5 00:29:08 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (dirfd)
<dd>
<p>Check function.</p>
</dd><dt>dir.c (dir_fileno)
<dd>
<p>New method. [ruby-dev:48265] [Feature #9880]</p>
</dd></dl>

<h2 id="label-2014-09-04">2014-09-04</h2>

<h3 id="label-Thu+Sep++4+23-3A39-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Sep  4 23:39:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (has_privilege)
<dd>
<p>New function.</p>
</dd><dt>(retry_fork_async_signal_safe)
<dd>
<p>Don&#39;t use vfork() for privileged process.</p>
</dd><dt>configure.in (getresuid)
<dd>
<p>Check function.</p>
</dd><dt>(getresgid)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Sep++4+20-3A22-3A14+2014++Laurent+Arnoud++-3Claurent-40spkdev.net-3E">Thu Sep  4 20:22:14 2014  Laurent Arnoud  &lt;laurent@spkdev.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/pathname/test_pathname.rb
<dd>
<p>added testcase for <a
href="../../classes/Pathname.html#method-i-mountpoint-3F">Pathname#mountpoint?</a>.
[fix GH-709]</p>
</dd></dl>

<h3 id="label-Thu+Sep++4+20-3A09-3A21+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Sep  4 20:09:21 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbian/*
<dd>
<p>removed Symbian support. [Feature #<a href="ruby-core:64725">10199]</a></p>
</dd><dt>dln.c
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/defines.h
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Sep++4+17-3A44-3A40+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep  4 17:44:40 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>use ifdef instead of if. gcc&#39;s -Wundef option shows warning for
undefined macro.</p>
</dd><dt>numeric.c (flo_is_finite_p)
<dd>
<p>ditto.</p>
</dd><dt>vm_dump.c (rb_vmdebug_thread_dump_state)
<dd>
<p>ditto.</p>
</dd><dt>vm_core.h
<dd>
<p>define VM_DEBUG_VERIFY_METHOD_CACHE to 0.</p>
</dd></dl>

<h3 id="label-Thu+Sep++4+03-3A57-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep  4 03:57:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>spelling fix (“bellow” =&gt; “below”) [ci-skip]</p>
</dd></dl>

<h3 id="label-Thu+Sep++4+03-3A52-3A16+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Sep  4 03:52:16 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>add trailing slash to URLs [ci-skip]</p>
</dd></dl>

<h2 id="label-2014-09-03">2014-09-03</h2>

<h3 id="label-Wed+Sep++3+19-3A10-3A28+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  3 19:10:28 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (before_fork_ruby)
<dd>
<p>Renamed from before_fork.</p>
</dd><dt>(after_fork_ruby)
<dd>
<p>Renamed from after_fork.</p>
</dd></dl>

<h3 id="label-Wed+Sep++3+18-3A56-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  3 18:56:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (forked_child)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Wed+Sep++3+16-3A56-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  3 16:56:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_copy_ivar)
<dd>
<p>allocate no memory for empty instance variables.  [ruby-core:64700] [Bug
#10191]</p>
</dd></dl>

<h3 id="label-Wed+Sep++3+12-3A05-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  3 12:05:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (retry_fork_async_signal_safe)
<dd>
<p>Use vfork() if available. vfork() is still faster than fork() especially
when the parent process uses big memory. ruby -rbenchmark -e &#39;a = “a” *
1_000_000_000; puts <a
href="../../classes/Benchmark.html#method-c-measure">Benchmark.measure</a>
{ system(“true”) }&#39; fork:   0.000000   0.010000   0.010000 (  0.014968)
vfork:  0.000000   0.000000   0.000000 (  0.000912) on Debian sid.</p>
</dd></dl>

<h3 id="label-Wed+Sep++3+11-3A33-3A08+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Sep  3 11:33:08 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pkey_rsa.rb (OpenSSL#test_sign_verify_memory_leak)
<dd>
<p>added timeout into testcase for low performance environment. [Bug #<a
href="ruby-core:63367">9984]</a></p>
</dd></dl>

<h3 id="label-Wed+Sep++3+07-3A50-3A15+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  3 07:50:15 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Use AC_FUNC_FORK.</p>
</dd><dt>io.c
<dd>
<p>Use HAVE_WORKING_FORK instead of HAVE_FORK.</p>
</dd><dt>process.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+Sep++3+00-3A12-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Sep  3 00:12:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (retry_fork_async_signal_safe)
<dd>
<p>Don&#39;t return on in child process.</p>
</dd></dl>

<h2 id="label-2014-09-02">2014-09-02</h2>

<h3 id="label-Tue+Sep++2+23-3A47-3A35+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  2 23:47:35 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (retry_fork_async_signal_safe)
<dd>
<p>Specialized version of retry_fork respect to rb_fork_async_signal_safe.</p>
</dd><dt>(retry_fork_ruby)
<dd>
<p>Specialized version of retry_fork respect to rb_fork_ruby.</p>
</dd><dt>(rb_fork_ruby)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+23-3A26-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  2 23:26:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (send_child_error)
<dd>
<p>Simplified.</p>
</dd><dt>(recv_child_error)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+22-3A56-3A25+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  2 22:56:25 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_fork_async_signal_safe)
<dd>
<p>Inline rb_fork_internal.</p>
</dd><dt>(rb_fork_ruby)
<dd>
<p>Ditto.</p>
</dd><dt>(rb_fork_internal)
<dd>
<p>Removed.</p>
</dd><dt>(chfunc_protect)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+22-3A43-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  2 22:43:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_new_with_block)
<dd>
<p><a href="../../classes/Set.html">Set</a> autoclose to avoid EBADF.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+22-3A01-3A51+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue Sep  2 22:01:51 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (update-coverage)
<dd>
<p>Remove a never executed line.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+19-3A48-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Sep  2 19:48:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (handle_fork_error)
<dd>
<p>Extracted from retry_fork.</p>
</dd></dl>

<h3 id="label-Tue+Sep++2+17-3A02-3A53+2014++Vit+Ondruch++-3Cv.ondruch-40tiscali.cz-3E">Tue Sep  2 17:02:53 2014  Vit Ondruch  &lt;v.ondruch@tiscali.cz&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>fixed error of local installation. [Bug #<a
href="ruby-core:64702">10192]</a></p>
</dd></dl>

<h3 id="label-Tue+Sep++2+16-3A58-3A03+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Sep  2 16:58:03 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>reporting test coverage for test-all with COVERAGE env. [Feature #<a
href="ruby-core:64681">10189]</a>[fix GH-708]</p>
</dd><dt>Makefile.in
<dd>
<p>added task for coverage report.</p>
</dd><dt>common.mk
<dd>
<p>added definition of forked simplecov url.</p>
</dd><dt>.gitignore
<dd>
<p>ignored coverage directory.</p>
</dd></dl>

<h2 id="label-2014-09-01">2014-09-01</h2>

<h3 id="label-Mon+Sep++1+20-3A11-3A02+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Sep  1 20:11:02 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (rbtime2vtdate)
<dd>
<p>try to convert millisecond of <a href="../../classes/Time.html">Time</a>
object to millisecond of VT_DATE VARIANT.</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb (test_conversion_time2date_with_msec)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-08-31">2014-08-31</h2>

<h3 id="label-Sun+Aug+31+16-3A58-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Aug 31 16:58:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>Fix a syntax error.</p>
</dd></dl>

<h3 id="label-Sun+Aug+31+08-3A46-3A44+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Aug 31 08:46:44 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (gzfile_reset)
<dd>
<p>preserve ZSTREAM_FLAG_GZFILE [Bug #10101]</p>
</dd><dt>test/zlib/test_zlib.rb (test_rewind)
<dd>
<p>test each_byte</p>
</dd></dl>

<h2 id="label-2014-08-30">2014-08-30</h2>

<h3 id="label-Sat+Aug+30+19-3A22-3A47+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Aug 30 19:22:47 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (rb_sym2id)
<dd>
<p>do not return garbage object</p>
</dd></dl>

<h3 id="label-Sat+Aug+30+06-3A39-3A48+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Aug 30 06:39:48 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>fix <a href="../../classes/NameError.html">NameError</a> dumping and
loading. Fixes GH #85. Thanks @brentdax for the patch!</p>
</dd><dt>test/psych/test_exception.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h3 id="label-Sat+Aug+30+06-3A23-3A40+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Aug 30 06:23:40 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/scalar_scanner.rb
<dd>
<p>fix loading strings that look like integers but have a newline. Fixes GH
#189</p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h3 id="label-Sat+Aug+30+06-3A10-3A39+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Aug 30 06:10:39 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>merge keys with a hash should merge the hash in to the parent.</p>
</dd><dt>test/psych/test_merge_keys.rb
<dd>
<p>test for change. Fixes GH #202</p>
</dd></dl>

<h3 id="label-Sat+Aug+30+06-3A00-3A26+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Aug 30 06:00:26 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>quoted “&lt;&lt;” strings should not be treated as merge keys.</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>hashes with keys containing “&lt;&lt;” should roundtrip.</p>
</dd><dt>test/psych/test_merge_keys.rb
<dd>
<p>test for change. Fixes GH #203</p>
</dd></dl>

<h2 id="label-2014-08-29">2014-08-29</h2>

<h3 id="label-Fri+Aug+29+17-3A56-3A44+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 29 17:56:44 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/imap/test_imap_response_parser.rb
<dd>
<p>removed needless code.</p>
</dd></dl>

<h3 id="label-Fri+Aug+29+17-3A36-3A58+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 29 17:36:58 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb
<dd>
<p>removed useless assignment variables.</p>
</dd><dt>test/rss/rss-assertions.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rss/test_maker_itunes.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+29+16-3A18-3A26+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 29 16:18:26 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>revert part of r47311, add rb_vm_fstring_table(), remove vm_core.h
dependency. [ruby-core:64627]</p>
</dd></dl>

<h3 id="label-Fri+Aug+29+15-3A17-3A13+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 29 15:17:13 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>remove static frozen_strings</p>
</dd><dt>string.c (Init_frozen_strings)
<dd>
<p>new function</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>remove check for frozen strings, use per-VM table</p>
</dd><dt>string.c (rb_str_free)
<dd>
<p>use per-VM table</p>
</dd><dt>string.c (Init_String)
<dd>
<p>use per-VM table</p>
</dd><dt>vm_core.h (rb_vm_t)
<dd>
<p>add frozen_strings table</p>
</dd><dt>internal.h (Init_frozen_strings)
<dd>
<p>new function prototype</p>
</dd><dt>eval.c (ruby_setup)
<dd>
<p>call Init_frozen_strings [Feature #10182]</p>
</dd></dl>

<h2 id="label-2014-08-27">2014-08-27</h2>

<h3 id="label-Wed+Aug+27+23-3A10-3A24+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Wed Aug 27 23:10:24 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>remove “require &#39;thread&#39;”. its features are no longer used.</p>
</dd></dl>

<h3 id="label-Wed+Aug+27+21-3A19-3A40+2014++gogo+tanaka++-3Cmail-40tanakakazuki.com-3E">Wed Aug 27 21:19:40 2014  gogo tanaka  &lt;mail@tanakakazuki.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/acl.rb
<dd>
<p>Removed meaningless to_s methods in interpolation. [Feature #<a
href="ruby-core:64584">10174]</a></p>
</dd><dt>lib/erb.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/observer.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rake/invocation_chain.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/command_manager.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rubygems/config_file.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/common.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+27+21-3A08-3A20+2014++gogo+tanaka++-3Cmail-40tanakakazuki.com-3E">Wed Aug 27 21:08:20 2014  gogo tanaka  &lt;mail@tanakakazuki.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>use attr_reader instead of Module#attr. [Feature #<a
href="ruby-core:64582">10172]</a></p>
</dd><dt>lib/irb/ruby-token.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/net/telnet.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rdoc/ruby_token.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/thwait.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+27+19-3A52-3A33+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug 27 19:52:33 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (vtdate2rbtime)
<dd>
<p>try to convert millisecond of VT_DATE VARIANT to nsec of <a
href="../../classes/Time.html">Time</a> object.</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb (test_conversion_dbl2date_with_msec)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+27+09-3A57-3A29+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Aug 27 09:57:29 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_complex.rb
<dd>
<p>removed unreachable code.</p>
</dd><dt>test/ruby/test_rational.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+27+07-3A59-3A17+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Aug 27 07:59:17 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_sequence)
<dd>
<p>check for multiplication overflow</p>
</dd></dl>

<h2 id="label-2014-08-26">2014-08-26</h2>

<h3 id="label-Tue+Aug+26+22-3A07-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 22:07:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_complex.rb
<dd>
<p>cherry-picked working assertions from r47251.</p>
</dd><dt>test/ruby/test_rational.rb
<dd>
<p>cherry-picked working assertions from r47263.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+21-3A07-3A56+2014++gogo+tanaka++-3Cmail-40tanakakazuki.com-3E">Tue Aug 26 21:07:56 2014  gogo tanaka  &lt;mail@tanakakazuki.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mathn.rb (Fixnum#**, Bignum#**, Float#**, Rational#**)
<dd>
<p>remove as these are now built-in.  [ruby-core:63973] [Bug #10086]</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+20-3A46-3A55+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug 26 20:46:55 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (rb_time_unmagnify_to_float)
<dd>
<p>Avoid double rounding. Reported by Tsuyoshi Sawada. <a
href="https://bugs.ruby-lang.org/issues/10135#note-1">bugs.ruby-lang.org/issues/10135#note-1</a></p>
</dd></dl>

<h3 id="label-Tue+Aug+26+17-3A12-3A47+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 26 17:12:47 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_close)
<dd>
<p>ignore only “closed stream” <a
href="../../classes/IOError.html">IOError</a> and <a
href="../../classes/NoMethodError.html">NoMethodError</a>, do not swallow
other exceptions at the end of block.  [ruby-core:64463] [Bug #10153]</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+13-3A46-3A33+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Aug 26 13:46:33 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/fake.rb.in
<dd>
<p>fix failed to make install when @srcdir@ is absolute path.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+13-3A43-3A50+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 13:43:50 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_range.rb
<dd>
<p>added workaround for VERBOSE message.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+12-3A38-3A02+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 12:38:02 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_mathn.rb
<dd>
<p>added workaround for VERBOSE messages.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+11-3A44-3A04+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 11:44:04 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shell/process-controller.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+11-3A39-3A01+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 11:39:01 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/thwait.rb (ThreadsWait)
<dd>
<p>removed needless constant.</p>
</dd></dl>

<h3 id="label-Tue+Aug+26+09-3A27-3A10+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 09:27:10 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mathn.rb
<dd>
<p>mathn library is deprecated on ruby 2.2. [Feature #<a
href="ruby-core:64553">10169]</a></p>
</dd></dl>

<h3 id="label-Tue+Aug+26+09-3A25-3A03+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 26 09:25:03 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mathn.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h2 id="label-2014-08-25">2014-08-25</h2>

<h3 id="label-Mon+Aug+25+20-3A15-3A50+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Aug 25 20:15:50 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c(fole_s_connect, fole_initialize)
<dd>
<p>raise a security error with the tainted string object.</p>
</dd><dt>ext/win32ole/win32ole_event.c(ev_advise)
<dd>
<p>ditto.</p>
</dd><dt>test/win32ole/test_win32ole.rb(test_s_new_exc_svr_tainted, test_s_new_exc_host_tainted)
<dd>
<p>ditto.</p>
</dd><dt>test/win32ole/test_win32ole_event.rb(test_s_new_exc_tainted)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Aug+25+12-3A56-3A54+2014++Ivan+Korunkov++-3Civankorunkov-40ya.ru-3E">Mon Aug 25 12:56:54 2014  Ivan Korunkov  &lt;ivankorunkov@ya.ru&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (format_datetime)
<dd>
<p>use “%6N” to show microsecond. [Fix GH-704]</p>
</dd></dl>

<h3 id="label-Mon+Aug+25+11-3A02-3A07+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Aug 25 11:02:07 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_iseq_location_t)
<dd>
<p>change first_lineno type to VALUE</p>
</dd><dt>iseq.c (rb_iseq_build_for_ruby2cext)
<dd>
<p>update based on argument</p>
</dd></dl>

<h2 id="label-2014-08-24">2014-08-24</h2>

<h3 id="label-Sun+Aug+24+16-3A14-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 24 16:14:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/e2mmap.rb
<dd>
<p>remove needless instance variables.</p>
</dd><dt>lib/irb.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/irb/*<strong>/</strong>.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/shell.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Aug+24+12-3A44-3A26+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 24 12:44:26 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_complex.rb
<dd>
<p>removed needless conditions.</p>
</dd><dt>test/ruby/test_rational.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Aug+24+11-3A47-3A39+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 24 11:47:39 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rational.rb
<dd>
<p>fixed indent.</p>
</dd></dl>

<h3 id="label-Sun+Aug+24+11-3A44-3A11+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 24 11:44:11 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rational.rb
<dd>
<p>remove commented-out code.</p>
</dd></dl>

<h3 id="label-Sun+Aug+24+11-3A09-3A29+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Aug 24 11:09:29 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb (measure)
<dd>
<p>reduce allocations as in r47260</p>
</dd></dl>

<h3 id="label-Sun+Aug+24+10-3A35-3A54+2014++Pete+Higgins++-3Cpete-40peterhiggins.org-3E">Sun Aug 24 10:35:54 2014  Pete Higgins  &lt;pete@peterhiggins.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb (module <a href="../../classes/Benchmark.html">Benchmark</a>)
<dd>
<p>define BENCHMARK_CLOCK</p>
</dd><dt>(realtime)
<dd>
<p>use <a
href="../../classes/Process.html#method-c-clock_gettime">Process.clock_gettime</a>
Reduces allocations to improve performance [Feature #10165]</p>
</dd><dt>test/benchmark/test_benchmark.rb (test_realtime_output)
<dd>
<p>new test</p>
</dd></dl>

<h2 id="label-2014-08-22">2014-08-22</h2>

<h3 id="label-Fri+Aug+22+20-3A23-3A54+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 22 20:23:54 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring)
<dd>
<p>fix condition (easy to cause infinite loop!).</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+20-3A07-3A43+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 22 20:07:43 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring, fstr_update_callback)
<dd>
<p>simply delete garbage key first. Garbage keys can be swept by lazy sweeping
invoked by creating new fstring.  So that simply do:</p>
</dd><dt>(1) delete garbage key and return `fstr_update_callback&#39; immediately (2) try again `fstr_update_callback()&#39; to create a new fstr. This bug can be cause memory corruption, reported by http
<dd>
<p>//u64.rubyci.org/~chkbuild/ruby-trunk/log/20140821T220302Z.fail.html.gz</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+19-3A30-3A39+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 22 19:30:39 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_complex.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+19-3A25-3A28+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 22 19:25:28 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_complex.rb
<dd>
<p>fixed broken tests. <a href="../../classes/Math.html">Math</a> is not
compatible <a href="../../classes/CMath.html">CMath</a> now.</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+15-3A36-3A09+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 22 15:36:09 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (Doxyfile)
<dd>
<p>revert r43888, not to require preinstalled ruby.  [ruby-core:64488] [Bug
#10161]</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+12-3A32-3A15+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 22 12:32:15 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shell.rb
<dd>
<p>removed commented-out code.</p>
</dd><dt>lib/shell/builtin-command.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/shell/command-processor.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+12-3A21-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 22 12:21:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/complex.rb
<dd>
<p>removed deprecated library.</p>
</dd><dt>lib/rational.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+22+11-3A38-3A49+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 22 11:38:49 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prettyprint.rb
<dd>
<p>removed PrettyPrint#first? because it is obsoleted method since Ruby 1.8.2</p>
</dd></dl>

<h2 id="label-2014-08-21">2014-08-21</h2>

<h3 id="label-Thu+Aug+21+17-3A10-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 21 17:10:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (constat_attr)
<dd>
<p>manage reverse video internally since Windows console window does not
manage it.  based on the patch by white leaf in [ruby-dev:48483].  [Bug
#10158]</p>
</dd></dl>

<h3 id="label-Thu+Aug+21+14-3A45-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 14:45:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/e2mmap.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h3 id="label-Thu+Aug+21+13-3A23-3A34+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 13:23:34 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/rinda-ring.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Aug+21+13-3A21-3A45+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 13:21:45 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/acl.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/drb/acl.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Aug+21+12-3A55-3A35+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 12:55:35 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored temporary file for Changelog. <a
href="http://mkosaki.blog46.fc2.com/blog-entry-1284.html">mkosaki.blog46.fc2.com/blog-entry-1284.html</a></p>
</dd></dl>

<h3 id="label-Thu+Aug+21+12-3A40-3A22+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 12:40:22 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/net-imap.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Aug+21+12-3A23-3A56+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug 21 12:23:56 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h2 id="label-2014-08-20">2014-08-20</h2>

<h3 id="label-Wed+Aug+20+17-3A27-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 20 17:27:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_TRY_CFLAGS, RUBY_TRY_LDFLAGS), (RUBY_CHECK_BUILTIN_SETJMP, RUBY_SETJMP_TYPE), (RUBY_STACK_GROW_DIRECTION)
<dd>
<p>quote defun names, for some versions of autoconf possibly. 
[ruby-core:64473] [Bug #10156]</p>
</dd></dl>

<h2 id="label-2014-08-19">2014-08-19</h2>

<h3 id="label-Tue+Aug+19+22-3A28-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 19 22:28:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>fix condition to round. [ruby-core:64454] [Bug #10151]</p>
</dd></dl>

<h3 id="label-Tue+Aug+19+22-3A22-3A45+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 19 22:22:45 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/trans/euckr-tbl.rb (EUCKR_TO_UCS_TBL)
<dd>
<p>add missing euro and registered signs.  [ruby-core:64452] [Bug #10149]</p>
</dd></dl>

<h3 id="label-Tue+Aug+19+13-3A59-3A43+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 19 13:59:43 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (rb_cmperr)
<dd>
<p>preserve encodings of arguments in the message.</p>
</dd></dl>

<h3 id="label-Tue+Aug+19+10-3A13-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 19 10:13:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (get_array)
<dd>
<p>check instance variables are initialized properly.  [ruby-core:63826][Bug
#10062]</p>
</dd></dl>

<h2 id="label-2014-08-18">2014-08-18</h2>

<h3 id="label-Mon+Aug+18+17-3A06-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 18 17:06:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>support rational &#39;f&#39; format. [ruby-core:64382] [Bug #10136]</p>
</dd></dl>

<h3 id="label-Mon+Aug+18+08-3A03-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Aug 18 08:03:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>spec/default.mspec
<dd>
<p>use 2.2 definition.</p>
</dd></dl>

<h2 id="label-2014-08-17">2014-08-17</h2>

<h3 id="label-Sun+Aug+17+19-3A41-3A40+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Aug 17 19:41:40 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_memsize_of)
<dd>
<p>don&#39;t calculate memsize of T_NODE when called from
check_gen_consistency. It fixes segmentation fault on RGENGC_CHECK_MODE
&gt;= 1 introduced by r47188.</p>
</dd></dl>

<h3 id="label-Sun+Aug+17+17-3A08-3A12+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Aug 17 17:08:12 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_invoke)
<dd>
<p>use RHASH_SIZE instead of calling <a
href="../../classes/Hash.html#method-i-length">Hash#length</a> method.</p>
</dd></dl>

<h2 id="label-2014-08-16">2014-08-16</h2>

<h3 id="label-Sat+Aug+16+19-3A32-3A06+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Aug 16 19:32:06 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_event.c (evs_length)
<dd>
<p>use RARRAY_LEN instead of calling <a
href="../../classes/Array.html#method-i-length">Array#length</a> method.</p>
</dd></dl>

<h3 id="label-Sat+Aug+16+10-3A20-3A17+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Aug 16 10:20:17 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_timespec)
<dd>
<p>fix tv_nsec overflow [Bug #10144]</p>
</dd></dl>

<h2 id="label-2014-08-15">2014-08-15</h2>

<h3 id="label-Fri+Aug+15+20-3A34-3A17+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Aug 15 20:34:17 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_EVENT.html">WIN32OLE_EVENT</a> src
from win32ole.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_event.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_event.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+19-3A38-3A00+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 15 19:38:00 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_clone)
<dd>
<p>Should not insert write barrier from non-RVALUE data (to non-RVALUE data,
of course). Ruby 2.1 also has a same problem.</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+19-3A34-3A33+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 15 19:34:33 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (setup_fake_str)
<dd>
<p>fake strings should not set class by RBASIC_SET_CLASS() because it insert
write barriers to fake</p>
</dd><dd>
<p></p>
</dd><dt>symbol.c (setup_fake_str)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+19-3A27-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 15 19:27:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_tmp_new_fill)
<dd>
<p>added. This function creates internal use only array (which is completely
hided by <a
href="../../classes/ObjectSpace.html#method-c-each_object">ObjectSpace.each_object</a>)
with filling nil. Otherwise, it can be includes strange VALUEs.</p>
</dd><dt>internal.h
<dd>
<p>added.</p>
</dd><dt>node.h
<dd>
<p>use rb_ary_tmp_new_fill() for MEMO.</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+10-3A13-3A37+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug 15 10:13:37 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/gserver.rb
<dd>
<p>removed unmaintained code. [ruby-core:40313][Feature #5480]</p>
</dd><dt>lib/xmlrpc/httpserver.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+09-3A22-3A12+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 15 09:22:12 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_thread_struct)
<dd>
<p>reorder to pack</p>
</dd><dt>cont.c (rb_context_struct, rb_fiber_struct)
<dd>
<p>ditto On x86-64, these changes reduces: rb_thread_struct to 1000 bytes
(from 1016) rb_context_struct to 1288 bytes (from 1312) rb_fiber_struct to
2272 bytes (from 2304)</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+09-3A06-3A31+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 15 09:06:31 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.h
<dd>
<p>define RB_NATIVETHREAD_LOCK_INIT and RB_NATIVETHREAD_COND_INIT macros</p>
</dd><dt>thread_pthread.c (native_mutex_lock, native_mutex_unlock, native_mutex_trylock, native_mutex_initialize, native_mutex_destroy, native_cond_wait)
<dd>
<p>use rb_nativethread_lock_t instead of pthread_mutex_t [Feature #10134]</p>
</dd><dt>thread_pthread.c (native_mutex_debug)
<dd>
<p>make argument type-agnostic to avoid later cast.</p>
</dd><dt>thread_pthread.c (register_cached_thread_and_wait)
<dd>
<p>replace PTHREAD_COND_INITIALIZER with RB_NATIVETHREAD_COND_INIT, use
native_mutex_{lock,unlock}</p>
</dd><dt>thread_pthread.c (use_cached_thread)
<dd>
<p>use native_mutex_{lock,unlock}</p>
</dd><dt>thread_pthread.c (native_sleep)
<dd>
<p>use rb_nativethread_lock_t to match th-&gt;interrupt_lock, use
native_mutex_{lock,unlock}</p>
</dd><dt>thread_pthread.c (timer_thread_lock)
<dd>
<p>use rb_nativethread_lock_t type</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+08-3A10-3A29+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 15 08:10:29 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (cont_mark)
<dd>
<p>fix typo in unused path [ci skip]</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+06-3A00-3A56+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 15 06:00:56 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_thread_mark)
<dd>
<p>update comment about marking `me&#39; [ruby-core:64340] [ruby-core:64341]</p>
</dd></dl>

<h3 id="label-Fri+Aug+15+05-3A53-3A59+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 15 05:53:59 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>preliminary documentation for RB_GC_GUARD [Bug #10100] [ruby-core:60741]</p>
</dd></dl>

<h2 id="label-2014-08-14">2014-08-14</h2>

<h3 id="label-Thu+Aug+14+00-3A26-3A19+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Thu Aug 14 00:26:19 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>
src from win32ole.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_record.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_record.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-08-13">2014-08-13</h2>

<h3 id="label-Wed+Aug+13+21-3A41-3A04+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug 13 21:41:04 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a>
src from win32ole.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variant.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variant.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+20-3A09-3A37+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug 13 20:09:37 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>remove unused variable.</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+19-3A31-3A27+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug 13 19:31:27 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_search_handler_method, rescue_callback, folerecord_inspect)
<dd>
<p>use PRIsVALUE in rb_sprintf.</p>
</dd><dt>ext/win32ole/win32ole_param.c (foleparam_inspect)
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variable.c (folevariable_inspect)
<dd>
<p>use PRIsVALUE in rb_sprintf, use rb_inspect.</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+11-3A54-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Aug 13 11:54:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/completion.rb
<dd>
<p>reverted r47163. because another case can&#39;t be show completion target.</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+11-3A17-3A00+2014++Shimpei+Makimoto++-3Cgithub-40makimoto.org-3E">Wed Aug 13 11:17:00 2014  Shimpei Makimoto  &lt;github@makimoto.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>Prevent irb from crashing when exception with nil backtrace is raised. [fix
<a href="ruby-core:58078">GH-434]</a>[Bug #9063]</p>
</dd><dt>test/irb/test_raise_no_backtrace_exception.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+11-3A08-3A55+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Aug 13 11:08:55 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/completion.rb
<dd>
<p>fixed broken completion list with String including spaces. Contributed from
@dunric. [fix GH-465]</p>
</dd></dl>

<h3 id="label-Wed+Aug+13+00-3A07-3A01+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug 13 00:07:01 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_PARAM.html">WIN32OLE_PARAM</a> src
from win32ole.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_param.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_param.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-08-12">2014-08-12</h2>

<h3 id="label-Tue+Aug+12+23-3A17-3A47+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Aug 12 23:17:47 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>refactoring. move some methods into win32ole_type.c / win32ole_method.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_method.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_method.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_type.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_type.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+22-3A59-3A48+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Aug 12 22:59:48 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>refactoring. move ole_typelib_from_itypeinfo into win32ole_typelib.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_typelib.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_typelib.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+21-3A49-3A40+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Aug 12 21:49:40 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_create_dcom)
<dd>
<p>use the converted result if the argument can be converted to a string, to
get rid of invalid access. Thanks to nobu. [ruby-dev:48467] [Bug #10127]</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+14-3A22-3A58+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 12 14:22:58 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>ignored working directory same as prefix value. [ruby-core:54999] [Bug
#8409]</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+13-3A34-3A25+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 12 13:34:25 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>enable to remove with non-owner directory. [ruby-dev:45976] [Bug #6756]</p>
</dd><dt>test/fileutils/test_fileutils.rb
<dd>
<p>add testcase for #6756.</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+12-3A57-3A28+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug 12 12:57:28 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.c
<dd>
<p>improve performance in ppc64 arch. [ruby-core:63437] [Feature #9997]</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+12-3A14-3A52+2014++Akira+Matsuda+-3Cronnie-40dio.jp-3E">Tue Aug 12 12:14:52 2014  Akira Matsuda &lt;ronnie@dio.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>fix typo. [ruby-dev:47831] [Bug #9180]</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+10-3A10-3A42+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Aug 12 10:10:42 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (release_method_definition)
<dd>
<p>use rb_free_method_entry</p>
</dd></dl>

<h3 id="label-Tue+Aug+12+06-3A16-3A09+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Aug 12 06:16:09 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_METHOD.html">WIN32OLE_METHOD</a>
src from win32ole.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_method.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_method.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-08-11">2014-08-11</h2>

<h3 id="label-Mon+Aug+11+22-3A19-3A15+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Aug 11 22:19:15 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_variable.c (folevariable_inspect)
<dd>
<p>refactoring.</p>
</dd></dl>

<h3 id="label-Mon+Aug+11+20-3A47-3A27+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Aug 11 20:47:27 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a
href="../../classes/WIN32OLE_VARIABLE.html">WIN32OLE_VARIABLE</a> src from
win32ole.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variable.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variable.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Aug+11+16-3A17-3A21+2014++Tony+Miller++-3Cmcfiredrill-40gmail.com-3E">Mon Aug 11 16:17:21 2014  Tony Miller  &lt;mcfiredrill@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (rb_dir_exists_p)
<dd>
<p>[DOC] Document that <a
href="../../classes/Dir.html#method-c-exists-3F">Dir.exists?</a> is
deprecated.  [ruby-core:64135] [Bug #10102]</p>
</dd></dl>

<h3 id="label-Mon+Aug+11+11-3A26-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 11 11:26:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>start rdoc parsing inside singleton class definition to include the
document there. [ruby-core:64157] [Bug #10105]</p>
</dd></dl>

<h2 id="label-2014-08-10">2014-08-10</h2>

<h3 id="label-Sun+Aug+10+12-3A22-3A43+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Aug 10 12:22:43 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_type.c
<dd>
<p>refactoring.</p>
</dd></dl>

<h3 id="label-Sun+Aug+10+10-3A34-3A00+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 10 10:34:00 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/session/pstore.rb
<dd>
<p>separated sample code.</p>
</dd><dt>lib/open3.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Aug+10+10-3A03-3A24+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Aug 10 10:03:24 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/ext/multi-irb.rb
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h2 id="label-2014-08-09">2014-08-09</h2>

<h3 id="label-Sat+Aug++9+11-3A02-3A07+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Aug  9 11:02:07 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>removed commented-out code.</p>
</dd><dt>lib/irb/*<strong>/</strong>.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Aug++9+10-3A35-3A30+2014++Laurent+Arnoud++-3Claurent-40spkdev.net-3E">Sat Aug  9 10:35:30 2014  Laurent Arnoud  &lt;laurent@spkdev.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cmath.rb
<dd>
<p>fixed indent. [fix GH-696]</p>
</dd><dt>lib/drb/ssl.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/irb/*<strong>/</strong>.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Aug++9+10-3A28-3A03+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Aug  9 10:28:03 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/minitest/test_minitest_unit.rb
<dd>
<p>removed obsoleted condition for Ruby 1.8.</p>
</dd><dt>test/ruby/test_time_tz.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Aug++9+10-3A18-3A00+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Aug  9 10:18:00 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/cgi/test_cgi_core.rb
<dd>
<p>removed obsoleted condition for Ruby 1.8.</p>
</dd><dt>test/cgi/test_cgi_header.rb
<dd>
<p>ditto.</p>
</dd><dt>test/cgi/test_cgi_multipart.rb
<dd>
<p>ditto.</p>
</dd><dt>test/cgi/test_cgi_tag_helper.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Aug++9+00-3A34-3A37+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Aug  9 00:34:37 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a href="../../classes/WIN32OLE_TYPE.html">WIN32OLE_TYPE</a> src
from win32ole.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_type.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_type.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-08-08">2014-08-08</h2>

<h3 id="label-Fri+Aug++8+01-3A53-3A37+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Fri Aug  8 01:53:37 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>use <a href="../../classes/OpenSSL/BN.html">OpenSSL::BN</a> for performance
improvement.</p>
</dd><dt>benchmark/bm_securerandom.rb
<dd>
<p>benchmark script.</p>
</dd></dl>

<h3 id="label-Fri+Aug++8+17-3A19-3A57+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  8 17:19:57 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>remove needless condition for old ruby version.</p>
</dd><dt>test/open-uri/test_open-uri.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug++8+16-3A40-3A59+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  8 16:40:59 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/init.rb
<dd>
<p>removed unreachable code.</p>
</dd></dl>

<h3 id="label-Fri+Aug++8+16-3A34-3A22+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  8 16:34:22 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>removed unreachable code.</p>
</dd></dl>

<h3 id="label-Fri+Aug++8+14-3A33-3A49+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  8 14:33:49 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpproxy.rb
<dd>
<p>remove needless condition for old ruby version.</p>
</dd></dl>

<h3 id="label-Fri+Aug++8+01-3A07-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  8 01:07:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>fix invalid char in eval, should raise an syntax error too, as well as
directly coded. [ruby-core:64243] [Bug #10117]</p>
</dd></dl>

<h2 id="label-2014-08-07">2014-08-07</h2>

<h3 id="label-Thu+Aug++7+23-3A25-3A29+2014++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Thu Aug  7 23:25:29 2014  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p>avoid unnecessary write if stdin_data is empty.</p>
</dd></dl>

<h3 id="label-Thu+Aug++7+21-3A42-3A49+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Thu Aug  7 21:42:49 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_typelib.c (foletypelib_version)
<dd>
<p>return version string.</p>
</dd><dt>test/win32ole/test_win32ole_typelib.rb (test_version)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Aug++7+15-3A13-3A13+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Aug  7 15:13:13 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi.rb
<dd>
<p>remove needless condition for old ruby version.</p>
</dd></dl>

<h3 id="label-Thu+Aug++7+06-3A04-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  7 06:04:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yyerror)
<dd>
<p>preserve source code encoding in syntax error messages.  [ruby-core:64228]
[Bug #10114]</p>
</dd></dl>

<h2 id="label-2014-08-06">2014-08-06</h2>

<h3 id="label-Wed+Aug++6+20-3A56-3A02+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug  6 20:56:02 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate src of <a
href="../../classes/WIN32OLE_TYPELIB.html">WIN32OLE_TYPELIB</a> from
win32ole.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_typelib.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_typelib.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+20-3A44-3A07+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Aug  6 20:44:07 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_one)
<dd>
<p>[DOC] Move enum.one? documentation before the relevant method.  Submitted
by @vipulnsward. [Fixes GH-687] <a
href="https://github.com/ruby/ruby/pull/687">github.com/ruby/ruby/pull/687</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++6+20-3A25-3A47+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Aug  6 20:25:47 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set#replace)
<dd>
<p>Check if an object given is enumerable before clearing self.  Reported by
yui-knk. [GH-675] <a
href="https://github.com/ruby/ruby/pull/675">github.com/ruby/ruby/pull/675</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++6+20-3A07-3A26+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug  6 20:07:26 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (olerecord_ivar_set)
<dd>
<p>remove rb_str_subseq.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+19-3A09-3A27+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Aug  6 19:09:27 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Set)
<dd>
<p>Implement <a
href="../../classes/Object.html#method-i-clone">Object#clone</a> by
splitting initialize_copy into initialize_dup and initialize_clone.
Submitted by yui-knk. [Fixes GH-661] <a
href="https://github.com/ruby/ruby/pull/661">github.com/ruby/ruby/pull/661</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++6+18-3A42-3A58+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Aug  6 18:42:58 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate src of <a
href="../../classes/WIN32OLERuntimeError.html">WIN32OLERuntimeError</a>
from win32ole.c.</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_error.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_error.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+04-3A33-3A58+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 04:33:58 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (Net::HTTP.proxy_uri)
<dd>
<p>use initializer instead of parser to handle IPv6 address. [Bug #9129]</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+04-3A16-3A05+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 04:16:05 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/requests.rb (Net::HTTP::Options::RESPONSE_HAS_BODY)
<dd>
<p>OPTIONS requests may have response bodies. [Feature #8429] <a
href="http://tools.ietf.org/html/rfc7231#section-4.3.7">tools.ietf.org/html/rfc7231#section-4.3.7</a></p>
</dd></dl>

<h3 id="label-Wed+Aug++6+03-3A18-3A04+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 03:18:04 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/generic_request.rb (Net::HTTP::GenericRequest#exec)
<dd>
<p>handle <a href="'host'">req</a> in update_uri.</p>
</dd><dt>lib/net/http/generic_request.rb (Net::HTTP::GenericRequest#update_uri)
<dd>
<p>use <a href="'host'">req</a> if it is explicitly set. Even if <a
href="../../classes/URI.html">URI</a> is given, it is already used for the
initial value of <a href="'host'">req</a>. Therefore overwritten value
should be respected. [Bug #10054]</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+03-3A17-3A34+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 03:17:34 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/generic_request.rb (Net::HTTP::GenericRequest#update_uri)
<dd>
<p>handle scheme, host, and port to reflect connection to @uri.</p>
</dd><dt>lib/net/http.rb (Net::HTTP#begin_transport)
<dd>
<p>move trivial handling to Net::HTTP::GenericRequest#update_uri.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+02-3A16-3A43+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 02:16:43 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/generic_request.rb (Net::HTTP::GenericRequest#initialize)
<dd>
<p>optimize object allocation.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+01-3A16-3A47+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 01:16:47 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic#path_query)
<dd>
<p>remove a private method.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+01-3A15-3A47+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 01:15:47 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic#normalize!)
<dd>
<p>use <a href="../../classes/String.html#method-i-empty-3F">String#empty?</a></p>
</dd><dt>lib/uri/generic.rb (URI::Generic#path_query)
<dd>
<p>optimized.</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#to_s)
<dd>
<p>optimized.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+00-3A15-3A10+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Aug  6 00:15:10 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/http.rb (URI::HTTP#request_uri)
<dd>
<p>optimized. decrease object allocation, and ensure always create at least
one new object for return value.</p>
</dd></dl>

<h3 id="label-Wed+Aug++6+03-3A41-3A21+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Aug  6 03:41:21 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>backwards compatibility for hashes emitted by <a
href="../../classes/YAML/Syck.html">Syck</a>. Github #198</p>
</dd><dt>test/psych/test_hash.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h2 id="label-2014-08-05">2014-08-05</h2>

<h3 id="label-Tue+Aug++5+19-3A27-3A59+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Aug  5 19:27:59 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_invoke)
<dd>
<p>skip VariantClear when argument is VT_RECORD variant.</p>
</dd></dl>

<h3 id="label-Tue+Aug++5+15-3A52-3A51+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Aug  5 15:52:51 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade to test-unit-3.0.0 and minitest-5.4.0.</p>
</dd></dl>

<h2 id="label-2014-08-04">2014-08-04</h2>

<h3 id="label-Mon+Aug++4+21-3A50-3A09+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Aug  4 21:50:09 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_record.rb
<dd>
<p>add for <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>
test(need .NET Framework 3.5 to run test).</p>
</dd></dl>

<h3 id="label-Mon+Aug++4+19-3A49-3A34+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Aug  4 19:49:34 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_invoke)
<dd>
<p>call rb_hash_foreach instead of rb_block_call.</p>
</dd><dt>ext/win32ole/win32ole.c
<dd>
<p>add comment for rdoc of <a
href="../../classes/WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a> class.</p>
</dd></dl>

<h3 id="label-Mon+Aug++4+09-3A12-3A47+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Aug  4 09:12:47 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c
<dd>
<p>cleanup to use rb_const_lookup [Feature #10107]</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-08-03">2014-08-03</h2>

<h3 id="label-Sun+Aug++3+10-3A55-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug  3 10:55:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h (rb_check_symbol_cstr)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Aug++3+10-3A43-3A08+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug  3 10:43:08 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>unusable super class should cause method missing when <a
href="../../classes/BasicObject.html">BasicObject</a> is refined but not
been using. [ruby-core:64166] [Bug #10106]</p>
</dd></dl>

<h2 id="label-2014-08-02">2014-08-02</h2>

<h3 id="label-Sat+Aug++2+23-3A47-3A45+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Aug  2 23:47:45 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>separate <a
href="../../classes/WIN32OLE/VARIANT.html">WIN32OLE::VARIANT</a> src file
from win32ole.c</p>
</dd><dt>ext/win32ole/win32ole.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variant_m.c
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole_variant_m.h
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/depend
<dd>
<p>ditto.</p>
</dd><dt>ext/.document
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Aug++2+14-3A34-3A58+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Aug  2 14:34:58 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>add comments for rdoc.</p>
</dd></dl>

<h3 id="label-Sat+Aug++2+10-3A26-3A57+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug  2 10:26:57 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_itself)
<dd>
<p>new method <a
href="../../classes/Object.html#method-i-itself">Object#itself</a>.  based
on the patch by Rafael Franca in [ruby-core:64156]. [EXPERIMENTAL] this
method may be renamed due to compatibilities. [ruby-core:44704] [Feature
#6373]</p>
</dd></dl>

<h2 id="label-2014-08-01">2014-08-01</h2>

<h3 id="label-Fri+Aug++1+22-3A30-3A40+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Aug  1 22:30:40 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (folerecord_initialize)
<dd>
<p>accept only 2 arguments. The 2nd argument should be <a
href="../../classes/WIN32OLE.html">WIN32OLE</a> object or <a
href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a> object.</p>
</dd></dl>

<h3 id="label-Fri+Aug++1+20-3A17-3A33+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Aug  1 20:17:33 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_variant2val)
<dd>
<p>call folerecord_s_allocate instead of <a
href="../../classes/WIN32OLE_RECORD.html#method-c-new">WIN32OLE_RECORD.new</a>.</p>
</dd></dl>

<h3 id="label-Fri+Aug++1+18-3A39-3A57+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Aug  1 18:39:57 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/date/test_date.rb
<dd>
<p>remove commented-out code.</p>
</dd><dt>test/date/test_date_arith.rb
<dd>
<p>ditto.</p>
</dd><dt>test/date/test_date_attr.rb
<dd>
<p>ditto.</p>
</dd><dt>test/date/test_date_parse.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Aug++1+16-3A35-3A32+2014++Evan+Miller++-3Cevan-40squareup.com-3E">Fri Aug  1 16:35:32 2014  Evan Miller  &lt;evan@squareup.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (flodivmod)
<dd>
<p>all results are NaN if divisor is NaN. [fix GH-692]</p>
</dd></dl>

<h3 id="label-Thu+Aug+01+07-3A28-3A12+2014++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Aug 01 07:28:12 2014  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>[DOC] Add description of `BigDecimal.new` exceptions.  Patched by
@joker1007 and @prathamesh-sonpatki [Fixes GH-690] <a
href="https://github.com/ruby/ruby/pull/690">github.com/ruby/ruby/pull/690</a></p>
</dd></dl>

<h2 id="label-2014-07-31">2014-07-31</h2>

<h3 id="label-Thu+Jul+31+22-3A20-3A12+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Thu Jul 31 22:20:12 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>add <a
href="../../classes/WIN32OLE_RECORD.html#method-i-inspect">WIN32OLE_RECORD#inspect</a>.</p>
</dd></dl>

<h3 id="label-Thu+Jul+31+20-3A35-3A32+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Thu Jul 31 20:35:32 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>add <a
href="../../classes/WIN32OLE_RECORD.html#method-i-ole_instance_variable_set">WIN32OLE_RECORD#ole_instance_variable_set</a>
and <a
href="../../classes/WIN32OLE_RECORD.html#method-i-ole_instance_variable_get">WIN32OLE_RECORD#ole_instance_variable_get</a></p>
</dd></dl>

<h2 id="label-2014-07-30">2014-07-30</h2>

<h3 id="label-Wed+Jul+30+23-3A28-3A10+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Wed Jul 30 23:28:10 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>like r47006, get rid of function calls in RSTRING_PTR().</p>
</dd></dl>

<h3 id="label-Wed+Jul+30+22-3A10-3A29+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Wed Jul 30 22:10:29 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rlimit_resource_type, rlimit_resource_value)
<dd>
<p>get rid of inadvertent dynamic symbol pin-down.</p>
</dd><dt>re.c (match_backref_number)
<dd>
<p>ditto.</p>
</dd><dt>signal.c (esignal_init, rb_f_kill, trap_signm)
<dd>
<p>ditto.</p>
</dd><dt>transcode.c (econv_opts)
<dd>
<p>ditto.</p>
</dd><dt>vm_trace.c (symbol2event_flag)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+30+21-3A29-3A39+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Jul 30 21:29:39 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_invoke)
<dd>
<p>pass <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>
variant by reference when invoke OLE methods at first.</p>
</dd><dt>ext/win32ole/win32ole.c (olerecord_set_ivar)
<dd>
<p>release IRecordInfo interface before setting another IRecordInfo interface.</p>
</dd></dl>

<h3 id="label-Wed+Jul+30+13-3A17-3A35+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 30 13:17:35 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove unused macros.</p>
</dd></dl>

<h2 id="label-2014-07-29">2014-07-29</h2>

<h3 id="label-Tue+Jul+29+22-3A21-3A37+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Jul 29 22:21:37 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (hash2olerec)
<dd>
<p>ignore <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>
instance variable if the variable is nil.</p>
</dd></dl>

<h3 id="label-Tue+Jul+29+19-3A43-3A27+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Jul 29 19:43:27 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (folerecord_method_missing)
<dd>
<p>refactoring. divide functionality of folerecord_method_missing into
olerecord_ivar_set and olerecord_ivar_get.</p>
</dd></dl>

<h2 id="label-2014-07-28">2014-07-28</h2>

<h3 id="label-Mon+Jul+28+20-3A20-3A08+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Jul 28 20:20:08 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win23ole.c (folerecord_method_missing)
<dd>
<p>support setter of member of <a
href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a> object.</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+06-3A37-3A19+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 06:37:19 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c
<dd>
<p>[DOC] Fix rdoc formatting of patch from [Bug #9551]</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+06-3A34-3A43+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 06:34:43 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c
<dd>
<p>[DOC] [Bug #9551] Improve clarity of Kernel::catch documentation, patch by
Jesse Sielaff.</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+06-3A24-3A54+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 06:24:54 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>[DOC] [Bug #9563] Recommend using URI.escape before parsing a uri to avoid
invalid characters. Reported by Evgeniy Serykh.</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+05-3A55-3A56+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 05:55:56 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c
<dd>
<p>[DOC] Clarify %Y in strftime, which can accept any digits and will output
at least 4 digits as the year. Reported by Yury Trofimenko [Bug #10049]</p>
</dd><dt>lib/time.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+05-3A32-3A06+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 05:32:06 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>[DOC] [Bug #10075] Clarify how <a
href="../../classes/URI.html#method-c-join">URI.join</a> arguments are
handled by RFC3986, originally reported by John Feminella.</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+05-3A21-3A41+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 05:21:41 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>[DOC] Clarify how <a
href="../../classes/File.html#method-c-file-3F">File.file?</a> handles
symbolic links. Also cleaned up the rdoc style for this method, more to
follow. Originally reported by Michael Renner [Bug #10067]</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+05-3A12-3A22+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 05:12:22 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c
<dd>
<p>[DOC] Remove dead link and old bug report, which hasn&#39;t been reproduced
in a few years. Reported by Federico Builes [Bug #10071]</p>
</dd></dl>

<h3 id="label-Mon+Jul+28+04-3A39-3A58+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 04:39:58 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c
<dd>
<p>[DOC] Remove default value of <a href="../../classes/Zlib.html">Zlib</a>
constants, as they may change in the implementation without notice. Patched
by @robin850 [Fixes GH-682] <a
href="https://github.com/ruby/ruby/pull/682">github.com/ruby/ruby/pull/682</a></p>
</dd></dl>

<h3 id="label-Mon+Jul+28+04-3A35-3A35+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jul 28 04:35:35 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_hmac.c
<dd>
<p>Fix NO_HMAC warning [Fixes GH-665] Patched by @vipulnsward <a
href="https://github.com/ruby/ruby/pull/665">github.com/ruby/ruby/pull/665</a></p>
</dd></dl>

<h2 id="label-2014-07-27">2014-07-27</h2>

<h3 id="label-Sun+Jul+27+19-3A49-3A36+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 27 19:49:36 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/core.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>lib/erb.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/mkmf.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/net/http/response.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/optparse/version.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/prime.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/racc/parser.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rexml/document.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rexml/dtd/dtd.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rexml/element.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rexml/functions.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rexml/parsers/xpathparser.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+27+05-3A11-3A21+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Jul 27 05:11:21 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>[DOC] PROMPT_I cannot be nil, patch by @hgillane Fixes
documenting-ruby/ruby#37 <a
href="https://github.com/documenting-ruby/ruby/pull/37">github.com/documenting-ruby/ruby/pull/37</a></p>
</dd></dl>

<h3 id="label-Sun+Jul+27+02-3A41-3A50+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 27 02:41:50 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shell/command-processor.rb
<dd>
<p>remove unused variable.</p>
</dd><dt>lib/shell/system-command.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/tmpdir.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/generic.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+27+02-3A08-3A31+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 27 02:08:31 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/weakref.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/weakref.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+27+02-3A06-3A55+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 27 02:06:55 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/delegate.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+27+01-3A46-3A34+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Jul 27 01:46:34 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_super_method)
<dd>
<p>[DOC] <a
href="../../classes/Method.html#method-i-super_method">Method#super_method</a></p>
</dd></dl>

<h3 id="label-Sun+Jul+27+01-3A22-3A39+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 27 01:22:39 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_super_method)
<dd>
<p>new method <a
href="../../classes/Method.html#method-i-super_method">Method#super_method</a>,
which returns a method object of the method to be called by `super` in the
receiver method object. [ruby-core:62202] [Feature #9781]</p>
</dd></dl>

<h2 id="label-2014-07-26">2014-07-26</h2>

<h3 id="label-Sat+Jul+26+17-3A22-3A14+2014++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Sat Jul 26 17:22:14 2014  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_append)
<dd>
<p>avoid fflush. because dump_append_string_value() iterates over each chars,
fflush()-ing here effectively issues system calls on every single bytes
exist in a ruby process.</p>
</dd></dl>

<h3 id="label-Sat+Jul+26+16-3A55-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 26 16:55:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h (struct iseq_compile_data_storage)
<dd>
<p>reduce overhead to 16 bytes (from 32) on 64-bit</p>
</dd></dl>

<h3 id="label-Sat+Jul+26+16-3A28-3A06+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 26 16:28:06 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>reduce to 280 bytes</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Jul+26+06-3A44-3A43+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 26 06:44:43 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (struct parse_params)
<dd>
<p>shrink to 320 to 304 bytes on 64-bit</p>
</dd></dl>

<h3 id="label-Sat+Jul+26+05-3A58-3A35+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 26 05:58:35 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (ZALLOC, ZALLOC_N)
<dd>
<p>implement</p>
</dd><dt>(Data_Make_Struct, TypedData_Make_Struct)
<dd>
<p>ZALLOC replaces ALLOC+memset [ruby-core:63951][Feature #10082]</p>
</dd><dt>compile.c (iseq_seq_sequence)
<dd>
<p>ZALLOC_N replaces ALLOC_N+MEMZERO</p>
</dd><dt>cont.c (fiber_t_alloc)
<dd>
<p>ZALLOC replaces ALLOC+MEMZERO</p>
</dd><dt>io.c (rb_io_reopen)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (prepare_iseq_build)
<dd>
<p>ditto</p>
</dd><dt>parse.y (new_args_tail_gen, parser_new, ripper_s_allocate)
<dd>
<p>ditto</p>
</dd><dt>re.c (match_alloc)
<dd>
<p>ditto</p>
</dd><dt>variable.c (rb_const_set)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/raddrinfo.c (get_addrinfo)
<dd>
<p>ditto</p>
</dd><dt>ext/strscan/strscan.c (strscan_s_allocate)
<dd>
<p>ditto</p>
</dd><dt>gc.c (rb_objspace_alloc)
<dd>
<p>calloc replaces malloc+MEMZERO</p>
</dd></dl>

<h3 id="label-Sat+Jul+26+05-3A54-3A54+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 26 05:54:54 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (dsymbol_check)
<dd>
<p>remove unneeded semi-colon</p>
</dd></dl>

<h2 id="label-2014-07-25">2014-07-25</h2>

<h3 id="label-Fri+Jul+25+14-3A07-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 25 14:07:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change objspace::rgengc::parent_object_is_old (boolean) to
objspace::rgengc::parent_object (VALUE). Use Qfalse or RVALUE pointer
instead of FALSE and TRUE.</p>
</dd><dt>gc.c (gc_marks_body)
<dd>
<p>should clear parent_object just before gc_mark_roots() because there are no
parents objects for root objects.</p>
</dd></dl>

<h3 id="label-Fri+Jul+25+13-3A45-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 25 13:45:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_writebarrier_remember_promoted)
<dd>
<p>should remember only OLD objects on RGENGC_AGE2_PROMOTION.</p>
</dd></dl>

<h3 id="label-Fri+Jul+25+13-3A42-3A02+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 25 13:42:02 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_stacked_objects)
<dd>
<p>fix error message.</p>
</dd></dl>

<h3 id="label-Fri+Jul+25+13-3A18-3A00+2014++Will+Farrington++-3Cwfarrington-40digitalocean.com-3E">Fri Jul 25 13:18:00 2014  Will Farrington  &lt;wfarrington@digitalocean.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sock_gethostname)
<dd>
<p>Use NI_MAXHOST to support hostnames longer than 64 characters if the system
supports it. [fixes GH-683]</p>
</dd></dl>

<h3 id="label-Fri+Jul+25+12-3A21-3A11+2014++Santiago+Pastorino++-3Csantiago-40wyeworks.com-3E">Fri Jul 25 12:21:11 2014  Santiago Pastorino  &lt;santiago@wyeworks.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (defined_expr)
<dd>
<p>make the condition if the receiver is explicit or implicit cleaner.  [fix
GH-681]</p>
</dd></dl>

<h3 id="label-Fri+Jul+25+03-3A53-3A52+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Fri Jul 25 03:53:52 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="keywords_rdoc.html">doc/keywords.rdoc</a>
<dd>
<p>[DOC] Describe each keyword.</p>
</dd></dl>

<h2 id="label-2014-07-24">2014-07-24</h2>

<h3 id="label-Thu+Jul+24+22-3A40-3A24+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Thu Jul 24 22:40:24 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (Init_win32ole)
<dd>
<p>add WIN32OLE_RECORD#initialize method.</p>
</dd><dt>ext/win32ole/win32ole.c (ole_val2variant)
<dd>
<p>convert <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>
object to VT_RECORD variant.</p>
</dd></dl>

<h3 id="label-Thu+Jul+24+20-3A10-3A59+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 24 20:10:59 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix major <a href="../../classes/GC.html">GC</a> flags. * add
GPR_FLAG_MAJOR_BY_FORCE, which indicates major <a
href="../../classes/GC.html">GC</a> by METHOD, CAPI and so on (see GC_BY).
* remove GPR_FLAG_MAJOR_BY_RESCAN because not used. * remove
GPR_FLAG_MAJOR_BY_STRESS, use FORCE instead.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>catch up.</p>
</dd></dl>

<h3 id="label-Thu+Jul+24+15-3A55-3A02+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jul 24 15:55:02 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (struct rb_io_buffer_t)
<dd>
<p>PACKED_STRUCT should not be used for platform-specific optimization.
PACKED_STRUCT_UNALIGNED should be used. [ruby-core:63988] [Bug #10088]</p>
</dd></dl>

<h3 id="label-Thu+Jul+24+04-3A42-3A13+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jul 24 04:42:13 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/benchmark.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+24+04-3A36-3A49+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jul 24 04:36:49 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/tempfile.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+24+04-3A29-3A36+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jul 24 04:29:36 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pstore.rb
<dd>
<p>split executable code into sample directory.</p>
</dd><dt>sample/pstore.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-07-23">2014-07-23</h2>

<h3 id="label-Wed+Jul+23+23-3A50-3A11+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 23 23:50:11 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h, siphash.c, st.c (UNALIGNED_WORD_ACCESS)
<dd>
<p>add PowerPC64 too, which is capable to access unaligned words. patched by
Gustavo Frederico Temple Pedrosa in [ruby-core:63937]. [Feature #10081]</p>
</dd><dt>regint.h (PLATFORM_UNALIGNED_WORD_ACCESS)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+23+04-3A04-3A38+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Jul 23 04:04:38 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/extserv.rb
<dd>
<p>remove duplicate code with sample directory. contributed from @vipulnsward.
[fix GH-679]</p>
</dd></dl>

<h2 id="label-2014-07-22">2014-07-22</h2>

<h3 id="label-Tue+Jul+22+12-3A56-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 22 12:56:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_count)
<dd>
<p>fix wrong single-byte optimization. 7bit ascii can be a trailing byte in
Shift_JIS. [ruby-dev:48442] [Bug #10078]</p>
</dd></dl>

<h3 id="label-Tue+Jul+22+01-3A48-3A38+2014++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul 22 01:48:38 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (rb_io_buffer_t)
<dd>
<p>fix packing on gcc r46892 caused packing to be a no-op on gcc (4.7.2-5,
Debian) [Bug #<a href="ruby-core:63912">10079]</a></p>
</dd></dl>

<h2 id="label-2014-07-21">2014-07-21</h2>

<h3 id="label-Mon+Jul+21+15-3A55-3A42+2014++fuji70++-3Cfujifuji70-40gmail.com-3E">Mon Jul 21 15:55:42 2014  fuji70  &lt;fujifuji70@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb (getopts)
<dd>
<p>print default values and descriptions in the help message.  [fix GH-676]</p>
</dd></dl>

<h2 id="label-2014-07-20">2014-07-20</h2>

<h3 id="label-Sun+Jul+20+14-3A26-3A27+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 20 14:26:27 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_proc_t)
<dd>
<p>reduce to 64 bytes from 72 on 64-bit</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+13-3A50-3A34+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 20 13:50:34 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (rb_econv_t)
<dd>
<p>reduce to 184 bytes from 200 on 64-bit</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+12-3A44-3A23+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 20 12:44:23 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (rb_io_buffer_t)
<dd>
<p>pack structure Reduces rb_io_t from 200 to 192 bytes, allowing rb_io_t to
occupy one less cache line. [Feature #10050]</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+12-3A41-3A53+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 20 12:41:53 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/io.h (rb_io_t)
<dd>
<p>shrink to 200 bytes from 216 on 64-bit This puts us within 8 bytes of being
three cache lines instead of four lines on x86-64.  This breaks the ABI.
[Feature #10050]</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+12-3A36-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 20 12:36:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/oniguruma.h (struct re_pattern_buffer)
<dd>
<p>shrink to 448 bytes from 464 bytes on 64-bit.  This breaks the ABI.
[Feature #10034]</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+01-3A06-3A06+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 20 01:06:06 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>use encryptor instead of encrypter in doc. contributed from @vipulnsward.
[fix GH-663]</p>
</dd></dl>

<h3 id="label-Sun+Jul+20+00-3A32-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 20 00:32:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_initialize)
<dd>
<p>[DOC] fix rdoc of append mode.  it does not move the pointer at open. 
[ruby-core:63747] [Bug #10039]</p>
</dd></dl>

<h2 id="label-2014-07-19">2014-07-19</h2>

<h3 id="label-Sat+Jul+19+12-3A40-3A50+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 19 12:40:50 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>allow to access private attribute reader in op_assign.  [ruby-core:63817]
[Bug #10060]</p>
</dd></dl>

<h3 id="label-Sat+Jul+19+11-3A56-3A36+2014++Grey+Baker++-3Cgreysteil-40gmail.com-3E">Sat Jul 19 11:56:36 2014  Grey Baker  &lt;greysteil@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time#apply_offset)
<dd>
<p>Guards against a `nil` return value from `Time.month_days` when offsetting
date.  Out of range values are then caught when `Time.utc` is called (as
usual). Previously a `nil` return value from `Time.month_days` would have
the `&lt;` operator called on it, and raise `NoMethodError`. [fix GH-667]</p>
</dd><dt>lib/rdoc/parser/changelog.rb (RDoc#parse_entries)
<dd>
<p>fix dirty hack.</p>
</dd></dl>

<h3 id="label-Sat+Jul+19+06-3A19-3A01+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Jul 19 06:19:01 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>refactoring.</p>
</dd></dl>

<h2 id="label-2014-07-18">2014-07-18</h2>

<h3 id="label-Fri+Jul+18+22-3A34-3A41+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Jul 18 22:34:41 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (folevariant_initialize)
<dd>
<p><a href="../../classes/WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a> does not
support VT_RECORD. VT_RECORD should be supported in <a
href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>.</p>
</dd><dt>test/win32ole/test_win32ole_variant.rb (test_s_new_vt_record_exc)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jul+18+19-3A54-3A03+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Jul 18 19:54:03 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (folevariant_initialize)
<dd>
<p>remove unnecessary code.</p>
</dd></dl>

<h3 id="label-Fri+Jul+18+17-3A41-3A54+2014++GoGo+tanaka++-3Cqlli.illb-40gmail.com-3E">Fri Jul 18 17:41:54 2014  GoGo tanaka  &lt;qlli.illb@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/matrix/test_matrix.rb
<dd>
<p>Add tests for <a href="../../classes/Matrix.html">Matrix</a> class.
[Feature #<a href="ruby-core:63809">10057]</a></p>
</dd></dl>

<h3 id="label-Fri+Jul+18+10-3A14-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul 18 10:14:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>added missing options of <a
href="../../classes/FileUtils.html#method-c-touch">FileUtils.touch</a> by
@Domon. [fix GH-669]</p>
</dd></dl>

<h2 id="label-2014-07-17">2014-07-17</h2>

<h3 id="label-Thu+Jul+17+19-3A57-3A27+2014++Herwin++-3Cherwin-40quarantainenet.nl-3E">Thu Jul 17 19:57:27 2014  Herwin  &lt;herwin@quarantainenet.nl&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (rb_szqueue_push)
<dd>
<p>add optional parameter, non_block defaulted to false.  [ruby-core:63794]
[Feature #10052]</p>
</dd></dl>

<h2 id="label-2014-07-16">2014-07-16</h2>

<h3 id="label-Wed+Jul+16+23-3A01-3A43+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Jul 16 23:01:43 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_variant2val)
<dd>
<p>support array of VT_RECORD variant.</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+20-3A21-3A49+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Jul 16 20:21:49 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>stack_max is changed to int because all calculations related to stack_max
in compile.c</p>
</dd><dd>
<p></p>
</dd><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>ditto. This reverts r42401.</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+19-3A55-3A32+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Jul 16 19:55:32 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>temporal workaround of [Bug 10037]. Add padding on big-endian 64-bit
architecture (e.g. sparc64).</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+19-3A32-3A23+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Jul 16 19:32:23 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (fole_record_method_missing)
<dd>
<p>call rb_hash_fetch instead of rb_hash_aref.</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+18-3A08-3A47+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 16 18:08:47 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_defined_string)
<dd>
<p>use rb_gc_mark_object() instead of marking from vm_mark().</p>
</dd><dt>vm.c (rb_vm_mark)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+18-3A03-3A50+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 16 18:03:50 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_roots)
<dd>
<p>call rb_vm_mark directly.</p>
</dd><dt>vm.c
<dd>
<p>remove mark function for <a href="../../classes/RubyVM.html">RubyVM</a>
object because <a href="../../classes/RubyVM.html">RubyVM</a> object marked
manually.</p>
</dd></dl>

<h3 id="label-Wed+Jul+16+12-3A25-3A39+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jul 16 12:25:39 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regcomp.c
<dd>
<p>Merge Onigmo 5.14.1 25a8a69fc05ae3b56a09. this includes Support for Unicode
7.0 [Bug #9092].</p>
</dd></dl>

<h2 id="label-2014-07-15">2014-07-15</h2>

<h3 id="label-Tue+Jul+15+23-3A59-3A27+2014++Jared+Jennings++-3Cjared.jennings.ctr-40us.af.mil-3E">Tue Jul 15 23:59:27 2014  Jared Jennings  &lt;jared.jennings.ctr@us.af.mil&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest
<dd>
<p>make built-in digest function implementations indicate success or failure
of init and final functions. [ruby-core:61614] [Bug #9659]</p>
</dd><dt>ext/digest/digest.c
<dd>
<p>expect digest init and finish functions to indicate success or failure;
raise exception on failure. [ruby-core:61614] [Bug #9659]</p>
</dd></dl>

<h3 id="label-Tue+Jul+15+20-3A31-3A40+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Tue Jul 15 20:31:40 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>modify document for <a
href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a>.</p>
</dd></dl>

<h3 id="label-Tue+Jul+15+12-3A42-3A23+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jul 15 12:42:23 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/default_gems
<dd>
<p>change version definition file of rake.</p>
</dd></dl>

<h3 id="label-Tue+Jul+15+12-3A00-3A03+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jul 15 12:00:03 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake.rb, lib/rake/*.rb
<dd>
<p>Upgrade to rake-10.3.2 [fix GH-668]</p>
</dd><dt>test/rake/*.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-07-14">2014-07-14</h2>

<h3 id="label-Mon+Jul+14+19-3A14-3A51+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Mon Jul 14 19:14:51 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>modify <a href="../../classes/WIN32OLE.html">WIN32OLE</a> class document
and add comment for constants of <a
href="../../classes/WIN32OLE.html">WIN32OLE</a>.</p>
</dd></dl>

<h3 id="label-Mon+Jul+14+16-3A38-3A45+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jul 14 16:38:45 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>reduce to 288 bytes on x86-64 (from 296 bytes)</p>
</dd></dl>

<h3 id="label-Mon+Jul+14+16-3A07-3A25+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jul 14 16:07:25 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h (struct iseq_catch_table_entry)
<dd>
<p>shrink to 32 bytes on x86-64 (from 48 bytes)</p>
</dd></dl>

<h3 id="label-Mon+Jul+14+16-3A04-3A41+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jul 14 16:04:41 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h (struct iseq_catch_table)
<dd>
<p>new flexible array struct</p>
</dd><dt>(iseq_catch_table_bytes)
<dd>
<p>allocated size function</p>
</dd><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>update catch_table member This reduces the struct from 304 to 296 bytes on
x86-64.</p>
</dd><dt>compile.c (iseq_set_exception_table)
<dd>
<p>update for struct changes</p>
</dd><dt>iseq.c (iseq_free)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (iseq_memsize)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (rb_iseq_disasm)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>ditto</p>
</dd><dt>iseq.c (rb_iseq_build_for_ruby2cext)
<dd>
<p>ditto (untested)</p>
</dd><dt>vm.c (vm_exec)
<dd>
<p>ditto</p>
</dd><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>ditto</p>
</dd><dt>vm_insnhelper.c (vm_throw)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-07-13">2014-07-13</h2>

<h3 id="label-Sun+Jul+13+17-3A49-3A52+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 13 17:49:52 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_cipher.c
<dd>
<p>Fix call to ciphers class method and spell out `encryption` by @vipulnsward
[fix GH-664]</p>
</dd></dl>

<h3 id="label-Sun+Jul+13+17-3A31-3A51+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 13 17:31:51 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/gdbm/gdbm.c
<dd>
<p>fix wrong arguments in GetDBM2 macro.</p>
</dd><dt>ext/sdbm/init.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jul+13+17-3A25-3A50+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jul 13 17:25:50 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dbm/dbm.c
<dd>
<p>fix wrong arguments in GetDBM2 macro by @v2e4lisp. [fix GH-655]</p>
</dd></dl>

<h3 id="label-Sun+Jul+13+16-3A44-3A56+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 13 16:44:56 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_call_info_struct)
<dd>
<p>improve packing This reduces the struct from 112 to 104 bytes on x86-64.</p>
</dd></dl>

<h3 id="label-Sun+Jul+13+15-3A53-3A25+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul 13 15:53:25 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (struct rb_iseq_struct)
<dd>
<p>stack_max is uint32_t This reduces the struct from 312 to 304 bytes on
x86-64.</p>
</dd></dl>

<h3 id="label-Sun+Jul+13+10-3A56-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 13 10:56:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_broken_backtrace)
<dd>
<p>exit with failure normally, no needs to abort.  [ruby-core:63678] [Bug
#10008]</p>
</dd></dl>

<h2 id="label-2014-07-12">2014-07-12</h2>

<h3 id="label-Sat+Jul+12+15-3A10-3A22+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Jul 12 15:10:22 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (fole_record_method_missing)
<dd>
<p>correct fields <a href="../../classes/Hash.html">Hash</a> key.</p>
</dd></dl>

<h3 id="label-Sat+Jul+12+04-3A17-3A40+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Jul 12 04:17:40 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/smtp.rb (Net::SMTP#data)
<dd>
<p>enable buffering while &#39;data&#39; send for optimizing <a
href="../../classes/Net/SMTP.html#method-i-send_message">Net::SMTP#send_message</a>.
[ruby-dev:48329] [misc #9981] patch by Masahiro Tomita.</p>
</dd></dl>

<h3 id="label-Sat+Jul+12+01-3A13-3A45+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Jul 12 01:13:45 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (assert_no_memory_leak)
<dd>
<p>On Solaris 9 or later, if possible, execute child ruby with environment
variables LD_PRELOAD=libumem.so UMEM_OPTIONS=“backend=mmap”. With these
variables, freed memory is immediately returned to the OS. [Bug #10020]
[ruby-dev:48391]</p>
</dd></dl>

<h2 id="label-2014-07-11">2014-07-11</h2>

<h3 id="label-Fri+Jul+11+20-3A49-3A10+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Fri Jul 11 20:49:10 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>add <a href="../../classes/WIN32OLE_RECORD.html">WIN32OLE_RECORD</a> class
to support VT_RECORD OLE variables.</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+17-3A15-3A08+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul 11 17:15:08 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/abbrev.rb
<dd>
<p>remove executable.</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+16-3A45-3A39+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul 11 16:45:39 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>handle ENOENT error with symlink targeted to non-exists file.
[ruby-dev:45933] [Bug #6716]</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+15-3A59-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul 11 15:59:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Clarify documentation for <a
href="../../classes/Array.html#method-i-insert">Array#insert</a>.
[ruby-core:62934] [Bug #9901]</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+15-3A39-3A36+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul 11 15:39:36 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c
<dd>
<p>Improve Documentation by @dapplebeforedawn. [fix GH-658] [ruby-core:63579]
[Bug #10012]</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+11-3A11-3A50+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 11 11:11:50 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/prepare_so_k_nucleotide.rb
<dd>
<p>use require_relative.</p>
</dd><dt>benchmark/prepare_so_reverse_complement.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+10-3A09-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 11 10:09:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (encodes)
<dd>
<p>fix buffer overrun by tail_lf.  Thanks to Mamoru Tasaka and Tomas Hoger. 
[ruby-core:63604] [Bug #10019]</p>
</dd></dl>

<h2 id="label-2014-07-10">2014-07-10</h2>

<h3 id="label-Thu+Jul+10+23-3A51-3A36+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jul 10 23:51:36 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (ruby_setenv)
<dd>
<p>Fix TestEnv#test_aset failure on Solaris 9. When name contains &#39;=&#39;,
ruby_setenv raises Errno::EINVAL. That is the same behavior as Solaris 10.
NULL check for malloc return value is also added.</p>
</dd></dl>

<h3 id="label-Thu+Jul+10+15-3A02-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 10 15:02:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_keyword_arg)
<dd>
<p>adjust VM stack pointer to get rid of overwriting splat arguments by
arguments for `to_hash` conversion.  [ruby-core:63593] [Bug #10016]</p>
</dd></dl>

<h3 id="label-Thu+Jul+10+01-3A09-3A57+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 10 01:09:57 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c
<dd>
<p>remove rb_gc_mark_symbols(). fstrings referred by static symbols and pinned
dynamic symbols are registered by rb_gc_register_mark_object(). fstrings
referred by dynamic symbols (not pinned symbols) are referred from
global_symbols.dsymbol_fstr_hash (Hash object). Note that fstrings referred
from dynamic symbols must live logger than symbol objects themselves
because rb_gc_free_dsymbol() uses fstrings to remove from symbol tables.
This is why we can not mark fstrings from dynamic symbols. This technique
reduces root objects for <a href="../../classes/GC.html">GC</a> marking.</p>
</dd><dt>gc.c (gc_mark_roots)
<dd>
<p>ditto.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+10+00-3A24-3A18+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jul 10 00:24:18 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (DTRACE_DEPENDENT_OBJS)
<dd>
<p>fix build failure on Solaris introduced in r46768. <a
href="../../classes/Object.html">Object</a> files containing dtrace probes
should be listed in DTRACE_DEPENDENT_OBJS.</p>
</dd></dl>

<h2 id="label-2014-07-09">2014-07-09</h2>

<h3 id="label-Wed+Jul++9+17-3A07-3A28+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  9 17:07:28 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c, symbol.h
<dd>
<p><a href="../../classes/Symbol.html">Symbol</a> class implementation and
internals, split from parse.y.</p>
</dd></dl>

<h3 id="label-Wed+Jul++9+14-3A45-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul  9 14:45:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>change <a href="../../classes/Symbol.html">Symbol</a> &lt;-&gt; ID
relationship to avoid exposing IDs from collectable symbols. [Bug #10014]
Now, rb_check_id() returns 0 if corresponding symbol is pinned dynamic
symbol. There is remaining intern_cstr_without_pindown(), it can return IDs
from collectable symbols. We must be careful to use it</p>
</dd><dd>
<p></p>
</dd><dt>parse.y
<dd>
<p>add: * STATIC_SYM2ID() * STATIC_ID2SYM() rename: * rb_pin_dynamic_symbol()
-&gt; dsymbol_pindown()</p>
</dd><dt>internal.h
<dd>
<p>remove: * rb_check_id_without_pindown() * rb_sym2id_without_pindown() add:
* rb_check_symbol() * rb_check_symbol_cstr()</p>
</dd><dt>load.c
<dd>
<p>use rb_check_id() or rb_check_id_cstr().</p>
</dd><dt>object.c
<dd>
<p>ditto.</p>
</dd><dt>struct.c
<dd>
<p>ditto.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd><dt>string.c (sym_find)
<dd>
<p>use only rb_check_symbol().</p>
</dd><dt>sprintf.c (rb_str_format)
<dd>
<p>use rb_check_symbol_cstr().</p>
</dd></dl>

<h3 id="label-Wed+Jul++9+12-3A21-3A55+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul  9 12:21:55 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (symbols_i)
<dd>
<p>delete garbage symbols for <a
href="../../classes/Symbol.html#method-c-all_symbols">Symbol.all_symbols</a>.</p>
</dd></dl>

<h3 id="label-Wed+Jul++9+05-3A49-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul  9 05:49:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.h (struct rb_global_vm_lock_struct)
<dd>
<p>do not expose pthread type for lock</p>
</dd></dl>

<h3 id="label-Wed+Jul++9+05-3A41-3A40+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul  9 05:41:40 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.h
<dd>
<p>remove unneeded semaphore.h include</p>
</dd></dl>

<h3 id="label-Wed+Jul++9+00-3A12-3A28+2014++Keiju+Ishitsuka++-3Ckeiju-40ishitsuka.com-3E">Wed Jul  9 00:12:28 2014  Keiju Ishitsuka  &lt;keiju@ishitsuka.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/ruby-lex.rb
<dd>
<p>fix counting indent in identify_string_dvar.</p>
</dd></dl>

<h2 id="label-2014-07-08">2014-07-08</h2>

<h3 id="label-Tue+Jul++8+16-3A58-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul  8 16:58:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/memory_status.rb (Memory::PSCMD)
<dd>
<p>use ps command which outputs expected result.  [ruby-dev:48370] [Bug
#10010]</p>
</dd></dl>

<h3 id="label-Tue+Jul++8+14-3A45-3A17+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  8 14:45:17 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (dsymbol_alloc)
<dd>
<p>set global_symbols.minor_marked to 0.</p>
</dd><dt>parse.y (dsymbol_check)
<dd>
<p>set RSYMBOL(sym)-&gt;fstr to 0 because we should not touch fstr after that.</p>
</dd><dt>parse.y (rb_gc_free_dsymbol)
<dd>
<p>skip deleting str and sym from tables if fstr == 0.</p>
</dd></dl>

<h2 id="label-2014-07-07">2014-07-07</h2>

<h3 id="label-Mon+Jul++7+14-3A31-3A52+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 14:31:52 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>remove global_symbols::pinned_dsym</p>
</dd><dt>(and 
<dd>
<p>:pinned_dsym_minor_marked). Mark pinned dsymbols by
rb_gc_register_mark_object() because they are immortal.</p>
</dd><dt>parse.y (rb_gc_free_dsymbol)
<dd>
<p>rename parameter name `ptr&#39; to `sym&#39;.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+12-3A45-3A51+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 12:45:51 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>revert miss-commit.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+12-3A40-3A59+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 12:40:59 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>need to use updated (re-created) symbols.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+11-3A02-3A55+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jul  7 11:02:55 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/mkconfig.rb
<dd>
<p>remove not to require rbconfig/obsolete.rb.</p>
</dd><dt>lib/rbconfig/obsolete.rb
<dd>
<p>removed.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+10-3A52-3A03+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 10:52:03 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>do not use rb_gc_resurrect(), but create a new dynamic symbol for garbage
dynamic symbol.</p>
</dd><dt>common.mk
<dd>
<p>use gc.h by parse.y.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+02-3A18-3A42+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 02:18:42 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (fstr_update_callback)
<dd>
<p>do not use rb_gc_resurrect() any more. Make new frozen string and replace
with garbage frozen string.</p>
</dd><dt>common.mk
<dd>
<p>use gc.h from string.c.</p>
</dd></dl>

<h3 id="label-Mon+Jul++7+00-3A36-3A13+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  7 00:36:13 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename is_dying_object() to is_garbage_object().</p>
</dd><dt>gc.h
<dd>
<p>rb_objspace_garbage_object_p() as an exported function.</p>
</dd></dl>

<h2 id="label-2014-07-06">2014-07-06</h2>

<h3 id="label-Sun+Jul++6+21-3A30-3A35+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jul  6 21:30:35 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (is_dying_object)
<dd>
<p>fix missed condition.</p>
</dd><dt>gc.c (is_live_object)
<dd>
<p>move frequent path first.</p>
</dd></dl>

<h3 id="label-Sun+Jul++6+21-3A00-3A11+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jul  6 21:00:11 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename is_dead_object() to is_dying_object(). This function is not opposite
against is_live_object() because is_dying_object() does
<strong>not</strong> check object type.</p>
</dd><dt>gc.c (is_dying_object)
<dd>
<p>change condition.</p>
</dd><dt>gc.c (is_live_object)
<dd>
<p>use T_NONE instead of 0.</p>
</dd><dt>gc.c (rb_objspace_dying_object_p)
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Sun+Jul++6+13-3A37-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Jul  6 13:37:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_register_mark_object)
<dd>
<p>change data structure. From single array, to array of arrays. Each array
only has 1024 entries.</p>
</dd><dt>vm.c (Init_vm_objects)
<dd>
<p>change default capa from 1 to 128.</p>
</dd></dl>

<h2 id="label-2014-07-05">2014-07-05</h2>

<h3 id="label-Sat+Jul++5+05-3A05-3A53+2014++Vipul+A+M++-3Cvipulnsward-40gmail.com-3E">Sat Jul  5 05:05:53 2014  Vipul A M  &lt;vipulnsward@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/locale.rb (IRB::Locale#modifier)
<dd>
<p>fix wrong attr_reader `modifieer` =&gt; `modifier` from irb locale.  [fix
GH-656]</p>
</dd></dl>

<h2 id="label-2014-07-04">2014-07-04</h2>

<h3 id="label-Fri+Jul++4+20-3A45-3A26+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul  4 20:45:26 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>rename symbols::sym_id to symbols::str_id. This table is not {Symbol =&gt;
ID} table, but {String =&gt; ID} table.</p>
</dd><dt>parse.y (lookup_sym_id)
<dd>
<p>also rename lookup_sym_id() to lookup_str_id() because key is not <a
href="../../classes/Symbol.html">Symbol</a>, but String.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+18-3A42-3A04+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul  4 18:42:04 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (must_be_dynamic_symbol)
<dd>
<p>fix missed-condition.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+18-3A38-3A11+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul  4 18:38:11 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_pin_dynamic_symbol)
<dd>
<p>should be `static&#39; function.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+18-3A03-3A35+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul  4 18:03:35 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (must_be_dynamic_symbol)
<dd>
<p>refactoring. * add `inline&#39;. * use UNLIKELY(). * check only
DYNAMIC_SYM_P(), otherwise it is a bug. * lookup_id_str() is not needed in
second condition.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+11-3A53-3A56+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul  4 11:53:56 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>remove unused code surrounded by `#if ENABLE_SELECTOR_NAMESPACE&#39;</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+10-3A08-3A24+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jul  4 10:08:24 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_package.rb
<dd>
<p>avoid tempfile leaks using <a
href="../../classes/Tempfile.html#method-i-close-21">Tempfile#close!</a></p>
</dd><dt>test/rubygems/test_gem_request_set.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_request_set_gem_dependency_api.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+04-3A42-3A05+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul  4 04:42:05 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (Net::Inflater#inflate_adapter)
<dd>
<p>prevent automatic encoding conversion.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+04-3A39-3A52+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul  4 04:39:52 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (Net::HTTPResponse.each_response_header)
<dd>
<p>raise first exception even if inflate_body_io.finish raises error. when
begin block raises error, finish usually raises error too.</p>
</dd></dl>

<h3 id="label-Fri+Jul++4+02-3A56-3A04+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jul  4 02:56:04 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (URI::Generic#query=)
<dd>
<p>remove validation, just escape. [Feature #2542]</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#fragment=)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#check_query)
<dd>
<p>removed.</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#set_query)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#check_fragment)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/generic.rb (URI::Generic#set_fragment)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-07-03">2014-07-03</h2>

<h3 id="label-Thu+Jul++3+12-3A40-3A22+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  3 12:40:22 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (–with-static-linked-ext)
<dd>
<p>fix for extensions to be linked statically.</p>
</dd><dt>Makefile.in, common.mk
<dd>
<p>use ENCSTATIC for enc directory.</p>
</dd><dt>ext/extmk.rb
<dd>
<p>supply dependencies of statically linked extension libraries.</p>
</dd></dl>

<h2 id="label-2014-07-02">2014-07-02</h2>

<h3 id="label-Wed+Jul++2+15-3A45-3A49+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul  2 15:45:49 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_heap_lazy_sweep)
<dd>
<p>simplify logic.</p>
</dd><dt>gc.c (gc_page_sweep)
<dd>
<p>return TRUE if empty slots are available.</p>
</dd></dl>

<h3 id="label-Wed+Jul++2+09-3A48-3A42+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Jul  2 09:48:42 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>logger.rb
<dd>
<p>removed unmaintained code. [Feature #<a href="ruby-core:62724">9860]</a></p>
</dd><dt>test/logger/test_application.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul++2+03-3A20-3A00+2014++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Wed Jul  2 03:20:00 2014  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.c (dump_node)
<dd>
<p>handle nd_value == (NODE *)-1 to mean this keyword argument is required</p>
</dd></dl>

<h3 id="label-Wed+Jul++2+02-3A57-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  2 02:57:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_env_local_variables)
<dd>
<p>returns array of local variable name symbols in the environment by envval.</p>
</dd><dt>proc.c (bind_local_variables)
<dd>
<p>use rb_vm_env_local_variables.</p>
</dd></dl>

<h3 id="label-Wed+Jul++2+02-3A23-3A52+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  2 02:23:52 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (bind_receiver)
<dd>
<p>new method to return the bound receiver of the binding object. 
[ruby-dev:47613] [Feature #8779]</p>
</dd></dl>

<h3 id="label-Wed+Jul++2+02-3A14-3A37+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  2 02:14:37 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (bind_local_variables)
<dd>
<p>update env from envval for each iterations.  [ruby-dev:48351] [Bug #10001]</p>
</dd></dl>

<h2 id="label-2014-07-01">2014-07-01</h2>

<h3 id="label-Tue+Jul++1+23-3A46-3A34+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jul  1 23:46:34 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>[DOC] mention about <a
href="../../classes/Binding.html#method-i-local_variables">Binding#local_variables</a>,
introduced at r44392 (see [Feature #8773]).</p>
</dd></dl>

<h3 id="label-Tue+Jul++1+23-3A30-3A51+2014++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Tue Jul  1 23:30:51 2014  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_step_scan_args)
<dd>
<p>table argument of rb_get_kwargs() is array of IDs, not Symbols.
[ruby-dev:48353] [Bug #9811]</p>
</dd></dl>

<h3 id="label-Tue+Jul++1+16-3A18-3A22+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Jul  1 16:18:22 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/lib/digest/hmac.rb, test/digest/test_digest_hmac.rb
<dd>
<p>Digest::HMAC is finally removed as previously noticed. [fix GH-648]</p>
</dd></dl>

<h3 id="label-Tue+Jul++1+11-3A13-3A43+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jul  1 11:13:43 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/lib/date/format.rb
<dd>
<p>removed empty file by @vipulnsward.</p>
</dd><dt>ext/date/lib/date.rb
<dd>
<p>removed needless require. [fix GH-647]</p>
</dd></dl>

<h2 id="label-2014-06-30">2014-06-30</h2>

<h3 id="label-Mon+Jun+30+16-3A42-3A52+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 30 16:42:52 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_stat_internal)
<dd>
<p>return size_t value instead of VALUE and remove `out&#39; parameter.</p>
</dd><dt>gc.c
<dd>
<p>add braces for `if&#39; statements.</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p>fix comment.</p>
</dd></dl>

<h3 id="label-Mon+Jun+30+15-3A07-3A34+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 30 15:07:34 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>support `USE_RGENGC == 0&#39;.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+30+11-3A36-3A04+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jun 30 11:36:04 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>[DOC] document <a
href="../../classes/File.html#method-c-join">File.join</a> returns a
string. Contributed by @dapplebeforedawn. [fix GH-646]</p>
</dd></dl>

<h2 id="label-2014-06-28">2014-06-28</h2>

<h3 id="label-Sat+Jun+28+22-3A57-3A01+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Jun 28 22:57:01 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/pathname.c (path_birthtime)
<dd>
<p>Windows support. see [Feature #9857] [ruby-dev:48339]</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+22-3A44-3A16+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 28 22:44:16 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/pathname.c (path_birthtime)
<dd>
<p>New method, <a
href="../../classes/Pathname.html#method-i-birthtime">Pathname#birthtime</a>.
Proposed by Kazuhiro NISHIYAMA.  [ruby-dev:48232] [Feature #9857]</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+20-3A29-3A03+2014++Simon+Baird++-3Csimon.baird-40gmail.com-3E">Sat Jun 28 20:29:03 2014  Simon Baird  &lt;simon.baird@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/lib/bigdecimal/math.rb (BigMath#PI)
<dd>
<p>change error message about zero or negative precision for clarity and
consistency with other methods.  [GH-644]</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+15-3A32-3A57+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun 28 15:32:57 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (create_listeners)
<dd>
<p>Close socket objects.</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+13-3A58-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 28 13:58:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (setup_exception)
<dd>
<p>should not overwrite <a
href="../../classes/SystemStackError.html">SystemStackError</a> backtrace
if set already.  [ruby-core:63377] [Feature #6216]</p>
</dd><dt>eval.c (setup_exception)
<dd>
<p>get rid of method calls before raising stack overflow, not to cause stack
overflow again.</p>
</dd><dt>defs/id.def
<dd>
<p>add IDs for backtraces.</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+04-3A08-3A22+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jun 28 04:08:22 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/mailto.rb
<dd>
<p>update to latest specs, RFC 6068 and HTML5.</p>
</dd><dt>lib/uri/mailto.rb (HEADER_PATTERN)
<dd>
<p>removed.</p>
</dd><dt>lib/uri/mailto.rb (HEADER_REGEXP)
<dd>
<p>use RFC 6068 hfields.</p>
</dd><dt>lib/uri/mailto.rb (EMAIL_REGEXP)
<dd>
<p>use HTML5 email regexp.</p>
</dd><dt>lib/uri/mailto.rb (URI::MailTo.build)
<dd>
<p>support multiple to addresses.</p>
</dd><dt>lib/uri/mailto.rb (URI::MailTo#initialize)
<dd>
<p>Support multiple to addresses. Don&#39;t check with regexp, only split.</p>
</dd><dt>lib/uri/mailto.rb (URI::MailTo#check_to)
<dd>
<p>verify by matching <a href="../../classes/URI.html">URI</a> path-rootless
and HTML5 email regexp with unescaped one.</p>
</dd><dt>lib/uri/mailto.rb (URI::MailTo#check_headers)
<dd>
<p>verify only by HEADER_REGEXP.</p>
</dd><dt>lib/uri/mailto.rb (URI::MailTo#set_headers)
<dd>
<p>don&#39;t check by HEADER_REGEXP, only split it.</p>
</dd></dl>

<h3 id="label-Sat+Jun+28+00-3A35-3A10+2014++Lauri+Tirkkonen++-3Clotheac-40iki.fi-3E">Sat Jun 28 00:35:10 2014  Lauri Tirkkonen  &lt;lotheac@iki.fi&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/mkconfig.rb
<dd>
<p>fix empty <a href=""prefix"">RbConfig::CONFIG</a> when configured
–with-rubyarchprefix, remove prefix from rubyarchdir after expansion for
the case it does not start with &#39;$(prefix)&#39;. [fix GH-643]</p>
</dd></dl>

<h2 id="label-2014-06-27">2014-06-27</h2>

<h3 id="label-Fri+Jun+27+15-3A20-3A12+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jun 27 15:20:12 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/test_case.rb
<dd>
<p>rescue <a href="../../classes/Gem/LoadError.html">Gem::LoadError</a> in <a
href="../../classes/Gem/TestCase.html">Gem::TestCase</a>. because it&#39;s
effected by removing minitest from stdlib.</p>
</dd></dl>

<h3 id="label-Fri+Jun+27+12-3A29-3A37+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jun 27 12:29:37 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/specification.rb
<dd>
<p>fixed broken condition caused by removing YAML::ENGINE.</p>
</dd><dt>lib/rubygems/package/old.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+27+05-3A33-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 27 05:33:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_shift)
<dd>
<p>fix memory leak on Windows, free environment strings block always. 
[ruby-dev:48332] [Bug #9983]</p>
</dd></dl>

<h3 id="label-Fri+Jun+27+03-3A41-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 27 03:41:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (GETASTER)
<dd>
<p>should not use the numbered argument to be formatted, raise <a
href="../../classes/ArgumentError.html">ArgumentError</a> instead.
[ruby-dev:48330] [Bug #9982]</p>
</dd></dl>

<h2 id="label-2014-06-26">2014-06-26</h2>

<h3 id="label-Thu+Jun+26+18-3A18-3A28+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun 26 18:18:28 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/with_different_ofs.rb
<dd>
<p>move into test library directory.</p>
</dd><dt>test/csv/base.rb
<dd>
<p>fix require path for with_different_ofs.rb.</p>
</dd><dt>test/digest/test_digest_extend.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+26+18-3A06-3A50+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun 26 18:06:50 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/profile_test_all.rb
<dd>
<p>move into test library directory.</p>
</dd><dt>test/runner.rb
<dd>
<p>fix require path for profile_test_all.rb.</p>
</dd></dl>

<h3 id="label-Thu+Jun+26+17-3A57-3A57+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun 26 17:57:57 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpproxy.rb
<dd>
<p>remove useless assigned variables.</p>
</dd><dt>lib/webrick/httpservlet/cgihandler.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/webrick/httpservlet/erbhandler.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/webrick/server.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+26+08-3A28-3A01+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 26 08:28:01 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_select)
<dd>
<p>fix memory leak and crash on Windows, make keys array first instead of
iterating on environ directly. [ruby-dev:48325] [Bug #9978]</p>
</dd></dl>

<h3 id="label-Thu+Jun+26+02-3A45-3A04+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 26 02:45:04 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (error_print)
<dd>
<p>put a newline after an anonymous exception class name.</p>
</dd></dl>

<h2 id="label-2014-06-25">2014-06-25</h2>

<h3 id="label-Wed+Jun+25+22-3A31-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 25 22:31:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (ruby_setenv)
<dd>
<p>fix memory leak on Windows, free environment strings block after check for
the size. [ruby-dev:48323] [Bug #9977]</p>
</dd></dl>

<h3 id="label-Wed+Jun+25+15-3A44-3A12+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jun 25 15:44:12 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ccan/container_of/container_of.h (container_off_var)
<dd>
<p>avoid warning with -Wcast-qual [ccan
ba5ad771af4aa9e085498de6c3c665c52694460f (Rusty Russell)]</p>
</dd></dl>

<h3 id="label-Wed+Jun+25+10-3A19-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 25 10:19:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_aset, env_has_key, env_assoc, env_has_value), (env_rassoc, env_key)
<dd>
<p>prohibit tainted strings if $SAFE is non-zero.  [Bug #9976]</p>
</dd></dl>

<h2 id="label-2014-06-24">2014-06-24</h2>

<h3 id="label-Tue+Jun+24+14-3A46-3A17+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jun 24 14:46:17 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/gserver.rb
<dd>
<p>remove redundant use of to_s in interpolation.</p>
</dd><dt>lib/logger.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/optparse.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/rbconfig/obsolete.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/resolv.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/webrick/httpresponse.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+10-3A50-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 24 10:50:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_path_str_new)
<dd>
<p>make PATH environment variable string, to be frozen.</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+10-3A40-3A52+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jun 24 10:40:52 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>download bundle gems when package making. [Feature #<a
href="ruby-core:62676">9852]</a></p>
</dd><dt>gems/bundled_gems
<dd>
<p>listed bundled gems for Ruby 2.2.</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+10-3A20-3A35+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jun 24 10:20:35 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>make Downloader class to general download utility. It can be used without
config.guess and config.sub.</p>
</dd><dt>tool/get-config_files
<dd>
<p>ditto.</p>
</dd><dt>tool/make-snapshot
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+06-3A17-3A52+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Jun 24 06:17:52 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (setup_exception)
<dd>
<p>“mesg == sysstack_error” and sysstack_error_p(mesg) are duplicated. r46502
seems to want to use latter.</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+06-3A15-3A36+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 24 06:15:36 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tcltklib.c
<dd>
<p>fix format specifiers for VALUE and Tcl_Interp*.  [ruby-core:63283] [Bug
#9972]</p>
</dd></dl>

<h3 id="label-Tue+Jun+24+05-3A40-3A41+2014++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Jun 24 05:40:41 2014  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>nacl/nacl-config.rb
<dd>
<p>Use <a href="../../classes/File.html#method-c-exist-3F">File.exist?</a>
instead of executable? for irt_core. Recent nacl_sdk has non-executable
irt_core. Patch by Shinichiro Hamaji. [Fixes GH-529] <a
href="https://github.com/ruby/ruby/pull/529">github.com/ruby/ruby/pull/529</a></p>
</dd></dl>

<h2 id="label-2014-06-23">2014-06-23</h2>

<h3 id="label-Mon+Jun+23+18-3A44-3A45+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jun 23 18:44:45 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/config_files.rb
<dd>
<p>rename class ConfigFiles to Downloader.</p>
</dd><dt>tool/get-config_files
<dd>
<p>ditto.</p>
</dd><dt>tool/make-snapshot
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+18-3A03-3A13+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jun 23 18:03:13 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>support to install bundle gems.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+17-3A33-3A11+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jun 23 17:33:11 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (Net::IMAP#fetch)
<dd>
<p>[DOC] Describe how a range in <code>set</code> is interpreted, and mention
-1 which can be used for &#39;*&#39;.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+16-3A22-3A50+2014++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Mon Jun 23 16:22:50 2014  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RHash)
<dd>
<p>no longer. [Feature #9889]</p>
</dd><dt>include/ruby/ruby.h (RHASH)
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/ruby.h (RHASH_ITER_LEV)
<dd>
<p>deprecated.  Will be deleted later.</p>
</dd><dt>include/ruby/ruby.h (RHASH_IFNONE)
<dd>
<p>ditto.</p>
</dd><dt>internal.h (struct RHash)
<dd>
<p>moved here.</p>
</dd><dt>internal.h (RHASH)
<dd>
<p>ditto.</p>
</dd><dt>hash.c (rb_hash_iter_lev)
<dd>
<p>do not use this.</p>
</dd><dt>hash.c (rb_hash_ifnone)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+13-3A30-3A11+2014++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Mon Jun 23 13:30:11 2014  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RComplex)
<dd>
<p>no longer. [Feature #9888]</p>
</dd><dt>include/ruby/ruby.h (RCOMPLEX)
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/ruby.h (RCOMPLEX_SET_REAL)
<dd>
<p>deprecated.  Will be deleted later.</p>
</dd><dt>include/ruby/ruby.h (RCOMPLEX_SET_IMAG)
<dd>
<p>ditto.</p>
</dd><dt>internal.h (struct RFloat)
<dd>
<p>moved here.</p>
</dd><dt>internal.h (RCOMPLEX)
<dd>
<p>ditto.</p>
</dd><dt>complex.c (rb_complex_set_real)
<dd>
<p>do not use this.</p>
</dd><dt>complex.c (rb_complex_set_imag)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+13-3A10-3A15+2014++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Mon Jun 23 13:10:15 2014  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RFloat)
<dd>
<p>no longer.  [Feature #9863]</p>
</dd><dt>include/ruby/ruby.h (RFLOAT)
<dd>
<p>ditto.</p>
</dd><dt>internal.h (struct RFloat)
<dd>
<p>moved here.</p>
</dd><dt>internal.h (RFLOAT)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+12-3A01-3A42+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jun 23 12:01:42 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb (check_port)
<dd>
<p>allow strings for port= as described in rdoc.</p>
</dd><dt>lib/uri/rfc3986_parser.rb (regexp)
<dd>
<p>implementation detail of above.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+11-3A35-3A01+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 23 11:35:01 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (setup_exception)
<dd>
<p>set backtrace in system stack error other than the pre-allocated
sysstack_error.  [Feature #6216]</p>
</dd><dt>proc.c (Init_Proc)
<dd>
<p>freeze the pre-allocated sysstack_error.</p>
</dd><dt>vm_insnhelper.c (vm_stackoverflow)
<dd>
<p>raise new instance for each times without calling any methods to keep the
backtrace with no further stack overflow.</p>
</dd><dt>object.c (rb_obj_copy_ivar)
<dd>
<p>extract function to copy instance variables only for T_OBJECT from
init_copy.</p>
</dd></dl>

<h3 id="label-Mon+Jun+23+11-3A11-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 23 11:11:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>drop the last tag too close to the fault page, to get rid of stack overflow
deadlock. [Bug #9971]</p>
</dd></dl>

<h2 id="label-2014-06-22">2014-06-22</h2>

<h3 id="label-Sun+Jun+22+09-3A11-3A15+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 22 09:11:15 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb
<dd>
<p>remove registry. &#39;registry&#39; is not used and RFC3986 doesn&#39;t use
it.</p>
</dd></dl>

<h3 id="label-Sun+Jun+22+09-3A10-3A09+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 22 09:10:09 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc3986_parser.rb
<dd>
<p>raise exception when given a <a href="../../classes/URI.html">URI</a>
string has non ASCII in order to keep the regexp compiled for US-ASCII.</p>
</dd></dl>

<h3 id="label-Sun+Jun+22+09-3A05-3A42+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 22 09:05:42 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb (URI::REGEXP)
<dd>
<p>move to lib/uri/rfc2396_parser.rb.</p>
</dd><dt>lib/uri/common.rb (URI::Parser)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/common.rb (URI.split)
<dd>
<p>use RFC3986_Parser. [Feature #2542]</p>
</dd><dt>lib/uri/common.rb (URI.parse)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/common.rb (URI.join)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/common.rb (URI.extract)
<dd>
<p>deprecated.</p>
</dd><dt>lib/uri/common.rb (URI.regexp)
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/rfc2396_parser.rb
<dd>
<p>added.</p>
</dd><dt>lib/uri/rfc3986_parser.rb
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Sun+Jun+22+09-3A04-3A50+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 22 09:04:50 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/mailto.rb (initialize)
<dd>
<p>as previous commit, fix arg_check</p>
</dd></dl>

<h3 id="label-Sun+Jun+22+09-3A01-3A47+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Jun 22 09:01:47 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/ftp.rb (initialize)
<dd>
<p>argument checking flag is arg_check, but <a href="-1">arg</a> is fragment.</p>
</dd><dt>lib/uri/ftp.rb (initialize)
<dd>
<p>explicitly specify arguments.</p>
</dd></dl>

<h2 id="label-2014-06-21">2014-06-21</h2>

<h3 id="label-Sat+Jun+21+12-3A50-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 21 12:50:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>supply 0 to fill RUBY_LIBFFI_MODVERSION with 3-digit.  libffi 3.1 returns
just 2-digit. [ruby-core:62920] [Bug #9897]</p>
</dd></dl>

<h3 id="label-Sat+Jun+21+07-3A06-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 21 07:06:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_find)
<dd>
<p>[DOC] never accepted a symbol. [ruby-dev:48308] [Bug #9966]</p>
</dd></dl>

<h2 id="label-2014-06-20">2014-06-20</h2>

<h3 id="label-Fri+Jun+20+17-3A15-3A43+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 20 17:15:43 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/tracepointchecker.rb
<dd>
<p>add to check <a href="../../classes/TracePoint.html">TracePoint</a>
healthiness.</p>
</dd><dt>test/runner.rb
<dd>
<p>use it.</p>
</dd></dl>

<h3 id="label-Fri+Jun+20+07-3A26-3A44+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 20 07:26:44 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_settracefunc.rb
<dd>
<p>rewrite tests with assert_consistent_call_return().
assert_consistent_call_return() is also modified to check consistency.</p>
</dd></dl>

<h3 id="label-Fri+Jun+20+07-3A07-3A28+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 20 07:07:28 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_compile_node)
<dd>
<p>put start label of block after trace (b_call). [Bug #9964]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test. added assert_consistent_call_return() method check call/return
consistency.</p>
</dd></dl>

<h3 id="label-Fri+Jun+20+05-3A26-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 20 05:26:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_catch_protect)
<dd>
<p>fix same problem of [Bug #9961].</p>
</dd><dt>vm_eval.c (rb_iterate)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-06-19">2014-06-19</h2>

<h3 id="label-Thu+Jun+19+21-3A41-3A30+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 19 21:41:30 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_rewind_cfp)
<dd>
<p>add new function to rewind specified cfp with invoking RUBY_EVENT_C_RETURN.
[Bug #9961]</p>
</dd><dt>vm_core.h
<dd>
<p>ditto.</p>
</dd><dt>eval.c (rb_protect)
<dd>
<p>use it.</p>
</dd><dt>eval.c (rb_rescue2)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_iterate)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd><dt>vm_core.h (rb_vm_rewind_cfp)
<dd>
<p>add the prototype declaration.</p>
</dd></dl>

<h3 id="label-Thu+Jun+19+19-3A47-3A21+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 19 19:47:21 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (invoke_block_from_c)
<dd>
<p>move call/return event timing for bmethod. It can invoke inconsistent call
event if this call raises argument error. [Bug #9959]</p>
</dd><dt>vm_insnhelper.c (vm_call_bmethod_body)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Thu+Jun+19+18-3A14-3A47+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 19 18:14:47 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>add VM_FRAME_MAGIC_RESCUE to recognize normal block or rescue clause.</p>
</dd><dt>vm.c (vm_exec)
<dd>
<p>use VM_FRAME_MAGIC_RESCUE on at rescue/ensure.</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>should not invoke b_return at rescue clause. [Bug #9957]</p>
</dd><dt>vm_dump.c (control_frame_dump)
<dd>
<p>check VM_FRAME_MAGIC_RESCUE.</p>
</dd><dt>vm_dump.c (vm_stack_dump_each)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+19+13-3A39-3A11+2014++Arne+Brasseur++-3Carne-40arnebrasseur.net-3E">Thu Jun 19 13:39:11 2014  Arne Brasseur  &lt;arne@arnebrasseur.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_curry)
<dd>
<p>Implement <a
href="../../classes/Method.html#method-i-curry">Method#curry</a>, which
delegates to to_proc.curry.  [ruby-core:62212] [Feature #9783]</p>
</dd></dl>

<h2 id="label-2014-06-17">2014-06-17</h2>

<h3 id="label-Tue+Jun+17+16-3A41-3A49+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Jun 17 16:41:49 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (gets, readline)
<dd>
<p>read lines without LF properly. [ruby-core:63205] [Bug #9949]</p>
</dd><dt>test/net/ftp/test_buffered_socket.rb
<dd>
<p>related test.</p>
</dd></dl>

<h3 id="label-Tue+Jun+17+12-3A35-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 17 12:35:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (extract_raise_opts)
<dd>
<p>pass unknown options to the exception, so that exception class can receive
a hash argument. [ruby-core:63203] [Feature #8257]</p>
</dd></dl>

<h3 id="label-Tue+Jun+17+12-3A24-3A57+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 17 12:24:57 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_memsize_of)
<dd>
<p>memsize_of(T_ZOMBIE) returns 0, not a rb_bug. <a
href="../../classes/ObjectSpace.html#method-c-count_objects_size">ObjectSpace.count_objects_size</a>
uses memsize_of(T_ZOMBIE). This bug introduced at r46348.</p>
</dd></dl>

<h2 id="label-2014-06-16">2014-06-16</h2>

<h3 id="label-Mon+Jun+16+19-3A00-3A11+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 16 19:00:11 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>failure message should be passed as an argument.</p>
</dd></dl>

<h3 id="label-Mon+Jun+16+18-3A42-3A57+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun 16 18:42:57 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>capture <a href="../../classes/TracePoint.html">TracePoint</a> stat before
setup and compare it after teardown.</p>
</dd></dl>

<h3 id="label-Mon+Jun+16+14-3A33-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 16 14:33:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (open)
<dd>
<p>use UTF-8 version function to support non-ascii path properly. 
[ruby-core:63185] [Bug #9946]</p>
</dd></dl>

<h2 id="label-2014-06-14">2014-06-14</h2>

<h3 id="label-Sat+Jun+14+10-3A54-3A08+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 14 10:54:08 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rcombinate0)
<dd>
<p>remove recursion, by looping with indexes stored in `p`.</p>
</dd><dt>array.c (rpermute0)
<dd>
<p>remove recursion, by looping with indexes stored in `p`.</p>
</dd><dt>array.c (permute0)
<dd>
<p>remove recursion, by looping with indexes stored in `p`.  [ruby-core:63103]
[Bug #9932]</p>
</dd></dl>

<h3 id="label-Sat+Jun+14+10-3A52-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun 14 10:52:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_resize)
<dd>
<p>update capa only when buffer get reallocated. <a
href="http://d.hatena.ne.jp/nagachika/20140613/ruby_trunk_changes_46413_46420#r46413">d.hatena.ne.jp/nagachika/20140613/ruby_trunk_changes_46413_46420#r46413</a></p>
</dd></dl>

<h3 id="label-Sat+Jun+14+08-3A28-3A59+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Jun 14 08:28:59 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/rake.1
<dd>
<p>[DOC] Update links for Rake, patch by @hsbt [Bug #9904] [Fixes GH-628] <a
href="https://github.com/ruby/ruby/pull/628">github.com/ruby/ruby/pull/628</a></p>
</dd></dl>

<h2 id="label-2014-06-13">2014-06-13</h2>

<h3 id="label-Fri+Jun+13+17-3A58-3A58+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 13 17:58:58 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>add new method <a
href="../../classes/TracePoint.html#method-c-stat">TracePoint.stat</a> to
debug <a href="../../classes/TracePoint.html">TracePoint</a> mechanism.
Ruby users should not use this method. So I don&#39;t note this method in
the <a href="../NEWS.html">NEWS</a> file.</p>
</dd><dt>test/runner.rb
<dd>
<p>detect zombie active TracePoints with <a
href="../../classes/TracePoint.html#method-c-stat">TracePoint.stat</a>.</p>
</dd></dl>

<h3 id="label-Fri+Jun+13+17-3A46-3A31+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 13 17:46:31 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c
<dd>
<p>clear and restore recursive checking thread local data to avoid unexpected
throw from <a href="../../classes/TracePoint.html">TracePoint</a>. [Bug
#9940]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd><dt>thread.c
<dd>
<p>added * rb_threadptr_reset_recursive_data(rb_thread_t *th); *
rb_threadptr_restore_recursive_data(rb_thread_t *th, VALUE old);</p>
</dd><dt>vm_core.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+13+17-3A33-3A14+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 13 17:33:14 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_combination)
<dd>
<p>iterate on a shared copy, and use array of indexes instead of array of
chosen objects. [ruby-core:63149] [Bug #9939]</p>
</dd><dt>array.c (yield_indexed_values)
<dd>
<p>extract from permute0(), rpermute0(), and rcombinate0().</p>
</dd></dl>

<h3 id="label-Fri+Jun+13+13-3A42-3A58+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 13 13:42:58 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_permutation)
<dd>
<p>`p` is the array of size `r`, as commented at permute0().  since `n &gt;=
r` here, buffer overflow never happened, just reduce unnecessary allocation
though.</p>
</dd></dl>

<h2 id="label-2014-06-12">2014-06-12</h2>

<h3 id="label-Thu+Jun+12+20-3A32-3A28+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 12 20:32:28 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_resize)
<dd>
<p>should consider the capacity instead of the old length, as pointed out by
nagachika.</p>
</dd></dl>

<h3 id="label-Thu+Jun+12+18-3A31-3A01+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun 12 18:31:01 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/responses.rb
<dd>
<p>added Net::HTTPPermanentRedirect(308) Contributed by @yorkie [fix GH-638]</p>
</dd></dl>

<h3 id="label-Thu+Jun+12+13-3A27-3A38+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 12 13:27:38 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_freeze)
<dd>
<p>shrink the buffer before freezing, as pointed out by Eric Wong at
[ruby-core:63119].</p>
</dd></dl>

<h3 id="label-Thu+Jun+12+13-3A09-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 12 13:09:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (expand_path)
<dd>
<p>shrink expanded path which no longer needs rooms to append. 
[ruby-core:63114] [Bug #9934]</p>
</dd></dl>

<h2 id="label-2014-06-11">2014-06-11</h2>

<h3 id="label-Wed+Jun+11+17-3A37-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 11 17:37:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_scalar_pthread_t)
<dd>
<p>pthread_t is not required to be a scalar type.</p>
</dd><dt>thread.c (fill_thread_id_string, thread_id_str)
<dd>
<p>dump pthread_t in hexadecimal form if it is not a scalar type, assume it
can be represented in a pointer form otherwise.  based on the patch by Rei
Odaira at [ruby-core:62867].  [ruby-core:62857] [Bug #9884]</p>
</dd><dt>thread_pthread.c (Init_native_thread, thread_start_func_1), (native_thread_create)
<dd>
<p>set thread_id_str if needed.</p>
</dd><dt>vm_core.h (rb_thread_t)
<dd>
<p>add thread_id_string if needed.</p>
</dd></dl>

<h3 id="label-Wed+Jun+11+01-3A53-3A22+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 11 01:53:22 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>invoke <a href="../../classes/GC.html">GC</a> before memory allocation
(xmalloc/xrealloc) when <a
href="../../classes/GC.html#method-c-stress">GC.stress</a> = true. [Bug
#9859]</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h2 id="label-2014-06-10">2014-06-10</h2>

<h3 id="label-Tue+Jun+10+13-3A20-3A14+2014++Takeyuki+FUJIOKA++-3Cxibbar-40ruby-lang.org-3E">Tue Jun 10 13:20:14 2014  Takeyuki FUJIOKA  &lt;xibbar@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/core.rb
<dd>
<p>Provide a mechanism to specify the max_multipart_length of multipart data.
[Feature #8370] patch by Leif Eriksen &lt;leif.eriksen.au@gmail.com&gt;</p>
</dd></dl>

<h3 id="label-Tue+Jun+10+10-3A57-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 10 10:57:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb (CSV#&lt;&lt;)
<dd>
<p>honor explicitly given encoding.  based on the patch by DAISUKE TANIWAKI
&lt;daisuketaniwaki AT gmail.com&gt; at [ruby-core:62113].  [Bug #9766]</p>
</dd></dl>

<h2 id="label-2014-06-09">2014-06-09</h2>

<h3 id="label-Mon+Jun++9+20-3A40-3A48+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  9 20:40:48 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change full <a href="../../classes/GC.html">GC</a> timing to keep lower
memory usage. Extend heap only at</p>
</dd><dt>(1) after major <a href="../../classes/GC.html">GC</a> or (2) after several (two times, at current) minor <a href="../../classes/GC.html">GC</a> Details in https
<dd>
<p>//bugs.ruby-lang.org/issues/9607#note-9 [Bug #9607]</p>
</dd></dl>

<h3 id="label-Mon+Jun++9+16-3A01-3A41+2014++Masahiro+Ide++-3Cimasahiro9-40gmail.com-3E">Mon Jun  9 16:01:41 2014  Masahiro Ide  &lt;imasahiro9@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gcdebug_sentinel)
<dd>
<p>fix typo, “sentinel” not “sential”. [fix GH-634]</p>
</dd></dl>

<h3 id="label-Mon+Jun++9+00-3A04-3A25+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun  9 00:04:25 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (posix_fadvise)
<dd>
<p>disable use of posix_fadvise itself on 32-bit AIX.  [ruby-core:62968] [Bug
#9914]</p>
</dd></dl>

<h2 id="label-2014-06-08">2014-06-08</h2>

<h3 id="label-Sun+Jun++8+23-3A28-3A00+2014++++-3Ckanemoto-40ruby-lang.org-3E">Sun Jun  8 23:28:00 2014    &lt;kanemoto@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_advise)
<dd>
<p>AIX currently does not support a 32-bit call to posix_fadvise() if
_LARGE_FILES is defined. Patch by Rei Odaira. [ruby-core:62968] [Bug #9914]</p>
</dd></dl>

<h2 id="label-2014-06-07">2014-06-07</h2>

<h3 id="label-Sat+Jun++7+22-3A13-3A42+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Jun  7 22:13:42 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (do_coerce)
<dd>
<p>Add a warning when an exception is raised or an invalid value is returned
in coerce called by numeric comparison operators and the exception thrown
by the caller has no information on the failure. In the next release such
exception should not be rescued or should be the cause of the caller
exception. nil is accepted as the “no possible coercion” return value. See
#7688.</p>
</dd><dt>test/ruby/test_numeric.rb
<dd>
<p>Add corresponding test.</p>
</dd></dl>

<h3 id="label-Sat+Jun++7+18-3A15-3A33+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Jun  7 18:15:33 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (bit_coerce)
<dd>
<p>remove constant parameter `err&#39;</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Jun++7+16-3A01-3A57+2014++Yutaka+Kanemoto++-3Ckanemoto-40ruby-lang.org-3E">Sat Jun  7 16:01:57 2014  Yutaka Kanemoto  &lt;kanemoto@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_fiber_struct)
<dd>
<p>keep context.uc_stack.ss_sp and context.uc_stack.ss_size for later use.
Patch by Rei Odaira. [ruby-core:62945] [Bug #9905]</p>
</dd></dl>

<h3 id="label-Sat+Jun++7+12-3A51-3A51+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  7 12:51:51 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (read_all)
<dd>
<p>truncate the buffer before appending read data, instead of truncating
before reading. [ruby-core:55951] [Bug #8625]</p>
</dd></dl>

<h3 id="label-Sat+Jun++7+12-3A28-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jun  7 12:28:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/digest.c (rb_digest_instance_equal)
<dd>
<p>no need to call `to_s` twice.  [Bug #9913]</p>
</dd></dl>

<h3 id="label-Sat+Jun++7+11-3A35-3A01+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jun  7 11:35:01 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_mod_initialize_clone)
<dd>
<p>Override Kernel#initialize_clone to avoid an exception on <a
href="../../classes/Class.html#method-i-new">Class#new</a>.freeze.clone.to_s.
Reported by Andrew Grimm.  [ruby-core:41858] [Bug #5828]</p>
</dd></dl>

<h3 id="label-Sat+Jun++7+06-3A03-3A11+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Jun  7 06:03:11 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/digest.c (rb_digest_instance_equal)
<dd>
<p>fix #== for non-string arguments. [ruby-core:62967] [Bug #9913]</p>
</dd><dt>test/digest/test_digest.rb
<dd>
<p>add test for above.</p>
</dd></dl>

<h2 id="label-2014-06-06">2014-06-06</h2>

<h3 id="label-Fri+Jun++6+22-3A19-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun  6 22:19:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (private_recv_p)
<dd>
<p>check by node type, instead of a magic number.</p>
</dd><dt>node.h (NODE_PRIVATE_RECV), parse.y (attrset_gen)
<dd>
<p>remove</p>
</dd></dl>

<h3 id="label-Fri+Jun++6+17-3A07-3A08+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun  6 17:07:08 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each), parse.y (new_attr_op_assign_gen)
<dd>
<p>allow op assign to a private attribute. [ruby-core:62949] [Bug #9907]</p>
</dd></dl>

<h3 id="label-Fri+Jun++6+13-3A39-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun  6 13:39:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_setstrbuf, io_read)
<dd>
<p>should not shorten the given buffer until read succeeds.  [ruby-core:55951]
[Bug #8625]</p>
</dd></dl>

<h3 id="label-Fri+Jun++6+07-3A41-3A41+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jun  6 07:41:41 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>dump empty symbols with a tag so that they can be parsed on input. [Bug
#9873] [ruby-core:62825]</p>
</dd><dt>test/psych/test_symbol.rb
<dd>
<p>test for change</p>
</dd></dl>

<h2 id="label-2014-06-05">2014-06-05</h2>

<h3 id="label-Thu+Jun++5+16-3A08-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  5 16:08:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_page_sweep)
<dd>
<p>refactoring.</p>
</dd><dt>gc.c (gc_page_sweep)
<dd>
<p>should not set, but add final_slots into sweep_page-&gt;final_slots.</p>
</dd></dl>

<h3 id="label-Thu+Jun++5+14-3A36-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun  5 14:36:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (jemalloc)
<dd>
<p>check for the header regardless drop-in libjemalloc is found, for
`malloc_conf` declaration.</p>
</dd><dt>version.c (ruby_show_version)
<dd>
<p>show `malloc_conf` if set. [Feature #9113]</p>
</dd><dt>configure.in (with-jemalloc)
<dd>
<p>also check for header, for ABIs which JEMALLOC_MANGLE is needed, i.e.,
Mach-O and PE-COFF platforms.  [ruby-core:62939] [Feature #9113]</p>
</dd><dt>include/ruby/missing.h
<dd>
<p>include alternative malloc header to replace memory management functions.</p>
</dd><dt>dln.c, io.c, parse.y, st.c
<dd>
<p>undef malloc family before re-definition to suppress warnings.</p>
</dd></dl>

<h3 id="label-Thu+Jun++5+12-3A52-3A18+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun  5 12:52:18 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>remove rubyforge entry.</p>
</dd></dl>

<h3 id="label-Thu+Jun++5+12-3A45-3A32+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jun  5 12:45:32 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/README
<dd>
<p>use github link instead of rubyforge.</p>
</dd></dl>

<h3 id="label-Thu+Jun++5+10-3A03-3A29+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  5 10:03:29 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_free)
<dd>
<p>check also FL_PROMOTED bit by RVALUE_OLD_P().</p>
</dd></dl>

<h3 id="label-Thu+Jun++5+03-3A45-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun  5 03:45:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add –with-jemalloc option [ruby-core:62912]</p>
</dd></dl>

<h2 id="label-2014-06-04">2014-06-04</h2>

<h3 id="label-Wed+Jun++4+22-3A28-3A14+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  4 22:28:14 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce RZombie to manage zombie objects. Rewrite finalizing logics with
this type.</p>
</dd><dt>gc.c (gc_verify_internal_consistency)
<dd>
<p>verify zombie (finalizing) objects count.</p>
</dd></dl>

<h3 id="label-Wed+Jun++4+22-3A09-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun  4 22:09:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (match_aref, rb_reg_regsub)
<dd>
<p>consider encoding of captured names, encoding-incompatible should not
match. [ruby-dev:48278] [Bug #9903]</p>
</dd></dl>

<h3 id="label-Wed+Jun++4+21-3A23-3A52+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun  4 21:23:52 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (match_aref)
<dd>
<p>should not ignore name after NUL byte. [ruby-dev:48275] [Bug #9902]</p>
</dd></dl>

<h3 id="label-Wed+Jun++4+04-3A08-3A37+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun  4 04:08:37 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (core_hash_merge_kwd)
<dd>
<p>should return the result hash, which may be converted from and differ from
the given argument. [ruby-core:62921] [Bug #9898]</p>
</dd></dl>

<h2 id="label-2014-06-03">2014-06-03</h2>

<h3 id="label-Tue+Jun++3+23-3A32-3A34+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun  3 23:32:34 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (load_file_internal2)
<dd>
<p>Extracted from load_file_internal.</p>
</dd><dt>(load_file_internal)
<dd>
<p>Invoke load_file_internal2 using rb_protect. Close an opened FD if
load_file_internal2 raises an exception.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+19-3A11-3A45+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 19:11:45 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_free)
<dd>
<p>should not rest_sweep() here. Some data structures are already freed.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+18-3A43-3A51+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 18:43:51 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>allocate more objects to invoke <a href="../../classes/GC.html">GC</a> by
newobj. <a href="../../classes/GC.html">GC</a> allows extending pages
depends on heap_increment.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+18-3A01-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 18:01:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_call_finalizer_at_exit)
<dd>
<p>add gc_verify_internal_consistency() when RGENGC_CHECK_MODE &gt;= 2.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+17-3A54-3A21+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 17:54:21 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>change the counting method for young objects. clear counter at the
beginning of every <a href="../../classes/GC.html">GC</a> and count
promoted (infant-&gt;young) objects. Some promotions (infant-&gt;young) are
transition of promoting to old objects. We should not count such
promotions. With this technique, we don&#39;t need to check young objects
at obj_free().</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+16-3A38-3A19+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 16:38:19 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add verifying counters code in gc_verify_internal_consistency().
gc_verify_internal_consistency() counts all - live objects - young objects
(if age2 promotion) - old objects in all pages and compares with objspace
managing counters.</p>
</dd><dt>gc.c (gc_after_sweep)
<dd>
<p>do gc_verify_internal_consistency() when RGENGC_CHECK_MODE &gt;= 2.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+13-3A14-3A04+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Jun  3 13:14:04 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (body_type_1part)
<dd>
<p>Gmail IMAP reports a body type as “MIXED” followed immediately by params
[ruby-core:62864] [Bug #9885] Patch by @rayners (David Raynes). [Fixes
GH-622] <a
href="https://github.com/ruby/ruby/pull/622">github.com/ruby/ruby/pull/622</a></p>
</dd></dl>

<h3 id="label-Tue+Jun++3+13-3A18-3A24+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 13:18:24 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_live_slot)
<dd>
<p>live slot count should not include final slot (contains T_ZOMBIE) count.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+13-3A03-3A21+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 13:03:21 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_free)
<dd>
<p>fix spacing.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+12-3A59-3A32+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 12:59:32 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (check_gen_consistency)
<dd>
<p>fix error message.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+12-3A40-3A23+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 12:40:23 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>count old/young objects more correctly.</p>
</dd><dt>gc.c (RVALUE_DEMOTE_FROM_OLD)
<dd>
<p>decrement old object count.</p>
</dd><dt>gc.c (RVALUE_DEMOTE_FROM_YOUNG)
<dd>
<p>decrement young object count.</p>
</dd><dt>gc.c (rb_gc_resurrect)
<dd>
<p>increment old object count.</p>
</dd><dt>gc.c (gc_marks_body)
<dd>
<p>should not add old object count. This code is completely my
misunderstanding.</p>
</dd><dt>gc.c (rb_gc_force_recycle)
<dd>
<p>decrement young or old object count correctly.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+12-3A26-3A47+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  3 12:26:47 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/memory_status.rb
<dd>
<p>add $LOAD_PATH to load test/unit correctly for fiddle/import unavailable
environments.</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+09-3A45-3A13+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jun  3 09:45:13 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb (OpenSSL::TestSSL#test_verify_result)
<dd>
<p>shouldn&#39;t use same server for respective tests, because the 1st test
sometimes kills the server main loop silently. [Bug #9881] [ruby-dev:48266]</p>
</dd></dl>

<h3 id="label-Tue+Jun++3+01-3A34-3A59+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jun  3 01:34:59 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>[DOC] Add rb_call_super when subclassing from @robin850 [Fixes GH-623] <a
href="https://github.com/ruby/ruby/pull/623">github.com/ruby/ruby/pull/623</a></p>
</dd></dl>

<h2 id="label-2014-06-02">2014-06-02</h2>

<h3 id="label-Mon+Jun++2+17-3A14-3A49+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  2 17:14:49 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (ruby_vm_destruct)
<dd>
<p>remove useless call of rb_gc_force_recycle(). At this line, a VM object is
already freed</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Jun++2+15-3A50-3A24+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  2 15:50:24 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_using_refinement)
<dd>
<p>add write-barriers for cref-&gt;nd_refinements.</p>
</dd></dl>

<h3 id="label-Mon+Jun++2+12-3A26-3A08+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jun  2 12:26:08 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>CONTRIBUTING.md
<dd>
<p>added contributing guide for github. [fix GH-625]</p>
</dd></dl>

<h3 id="label-Mon+Jun++2+07-3A30-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun  2 07:30:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb (default_warning)
<dd>
<p>New method.</p>
</dd><dt>test/ruby/test_autoload.rb
<dd>
<p>Use EnvUtil.default_warning.</p>
</dd></dl>

<h3 id="label-Mon+Jun++2+07-3A05-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun  2 07:05:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h
<dd>
<p>constify `rb_encoding` arguments.</p>
</dd><dt>include/ruby/oniguruma.h
<dd>
<p>constify `OnigEncoding` arguments.</p>
</dd></dl>

<h2 id="label-2014-06-01">2014-06-01</h2>

<h3 id="label-Sun+Jun++8+04-3A52-3A40+2014++Jun+Hiroe++-3CJun.Hiroe-40gmail.com-3E">Sun Jun  8 04:52:40 2014  Jun Hiroe  &lt;Jun.Hiroe@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_slice_bang)
<dd>
<p>[DOC] update return value against a fixnum, which has changed because of
M17N.  [fix GH-631]</p>
</dd></dl>

<h3 id="label-Sun+Jun++1+12-3A05-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  1 12:05:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/drb
<dd>
<p>Wrap tests definitions by DRbTests module.  This makes several tests
(ACLEntryTest, TestBug4409, etc.) easier to understand that they are tests
for <a href="../../classes/DRb.html">DRb</a>.</p>
</dd></dl>

<h3 id="label-Sun+Jun++1+11-3A36-3A25+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun  1 11:36:25 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (RingFinger#make_socket)
<dd>
<p>Close the socket on exception.</p>
</dd></dl>

<h3 id="label-Sun+Jun++1+06-3A55-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun  1 06:55:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (intern_str)
<dd>
<p>dynamic attrset ID is registered by `rb_id_attrset()` already, so no
further registration is needed. [ruby-core:62861]</p>
</dd></dl>

<h3 id="label-Sun+Jun++1+04-3A52-3A47+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Jun  1 04:52:47 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/English.rb
<dd>
<p>[DOC] $LOADED_FEATURES moved to load.c [Fixes GH-620] Patch submitted by
@leafac in <a
href="https://github.com/ruby/ruby/pull/620">github.com/ruby/ruby/pull/620</a></p>
</dd><dt><a href="globals_rdoc.html">doc/globals.rdoc</a>
<dd>
<p>Added $LOADED_FEATURES to list</p>
</dd></dl>

<h2 id="label-2014-05-31">2014-05-31</h2>

<h3 id="label-Sat+May+31+22-3A30-3A14+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 31 22:30:14 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/leakchecker.rb
<dd>
<p>Leak checker extracted from test/lib/minitest/unit.rb.</p>
</dd></dl>

<h3 id="label-Sat+May+31+21-3A15-3A43+2014++URABE+Shyouhei++-3Cshyouhei-40ruby-lang.org-3E">Sat May 31 21:15:43 2014  URABE Shyouhei  &lt;shyouhei@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_atfork_internal)
<dd>
<p>My compiler complains about this variable being used before initialized. I
looked at the code and expanded the macro and turned out it was actually
USED for pointer arithmetic, not dereferenced.  So this was never a serious
bug.  But is annoying indeed to see warnings every time.  I added `=0` and
all went healthy.</p>
</dd><dt>configure.in
<dd>
<p>Also, I found that the problematic macro expansion only happens when we
lack __typeof__ C extension, which shall not be the case of my compiler.  I
added AC_C_TYPEOF to kick ass.</p>
</dd></dl>

<h3 id="label-Sat+May+31+16-3A32-3A50+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 31 16:32:50 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ipaddr.rb
<dd>
<p>extracted inline tests into test dir.</p>
</dd><dt>test/test_ipaddr.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+31+16-3A29-3A21+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 31 16:29:21 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/lib/digest/hmac.rb
<dd>
<p>extracted inline tests into test dir.</p>
</dd><dt>test/digest/test_digest_hmac.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+31+16-3A02-3A03+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 31 16:02:03 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_syslog.rb
<dd>
<p>remove executable.</p>
</dd></dl>

<h3 id="label-Sat+May+31+08-3A58-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 31 08:58:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/unicode.c (init_case_fold_table)
<dd>
<p>no longer need to initialize tables at runtime.</p>
</dd><dt>enc/unicode/case-folding.rb (lookup_hash)
<dd>
<p>make perfect hash to lookup case unfolding table 3.</p>
</dd><dt>enc/unicode/case-folding.rb (lookup_hash)
<dd>
<p>make perfect hash to lookup case unfolding table 2.</p>
</dd><dt>enc/unicode/case-folding.rb (lookup_hash)
<dd>
<p>make perfect hash to lookup case unfolding table 1.</p>
</dd><dt>enc/unicode/case-folding.rb (lookup_hash)
<dd>
<p>make perfect hash to lookup case folding table.</p>
</dd><dt>enc/unicode/case-folding.rb (print_table)
<dd>
<p>merge non-locale and locale tables, and reduce initializing loops.</p>
</dd><dt>enc/unicode/case-folding.rb (CaseFolding)
<dd>
<p>modularize, and add –output-file option.</p>
</dd><dt>enc/unicode/case-folding.rb
<dd>
<p>script to convert CaseFolding.txt, translated from CaseFolding.py.</p>
</dd></dl>

<h3 id="label-Sat+May+31+08-3A31-3A41+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 31 08:31:41 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Check <a href="../../classes/Tempfile.html">Tempfile</a> leaks for each
test method again.</p>
</dd></dl>

<h3 id="label-Sat+May+31+03-3A50-3A50+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat May 31 03:50:50 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>[DOC] Document raise in <a
href="../../classes/Delegator.html">Delegator</a> class Patch by
@lucasmazza. [Fixes GH-621] <a
href="https://github.com/ruby/ruby/pull/621">github.com/ruby/ruby/pull/621</a></p>
</dd></dl>

<h2 id="label-2014-05-30">2014-05-30</h2>

<h3 id="label-Fri+May+30+21-3A23-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 30 21:23:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Use a pipe to detect server shutdown. shutdown() or close() for listening
socket is not a reliable. Actually, both doesn&#39;t work (doesn&#39;t wake
up select()) on DragonFly BSD 3.6.2.</p>
</dd><dt>test/webrick/utils.rb
<dd>
<p>:ShutdownSocketWithoutClose is not required now to immediate server
shutdown detection. This fixes fd leaks.</p>
</dd><dt>test/net/http/utils.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Fri+May+30+20-3A58-3A37+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 30 20:58:37 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb (check_fd_leak)
<dd>
<p>Sort the inspected objects list for a FD.</p>
</dd></dl>

<h3 id="label-Fri+May+30+18-3A06-3A55+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 30 18:06:55 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb (check_fd_leak)
<dd>
<p>Try <a href="../../classes/GC.html">GC</a> to delete leaked FDs.</p>
</dd></dl>

<h3 id="label-Fri+May+30+12-3A05-3A59+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri May 30 12:05:59 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit/parallel.rb (_run_suite)
<dd>
<p>orig_stdout may be nil though I don&#39;t know the reason.</p>
</dd></dl>

<h3 id="label-Fri+May+30+11-3A33-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 30 11:33:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_substr)
<dd>
<p>need to reset code range for shared string too, not only copied string.
[ruby-core:62842] [Bug #9882]</p>
</dd></dl>

<h3 id="label-Fri+May+30+07-3A25-3A46+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri May 30 07:25:46 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/dir
<dd>
<p><a href="../../classes/Dir.html#method-i-fileno">Dir#fileno</a>
implemented.</p>
</dd><dt>test/lib/minitest/unit.rb (find_fds)
<dd>
<p>Don&#39;t return the fd used to scan /proc/$$/fd.</p>
</dd></dl>

<h3 id="label-Fri+May+30+04-3A48-3A00+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri May 30 04:48:00 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_gc_mark_parser)
<dd>
<p>remove, empty since r8758</p>
</dd><dt>internal.h
<dd>
<p>ditto, not usable from extensions since 2.0.0</p>
</dd><dt>gc.c (gc_mark_roots)
<dd>
<p>remove checkpoint for parser</p>
</dd></dl>

<h2 id="label-2014-05-29">2014-05-29</h2>

<h3 id="label-Thu+May+29+23-3A27-3A50+2014++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Thu May 29 23:27:50 2014  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (ruby_signal)
<dd>
<p>should return either `old.sa_sigaction` or `old.sa_handler`, depending on
whether `SA_SIGINFO` is set in `old.sa_flags`, because they may not be a
union. [ruby-core:62836] [Bug #9878]</p>
</dd></dl>

<h3 id="label-Thu+May+29+23-3A11-3A20+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 23:11:20 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (pipe_open)
<dd>
<p>Close pipes when rb_execarg_fixup() raises an exception.</p>
</dd><dt>(rb_execarg_fixup_v)
<dd>
<p>New function.</p>
</dd></dl>

<h3 id="label-Thu+May+29+22-3A18-3A57+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 22:18:57 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb (capture_subprocess_io)
<dd>
<p>Close fds.</p>
</dd></dl>

<h3 id="label-Thu+May+29+19-3A47-3A08+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 19:47:08 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_s_pipe)
<dd>
<p>Close pipes if io_encoding_set() raises an exception.</p>
</dd><dt>(io_encoding_set_v)
<dd>
<p>New function.</p>
</dd></dl>

<h3 id="label-Thu+May+29+19-3A42-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 19:42:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb (CSV.open)
<dd>
<p>Close the opened file when an exception occur.</p>
</dd></dl>

<h3 id="label-Thu+May+29+19-3A31-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 19:31:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (SSLServer#accept)
<dd>
<p>Close a socket if any exception occur.</p>
</dd></dl>

<h3 id="label-Thu+May+29+05-3A05-3A29+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu May 29 05:05:29 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>Hide <a href="../../classes/Symbol.html">Symbol</a> internals.</p>
</dd><dt>(struct RSymbol)
<dd>
<p>moved to internal.h</p>
</dd><dt>(RSYMBOL)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+May+29+00-3A28-3A56+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 29 00:28:56 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/unixsocket.c (rsock_init_unixsock)
<dd>
<p>Open a socket after path length check. This fixes a fd leak by
TestSocket_UNIXSocket#test_too_long_path.</p>
</dd></dl>

<h2 id="label-2014-05-28">2014-05-28</h2>

<h3 id="label-Wed+May+28+23-3A04-3A35+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 23:04:35 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_flush_in_finalizer1)
<dd>
<p>Use <a
href="../../classes/ObjectSpace.html#method-c-each_object">ObjectSpace.each_object</a>
to close files. <a href="../../classes/GC.html#method-c-start">GC.start</a>
is not reliable.</p>
</dd></dl>

<h3 id="label-Wed+May+28+19-3A00-3A31+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 19:00:31 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (Net::IMAP#initialize)
<dd>
<p>Close the opened socket when any exception occur. This fixes a fd leak by
IMAPTest#test_imaps_post_connection_check which start_tls_session() raises
an exception.</p>
</dd></dl>

<h3 id="label-Wed+May+28+18-3A06-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 18:06:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_close)
<dd>
<p>Fix sync_close to work when SSL is not started. This fix the fd leak by
test_https_proxy_authentication in test/net/http/test_https_proxy.rb.</p>
</dd></dl>

<h3 id="label-Wed+May+28+10-3A29-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed May 28 10:29:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_living_threads_foreach)
<dd>
<p>remove function [ruby-core:62745]</p>
</dd><dt>thread.c (terminate_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (terminate_all)
<dd>
<p>implement (inlines old terminate_i)</p>
</dd><dt>thread.c (rb_thread_terminate_all)
<dd>
<p>use terminate_all</p>
</dd><dt>thread.c (rb_thread_fd_close_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (rb_thread_fd_close)
<dd>
<p>iterate inline</p>
</dd><dt>thread.c (thread_list_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (rb_thread_list)
<dd>
<p>iterate inline</p>
</dd><dt>thread.c (rb_thread_atfork_internal)
<dd>
<p>iterate inline</p>
</dd><dt>thread.c (terminate_atfork_i)
<dd>
<p>update types to remove casts</p>
</dd><dt>thread.c (terminate_atfork_before_exec_i)
<dd>
<p>ditto</p>
</dd><dt>thread.c (struct thgroup_list_params)
<dd>
<p>remove definition</p>
</dd><dt>thread.c (thgroup_list_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (thgroup_list)
<dd>
<p>iterate inline</p>
</dd><dt>thread.c (check_deadlock_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (debug_deadlock_check)
<dd>
<p>implement (inlines check_deadlock_i)</p>
</dd><dt>thread.c (debug_i)
<dd>
<p>remove</p>
</dd><dt>thread.c (rb_check_deadlock)
<dd>
<p>iterate inline</p>
</dd><dt>vm.c (vm_mark_each_thread_func)
<dd>
<p>remove</p>
</dd><dt>vm.c (rb_vm_mark)
<dd>
<p>iterate inline</p>
</dd><dt>vm_core.h (rb_vm_living_threads_remove)
<dd>
<p>remove</p>
</dd><dt>vm_trace.c (clear_trace_func_i)
<dd>
<p>remove</p>
</dd><dt>vm_trace.c (rb_clear_trace_func)
<dd>
<p>iterate inline</p>
</dd></dl>

<h3 id="label-Wed+May+28+09-3A30-3A51+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed May 28 09:30:51 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (signal_exec)
<dd>
<p>ignore immediate cmd for SIG_IGN</p>
</dd><dt>signal.c (trap_handler)
<dd>
<p>set cmd to true for SIG_IGN</p>
</dd><dt>signal.c (trap)
<dd>
<p>handle nil and true values for oldcmd [Bug #9835]</p>
</dd></dl>

<h3 id="label-Wed+May+28+01-3A02-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 01:02:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile#inspect)
<dd>
<p>Show “(closed)” if the tempfile is closed.</p>
</dd></dl>

<h3 id="label-Wed+May+28+00-3A38-3A09+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 00:38:09 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Use <a
href="../../classes/Tempfile.html#method-i-close-21">Tempfile#close!</a>
instead of <a
href="../../classes/Tempfile.html#method-i-unlink">Tempfile#unlink</a> to
close file descriptors.</p>
</dd><dt>test/openssl/test_config.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Wed+May+28+00-3A06-3A18+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 28 00:06:18 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (transfercmd)
<dd>
<p>Close TCP server socket even if an exception occur.</p>
</dd></dl>

<h2 id="label-2014-05-27">2014-05-27</h2>

<h3 id="label-Tue+May+27+23-3A50-3A07+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 27 23:50:07 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/core.rb
<dd>
<p>Use <a
href="../../classes/Tempfile.html#method-i-close-21">Tempfile#close!</a>
instead of <a
href="../../classes/Tempfile.html#method-i-unlink">Tempfile#unlink</a> to
close file descriptors.</p>
</dd></dl>

<h3 id="label-Tue+May+27+23-3A06-3A46+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 27 23:06:46 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_number_literal_suffix)
<dd>
<p>refine error message for extra dot and digits.</p>
</dd></dl>

<h3 id="label-Tue+May+27+22-3A44-3A20+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 27 22:44:20 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml
<dd>
<p>Avoid fd leaks.</p>
</dd></dl>

<h3 id="label-Tue+May+27+22-3A24-3A25+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 22:24:25 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb
<dd>
<p>Indent.</p>
</dd></dl>

<h3 id="label-Tue+May+27+22-3A15-3A29+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 22:15:29 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_document.rb
<dd>
<p>Wrap by REXMLTests module.</p>
</dd></dl>

<h3 id="label-Tue+May+27+22-3A11-3A10+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 22:11:10 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_encoding_2.rb
<dd>
<p>Remove a needless file.</p>
</dd></dl>

<h3 id="label-Tue+May+27+22-3A10-3A30+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 22:10:30 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_contrib.rb
<dd>
<p>Indent.</p>
</dd></dl>

<h3 id="label-Tue+May+27+21-3A28-3A16+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue May 27 21:28:16 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ifaddr.c (ifaddr_inspect_flags)
<dd>
<p>support IFF_SIMPLEX.</p>
</dd></dl>

<h3 id="label-Tue+May+27+21-3A03-3A03+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 21:03:03 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/
<dd>
<p>Use REXMLTests as wrapping module for <a
href="../../classes/REXML.html">REXML</a> tests. I avoid using the same
module for library in test because it provides “include REXML” environment
in test. Normally, users don&#39;t use <a
href="../../classes/REXML.html">REXML</a> on “include REXML” environment.
So I don&#39;t want to write tests on “include REXML” environment.</p>
</dd></dl>

<h3 id="label-Tue+May+27+20-3A59-3A37+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 20:59:37 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_comment.rb
<dd>
<p>Remove needless <a href="../../classes/REXML.html">REXML</a> module
wrapping.</p>
</dd></dl>

<h3 id="label-Tue+May+27+20-3A56-3A49+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Tue May 27 20:56:49 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pkcs7.rb
<dd>
<p>Fix inverted expected and actual values.</p>
</dd></dl>

<h3 id="label-Tue+May+27+20-3A26-3A06+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue May 27 20:26:06 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_flush_in_finalizer1)
<dd>
<p>some opened fds are remain before <a href="../../classes/GC.html">GC</a>,
so unlink the tempfile is failed.</p>
</dd></dl>

<h3 id="label-Tue+May+27+19-3A07-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 27 19:07:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_autoclose_p)
<dd>
<p>Don&#39;t raise on frozen <a href="../../classes/IO.html">IO</a>.</p>
</dd><dt>test/lib/minitest/unit.rb
<dd>
<p><a href="../../classes/IO.html#method-i-autoclose-3F">IO#autoclose?</a> may
raise <a href="../../classes/IOError.html">IOError</a>.</p>
</dd></dl>

<h3 id="label-Tue+May+27+19-3A01-3A49+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 27 19:01:49 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pair.rb
<dd>
<p>Modify TestSSL#test_read_and_write to handle partial sysreads. [Bug #<a
href="ruby-core:49563">7398]</a></p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+May+27+18-3A46-3A23+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 27 18:46:23 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pkcs7.rb
<dd>
<p>Add tests for PKCS7#type= and add_data. [Feature #<a
href="ruby-core:49565">7399]</a></p>
</dd></dl>

<h3 id="label-Tue+May+27+17-3A45-3A09+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 27 17:45:09 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_hmac.rb (test_binary_update)
<dd>
<p>Added <a href="../../classes/Test.html">Test</a> for HMAC signing with
UTF-8 String. [Bug #<a href="ruby-core:50559">7512]</a></p>
</dd></dl>

<h3 id="label-Tue+May+27+17-3A10-3A14+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 27 17:10:14 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>fixed randomly test failure. [Bug #<a href="ruby-core:45563">6573]</a></p>
</dd></dl>

<h3 id="label-Tue+May+27+16-3A58-3A12+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 27 16:58:12 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_timeout.rb (test_timeout)
<dd>
<p>inverted test condition. [Bug #8523]</p>
</dd></dl>

<h3 id="label-Tue+May+27+12-3A24-3A22+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 27 12:24:22 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Show leaked file descriptors.</p>
</dd></dl>

<h3 id="label-Tue+May+27+11-3A12-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 27 11:12:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_fileno, rb_io_inspect)
<dd>
<p>non-modification does not error on frozen <a
href="../../classes/IO.html">IO</a>.  [ruby-dev:48241] [Bug #9865]</p>
</dd></dl>

<h3 id="label-Tue+May+27+00-3A00-3A21+2014++yui-knk++-3Cspiketeika-40gmail.com-3E">Tue May 27 00:00:21 2014  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defineclass)
<dd>
<p>fix typo in the instruction comment. [fix GH-618]</p>
</dd></dl>

<h2 id="label-2014-05-26">2014-05-26</h2>

<h3 id="label-Mon+May+26+16-3A33-3A15+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon May 26 16:33:15 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file.rb
<dd>
<p>skip the test of atime on Windows, because Windows delays updating atime
about 1 hour. see more details: <a
href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms724290%28v=vs.85%29.aspx">msdn.microsoft.com/en-us/library/windows/desktop/ms724290%28v=vs.85%29.aspx</a></p>
</dd></dl>

<h3 id="label-Mon+May+26+12-3A25-3A36+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 26 12:25:36 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optionparser.rb, lib/optparse.rb (OptParse)
<dd>
<p>aliases. [ruby-core:62751] [Feature #9864]</p>
</dd></dl>

<h3 id="label-Mon+May+26+07-3A59-3A34+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 26 07:59:34 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Show Finished threads line-by-line.</p>
</dd></dl>

<h3 id="label-Mon+May+26+01-3A39-3A02+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon May 26 01:39:02 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>Reject nil as data source for <a
href="../../classes/CSV.html#method-c-new">CSV.new</a>, patch by @Peeja.
[Fixes GH-580] <a
href="https://github.com/ruby/ruby/pull/580">github.com/ruby/ruby/pull/580</a></p>
</dd></dl>

<h3 id="label-Mon+May+26+01-3A07-3A51+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 26 01:07:51 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Show leaked threads and tempfiles line-by-line.</p>
</dd></dl>

<h2 id="label-2014-05-25">2014-05-25</h2>

<h3 id="label-Sun+May+25+23-3A02-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 23:02:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb (MiniTest::Assertions#diff)
<dd>
<p>Remove tempfiles.</p>
</dd></dl>

<h3 id="label-Sun+May+25+22-3A42-3A27+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 22:42:27 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Check tempfile leak for each test class.</p>
</dd></dl>

<h3 id="label-Sun+May+25+20-3A31-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 25 20:31:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (ac_cv_func_{getcontext,setcontext})
<dd>
<p>do not disable ucontext.h entirely, but disable use of functions only.
`ucontext_t` is necessary in the signal handler now.</p>
</dd></dl>

<h3 id="label-Sun+May+25+20-3A00-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 25 20:00:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>revert part of r46100, the previous condition was correct, and fix
compilation error on other architecture linux.  [ruby-core:62746] [Bug
#9862]</p>
</dd></dl>

<h3 id="label-Sun+May+25+17-3A09-3A13+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 17:09:13 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Less <a
href="../../classes/ObjectSpace.html#method-c-each_object">ObjectSpace.each_object</a>
invocation.</p>
</dd></dl>

<h3 id="label-Sun+May+25+16-3A54-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 16:54:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Use <a href="../../classes/Thread.html#method-c-list">Thread.list</a>
instead of <a
href="../../classes/ObjectSpace.html#method-c-each_object">ObjectSpace.each_object</a>.</p>
</dd></dl>

<h3 id="label-Sun+May+25+15-3A53-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 15:53:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (Rinda::RingServer#shutdown)
<dd>
<p>Join the killed threads.</p>
</dd></dl>

<h3 id="label-Sun+May+25+15-3A26-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 15:26:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb
<dd>
<p>Override the inspect method of the thread used in <a
href="../../classes/WEBrick/Utils/TimeoutHandler.html">WEBrick::Utils::TimeoutHandler</a>.</p>
</dd></dl>

<h3 id="label-Sun+May+25+14-3A22-3A30+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 14:22:30 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl
<dd>
<p>Join threads.</p>
</dd></dl>

<h3 id="label-Sun+May+25+12-3A46-3A47+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 25 12:46:47 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_bug_context)
<dd>
<p>new function to report bug with context.</p>
</dd><dt>vm_dump.c (rb_vm_bugreport)
<dd>
<p>accepts `ucontext_t` argument to dump machine registers.  based on
[GH-584].</p>
</dd><dt>signal.c (sigbus, sigsegv)
<dd>
<p>dump machine registers if available.</p>
</dd></dl>

<h3 id="label-Sun+May+25+12-3A32-3A42+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 12:32:42 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Sort leaked threads and tempfiles.</p>
</dd></dl>

<h3 id="label-Sun+May+25+12-3A15-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 25 12:15:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>fix condition to use ucontext register, mcontext_t dereference, and its
member names, on Mac OS X.</p>
</dd></dl>

<h3 id="label-Sun+May+25+11-3A58-3A26+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 11:58:26 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c
<dd>
<p>[DOC] Fix example to show <a
href="../../classes/Enumerator.html#method-i-peek">Enumerator#peek</a>
behavior Patch by Erik Hollembeak [Bug #9814]</p>
</dd></dl>

<h3 id="label-Sun+May+25+11-3A56-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 25 11:56:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vsnprintf.c (BSD_vfprintf)
<dd>
<p>fix string width when precision is given.  as the result of `memchr` is
NULL or its offset from the start cannot exceed the size, the comparison
was always false. [ruby-core:62737] [Bug #9861]</p>
</dd></dl>

<h3 id="label-Sun+May+25+11-3A32-3A42+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 11:32:42 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>Remove Psych::EngineManager [Bug #8344]</p>
</dd><dt>test/psych/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+May+25+10-3A34-3A15+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 10:34:15 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>[DOC] Clarify whitespace matching by @allolex [Fixes GH-606] <a
href="https://github.com/ruby/ruby/pull/606">github.com/ruby/ruby/pull/606</a></p>
</dd></dl>

<h3 id="label-Sun+May+25+10-3A19-3A34+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 10:19:34 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>[DOC] Use find in example to clarify alias by @rachellogie Patch submitted
via documenting-ruby/ruby#34</p>
</dd></dl>

<h3 id="label-Sun+May+25+10-3A16-3A43+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 10:16:43 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c
<dd>
<p>[DOC] Fix rdoc in example for <a
href="../../classes/Fiber.html#method-i-transfer">Fiber#transfer</a> by
@majjoha Patch submitted via documenting-ruby/ruby#33</p>
</dd></dl>

<h3 id="label-Sun+May+25+10-3A01-3A11+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 10:01:11 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>[DOC] Fixed syntax error in example by @jasdeepsingh. Patch submitted via
documenting-ruby/ruby#32</p>
</dd></dl>

<h3 id="label-Sun+May+25+09-3A58-3A02+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun May 25 09:58:02 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (test_chown_R)
<dd>
<p>Add tests for chown_R. [Feature #<a href="ruby-core:59641">9383]</a></p>
</dd></dl>

<h3 id="label-Sun+May+25+09-3A57-3A09+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun May 25 09:57:09 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb
<dd>
<p>Added recursively chown tests. [Feature #<a
href="ruby-core:59325">9303]</a></p>
</dd></dl>

<h3 id="label-Sun+May+25+09-3A41-3A56+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 09:41:56 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>[DOC] Fixed grammar and examples of instance_methods. By @alex-frost via
documenting-ruby/ruby#31</p>
</dd></dl>

<h3 id="label-Sun+May+25+09-3A40-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 25 09:40:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb
<dd>
<p>Show leaked threads and tempfiles.</p>
</dd></dl>

<h3 id="label-Sun+May+25+08-3A54-3A38+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun May 25 08:54:38 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_partial_record_read.rb
<dd>
<p>Testing read_nonblock on a partial TLS record results in <a
href="../../classes/IO/WaitReadable.html">IO::WaitReadable</a> by
@mohamedhafez. [fix GH-547]</p>
</dd></dl>

<h3 id="label-Sun+May+25+08-3A43-3A16+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun May 25 08:43:16 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>refactored to include <a
href="../../classes/Logger/Period.html">Logger::Period</a>.</p>
</dd></dl>

<h3 id="label-Sun+May+25+06-3A50-3A19+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 06:50:19 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c
<dd>
<p>[DOC] Improve instance_eval description when given a block or String
arguments. By @nathanl via documenting-ruby/ruby#28</p>
</dd></dl>

<h3 id="label-Sun+May+25+06-3A29-3A39+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun May 25 06:29:39 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>[DOC] Clarify default argument for <a
href="../../classes/Array.html#method-c-new">Array.new</a>. By @Elffers
[Fixes GH-610]</p>
</dd></dl>

<h2 id="label-2014-05-24">2014-05-24</h2>

<h3 id="label-Sat+May+24+22-3A37-3A20+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 24 22:37:20 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>[DOC] Add more documents to shuffle! and shuffle. Contributed by
@JuanitoFatas [ci skip][fix GH-612]</p>
</dd></dl>

<h3 id="label-Sat+May+24+22-3A28-3A55+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 24 22:28:55 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/.document
<dd>
<p>removed unused configuration.</p>
</dd></dl>

<h3 id="label-Sat+May+24+19-3A08-3A47+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 19:08:47 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/spec.rb
<dd>
<p>Unused file removed.</p>
</dd><dt>test/lib/minitest/autorun.rb
<dd>
<p>Don&#39;t require minitest/spec.</p>
</dd><dt>test/lib/minitest/benchmark.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+24+18-3A45-3A30+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 18:45:30 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/benchmark/test_benchmark.rb
<dd>
<p>Use test/unit.</p>
</dd></dl>

<h3 id="label-Sat+May+24+16-3A20-3A59+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat May 24 16:20:59 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (proc_getgroups, proc_setgroups)
<dd>
<p>use ALLOCV_N [Bug #9856]</p>
</dd></dl>

<h3 id="label-Sat+May+24+15-3A49-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 15:49:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/unit.rb (parallelize_me!)
<dd>
<p>Removed. This fixes the line-by-line structure of the test result in
verbose mode.  [ruby-core:54905]</p>
</dd><dt>test/lib/minitest/parallel_each.rb
<dd>
<p>Removed.</p>
</dd><dt>test/minitest/test_minitest_mock.rb
<dd>
<p>Don&#39;t call parallelize_me!.</p>
</dd><dt>test/minitest/test_minitest_spec.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/minitest/test_minitest_unit.rb
<dd>
<p>Ditto. Tests for parallel feature removed.</p>
</dd></dl>

<h3 id="label-Sat+May+24+15-3A29-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 15:29:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest/hell.rb
<dd>
<p>Unused file removed.</p>
</dd><dt>test/lib/minitest/pride.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+24+15-3A05-3A32+2014++yui-knk++-3Cspiketeika-40gmail.com-3E">Sat May 24 15:05:32 2014  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (yielder_yield_push)
<dd>
<p>Insert a break after the method return value.  [fix GH-617]</p>
</dd></dl>

<h3 id="label-Sat+May+24+14-3A59-3A12+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 14:59:12 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/minitest
<dd>
<p>Remove comments not appropriate now.</p>
</dd><dt>test/minitest
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+24+14-3A02-3A04+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 24 14:02:04 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>added minitest changes.</p>
</dd></dl>

<h3 id="label-Sat+May+24+13-3A42-3A46+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 24 13:42:46 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit/test-unit.gemspec
<dd>
<p>removed needless gemspec file.</p>
</dd></dl>

<h3 id="label-Sat+May+24+09-3A39-3A06+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 24 09:39:06 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/default_gems
<dd>
<p>removed minitest entry.</p>
</dd></dl>

<h3 id="label-Sat+May+24+06-3A17-3A33+2014++Ryan+Davis++-3Cryand-ruby-40zenspider.com-3E">Sat May 24 06:17:33 2014  Ryan Davis  &lt;ryand-ruby@zenspider.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/minitest
<dd>
<p>minitest 4.7.5 removed. Need to support proper gem packaging / installation
before minitest 5 can be added.</p>
</dd></dl>

<h3 id="label-Sat+May+24+05-3A54-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 24 05:54:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb
<dd>
<p>More constants</p>
</dd></dl>

<h3 id="label-Sat+May+24+00-3A25-3A34+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sat May 24 00:25:34 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>add information of incompatibility about <a
href="../../classes/Prime.html#method-i-prime-3F">Prime#prime?</a></p>
</dd><dt>lib/prime.rb
<dd>
<p>fix docs.</p>
</dd></dl>

<h2 id="label-2014-05-23">2014-05-23</h2>

<h3 id="label-Fri+May+23+21-3A36-3A28+2014++Josh+Goebel++-3Cdreamer3-40gmail.com-3E">Fri May 23 21:36:28 2014  Josh Goebel  &lt;dreamer3@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>net/protocol.rb (using_each_crlf_line)
<dd>
<p>fix SMTP dot-stuffing for messages not ending with a new-line.
[ruby-core:61441] [Bug #9627] [fix GH-616]</p>
</dd></dl>

<h3 id="label-Fri+May+23+03-3A48-3A08+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri May 23 03:48:08 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_free_m_tbl)
<dd>
<p>mark function as static</p>
</dd><dt>method.h (rb_free_m_tbl)
<dd>
<p>remove prototype</p>
</dd></dl>

<h2 id="label-2014-05-22">2014-05-22</h2>

<h3 id="label-Thu+May+22+22-3A58-3A27+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu May 22 22:58:27 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb
<dd>
<p>More TCP option constants. Describe Linux and glibc versions.</p>
</dd></dl>

<h3 id="label-Thu+May+22+20-3A38-3A10+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May 22 20:38:10 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (stat_birthtime)
<dd>
<p>add birthtime support [Feature #9647]</p>
</dd><dt>file.c (rb_stat_birthtime)
<dd>
<p>add <a
href="../../classes/File/Stat.html#method-i-birthtime">File::Stat#birthtime</a></p>
</dd><dt>file.c (rb_file_s_birthtime)
<dd>
<p>add <a href="../../classes/File.html#method-c-birthtime">File.birthtime</a></p>
</dd><dt>file.c (rb_file_birthtime)
<dd>
<p>add <a href="../../classes/File.html#method-i-birthtime">File#birthtime</a></p>
</dd><dt>configure.in
<dd>
<p>check struct stat.st_birthtimespec.</p>
</dd></dl>

<h3 id="label-Thu+May+22+19-3A38-3A14+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May 22 19:38:14 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>remove IO::Statfs because of reject. [Feature #9772]</p>
</dd></dl>

<h3 id="label-Thu+May+22+14-3A02-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May 22 14:02:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/jis/props.kwd
<dd>
<p>constify character property tables of JIS based encodings by perfect hash.</p>
</dd><dt>enc/euc_jp.c, enc/shift_jis.c
<dd>
<p>use character property functions.</p>
</dd></dl>

<h2 id="label-2014-05-21">2014-05-21</h2>

<h3 id="label-Wed+May+21+12-3A21-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May 21 12:21:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>Fix compilation error on Android. Bionic doesn&#39;t define TCP state
constants.</p>
</dd></dl>

<h3 id="label-Wed+May+21+11-3A42-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 21 11:42:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>workaround for Info.plist to get rid of `dsymutil` crash by wrong files in
parent directories. [ruby-core:62594] [Bug #9840]</p>
</dd></dl>

<h2 id="label-2014-05-20">2014-05-20</h2>

<h3 id="label-Tue+May+20+20-3A57-3A34+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue May 20 20:57:34 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_dir.rb (test_glob)
<dd>
<p>added testcase of double slash path.</p>
</dd></dl>

<h3 id="label-Tue+May+20+04-3A58-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May 20 04:58:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Don&#39;t check fields of struct tcp_info if the structure is not
available.</p>
</dd></dl>

<h2 id="label-2014-05-19">2014-05-19</h2>

<h3 id="label-Mon+May+19+23-3A13-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 19 23:13:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c (inspect_tcp_info)
<dd>
<p>Permit longer data.  (glibc 2.7 adds tcpi_rcv_rtt, tcpi_rcv_space and
tcpi_total_retrans to struct tcp_info.)</p>
</dd></dl>

<h3 id="label-Mon+May+19+20-3A49-3A07+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 19 20:49:07 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c (inspect_tcp_info)
<dd>
<p>New function to inspect struct tcp_info.</p>
</dd><dt>(sockopt_inspect)
<dd>
<p>Use inspect_tcp_info.</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p>Check tcp_info related things.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>Include netinet/tcp_fsm.h if available.</p>
</dd></dl>

<h3 id="label-Mon+May+19+19-3A36-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 19 19:36:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/dbm/test_dbm.rb
<dd>
<p>Use <a href="../../classes/Etc.html#method-c-uname">Etc.uname</a>.</p>
</dd><dt>test/gdbm/test_gdbm.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+May+19+16-3A54-3A22+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 19 16:54:22 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c (etc_uname)
<dd>
<p>add support for Windows using GetVersionExW(), GetSystemInfo(), and
GetComputerNameExW() with `ComputerNameDnsHostname`.  [Feature #9842]</p>
</dd></dl>

<h3 id="label-Mon+May+19+16-3A29-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 19 16:29:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_pat_search)
<dd>
<p>advance by byte offset but not by char offset.  [ruby-core:62669] [Bug
#9849]</p>
</dd></dl>

<h3 id="label-Mon+May+19+14-3A06-3A18+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Mon May 19 14:06:18 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>bin/testrb
<dd>
<p>Removed. Forgot to remove in r45971. [Feature #9711] [ruby-core:62620]</p>
</dd></dl>

<h2 id="label-2014-05-18">2014-05-18</h2>

<h3 id="label-Sun+May+18+16-3A42-3A08+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 16:42:08 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_m17n_comb.rb (test_str_crypt)
<dd>
<p>Use <a href="../../classes/Etc.html#method-c-confstr">Etc.confstr</a> to
detect the glibc version. libc.so is not an executable on Debian
GNU/kFreeBSD 7.0 (wheezy).</p>
</dd></dl>

<h3 id="label-Sun+May+18+12-3A15-3A54+2014++Jonathan+Mukai-Heidt++-3Cjohnnymukai-40gmail.com-3E">Sun May 18 12:15:54 2014  Jonathan Mukai-Heidt  &lt;johnnymukai@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (argf_each_line, argf_inplace_mode_set)
<dd>
<p>[DOC] Update ARGF documentation examples.  `ARGF.lines` has been deprecated
in favor of `ARGF.each_line`.  [Fixes GH-615]</p>
</dd></dl>

<h3 id="label-Sun+May+18+11-3A59-3A25+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 11:59:25 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/nextafter.c
<dd>
<p>Include ruby/missing.h.</p>
</dd></dl>

<h3 id="label-Sun+May+18+11-3A09-3A28+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 11:09:28 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub
<dd>
<p>Add nextafter.obj to MISSING.</p>
</dd></dl>

<h3 id="label-Sun+May+18+10-3A46-3A04+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 10:46:04 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c
<dd>
<p><a href="../../classes/Etc.html#method-c-sysconf">Etc.sysconf</a>, <a
href="../../classes/Etc.html#method-c-confstr">Etc.confstr</a> and <a
href="../../classes/IO.html#method-i-pathconf">IO#pathconf</a> implemented.</p>
</dd><dt>ext/etc/extconf.rb
<dd>
<p>Check sysconf(), confstr() and fpathconf().</p>
</dd><dt>ext/etc/mkconstants.rb
<dd>
<p>New file. [ruby-core:62600] [Feature #9842]</p>
</dd></dl>

<h3 id="label-Sun+May+18+09-3A58-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 09:58:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/etc.c
<dd>
<p><a href="../../classes/Etc.html#method-c-uname">Etc.uname</a> method
implemented.</p>
</dd><dt>ext/etc/extconf.rb
<dd>
<p>Check uname() function. [ruby-core:62139] [Feature #9770]</p>
</dd></dl>

<h3 id="label-Sun+May+18+09-3A16-3A33+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 09:16:33 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Check nextafter() availability.</p>
</dd><dt>include/ruby/missing.h (nextafter)
<dd>
<p>New optional declaration.</p>
</dd><dt>missing/nextafter.c
<dd>
<p>New file.</p>
</dd><dt>numeric.c
<dd>
<p><a href="../../classes/Float.html#method-i-next_float">Float#next_float</a>
and <a
href="../../classes/Float.html#method-i-prev_float">Float#prev_float</a>
implemented. [ruby-core:62562] [Feature #9834]</p>
</dd></dl>

<h3 id="label-Sun+May+18+09-3A02-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 09:02:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p><a
href="../../classes/Enumerable.html#method-i-slice_after">Enumerable#slice_after</a>
implemented.</p>
</dd><dt>enumerator.c
<dd>
<p><a
href="../../classes/Enumerator/Lazy.html#method-i-slice_after">Enumerator::Lazy#slice_after</a>
implemented. Requested by Tsuyoshi Sawada.  [ruby-core:58123] [Feature
#9071]</p>
</dd></dl>

<h3 id="label-Sun+May+18+08-3A22-3A25+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 18 08:22:25 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_setstrbuf)
<dd>
<p>always check if the buffer is modifiable. [ruby-core:62643] [Bug #9847]</p>
</dd></dl>

<h3 id="label-Sun+May+18+01-3A21-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 18 01:21:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>Hide <a href="../../classes/Rational.html">Rational</a> internal.</p>
</dd><dt>(RRational)
<dd>
<p>Moved to internal.h</p>
</dd><dt>(RRATIONAL)
<dd>
<p>Ditto.</p>
</dd><dt>(RRATIONAL_SET_NUM)
<dd>
<p>Moved to rational.c.</p>
</dd><dt>(RRATIONAL_SET_DEN)
<dd>
<p>Ditto.</p>
</dd><dt>rational.c (rb_rational_num)
<dd>
<p>New function.</p>
</dd><dt>(rb_rational_den)
<dd>
<p>Ditto.</p>
</dd><dt>include/ruby/intern.h (rb_rational_num)
<dd>
<p>Declared.</p>
</dd><dt>(rb_rational_den)
<dd>
<p>Ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Follow the above change.</p>
</dd><dt>ext/date/date_core.c
<dd>
<p>Ditto. [ruby-core:60665] [Feature #9513]</p>
</dd></dl>

<h2 id="label-2014-05-17">2014-05-17</h2>

<h3 id="label-Sat+May+17+17-3A04-3A32+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sat May 17 17:04:32 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Add news about removal of lib/test/*<strong>/</strong>.rb.</p>
</dd></dl>

<h3 id="label-Sat+May+17+16-3A57-3A33+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sat May 17 16:57:33 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test
<dd>
<p>Removed because ruby&#39;s test cases now independent to lib/test by
r45970. [Feature #9711] [ruby-core:62620] I&#39;m still considering about
the future of lib/minitest, lib/test.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+May+17+15-3A06-3A40+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 17 15:06:40 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>remove dependency test-unit and minitest from stdlib when running with
test-all. [Feature #<a href="ruby-core:61890">9711]</a></p>
</dd><dt>test/testunit/*.rb
<dd>
<p>ditto.</p>
</dd><dt>test/lib
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+May+17+11-3A02-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 17 11:02:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>try match PLAIN as well as ALPHA, which are separated by previous commits. 
[ruby-core:61552] [Bug #9648]</p>
</dd><dt>dir.c (glob_make_pattern)
<dd>
<p>set PLAIN for non-magical path to skip parts which not need to glob.
[ruby-core:61552] [Bug #9648]</p>
</dd><dt>dir.c (has_magic)
<dd>
<p>return ALPHA at alphabetical name regardless FNM_CASEFOLD flag.</p>
</dd><dt>dir.c (glob_helper)
<dd>
<p>fix conditions for ALPHA. [ruby-core:61552] [Bug #9648]</p>
</dd></dl>

<h3 id="label-Sat+May+17+01-3A49-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 17 01:49:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>reduce matching at non-magical path on Windows.</p>
</dd></dl>

<h3 id="label-Sat+May+17+01-3A49-3A23+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 17 01:49:23 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_pattern_type)
<dd>
<p>separate names with alphabet but no magical from plain.</p>
</dd><dt>dir.c (glob_helper)
<dd>
<p>match plain names as-is to treat super-root same as the root. 
[ruby-core:61552] [Bug #9648]</p>
</dd></dl>

<h2 id="label-2014-05-16">2014-05-16</h2>

<h3 id="label-Fri+May+16+17-3A38-3A22+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 16 17:38:22 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_marks, gc_marks_body)
<dd>
<p>increase the counter of young objects at the major <a
href="../../classes/GC.html">GC</a> because AGE2Promotion changes all old
objects into young objects at major <a href="../../classes/GC.html">GC</a>.</p>
</dd></dl>

<h3 id="label-Fri+May+16+17-3A26-3A24+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 16 17:26:24 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_sweep)
<dd>
<p>heap_pages_swept_slots should contains heap_pages_increment. For example,
<a href="../../classes/GC.html">GC</a> by exceeding malloc_limit can remain
heap_pages_increment.</p>
</dd></dl>

<h2 id="label-2014-05-15">2014-05-15</h2>

<h3 id="label-Thu+May+15+21-3A18-3A43+2014++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Thu May 15 21:18:43 2014  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>enable SSE2 on mingw. target=&#39;i386-pc-mingw32&#39;. [ruby-core:62095]
[Bug #8358]</p>
</dd></dl>

<h3 id="label-Thu+May+15+21-3A04-3A06+2014++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Thu May 15 21:04:06 2014  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit/parallel.rb
<dd>
<p>fix test-all parallel failure if a test is skipped after raise.
DL::TestFunc#test_sinf is skipped after raise on mingw ruby. But it causes
<a href="../../classes/Marshal.html#method-c-load">Marshal.load</a> failure
due to undefined class/module DL::DLError when doing test-all parallel and
test-all doesn&#39;t complete. We create new MiniTest::Skip object to avoid
<a href="../../classes/Marshal.html#method-c-load">Marshal.load</a>
failure. [ruby-core:62133] [Bug #9767]</p>
</dd><dt>test/testunit/test_parallel.rb (TestParallel)
<dd>
<p>add a test.</p>
</dd><dt>test/testunit/tests_for_parallel/ptest_forth.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+May+15+18-3A57-3A23+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 15 18:57:23 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (garbage_collect_body)
<dd>
<p>move gc_heap_prepare_minimum_pages() from gc_sweep().</p>
</dd></dl>

<h3 id="label-Thu+May+15+18-3A51-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 15 18:51:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_extend_pages)
<dd>
<p>calculate next growing heap size.</p>
</dd><dt>gc.c (heap_set_increment)
<dd>
<p>accept addition pages instead of minimum pages.</p>
</dd><dt>gc.c (gc_after_sweep)
<dd>
<p>use heap_etend_pages().</p>
</dd><dt>gc.c (gc_heap_prepare_minimum_pages)
<dd>
<p>add only 1 page.</p>
</dd><dt>gc.c (heap_ready_to_gc)
<dd>
<p>add only 1 page.</p>
</dd></dl>

<h3 id="label-Thu+May+15+18-3A42-3A49+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 15 18:42:49 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce macros to remove magic number. GC_HEAP_FREE_SLOTS_MIN_RATIO =
0.3: guarantee minimum empty slots ratio after sweep.
GC_HEAP_FREE_SLOTS_MAX_RATIO = 0.8: allow to free pages 0.2 (= 1-0.8) of
current existing slots.</p>
</dd></dl>

<h3 id="label-Thu+May+15+17-3A32-3A51+2014++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Thu May 15 17:32:51 2014  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_win32.c (rb_w32_stack_overflow_handler)
<dd>
<p>use Structured <a href="../../classes/Exception.html">Exception</a>
Handling by AddVectoredExceptionHandler() for machine stack overflow on
mingw. This would be equivalent to the handling using __try and __except on
mswin introduced by r43748.</p>
</dd></dl>

<h2 id="label-2014-05-14">2014-05-14</h2>

<h3 id="label-Wed+May+14+19-3A31-3A03+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 14 19:31:03 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/depend
<dd>
<p>remove dependency from internal headers. [Feature #9612]</p>
</dd><dt>ext/openssl/ossl.c (ossl_fips_mode_set)
<dd>
<p>ditto.</p>
</dd><dt>ext/coverage/depend
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/thread_native.h
<dd>
<p>added. This header file only provides wrapper functions to control native
threads. These wrapper functions are used by MRI implementation.</p>
</dd><dt>vm_core.h
<dd>
<p>use include/ruby/thread_native.h.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.h
<dd>
<p>ditto.</p>
</dd><dt>thread_win32.h
<dd>
<p>ditto.</p>
</dd><dt>thread_native.h
<dd>
<p>removed.</p>
</dd></dl>

<h3 id="label-Wed+May+14+18-3A03-3A28+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 14 18:03:28 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>enable RGENGC_AGE2_PROMOTION.</p>
</dd></dl>

<h3 id="label-Wed+May+14+18-3A02-3A30+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May 14 18:02:30 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>promote remembered object earlier.</p>
</dd></dl>

<h2 id="label-2014-05-12">2014-05-12</h2>

<h3 id="label-Mon+May+12+23-3A57-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 12 23:57:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_atan2_inf_c99)
<dd>
<p>check whether runtime atan2 handles Inf as C99. [ruby-core:62536] [Bug
#9831]</p>
</dd></dl>

<h3 id="label-Mon+May+12+20-3A33-3A01+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 12 20:33:01 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Invoke AC_REPLACE_FUNCS for each function.</p>
</dd></dl>

<h3 id="label-Mon+May+12+19-3A52-3A11+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon May 12 19:52:11 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>count young object correctly and show it in <a
href="../../classes/GC.html#method-c-stat">GC.stat</a> on
RGENGC_AGE2_PROMOTION.</p>
</dd><dt>gc.c (RVALUE_PROMOTE_YOUNG)
<dd>
<p>decrement young object count on YOUNG-&gt;OLD.</p>
</dd><dt>gc.c (obj_free)
<dd>
<p>decrement young object count when young object freed.</p>
</dd><dt>gc.c (gc_marks)
<dd>
<p>should not clear young object count.</p>
</dd><dt>gc.c (gc_stat_internal)
<dd>
<p><a href="../../classes/GC.html#method-c-stat">GC.stat</a> :young_object
information.</p>
</dd></dl>

<h3 id="label-Mon+May+12+01-3A30-3A59+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May 12 01:30:59 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ifaddr.c (IS_IFADDRS)
<dd>
<p>Unused macro removed.</p>
</dd><dt>ext/strscan/strscan.c (BUFSIZE)
<dd>
<p>Ditto.</p>
</dd><dt>ext/zlib/zlib.c (OBJ_IS_FREED)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-05-11">2014-05-11</h2>

<h3 id="label-Sun+May+11+22-3A27-3A18+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 11 22:27:18 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (BUFSIZE)
<dd>
<p>Unused macro removed.</p>
</dd><dt>vm.c (BUFSIZE)
<dd>
<p>Ditto.</p>
</dd><dt>pack.c (INT64toNUM)
<dd>
<p>Ditto.</p>
</dd><dt>(UINT64toNUM)
<dd>
<p>Ditto.</p>
</dd><dt>(BYTEWIDTH)
<dd>
<p>Ditto.</p>
</dd><dt>time.c (lshift)
<dd>
<p>Ditto.</p>
</dd><dt>(UINT64toNUM)
<dd>
<p>Ditto.</p>
</dd><dt>(id_lshift)
<dd>
<p>Unused variable removed.</p>
</dd></dl>

<h3 id="label-Sun+May+11+21-3A23-3A27+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May 11 21:23:27 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (swaps)
<dd>
<p>Unused macro removed.</p>
</dd><dt>(swapi)
<dd>
<p>Ditto.</p>
</dd><dt>(swapl)
<dd>
<p>Ditto.</p>
</dd><dt>(swapll)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+May+11+08-3A02-3A49+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun May 11 08:02:49 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_vm_t)
<dd>
<p>list_head and counter for living_threads</p>
</dd><dt>(rb_thread_t)
<dd>
<p>vmlt_node for living_threads linkage</p>
</dd><dt>(rb_vm_living_threads_init)
<dd>
<p>new function wrapper</p>
</dd><dt>(rb_vm_living_threads_insert)
<dd>
<p>ditto</p>
</dd><dt>(rb_vm_living_threads_remove)
<dd>
<p>ditto</p>
</dd><dt>vm.c (rb_vm_living_threads_foreach)
<dd>
<p>new function wrapper</p>
</dd><dt>thread.c (terminate_i, thread_start_func_2, thread_create_core, thread_fd_close_i, thread_fd_close)
<dd>
<p>update to use new APIs</p>
</dd><dt>vm.c (vm_mark_each_thread_func, rb_vm_mark, ruby_vm_destruct, vm_memsize, vm_init2, Init_VM)
<dd>
<p>ditto</p>
</dd><dt>vm_trace.c (clear_trace_func_i, rb_clear_trace_func)
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm_thread_close.rb
<dd>
<p>added to show improvement</p>
</dd><dt>ccan/build_assert/build_assert.h
<dd>
<p>added as a dependency of list.h</p>
</dd><dt>ccan/check_type/check_type.h
<dd>
<p>ditto</p>
</dd><dt>ccan/container_of/container_of.h
<dd>
<p>ditto</p>
</dd><dt>ccan/licenses/BSD-MIT
<dd>
<p>ditto</p>
</dd><dt>ccan/licenses/CC0
<dd>
<p>ditto</p>
</dd><dt>ccan/str/str.h
<dd>
<p>ditto (stripped of unused macros)</p>
</dd><dt>ccan/list/list.h
<dd>
<p>ditto</p>
</dd><dt>common.mk
<dd>
<p>add CCAN_LIST_INCLUDES [ruby-core:61871][Feature #9632 (part 1)]</p>
</dd></dl>

<h3 id="label-Sun+May+11+01-3A10-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 11 01:10:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (rb_f_kill)
<dd>
<p>directly enqueue an ignored signal to self, except for SIGSEGV and SIGBUS. 
[ruby-dev:48203] [Bug #9820]</p>
</dd></dl>

<h2 id="label-2014-05-10">2014-05-10</h2>

<h3 id="label-Sat+May+10+22-3A37-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 10 22:37:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (push_glob)
<dd>
<p>match in UTF-8 on Mac OS X. [ruby-dev:48213] [Bug #9825]</p>
</dd></dl>

<h3 id="label-Sat+May+10+13-3A32-3A18+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 10 13:32:18 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_start_func_2)
<dd>
<p>stop if forked in a sub-thread, the thread has become the main thread.
[ruby-core:62070] [Bug #9751]</p>
</dd></dl>

<h3 id="label-Sat+May+10+09-3A32-3A19+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat May 10 09:32:19 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>remove deadlink. [ruby-core:62145][Bug #9773]</p>
</dd></dl>

<h3 id="label-Sat+May+10+08-3A47-3A36+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May 10 08:47:36 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (trap)
<dd>
<p>Return “SYSTEM_DEFAULT” if SIG_DFL is set.</p>
</dd></dl>

<h2 id="label-2014-05-09">2014-05-09</h2>

<h3 id="label-Fri+May++9+14-3A27-3A05+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  9 14:27:05 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_SETJMP_TYPE)
<dd>
<p>check for setjmp type after CCDLFLAGS is appended to CFLAGS, since
__builtin_setjmp can be affected.  [ruby-core:62469] [Bug #9818]</p>
</dd></dl>

<h3 id="label-Fri+May++9+03-3A59-3A06+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Fri May  9 03:59:06 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>Fix example of using delegator. patched from Andrey Koleshko. [Fixes
GH-505]</p>
</dd></dl>

<h3 id="label-Fri+May++9+03-3A42-3A43+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Fri May  9 03:42:43 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shell.rb
<dd>
<p>add documentation in lib/shell.rb patched from reprah. [Fixes GH-516]</p>
</dd></dl>

<h3 id="label-Fri+May++9+03-3A28-3A04+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Fri May  9 03:28:04 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>show fileutils require at top. patched from Richard Schneeman. [Fixes
GH-604]</p>
</dd></dl>

<h3 id="label-Fri+May++9+03-3A07-3A09+2014++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Fri May  9 03:07:09 2014  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb (Prime#prime?)
<dd>
<p>negative numbers can&#39;t be primes by definition. reported by Ivan
Kataitsev. [Bug #7395]</p>
</dd><dt>test/test_prime.rb
<dd>
<p>add test.</p>
</dd></dl>

<h2 id="label-2014-05-08">2014-05-08</h2>

<h3 id="label-Thu+May++8+14-3A34-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu May  8 14:34:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_mod_init_copy)
<dd>
<p>always clear instance variable, constant and method tables first,
regardless the source tables. [ruby-dev:48182] [Bug #9813]</p>
</dd></dl>

<h3 id="label-Thu+May++8+10-3A53-3A14+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May  8 10:53:14 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>OpenBSD needs to include sys/param.h before include sys/mount.h.
[ruby-dev:48167]</p>
</dd></dl>

<h3 id="label-Thu+May++8+10-3A17-3A04+2014++Karsten+Sperling++-3Ckarsten-40sperling.co.nz-3E">Thu May  8 10:17:04 2014  Karsten Sperling  &lt;karsten@sperling.co.nz&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpserver.rb (WEBrick::HTTPServer#run)
<dd>
<p>stop handling requests on shutdown, even if the socket is readable and <a
href="../../classes/IO.html#method-c-select">IO.select</a> returns true. 
[Fixes GH-607]</p>
</dd><dt>lib/webrick/server.rb (WEBrick::GenericServer#start)
<dd>
<p><a href="../../classes/IO.html#method-c-select">IO.select</a> raises
ENOTSOCK on shutdown on Windows.</p>
</dd></dl>

<h2 id="label-2014-05-07">2014-05-07</h2>

<h3 id="label-Wed+May++7+21-3A45-3A00+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed May  7 21:45:00 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLServer#accept)
<dd>
<p>Consider <a
href="../../classes/Socket.html#method-i-accept">Socket#accept</a> as well
as <a
href="../../classes/TCPServer.html#method-i-accept">TCPServer#accept</a>.
Reported by Sam Stelfox.  [ruby-core:62064] [Bug #9750]</p>
</dd></dl>

<h3 id="label-Wed+May++7+17-3A24-3A07+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  7 17:24:07 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_step_scan_args)
<dd>
<p>check keyword arguments and fail if they conflict with positional
arguments. [ruby-dev:48177] [Bug #9811]</p>
</dd></dl>

<h3 id="label-Wed+May++7+12-3A06-3A14+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May  7 12:06:14 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/driver.rb
<dd>
<p>remove debug output and output results into specified file.</p>
</dd></dl>

<h3 id="label-Wed+May++7+11-3A55-3A40+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed May  7 11:55:40 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/driver.rb
<dd>
<p>add &#39;–<a href="FILE">rawdata-output=</a> option to output raw results
into FILE.</p>
</dd></dl>

<h3 id="label-Wed+May++7+11-3A25-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  7 11:25:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_f_local_variables)
<dd>
<p>exclude variables hidden by shadowing.  [ruby-core:60501] [Bug #9486]</p>
</dd><dt>vm.c (collect_local_variables_in_iseq)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-05-06">2014-05-06</h2>

<h3 id="label-Tue+May++6+23-3A29-3A05+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May  6 23:29:05 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (new_bv_gen)
<dd>
<p>no duplicated names, if already added in shadowing_lvar().</p>
</dd><dt>parse.y (local_tbl_gen)
<dd>
<p>remove local variables duplicated with arguments. [ruby-core:60501] [Bug
#9486]</p>
</dd></dl>

<h3 id="label-Tue+May++6+18-3A48-3A50+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  6 18:48:50 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.make_time)
<dd>
<p>Adjust the time zone of “now”.</p>
</dd></dl>

<h3 id="label-Tue+May++6+18-3A33-3A12+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Tue May  6 18:33:12 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_{read,write}_nonblock)
<dd>
<p>use rb_get_kwargs instead of rb_hash_aref.</p>
</dd></dl>

<h3 id="label-Tue+May++6+18-3A03-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  6 18:03:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.make_time)
<dd>
<p>Argument validation code moved from <a
href="../../classes/Time.html#method-c-parse">Time.parse</a> and <a
href="../../classes/Time.html#method-c-strptime">Time.strptime</a>.</p>
</dd></dl>

<h3 id="label-Tue+May++6+17-3A27-3A06+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  6 17:27:06 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.parse)
<dd>
<p>[DOC] Fix an example in the documentation to use EST. Reported by Marcus
Stollsteimer. [ruby-core:60778] [Bug #9521] and [ruby-core:61718] [Bug
#9682]</p>
</dd></dl>

<h3 id="label-Tue+May++6+04-3A31-3A48+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Tue May  6 04:31:48 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_f_test)
<dd>
<p>removed meaningless “case &#39;a&#39;”.</p>
</dd></dl>

<h3 id="label-Tue+May++6+01-3A28-3A14+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue May  6 01:28:14 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb (OpenURI.open_uri)
<dd>
<p>Call <a
href="../../classes/StringIO.html#method-i-close">StringIO#close</a> only
if the <a href="../../classes/StringIO.html">StringIO</a> object is not
closed yet. Reported by Jordi Massaguer Pla.  [ruby-core:42538] [Bug #6010]</p>
</dd></dl>

<h3 id="label-Tue+May++6+01-3A08-3A01+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May  6 01:08:01 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/driver.rb
<dd>
<p>define File::NULL if not defined and /dev/null is available to run
benchmark driver on ruby 1.9.2.</p>
</dd></dl>

<h2 id="label-2014-05-05">2014-05-05</h2>

<h3 id="label-Mon+May++5+23-3A53-3A24+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  5 23:53:24 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/mkconstants.rb
<dd>
<p>Add IP_TRANSPARENT. IP_TRANSPARENT is provieded since glibc-2.12. Reported
by Eliezer Croitoru.  [ruby-core:50372] [Bug #7476]</p>
</dd></dl>

<h3 id="label-Mon+May++5+22-3A29-3A47+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  5 22:29:47 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (check_exec_redirect)
<dd>
<p>Open the file in write mode for redirect from [:out, :err]. Proposed and
implemented by Yusuke Endoh. [ruby-dev:41430] [Feature #3348]</p>
</dd></dl>

<h3 id="label-Mon+May++5+21-3A52-3A35+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  5 21:52:35 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (cleanpath_aggressive)
<dd>
<p>make all separators File::SEPARATOR from File::ALT_SEPARATOR. Reported by
Daniel Rikowski. Fixed by Nobuyoshi Nakada.  [Bug #9618]</p>
</dd><dt>ext/pathname/lib/pathname.rb (cleanpath_conservative)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+May++5+21-3A48-3A04+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  5 21:48:04 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (Pathname#/)
<dd>
<p>Aliased to Pathname#+. Suggested by Alexey Muranov.  [ruby-core:61432]
[Feature #9625]</p>
</dd></dl>

<h3 id="label-Mon+May++5+17-3A26-3A09+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Mon May  5 17:26:09 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (rb_math_sqrt)
<dd>
<p>omitted exporting an unused function, anyway.</p>
</dd><dt>internal.h
<dd>
<p>follows the above change.</p>
</dd></dl>

<h3 id="label-Mon+May++5+11-3A44-3A03+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon May  5 11:44:03 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.strptime)
<dd>
<p>Raise <a href="../../classes/ArgumentError.html">ArgumentError</a> if <a
href="../../classes/Date.html">Date</a>._strptime doesn&#39;t extract date
information. Reported by tadayoshi funaba.  [ruby-core:62349]</p>
</dd></dl>

<h3 id="label-Mon+May++5+01-3A12-3A27+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Mon May  5 01:12:27 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c (rt_rewrite_frags)
<dd>
<p>a new feature (not a bug fix) of strptime.  applies offset even if the
given date is not local time (%s and %Q).  This is an exceptional feature
and I do NOT recommend to use this at all.  Thank you git community.</p>
</dd></dl>

<h2 id="label-2014-05-04">2014-05-04</h2>

<h3 id="label-Sun+May++4+20-3A51-3A32+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May  4 20:51:32 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.force_zone!)
<dd>
<p>Use usual local time if it has expected offset from UTC.</p>
</dd></dl>

<h3 id="label-Sun+May++4+17-3A58-3A12+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May  4 17:58:12 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.force_zone!)
<dd>
<p>New private method.</p>
</dd><dt>(Time.make_time)
<dd>
<p>Use Time.force_zone!.</p>
</dd><dt>(Time.strptime)
<dd>
<p>Ditto.</p>
</dd><dt>(Time.rfc2822)
<dd>
<p>Ditto.</p>
</dd><dt>(Time.xmlschema)
<dd>
<p>Ditto.</p>
</dd><dt>lib/rss/rss.rb (Time.w3cdtf)
<dd>
<p>Use Time.force_zone!.</p>
</dd></dl>

<h3 id="label-Sun+May++4+10-3A22-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May  4 10:22:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_atan2)
<dd>
<p>return values like as expected by C99 if both two arguments are infinity. 
based on the patch by cremno phobia &lt;cremno AT mail.ru&gt; in
[ruby-core:62310].  [Feature #9799]</p>
</dd></dl>

<h3 id="label-Sun+May++4+03-3A46-3A42+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May  4 03:46:42 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.httpdate)
<dd>
<p>Always return a UTC <a href="../../classes/Time.html">Time</a> object.</p>
</dd></dl>

<h3 id="label-Sun+May++4+03-3A26-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May  4 03:26:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.make_time)
<dd>
<p>Refactored.</p>
</dd></dl>

<h3 id="label-Sun+May++4+02-3A53-3A17+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun May  4 02:53:17 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.rfc2822)
<dd>
<p>Fix year completion. Produce fixed-offset time object if appropriate.</p>
</dd><dt>(Time.xmlschema)
<dd>
<p>Produce fixed-offset time object if appropriate.</p>
</dd></dl>

<h2 id="label-2014-05-03">2014-05-03</h2>

<h3 id="label-Sat+May++3+23-3A52-3A20+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May  3 23:52:20 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (make_time)
<dd>
<p>Produce fixed-offset time object if appropriate.</p>
</dd><dt>(Time.strptime)
<dd>
<p>Use <a href=":zone">d</a> instead of <a href=":offset">d</a>.</p>
</dd><dt>lib/rss/rss.rb (Time.w3cdtf)
<dd>
<p>Produce fixed-offset time object if appropriate.</p>
</dd></dl>

<h3 id="label-Sat+May++3+20-3A21-3A38+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat May  3 20:21:38 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (Time.strptime)
<dd>
<p>Use <a href=":offset">d</a> if <a href=":seconds">d</a> is not given.
Reported by tadayoshi funaba.  [ruby-core:62322]</p>
</dd></dl>

<h3 id="label-Sat+May++3+04-3A04-3A16+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat May  3 04:04:16 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c (parse_comp)
<dd>
<p>replace ALLOCA_N with ALLOCV_N/ALLOCV_END [Bug #9608]</p>
</dd><dt>rational.c (read_digits)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+May++3+00-3A06-3A30+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat May  3 00:06:30 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (HAVE_STRUCT_STATVFS_F_BASETYPE)
<dd>
<p>File::Statfs#fstypename is supported on AIX, HP-UX, and Solaris, by using
the value of struct statvfs.f_basetype.</p>
</dd><dt>configure.in (HAVE_STRUCT_STATVFS_F_BASETYPE)
<dd>
<p>check struct statvfs.f_basetype which is available on AIX, HP-UX, and
Solaris.</p>
</dd></dl>

<h2 id="label-2014-05-02">2014-05-02</h2>

<h3 id="label-Fri+May++2+21-3A04-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  2 21:04:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (next_id)
<dd>
<p>no reason to set ID_STATIC_SYM here, as ID returned by rb_intern3 can be a
dynamic symbol and the static symbol flag is set otherwise.  [Bug #9787]</p>
</dd></dl>

<h3 id="label-Fri+May++2+11-3A32-3A51+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  2 11:32:51 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb (test_seek, test_seek_symwhence)
<dd>
<p>defer File::Statfs#type call which may not be implemented, to mitigate
errors on platforms where SEEK_DATA is available but f_type in struct
statfs is not.  [ruby-dev:48154] [Bug #9789]</p>
</dd></dl>

<h3 id="label-Fri+May++2+10-3A37-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  2 10:37:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_id_attrset)
<dd>
<p>turn dynamically interned <a href="../../classes/Symbol.html">Symbol</a>
into an ID, since rb_str_dynamic_intern returns a <a
href="../../classes/Symbol.html">Symbol</a> but not an ID. 
[ruby-core:62226] [Bug #9787]</p>
</dd></dl>

<h2 id="label-2014-05-01">2014-05-01</h2>

<h3 id="label-Thu+May++1+22-3A19-3A34+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu May  1 22:19:34 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>Change AND condition to nested condition.</p>
</dd></dl>

<h3 id="label-Thu+May++1+00-3A36-3A26+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu May  1 00:36:26 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (FSTATFS)
<dd>
<p>check availability of struct statfs and struct statvfs in addition to
fstatfs(2) and fstatvfs(2). This fixes error in Solaris. [Bug #9788]
[ruby-dev:48145]</p>
</dd></dl>

<h2 id="label-2014-04-30">2014-04-30</h2>

<h3 id="label-Wed+Apr+30+19-3A46-3A23+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Wed Apr 30 19:46:23 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_after_sweep)
<dd>
<p>suppress unnecessary expanding heap. Tomb heap pages are freed pages here,
so expanding heap is not required.</p>
</dd></dl>

<h3 id="label-Wed+Apr+30+17-3A58-3A40+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr 30 17:58:40 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (invoke_block_from_c)
<dd>
<p>add VM_FRAME_FLAG_BMETHOD to record it is bmethod frame.</p>
</dd><dt>vm.c (vm_exec)
<dd>
<p>invoke RUBY_EVENT_RETURN event if rollbacked frame is
VM_FRAME_FLAG_BMETHOD. [Bug #9759]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test for TracePoint/set_trace_func.</p>
</dd><dt>vm_core.h
<dd>
<p>rename rb_thread_t::passed_me to rb_thread_t::passed_bmethod_me to clarify
the usage.</p>
</dd><dt>vm_insnhelper.c (vm_call_bmethod_body)
<dd>
<p>use renamed member.</p>
</dd></dl>

<h3 id="label-Wed+Apr+30+17-3A06-3A49+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 30 17:06:49 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_id_attrset)
<dd>
<p>pin down dynamic symbol only. it is possible that attrset ID can be
registered as a static symbol after the corresponding attrget ID has been
registered as a dynamic, and then the latter may be collected.
[ruby-core:62226] [Bug #9787]</p>
</dd></dl>

<h2 id="label-2014-04-29">2014-04-29</h2>

<h3 id="label-Tue+Apr+29+14-3A17-3A57+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr 29 14:17:57 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tmpdir.rb
<dd>
<p>Rescue <a href="../../classes/LoadError.html">LoadError</a> on etc.so for
miniruby. Revert r45707, r45711, r45717.</p>
</dd></dl>

<h3 id="label-Tue+Apr+29+12-3A50-3A02+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr 29 12:50:02 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>Don&#39;t need to define fu_get_gid and fu_get_gid in rescue <a
href="../../classes/LoadError.html">LoadError</a> on &#39;etc&#39;.</p>
</dd></dl>

<h3 id="label-Tue+Apr+29+10-3A21-3A38+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Apr 29 10:21:38 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (symbols_i)
<dd>
<p>like r45492, call rb_gc_resurrect().</p>
</dd></dl>

<h3 id="label-Tue+Apr+29+04-3A29-3A05+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Apr 29 04:29:05 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (HAVE_STRUCT_STATFS_T_F_FSTYPENAME)
<dd>
<p>Add new macro for statfs_t.</p>
</dd><dt>file.c (HAVE_STRUCT_STATFS_T_F_TYPE)
<dd>
<p>ditto.</p>
</dd><dt>file.c (rb_io_statfs)
<dd>
<p>check FSTATFS macro only instead of HAVE_FSTATFS and HAVE_FSTATVFS.</p>
</dd><dt>file.c (statfs_type)
<dd>
<p>use new macro.</p>
</dd><dt>file.c (statfs_fstypename)
<dd>
<p>ditto.</p>
</dd><dt>file.c (statfs_inspect)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Apr+29+00-3A20-3A26+2014++Rajarshi+Das++-3Crajarshid-40cybage.com-3E">Tue Apr 29 00:20:26 2014  Rajarshi Das  &lt;rajarshid@cybage.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_literal.rb
<dd>
<p>fix typo of “dynamic”.  [ci skip]</p>
</dd><dt>regexp.rdoc
<dd>
<p>fix typo of “organized”.  [ci skip]</p>
</dd><dt>lib/session.rb
<dd>
<p>fix typo of “recognized”.  [ci skip]</p>
</dd></dl>

<h2 id="label-2014-04-28">2014-04-28</h2>

<h3 id="label-Mon+Apr+28+21-3A40-3A27+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 28 21:40:27 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (HAVE_STRUCT_STATFS_F_TYPE)
<dd>
<p>check struct statfs.f_type to support OpenBSD.</p>
</dd><dt>file.c (statfs_type)
<dd>
<p>use above macro to switch.</p>
</dd><dt>file.c (statfs_inspect)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+28+18-3A06-3A08+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 28 18:06:08 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check struct statvfs and struct statvfs.f_fstypename.</p>
</dd><dt>configure.in
<dd>
<p>on NetBSD fstatfs is obsoleted.</p>
</dd><dt>file.c
<dd>
<p>support NetBSD for File::Statfs.</p>
</dd></dl>

<h3 id="label-Mon+Apr+28+17-3A42-3A42+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Mon Apr 28 17:42:42 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>This argument must be a pointer.</p>
</dd></dl>

<h3 id="label-Mon+Apr+28+17-3A40-3A15+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Mon Apr 28 17:40:15 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Fix typos. These are undefined variables.</p>
</dd></dl>

<h2 id="label-2014-04-27">2014-04-27</h2>

<h3 id="label-Sun+Apr+27+19-3A39-3A42+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sun Apr 27 19:39:42 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_strptime.c (date__strptime_internal)
<dd>
<p>do not overwrite century.</p>
</dd></dl>

<h2 id="label-2014-04-26">2014-04-26</h2>

<h3 id="label-Sat+Apr+26+11-3A50-3A08+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr 26 11:50:08 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_enum.rb (test_flat_map)
<dd>
<p>Added test for flat_map. Contribute from @igaiga. [fix GH-598]</p>
</dd></dl>

<h3 id="label-Sat+Apr+26+10-3A55-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 26 10:55:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (compile_array_)
<dd>
<p>make copy a first hash not to modify the argument itself.  keyword splat
should be non-destructive. [ruby-core:62161] [Bug #9776]</p>
</dd></dl>

<h3 id="label-Sat+Apr+26+08-3A05-3A36+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 26 08:05:36 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_rlimit_nofile)
<dd>
<p>Don&#39;t limit RLIMIT_NOFILE too small. This fix sporadic “[ASYNC BUG]
thread_timer: select” on GNU/Linux.</p>
</dd></dl>

<h2 id="label-2014-04-25">2014-04-25</h2>

<h3 id="label-Fri+Apr+25+22-3A54-3A34+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Fri Apr 25 22:54:34 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (rmdir)
<dd>
<p>rescue Errno::EEXIST in addition to ENOTEMPTY (and ENOENT), because SUSv3
describes that “If the directory is not an empty directory, rmdir() shall
fail and set errno to [EEXIST] or [ENOTEMPTY]” and Solaris uses EEXIST.
[Bug #9571] [ruby-dev:48017]</p>
</dd></dl>

<h3 id="label-Fri+Apr+25+19-3A16-3A30+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 25 19:16:30 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb
<dd>
<p>Don&#39;t rescue <a href="../../classes/LoadError.html">LoadError</a> for
&#39;etc&#39; extension.</p>
</dd></dl>

<h3 id="label-Fri+Apr+25+14-3A55-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 25 14:55:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_func___builtin_unreachable)
<dd>
<p>try with an external variable not only by a warning, which might not be
shown due to the optimization.  [ruby-core:61647] [Bug #9665]</p>
</dd></dl>

<h3 id="label-Fri+Apr+25+13-3A11-3A49+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 25 13:11:49 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>NetBSD&#39;s ksh, used by configure, needs escapes.</p>
</dd></dl>

<h3 id="label-Fri+Apr+25+12-3A51-3A08+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 25 12:51:08 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>correct pthread_setname_np&#39;s prototype on NetBSD. [Bug #9586]</p>
</dd></dl>

<h2 id="label-2014-04-24">2014-04-24</h2>

<h3 id="label-Thu+Apr+24+23-3A17-3A25+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Apr 24 23:17:25 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (fu_get_uid, fu_get_gid)
<dd>
<p><a
href="../../classes/Etc.html#method-c-getpwnam">Etc.getpwnam</a>/getgrnam
may returns nil.</p>
</dd><dt>lib/webrick/utils.rb (su)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+22-3A55-3A22+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 24 22:55:22 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_io.rb
<dd>
<p>Add etc.so to $“ before require &#39;tmpdir&#39;.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+21-3A09-3A55+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu Apr 24 21:09:55 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1
<dd>
<p>fix broken link.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+20-3A53-3A02+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 24 20:53:02 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tmpdir.rb
<dd>
<p>Don&#39;t need to rescue <a
href="../../classes/LoadError.html">LoadError</a> for etc.so.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+17-3A39-3A53+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 24 17:39:53 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (statfs_inspect)
<dd>
<p>suppress warnings. assume those values won&#39;t be larger than
LONG_LONG_MAX.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+11-3A53-3A28+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 24 11:53:28 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_asn1.c (ossl_asn1_initialize)
<dd>
<p>SYMID on a value other than <a href="../../classes/Symbol.html">Symbol</a>
is an undefined behavior.  fix up r31699. [ruby-core:62142] [Bug #9771]</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+11-3A21-3A37+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 24 11:21:37 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_sym2id, rb_sym2id_without_pindown)
<dd>
<p>return 0 for non-symbol values, for the time being.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+05-3A50-3A13+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 24 05:50:13 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (dsym_node_gen)
<dd>
<p>like r45492, call rb_gc_resurrect().</p>
</dd></dl>

<h2 id="label-2014-04-23">2014-04-23</h2>

<h3 id="label-Wed+Apr+23+20-3A36-3A22+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr 23 20:36:22 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/etc/extconf.rb
<dd>
<p>Build ext/etc unconditionally.</p>
</dd></dl>

<h3 id="label-Wed+Apr+23+14-3A10-3A50+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Apr 23 14:10:50 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (statfs_fsid)
<dd>
<p>remove statfs.f_fsid because it doesn&#39;t return meaningful value
portably. <a
href="http://togetter.com/li/658517">togetter.com/li/658517</a></p>
</dd></dl>

<h3 id="label-Wed+Apr+23+11-3A03-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 23 11:03:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_write)
<dd>
<p>use rb_str_append to reuse coderange bits other than ASCII-8BIT, and keep
taintedness.  [ruby-dev:48118] [Bug #9769]</p>
</dd></dl>

<h3 id="label-Wed+Apr+23+00-3A43-3A00+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Apr 23 00:43:00 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c, include/ruby/win32.h (ustatfs)
<dd>
<p>implementation of statfs(2) clone. [EXPERIMENTAL]</p>
</dd><dt>file.c (rb_io_statfs)
<dd>
<p>use above function.</p>
</dd><dt>configure.in, win32/Makefile.sub (struct statfs)
<dd>
<p>available.</p>
</dd></dl>

<h2 id="label-2014-04-22">2014-04-22</h2>

<h3 id="label-Tue+Apr+22+23-3A56-3A24+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Apr 22 23:56:24 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_io_stafs)
<dd>
<p>use statfs(2) if fstatfs(2) is unavailable.</p>
</dd><dt>configure.in (fstatfs)
<dd>
<p>check it.</p>
</dd></dl>

<h3 id="label-Tue+Apr+22+22-3A15-3A51+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Apr 22 22:15:51 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_io_statfs)
<dd>
<p>need to define even if the system doesn&#39;t have fstatfs(2).</p>
</dd><dt>test/ruby/test_file.rb (TestFile#test_statfs)
<dd>
<p>skip if IO#stafs is not implemented.</p>
</dd></dl>

<h3 id="label-Tue+Apr+22+19-3A32-3A48+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr 22 19:32:48 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>newly added a class File::Statfs. (experimental)</p>
</dd></dl>

<h3 id="label-Tue+Apr+22+08-3A22-3A33+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Apr 22 08:22:33 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_malloc_increase)
<dd>
<p>don&#39;t cause <a href="../../classes/GC.html">GC</a> by malloc_increase
when memop type is MEMOP_TYPE_REALLOC. <a
href="../../classes/GC.html">GC</a> at realloc is not well maintained. We
need a time to make it safe. [ruby-dev:48117]</p>
</dd></dl>

<h3 id="label-Tue+Apr+22+06-3A54-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr 22 06:54:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_malloc_increase)
<dd>
<p>run full mark if 0x04 bit is set in ruby_gc_stress.  [ruby-core:62103]
[Feature #9761]</p>
</dd><dt>gc.c (objspace_malloc_increase)
<dd>
<p>run <a href="../../classes/GC.html">GC</a> after realloc not only malloc
and calloc by <a
href="../../classes/GC.html#method-c-stress">GC.stress</a>. 
[ruby-core:62103] [Feature #9761]</p>
</dd></dl>

<h2 id="label-2014-04-21">2014-04-21</h2>

<h3 id="label-Mon+Apr+21+19-3A12-3A20+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 21 19:12:20 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_coderange_scan_restartable)
<dd>
<p>coderange is always ENC_CODERANGE_VALID if the string is ASCII-8BIT and
already has a non ASCII character.</p>
</dd></dl>

<h3 id="label-Mon+Apr+21+19-3A02-3A44+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 21 19:02:44 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (coderange_scan)
<dd>
<p>remove useless condition `p &lt; e` after search_nonascii.</p>
</dd><dt>string.c (rb_str_coderange_scan_restartable)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+21+18-3A55-3A21+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 21 18:55:21 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/string/coderange.c
<dd>
<p>add Bug::String.new#coderange_scan to explicitly scan coderange.</p>
</dd></dl>

<h3 id="label-Mon+Apr+21+18-3A19-3A35+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 21 18:19:35 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (coderange_scan)
<dd>
<p>remove unused logic.</p>
</dd><dt>string.c (rb_str_coderange_scan_restartable)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+21+14-3A11-3A48+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr 21 14:11:48 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_putc)
<dd>
<p>fix for non-ascii encoding, like as <a
href="../../classes/IO.html#method-i-putc">IO#putc</a>.  [ruby-dev:48114]
[Bug #9765]</p>
</dd></dl>

<h2 id="label-2014-04-20">2014-04-20</h2>

<h3 id="label-Sun+Apr+20+12-3A57-3A15+2014++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Sun Apr 20 12:57:15 2014  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_foreach_check)
<dd>
<p>change start point of search at check from top to current. [ruby-dev:48047]
[Bug #9646]</p>
</dd></dl>

<h3 id="label-Sun+Apr+20+08-3A41-3A33+2014++Andrew+DeMaria++-3Cademariad-40gmail.com-3E">Sun Apr 20 08:41:33 2014  Andrew DeMaria  &lt;ademariad@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (link_command, libpathflag, create_makefile)
<dd>
<p>prefer user specified `$LIBPATH` than `$DEFLIBPATH`.  [ruby-core:62100]
[ruby-trunk - Bug #9760]</p>
</dd></dl>

<h3 id="label-Sun+Apr+20+06-3A01-3A18+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Apr 20 06:01:18 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_writebarrier)
<dd>
<p>drop special case for big hash/array [Bug #9518]</p>
</dd></dl>

<h2 id="label-2014-04-19">2014-04-19</h2>

<h3 id="label-Sat+Apr+19+15-3A38-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 19 15:38:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (primary)
<dd>
<p>flush cmdarg flags inside left-paren in a command argument, to allow
parenthesed do-block as an argument without arguments parentheses. 
[ruby-core:61950] [Bug #9726]</p>
</dd></dl>

<h3 id="label-Sat+Apr+19+10-3A07-3A24+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 19 10:07:24 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (struct RBignum)
<dd>
<p>Use size_t for len.</p>
</dd><dt>include/ruby/intern.h (rb_big_new)
<dd>
<p>Use size_t instead of long to specify the size of bignum.</p>
</dd><dt>(rb_big_resize)
<dd>
<p>Ditto.</p>
</dd><dt>bignum.c
<dd>
<p>Follow above changes.</p>
</dd><dt>rational.c
<dd>
<p>Follow above changes.</p>
</dd><dt>marshal.c
<dd>
<p>Follow above changes.</p>
</dd></dl>

<h3 id="label-Sat+Apr+19+00-3A32-3A07+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 19 00:32:07 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (rb_num2long)
<dd>
<p>Returns a long.</p>
</dd><dt>(rb_num2ulong)
<dd>
<p>Returns a unsigned long.</p>
</dd><dt>bignum.c (rb_big2long)
<dd>
<p>Returns a long.</p>
</dd><dt>(rb_big2ulong)
<dd>
<p>Returns a unsigned long.</p>
</dd><dt>include/ruby/intern.h
<dd>
<p>Follow above changes.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>Follow above changes.</p>
</dd><dt>(rb_num2long_inline)
<dd>
<p>No need to cast.</p>
</dd><dt>(rb_num2ulong_inline)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr+19+00-3A17-3A20+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 19 00:17:20 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (SHARABLE_SUBSTRING_P)
<dd>
<p>predicate if substring can be shared with the original string.  true if
just at the end of the original string, for the time being.  all substring
will be able to be shared in the future.</p>
</dd></dl>

<h2 id="label-2014-04-18">2014-04-18</h2>

<h3 id="label-Fri+Apr+18+21-3A48-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 18 21:48:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_new_frozen)
<dd>
<p>consider the shared string at middle.</p>
</dd><dt>string.c (rb_str_subseq, rb_str_substr, str_byte_substr)
<dd>
<p>share middle of a string.</p>
</dd></dl>

<h3 id="label-Fri+Apr+18+15-3A40-3A05+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 18 15:40:05 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>use uintptr_t instead of VALUE because they are not ruby object.</p>
</dd></dl>

<h3 id="label-Fri+Apr+18+14-3A51-3A42+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 18 14:51:42 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>check str_strlen&#39;s argument, and add comment or use NULL if simply it
uses str&#39;s enc.</p>
</dd></dl>

<h3 id="label-Fri+Apr+18+14-3A32-3A40+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 18 14:32:40 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_strlen)
<dd>
<p>use enc_strlen if the coderange is known.</p>
</dd></dl>

<h3 id="label-Fri+Apr+18+14-3A21-3A21+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 18 14:21:21 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (enc_strlen)
<dd>
<p>move UTF-8 optimization from str_strlen to enc_strlen.</p>
</dd></dl>

<h3 id="label-Fri+Apr+18+08-3A50-3A18+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 18 08:50:18 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_getcwd_malloc)
<dd>
<p>check if getcwd allocates buffer if NULL is given [ruby-core:62072] [Bug
#9752]</p>
</dd></dl>

<h2 id="label-2014-04-17">2014-04-17</h2>

<h3 id="label-Thu+Apr+17+16-3A28-3A10+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Apr 17 16:28:10 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>prelude.rb
<dd>
<p>[DOC] Update <a
href="../../classes/Thread.html#method-c-exclusive">Thread.exclusive</a>
docs by @stevenharman.</p>
</dd></dl>

<h3 id="label-Thu+Apr+17+10-3A03-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 17 10:03:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#copy_entry)
<dd>
<p>update rdoc about preserve option and permissions, following r31123.
[ruby-core:62065] [Bug #9748]</p>
</dd></dl>

<h2 id="label-2014-04-16">2014-04-16</h2>

<h3 id="label-Wed+Apr+16+23-3A47-3A36+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 16 23:47:36 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (dont_recycle_block_arg)
<dd>
<p>fix condition to recycle block argument.  lambda with rest can get internal
array directly. [ruby-core:62060] [Bug #9749]</p>
</dd></dl>

<h3 id="label-Wed+Apr+16+09-3A51-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 16 09:51:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_pkey.c (ossl_pkey_verify)
<dd>
<p>as EVP_VerifyFinal() finalizes only a copy of the digest context, the
context must be cleaned up after initialization by EVP_MD_CTX_cleanup() or
a memory leak will occur.  [ruby-core:62038] [Bug #9743]</p>
</dd></dl>

<h2 id="label-2014-04-15">2014-04-15</h2>

<h3 id="label-Tue+Apr+15+19-3A36-3A42+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Apr 15 19:36:42 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h (rb_w32_cmdvector)
<dd>
<p>removed.</p>
</dd><dt>win32/win32.c (rb_w32_sysinit)
<dd>
<p>use WCHAR version of GetCommandLine() internally.</p>
</dd><dt>win32/win32.c (w32_cmdvector)
<dd>
<p>renamed from rb_w32_cmdvector.  use WCHAR* instead of char* internally.
these changes are expected to not changing the behavior yet.</p>
</dd></dl>

<h3 id="label-Tue+Apr+15+19-3A26-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Apr 15 19:26:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>Re-generate extmk.mk and dummy makefiles only if really required. This
fixes a problem to run multiple test-all concurrently as: make test-all
&amp; make test-all &amp; make test-all &amp; …</p>
</dd></dl>

<h3 id="label-Tue+Apr+15+12-3A49-3A53+2014++Sam+Rawlins++-3Csam.rawlins-40gmail.com-3E">Tue Apr 15 12:49:53 2014  Sam Rawlins  &lt;sam.rawlins@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_each_slice, enum_each_cons)
<dd>
<p>make more efficient by allocating less and recycling block argument arrays
if possible. [Fixes GH-596]</p>
</dd></dl>

<h2 id="label-2014-04-14">2014-04-14</h2>

<h3 id="label-Mon+Apr+14+18-3A44-3A45+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 14 18:44:45 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>get base addrs in fill_lines to use it with dladdr_fbases introduced at
r45563. it didn&#39;t get before if the executable is not pie.</p>
</dd></dl>

<h3 id="label-Mon+Apr+14+18-3A05-3A48+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr 14 18:05:48 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (main_exe_path)
<dd>
<p>support FreeBSD. At least sh, csh, tcsh, bash, and zsh sets realpath of the
main executable for dladdr, but gdb doesn&#39;t.</p>
</dd></dl>

<h3 id="label-Mon+Apr+14+17-3A20-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Apr 14 17:20:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (umethod_bind)
<dd>
<p>use the ancestor iclass instead of new iclass to get rid of infinite
recursion, if the defined module is already included.  [ruby-core:62014]
[Bug #9721]</p>
</dd></dl>

<h2 id="label-2014-04-13">2014-04-13</h2>

<h3 id="label-Sun+Apr+13+12-3A46-3A58+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 13 12:46:58 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (SIZEOF_BDIGIT)
<dd>
<p>Renamed from SIZEOF_BDIGITS.</p>
</dd><dt>internal.h
<dd>
<p>Ditto.</p>
</dd><dt>marshal.c
<dd>
<p>Ditto.</p>
</dd><dt>rational.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Apr+13+10-3A18-3A09+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 13 10:18:09 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Unused target, $(MKMAIN_CMD), removed.</p>
</dd><dt>Makefile.in (MKMAIN_CMD)
<dd>
<p>Unused macro removed.</p>
</dd><dt>win32/Makefile.sub (MKMAIN_CMD)
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-04-12">2014-04-12</h2>

<h3 id="label-Sat+Apr+12+22-3A11-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 12 22:11:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (sym_to_proc), proc.c (rb_block_clear_env_self)
<dd>
<p>clear caller&#39;s self which is useless, so that it can get collected.
[Fixes GH-592]</p>
</dd></dl>

<h3 id="label-Sat+Apr+12+09-3A26-3A48+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Apr 12 09:26:48 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ocsp.c
<dd>
<p>[DOC] Document <a href="../../classes/OpenSSL/OCSP.html">OpenSSL::OCSP</a>.</p>
</dd></dl>

<h2 id="label-2014-04-11">2014-04-11</h2>

<h3 id="label-Fri+Apr+11+18-3A52-3A38+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 11 18:52:38 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ARY_SET)
<dd>
<p>added. ARY_SET() is same functionality of RARRAY_ASET(), but it has an
assertion (`ary&#39; doesn&#39;t have shared array).</p>
</dd></dl>

<h3 id="label-Fri+Apr+11+16-3A54-3A26+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 11 16:54:26 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>make shared arrays WB-protected objects. Shared arrays were WB-unprotected
object because sharing array can modify shared array&#39;s buffer if it
occupied shared array. [sharing array (ary)] -&gt; [shared array (shared)]
-&gt; &lt;buff&gt; |                                       A
<code>---------------------------------------</code> write `buff&#39; with
WB(ary, &amp;<a href="i">buff</a>, obj) -&gt; if `ary&#39; and `shared&#39;
are old, then only `ary&#39; will be remembered. -&gt; traverse from
`ary&#39;. But `shared&#39; is old, so that written `obj&#39; is not
marked. It cause WB miss so that shared arrays were WB-unprotected.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Fri+Apr+11+15-3A05-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 11 15:05:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_call_with_block, umethod_bind)
<dd>
<p>call with IClass including the module for a module instance method.
[ruby-core:61936] [Bug #9721]</p>
</dd><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>allow bound <a href="../../classes/UnboundMethod.html">UnboundMethod</a>
case.</p>
</dd></dl>

<h3 id="label-Fri+Apr+11+12-3A02-3A30+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 11 12:02:30 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>set base address which is retrieved from dladdr to dladdr_fbases, to skip
already parsed objects.</p>
</dd></dl>

<h3 id="label-Fri+Apr+11+12-3A44-3A50+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 11 12:44:50 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_reject)
<dd>
<p>may be turned into a shared array during the given block.  [ruby-dev:48101]
[Bug #9727]</p>
</dd></dl>

<h2 id="label-2014-04-10">2014-04-10</h2>

<h3 id="label-Thu+Apr+10+23-3A41-3A21+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Apr 10 23:41:21 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (Net::FTP#login)
<dd>
<p>[DOC] The default password for anonymous login was changed to “anonymous@”
in r25313.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+19-3A22-3A58+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Apr 10 19:22:58 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_array.rb
<dd>
<p>remove useless `assert&#39;.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+19-3A11-3A11+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Apr 10 19:11:11 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_modify)
<dd>
<p>remember shared array owner if a shared array owner is promoted and a
shared array is not promoted. Now, shared array is WB-unprotected so that
shared arrays are not promoted.  All objects referred from shared array
should be marked correctly. [ruby-core:61919] [ruby-trunk - Bug #9718]</p>
</dd><dt>test/ruby/test_array.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+18-3A57-3A12+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Apr 10 18:57:12 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_verify_internal_consistency)
<dd>
<p>move lines and enable allrefs_dump() on RGENGC_CHECK_MODE &gt;= 4.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+15-3A01-3A06+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Apr 10 15:01:06 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (append_obj)
<dd>
<p>clear allocated memory.</p>
</dd><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>free `base_addrs&#39;.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+14-3A40-3A18+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Apr 10 14:40:18 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_gc_writebarrier_unprotect_promoted)
<dd>
<p>disable to dump debug message when RGENGC_CHECK_MODE == 0.</p>
</dd></dl>

<h3 id="label-Thu+Apr+10+08-3A13-3A47+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr 10 08:13:47 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (check_stack_overflow)
<dd>
<p>Don&#39;t use ucontext_t if ucontext.h is not available. Fixes build on
Android (x86).</p>
</dd></dl>

<h2 id="label-2014-04-09">2014-04-09</h2>

<h3 id="label-Wed+Apr++9+23-3A22-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  9 23:22:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (mark_current_machine_context)
<dd>
<p>Call SET_STACK_END. This reverts a hunk of r40703 by ko1. This fixes
[ruby-dev:48098] [Bug #9717].</p>
</dd></dl>

<h3 id="label-Wed+Apr++9+21-3A02-3A04+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Apr  9 21:02:04 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (OBJ2UID1)
<dd>
<p>Defined even if getpwnam_r is not usable.</p>
</dd><dt>(OBJ2GID1)
<dd>
<p>Defined even if getgrnam_r is not usable. This fixes compilation error on
Android.</p>
</dd></dl>

<h3 id="label-Wed+Apr++9+15-3A16-3A59+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  9 15:16:59 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_enc_default_internal)
<dd>
<p>fix rdoc.  `__FILE__` is in filesystem encoding but not `default_internal`.
[ruby-core:61894] [Bug #9713]</p>
</dd></dl>

<h3 id="label-Wed+Apr++9+14-3A43-3A00+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr  9 14:43:00 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>more long timeout. This test failed under RGENGC_CHECK_MODE &gt;= 2.</p>
</dd></dl>

<h3 id="label-Wed+Apr++9+13-3A07-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  9 13:07:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>get rid of __builtin_setjmp/__builtin_longjmp on x64-mingw, which causes
SEGV with callcc. [ruby-core:61887] [Bug #9710]</p>
</dd></dl>

<h3 id="label-Wed+Apr++9+12-3A44-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  9 12:44:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_buf_cat)
<dd>
<p>should round up the capacity by 4KiB, but not number of rooms. 
[ruby-core:61886] [Bug #9709]</p>
</dd></dl>

<h2 id="label-2014-04-08">2014-04-08</h2>

<h3 id="label-Tue+Apr++8+22-3A55-3A32+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Tue Apr  8 22:55:32 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#dir_config)
<dd>
<p>[DOC] Improve documentation.</p>
</dd></dl>

<h3 id="label-Tue+Apr++8+22-3A31-3A44+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Apr  8 22:31:44 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename `RGENGC_THREEGEN&#39; to `RGENGC_AGE2_PROMOTION&#39;.</p>
</dd><dt>gc.c (rgengc_rememberset_mark)
<dd>
<p>don&#39;t promote, but remain in remember set for infant objects.</p>
</dd><dt>gc.c (RVALUE_PROMOTE_INFANT, RVALUE_PROMOTE_YOUNG)
<dd>
<p>count numbers in these functions.</p>
</dd></dl>

<h2 id="label-2014-04-07">2014-04-07</h2>

<h3 id="label-Mon+Apr++7+21-3A11-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  7 21:11:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sock_s_getnameinfo)
<dd>
<p>Save errno for EAI_SYSTEM. Reported by Saravana kumar.  [ruby-core:61820]
[Bug #9697] Fixed by Heesob Park.  [ruby-core:61868]</p>
</dd></dl>

<h3 id="label-Mon+Apr++7+07-3A20-3A23+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr  7 07:20:23 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb (do_rpc)
<dd>
<p>don&#39;t check body length. If HTTP content-encoding is used, the length
may be different. [Bug #8182] [ruby-core:53811]</p>
</dd></dl>

<h2 id="label-2014-04-06">2014-04-06</h2>

<h3 id="label-Sun+Apr++6+08-3A52-3A50+2014++Bugra+Barin++-3Cbugrabarin-40hotmail.com-3E">Sun Apr  6 08:52:50 2014  Bugra Barin  &lt;bugrabarin@hotmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln.c (dln_load)
<dd>
<p>use wchar version to load a library in non-ascii path on Windows.  based on
the patch by Bugra Barin &lt;bugrabarin AT hotmail.com&gt; in
[ruby-core:61845].  [Bug #9699]</p>
</dd></dl>

<h2 id="label-2014-04-05">2014-04-05</h2>

<h3 id="label-Sat+Apr++5+19-3A36-3A33+2014++Tadayoshi+Funaba++-3Ctadf-40dotrb.org-3E">Sat Apr  5 19:36:33 2014  Tadayoshi Funaba  &lt;tadf@dotrb.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c (d_lite_cmp)
<dd>
<p>should compare with #&lt;.</p>
</dd></dl>

<h3 id="label-Sat+Apr++5+00-3A31-3A21+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr  5 00:31:21 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/extconf.rb (rl_hook_func_t)
<dd>
<p>check pointer type. [ruby-dev:48089] [Bug #9702]</p>
</dd></dl>

<h2 id="label-2014-04-04">2014-04-04</h2>

<h3 id="label-Fri+Apr++4+07-3A13-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr  4 07:13:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (ac_cv_func___builtin_setjmp)
<dd>
<p>should not skip flags restoration in RUBY_WERROR_FLAG by `break`.
[ruby-dev:48086] [Bug #9698]</p>
</dd></dl>

<h2 id="label-2014-04-02">2014-04-02</h2>

<h3 id="label-Wed+Apr++2+21-3A50-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  2 21:50:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (ac_cv_func___builtin_setjmp)
<dd>
<p>__builtin_longjmp() in Apple LLVM 5.1 (LLVM 3.4svn) uses `void**`, not
`jmp_buf`. [Bug #9692]</p>
</dd></dl>

<h3 id="label-Wed+Apr++2+20-3A57-3A15+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr  2 20:57:15 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, gc.h (rb_objspace_each_objects_without_setup)
<dd>
<p>Add a new (hidden) C-API to iterate objspace snapshot. This API is not safe
to call any C-APIs in a given callback function. Be careful to use this
C-API.</p>
</dd></dl>

<h3 id="label-Wed+Apr++2+17-3A43-3A17+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  2 17:43:17 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (ac_cv_func___builtin_setjmp)
<dd>
<p>gcc 4.9 disallows a variable as the second argument of __builtin_longjmp().
[ruby-core:61800] [Bug #9692]</p>
</dd></dl>

<h3 id="label-Wed+Apr++2+15-3A12-3A18+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Apr  2 15:12:18 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Use redmine-2.x url for DeveloperHowto wiki. [ruby-core:60657] [Bug #9511]</p>
</dd></dl>

<h3 id="label-Wed+Apr++2+11-3A46-3A29+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Apr  2 11:46:29 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (Pathname#join)
<dd>
<p>Fix error with empty args. Reported by ko1 via IRC.</p>
</dd><dt>test/pathname/test_pathname.rb (TestPathname#test_join)
<dd>
<p>Add the test for above case.</p>
</dd></dl>

<h2 id="label-2014-04-01">2014-04-01</h2>

<h3 id="label-Tue+Apr++1+11-3A39-3A57+2014++James+Edward+Gray+II++-3Cjames-40graysoftinc.com-3E">Tue Apr  1 11:39:57 2014  James Edward Gray II  &lt;james@graysoftinc.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p><a href="../../classes/Symbol.html">Symbol</a> HeaderConverter: strip
leading/trailing space. Reported by Skye Shaw [Fixes GH-575]</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+11-3A34-3A04+2014++James+Edward+Gray+II++-3Cjames-40graysoftinc.com-3E">Tue Apr  1 11:34:04 2014  James Edward Gray II  &lt;james@graysoftinc.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>Don&#39;t attempt to convert nil headers. Reported by Skye Shaw</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+17-3A29-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr  1 17:29:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/config_files.rb (ConfigFiles.download)
<dd>
<p>show failed <a href="../../classes/URI.html">URI</a>. [ruby-core:61792]
[Bug #9690]</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+12-3A06-3A49+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  1 12:06:49 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>don&#39;t depend hard coded symbol &#39;_start&#39;.</p>
</dd><dt>addr2line.c (fill_lines)
<dd>
<p>instead of above, get a dynamic symbol in the main executable and use it to
know the base address.</p>
</dd><dt>addr2line.c (follow_debuglink0)
<dd>
<p>use obj_info_t instead of line_info_t to handle object related data.</p>
</dd><dt>addr2line.c (main_exe_path)
<dd>
<p>defined for Linux.</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+08-3A58-3A39+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Apr  1 08:58:39 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_str_dynamic_intern)
<dd>
<p>set mark bit if dynamic symbol is before sweeping.</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+07-3A37-3A00+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  1 07:37:00 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>use dynsym, which is used for dynamic linking and always exists, if
there&#39;s no symtab.</p>
</dd></dl>

<h3 id="label-Tue+Apr++1+07-3A27-3A15+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Apr  1 07:27:15 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_print_backtrace)
<dd>
<p>current implementation uses dladdr to get the path of objects.</p>
</dd></dl>

<h2 id="label-2014-03-31">2014-03-31</h2>

<h3 id="label-Mon+Mar+31+23-3A57-3A45+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 31 23:57:45 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/extconf.rb
<dd>
<p>fix typo, `$defs` not `$DEFS`. [ruby-core:61756] [Bug #9578]</p>
</dd></dl>

<h3 id="label-Mon+Mar+31+17-3A23-3A50+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar 31 17:23:50 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/memory_status.rb
<dd>
<p>require envutil before accessing EnvUtil module.  reported by ko1 via
twitter.</p>
</dd></dl>

<h3 id="label-Mon+Mar+31+10-3A28-3A01+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Mar 31 10:28:01 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_init_table_with_size)
<dd>
<p>update comment [Feature #9425]</p>
</dd></dl>

<h2 id="label-2014-03-30">2014-03-30</h2>

<h3 id="label-Sun+Mar+30+23-3A39-3A26+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Mar 30 23:39:26 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_accept, open_ifs_socket, socketpair_internal)
<dd>
<p>reset inherit flag of socket to avoid unintentional inheritance of socket. 
note that the return value of SetHandleInformation() is not verified
intentionally because old Windows may return an error. [Bug #9688]
[ruby-core:61754]</p>
</dd></dl>

<h2 id="label-2014-03-29">2014-03-29</h2>

<h3 id="label-Sat+Mar+29+13-3A04-3A22+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Mar 29 13:04:22 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_before_sweep)
<dd>
<p>cap `malloc_limit&#39; to gc_params.malloc_limit_max.  It can grow and grow
with such case: `loop{“a” * (1024 ** 2)}&#39; [Bug #9687] This issue is
pointed by Tim Robertson. <a
href="http://www.omniref.com/blog/blog/2014/03/27/ruby-garbage-collection-still-not-ready-for-production">www.omniref.com/blog/blog/2014/03/27/ruby-garbage-collection-still-not-ready-for-production</a>/</p>
</dd></dl>

<h2 id="label-2014-03-28">2014-03-28</h2>

<h3 id="label-Fri+Mar+28+19-3A32-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 28 19:32:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (not_a_member)
<dd>
<p>extract name error and use same error messages.  based on the patch by
Marcus Stollsteimer &lt;sto.mar AT web.de&gt; at [ruby-core:61721].  [Bug
#9684]</p>
</dd></dl>

<h3 id="label-Fri+Mar+28+09-3A21-3A54+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Mar 28 09:21:54 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/psych.gemspec
<dd>
<p>update gemspec for psych-2.0.5</p>
</dd></dl>

<h3 id="label-Fri+Mar+28+09-3A11-3A06+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Mar 28 09:11:06 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>Merge psych-2.0.5. bump version to libyaml-0.1.6 for CVE-2014-2525.</p>
</dd><dt>ext/psych/yaml/config.h
<dd>
<p>ditto.</p>
</dd><dt>ext/psych/yaml/scanner.c
<dd>
<p>ditto.</p>
</dd><dt>ext/psych/yaml/yaml_private.h
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-03-27">2014-03-27</h2>

<h3 id="label-Thu+Mar+27+18-3A58-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 27 18:58:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (match_regexp)
<dd>
<p>set regexp for <a href="../../classes/MatchData.html">MatchData</a> from
string.</p>
</dd><dt>re.c (rb_backref_set_string)
<dd>
<p>create <a href="../../classes/MatchData.html">MatchData</a> from string and
set backref.</p>
</dd><dt>string.c (rb_pat_search, rb_str_sub, rb_str_sub_bang, str_gsub), (scan_once, rb_str_scan, rb_str_partition)
<dd>
<p>use rb_str_index instead of rb_reg_search() when pattern is a String. 
based on the patch by Sam Rawlins &lt;sam.rawlins@gmail.com&gt; [Fixes
GH-579]</p>
</dd></dl>

<h3 id="label-Thu+Mar+27+11-3A58-3A55+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Mar 27 11:58:55 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>check <a href="i">shdr</a>.sh_type because even if .symtab section exists,
the section&#39;s type can be SHT_NOBITS and actual data doesn&#39;t exist
in the file. revert r45441.</p>
</dd></dl>

<h2 id="label-2014-03-26">2014-03-26</h2>

<h3 id="label-Wed+Mar+26+14-3A57-3A35+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Mar 26 14:57:35 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>inline must be static (for mswin). fixed build error introduced at r45426.</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+14-3A33-3A00+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Wed Mar 26 14:33:00 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (USE_SYMBOL_GC)
<dd>
<p>enable <a href="../../classes/Symbol.html">Symbol</a> <a
href="../../classes/GC.html">GC</a> by default (USE_SYMBOL_GC == 1).</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+13-3A25-3A54+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 13:25:54 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>loop reverse order not to overwrite the basis of base addresses comparison.</p>
</dd><dt>addr2line.c
<dd>
<p>use uintptr_t instead of intptr_t for pointers.</p>
</dd><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>don&#39;t use syms.</p>
</dd><dt>vm_dump.c (rb_print_backtrace)
<dd>
<p>ditto.</p>
</dd><dt>addr2line.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+11-3A20-3A50+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 26 11:20:50 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_object)
<dd>
<p>internal objects are not dumpable. [ruby-core:61677] [Bug #9674]</p>
</dd><dt>ext/thread/thread.c (undumpable)
<dd>
<p><a href="../../classes/ConditionVariable.html">ConditionVariable</a> and <a
href="../../classes/Queue.html">Queue</a> are not dumpable. 
[ruby-core:61677] [Bug #9674]</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+10-3A36-3A39+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 10:36:39 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (follow_debuglink)
<dd>
<p>show message if it closes opened</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Mar+26+10-3A34-3A25+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 10:34:25 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_line)
<dd>
<p>pass and use offset instead of curobj_baseaddr.</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+09-3A07-3A48+2014++Yutaka+Kanemoto++-3Ckanemoto-40ruby-lang.org-3E">Wed Mar 26 09:07:48 2014  Yutaka Kanemoto  &lt;kanemoto@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add –disable-pie. [Feature #9673]</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+08-3A47-3A04+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 08:47:04 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>don&#39;t run fill_lines multiple times.</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+08-3A45-3A00+2014++Sam+Rawlins++-3Csam.rawlins-40gmail.com-3E">Wed Mar 26 08:45:00 2014  Sam Rawlins  &lt;sam.rawlins@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>add prototype for rb_reg_search0</p>
</dd><dt>re.c
<dd>
<p>rename rb_reg_search to rb_reg_search0, add set_backref_str argument to
allow callers to indicate that they don&#39;t require the backref string to
be allocated.</p>
</dd><dt>string.c
<dd>
<p>don&#39;t allocate backref str if replacement string is provided [GH-578]
[Bug #9676] [ruby-core:61682]</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+08-3A29-3A43+2014++mo+khan++-3Cmo-40mokhan.ca-3E">Wed Mar 26 08:29:43 2014  mo khan  &lt;mo@mokhan.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>fix spelling of Jim Weirich.  [Fixes GH-577]</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+01-3A55-3A45+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 01:55:45 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>a function to get must be a function in the main executable, whose absolute
path is not available by dladdr, and ruby get it by /proc/self/exe on
Linux.</p>
</dd></dl>

<h3 id="label-Wed+Mar+26+01-3A34-3A50+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 26 01:34:50 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>skip if path is NULL.</p>
</dd></dl>

<h2 id="label-2014-03-25">2014-03-25</h2>

<h3 id="label-Tue+Mar+25+22-3A57-3A11+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Tue Mar 25 22:57:11 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>support <a href="../../classes/Symbol.html">Symbol</a> <a
href="../../classes/GC.html">GC</a>. [ruby-trunk Feature #9634] See this
ticket about <a href="../../classes/Symbol.html">Symbol</a> <a
href="../../classes/GC.html">GC</a>.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>Declare few functions. * rb_sym2id: almost same as old SYM2ID but support
dynamic symbols. * rb_id2sym: almost same as old ID2SYM but support dynamic
symbols. * rb_sym2str: almost same as `rb_id2str(SYM2ID(sym))` but not pin
down a dynamic symbol. Declare a new struct. * struct RSymbol: represents a
dynamic symbol as object in Ruby&#39;s heaps. Add few macros. *
STATIC_SYM_P: check a static symbol. * DYNAMIC_SYM_P: check a dynamic
symbol. * RSYMBOL: cast to RSymbol</p>
</dd><dt>gc.c
<dd>
<p>declare RSymbol. support T_SYMBOL.</p>
</dd><dt>internal.h
<dd>
<p>Declare few functions. * rb_gc_free_dsymbol: free up a dynamic symbol. <a
href="../../classes/GC.html">GC</a> call this function at a sweep phase. *
rb_str_dynamic_intern: convert a string to a dynamic symbol. *
rb_check_id_without_pindown: not pinning function. *
rb_sym2id_without_pindown: ditto. * rb_check_id_cstr_without_pindown:
ditto.</p>
</dd><dt>string.c (Init_String)
<dd>
<p><a href="../../classes/String.html#method-i-intern">String#intern</a> and
<a href="../../classes/String.html#method-i-to_sym">String#to_sym</a> use
rb_str_dynamic_intern.</p>
</dd><dt>template/id.h.tmpl
<dd>
<p>use LSB of ID as a flag for determining a static symbol, so we shift left
other ruby_id_types.</p>
</dd><dt>string.c
<dd>
<p>use rb_sym2str instead `rb_id2str(SYM2ID(sym))` to avoid pinning.</p>
</dd><dt>load.c
<dd>
<p>use xx_without_pindown function at creating temporary ID to avoid pinning.</p>
</dd><dt>object.c
<dd>
<p>ditto.</p>
</dd><dt>sprintf.c
<dd>
<p>ditto.</p>
</dd><dt>struct.c
<dd>
<p>ditto.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd><dt>variable.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+25+23-3A57-3A17+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 25 23:57:17 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>only a newline after label should be significant.  [ruby-core:61658] [Bug
#9669]</p>
</dd></dl>

<h3 id="label-Tue+Mar+25+23-3A32-3A25+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Mar 25 23:32:25 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (Pathname#join)
<dd>
<p>remove unnecessary unshift.</p>
</dd><dt>test/pathname/test_pathname.rb (TestPathname#test_join)
<dd>
<p>add tests.</p>
</dd></dl>

<h3 id="label-Tue+Mar+25+16-3A47-3A36+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 25 16:47:36 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (lex_state_e, parser_params, f_arglist, parser_yylex)
<dd>
<p>separate EXPR_LABELARG from EXPR_BEG and let newline significant, so that
required keyword argument can place at the end of argument list without
parentheses.  [ruby-core:61658] [Bug #9669]</p>
</dd></dl>

<h2 id="label-2014-03-24">2014-03-24</h2>

<h3 id="label-Mon+Mar+24+22-3A19-3A56+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 24 22:19:56 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (ripper_initialize)
<dd>
<p>filename can not be modified.</p>
</dd></dl>

<h3 id="label-Mon+Mar+24+15-3A19-3A47+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 24 15:19:47 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>fetch path of the executable from /proc/self/exe on Linux.</p>
</dd></dl>

<h3 id="label-Mon+Mar+24+14-3A14-3A37+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Mar 24 14:14:37 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Fix up default <a href="../../classes/GC.html">GC</a> params by @csfrancis
[fix GH-556]</p>
</dd></dl>

<h3 id="label-Mon+Mar+24+13-3A13-3A36+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 24 13:13:36 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (parse_debug_line_cu)
<dd>
<p>explicitly specify signed char because DWARF&#39;s line_Base is signed char
and char maybe unsigned. patched by Rei Odaira. [ruby-dev:48068] [Bug
#9654]</p>
</dd></dl>

<h2 id="label-2014-03-23">2014-03-23</h2>

<h3 id="label-Sun+Mar+23+11-3A03-3A50+2014++Kohei+Suzuki++-3Ceagletmt-40gmail.com-3E">Sun Mar 23 11:03:50 2014  Kohei Suzuki  &lt;eagletmt@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_get_without_cache)
<dd>
<p>me-&gt;klass is 0 for a method aliased in a module.  [ruby-core:61636] [Bug
#9663]</p>
</dd></dl>

<h3 id="label-Sun+Mar+23+08-3A12-3A27+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Mar 23 08:12:27 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (hash_pos)
<dd>
<p>use bitwise AND to avoid slow modulo op</p>
</dd><dt>(new_size)
<dd>
<p>power-of-two sizes for hash_pos change</p>
</dd><dt>(st_numhash)
<dd>
<p>adjust for common keys due to lack of prime modulo [Feature #9425]</p>
</dd><dt>hash.c (rb_any_hash)
<dd>
<p>right shift for symbols</p>
</dd><dt>benchmark/bm_hash_aref_miss.rb
<dd>
<p>added to show improvement</p>
</dd><dt>benchmark/bm_hash_aref_sym_long.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_aref_str.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_aref_sym.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_ident_num.rb
<dd>
<p>added to prevent regression</p>
</dd><dt>benchmark/bm_hash_ident_obj.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_ident_str.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_ident_sym.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-03-22">2014-03-22</h2>

<h3 id="label-Sat+Mar+22+22-3A56-3A45+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Mar 22 22:56:45 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>compare the file names of object in which symbols exist. [Bug #9654]
[ruby-dev:48058]</p>
</dd></dl>

<h3 id="label-Sat+Mar+22+06-3A46-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 22 06:46:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/util.rb (escape_html, unescape_html)
<dd>
<p>make synonyms aliases instead of wrapper methods.</p>
</dd><dt>lib/cgi/util.rb (escape_element, unescape_element)
<dd>
<p>ditto. [Fixes GH-573]</p>
</dd></dl>

<h2 id="label-2014-03-21">2014-03-21</h2>

<h3 id="label-Fri+Mar+21+21-3A57-3A34+2014++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Mar 21 21:57:34 2014  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix a build problem with clang and –with-opt-dir. If ruby is configured
with –with-opt-dir=dir when using clang as compiler, a warning `clang:
warning: argument unused during compilation: &#39;-I dir&#39;` is emitted
almost every time clang compiles a file.  Unfortunately,
RUBY_CHECK_PRINTF_PREFIX takes any output from the compiler as fatal error,
and the check thus fails due to the warning.  This is an attempt to fix the
problem by adding a flag -Qunused-arguments to CFLAGS locally in the
function to suppress the warning. [ruby-dev:48062] [Bug #9658] [Fixes
GH-571] <a
href="https://github.com/ruby/ruby/pull/571">github.com/ruby/ruby/pull/571</a></p>
</dd></dl>

<h3 id="label-Fri+Mar+21+16-3A31-3A56+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Mar 21 16:31:56 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>[DOC] Fix call-seq for <a
href="../../classes/GC.html#method-c-start">GC.start</a> by @jasonrclark
[Fixes GH-572] <a
href="https://github.com/ruby/ruby/pull/572">github.com/ruby/ruby/pull/572</a></p>
</dd></dl>

<h2 id="label-2014-03-20">2014-03-20</h2>

<h3 id="label-Thu+Mar+20+11-3A37-3A28+2014++James+Edward+Gray+II++-3Cjames-40graysoftinc.com-3E">Thu Mar 20 11:37:28 2014  James Edward Gray II  &lt;james@graysoftinc.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>Fixed a broken regular expression that was causing <a
href="../../classes/CSV.html">CSV</a> to miss escaping some special meaning
characters when used in parsing. Reported by David Unric [ruby-core:54986]
[Bug #8405]</p>
</dd></dl>

<h3 id="label-Thu+Mar+20+16-3A53-3A07+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 20 16:53:07 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_malloc_increase)
<dd>
<p>should not invoke garbage_collect_with_gvl() here on non-ruby threads.
Should just ignore the malloc_increase. This issue is pointed by Eric Wong
[ruby-core:61519].</p>
</dd></dl>

<h3 id="label-Thu+Mar+20+13-3A05-3A16+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 20 13:05:16 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_alloc)
<dd>
<p>use RARRAY_CONST_PTR() instead of RARRAY_PTR().</p>
</dd></dl>

<h3 id="label-Thu+Mar+20+12-3A59-3A39+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 20 12:59:39 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_obj_call_init, rb_class_new_instance)
<dd>
<p>constify a parameter (VALUE *). I believe this incompatibility doesn&#39;t
break any code. However, if you have trouble, please tell us.</p>
</dd><dt>eval.c, object.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Mar+20+12-3A31-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 20 12:31:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_get_without_cache)
<dd>
<p>get rid of infinite recursion at aliases in a subclass and a superclass.
return actually defined class for other than singleton class.
[ruby-core:60431] [Bug #9475]</p>
</dd></dl>

<h2 id="label-2014-03-19">2014-03-19</h2>

<h3 id="label-Wed+Mar+19+17-3A13-3A06+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Mar 19 17:13:06 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_mload)
<dd>
<p>freeze and preserve marshal-loaded time zone</p>
</dd><dt>test/ruby/test_time.rb
<dd>
<p>add test for <a href="../../classes/GC.html">GC</a> on loaded object [Bug
#9652]</p>
</dd></dl>

<h2 id="label-2014-03-18">2014-03-18</h2>

<h3 id="label-Tue+Mar+18+23-3A20-3A12+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Tue Mar 18 23:20:12 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>Unify to use NIL_P.</p>
</dd></dl>

<h3 id="label-Tue+Mar+18+22-3A03-3A41+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Tue Mar 18 22:03:41 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>Use file path even if scope is given. Related to [ruby-core:56099] [Bug
#8662] and r42103.</p>
</dd></dl>

<h2 id="label-2014-03-17">2014-03-17</h2>

<h3 id="label-Mon+Mar+17+13-3A17-3A47+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar 17 13:17:47 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (enumerator_block_call)
<dd>
<p>use RARRAY_CONST_PTR() instead of RARRAY_PTR().</p>
</dd><dt>io.c (rb_io_s_popen)
<dd>
<p>ditto.</p>
</dd><dt>numeric.c (num_step_size)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_apply)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_eval_cmd)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Mar+17+10-3A11-3A59+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Mar 17 10:11:59 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_const_set)
<dd>
<p>delete existing entry on redefinition [Bug #9645]</p>
</dd><dt>test/ruby/test_const.rb (test_redefinition)
<dd>
<p>test for leak</p>
</dd></dl>

<h2 id="label-2014-03-16">2014-03-16</h2>

<h3 id="label-Sun+Mar+16+21-3A33-3A01+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Mar 16 21:33:01 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>[DOC] Fix timezone in example of <a
href="../../classes/Time.html#method-c-parse">Time.parse</a> [Bug #9521]
Based on patch by @stomar</p>
</dd></dl>

<h3 id="label-Sun+Mar+16+13-3A21-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 16 13:21:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (DLDFLAGS)
<dd>
<p>insert a space between option and its argument for non-GCC compilers. 
[ruby-core:61429] [Bug #9624]</p>
</dd></dl>

<h3 id="label-Sun+Mar+16+08-3A05-3A06+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Mar 16 08:05:06 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_xcalloc)
<dd>
<p>fix <a href="../../classes/GC.html">GC</a> accounting</p>
</dd></dl>

<h3 id="label-Sun+Mar+16+06-3A33-3A35+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Mar 16 06:33:35 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>return address is just after calling address. Therefore noreturn function
with tail call&#39;s return address may be in another function.</p>
</dd></dl>

<h3 id="label-Sun+Mar+16+05-3A51-3A55+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Mar 16 05:51:55 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/gserver.rb
<dd>
<p>[DOC] Fixed typo in example by @stomar [Bug #9543]</p>
</dd></dl>

<h2 id="label-2014-03-15">2014-03-15</h2>

<h3 id="label-Sat+Mar+15+18-3A54-3A03+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Mar 15 18:54:03 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/.document
<dd>
<p>remove refinement from documentable directories.</p>
</dd></dl>

<h3 id="label-Sat+Mar+15+11-3A02-3A58+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 15 11:02:58 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (DLDFLAGS)
<dd>
<p>check for each options to control symbol resolution.  [ruby-core:61429]
[Bug #9624]</p>
</dd></dl>

<h3 id="label-Sat+Mar+15+07-3A02-3A35+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Mar 15 07:02:35 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_update)
<dd>
<p>remove unnecessary assignment</p>
</dd></dl>

<h2 id="label-2014-03-14">2014-03-14</h2>

<h3 id="label-Fri+Mar+14+14-3A58-3A38+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Mar 14 14:58:38 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>addr2line.c (fill_lines)
<dd>
<p>fetch symbol names from ELF binary&#39;s symbol table if it is built with
cc -g and not stripped. Now ruby can show static symbols on Linux though
glibc&#39;s backtrace_symbols(3) don&#39;t show them.</p>
</dd><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>use dladdr(3) to detect what object file declares the symbol because
dl_iterate_phdr can&#39;t detect the main executable file and codes on the
stack. NOTE: signal trampolines sometimes on the user stack. (FreeBSD)</p>
</dd><dt>addr2line.c (rb_dump_backtrace_with_lines)
<dd>
<p>stop showing backtrace if the function&#39;s name is main. NOTE:
FreeBSD&#39;s backtrace (libexecinfo) shows _start and an additional
address. Why it doesn&#39;t remove them on dladdr phase is, dladdr may fail
to detect the main function but detect as _start function. Therefore it
must be after scanning the symbol table and getting correct name.</p>
</dd></dl>

<h3 id="label-Fri+Mar+14+12-3A07-3A46+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Mar 14 12:07:46 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a>
<dd>
<p>[DOC] Single quote strings allows escape of backslash as well, patch by
@idupree [Fixes GH-553] <a
href="https://github.com/ruby/ruby/pull/553">github.com/ruby/ruby/pull/553</a></p>
</dd></dl>

<h3 id="label-Fri+Mar+14+01-3A18-3A24+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 14 01:18:24 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (invoke_block_from_c)
<dd>
<p>add splattable argument.</p>
</dd><dt>vm.c (vm_invoke_proc)
<dd>
<p>disallow to splat when directly invoked.</p>
</dd><dt>vm_insnhelper.c (vm_callee_setup_arg_complex, vm_callee_setup_arg)
<dd>
<p>relax arity check of yielded lambda.  [ruby-core:61340] [Bug #9605]</p>
</dd><dt>test/ruby/test_yield.rb (TestRubyYieldGen#emu_bind_params)
<dd>
<p>no longer raise <a
href="../../classes/ArgumentError.html">ArgumentError</a> when splatting to
lambda.</p>
</dd></dl>

<h2 id="label-2014-03-13">2014-03-13</h2>

<h3 id="label-Thu+Mar+13+23-3A51-3A02+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Mar 13 23:51:02 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/win32/dln/libdlntest.c (dlntest_ordinal)
<dd>
<p>no need to specify export in the source file because .def file do it. get
rid of warning on linking.</p>
</dd></dl>

<h2 id="label-2014-03-12">2014-03-12</h2>

<h3 id="label-Wed+Mar+12+11-3A19-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 12 11:19:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_callee_setup_arg)
<dd>
<p>disable fastpath if splat argument, since argc may differ for each calls.
[ruby-core:61422] [Bug #9622]</p>
</dd><dt>vm_insnhelper.c (vm_callee_setup_arg)
<dd>
<p>turn a macro into an inline function.</p>
</dd></dl>

<h3 id="label-Wed+Mar+12+07-3A26-3A05+2014++Eric+Wong++-3Ce-4080x24.org-3E">Wed Mar 12 07:26:05 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_regexpmatch2)
<dd>
<p>respect redefined match op Thanks to Sam Rawlins for the fix.</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p>test based on Tsuyoshi Sawada&#39;s report [Bug #9581]</p>
</dd></dl>

<h2 id="label-2014-03-11">2014-03-11</h2>

<h3 id="label-Tue+Mar+11+22-3A31-3A25+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Mar 11 22:31:25 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/.document
<dd>
<p>add objspace/objspace_dump.c to document file.</p>
</dd></dl>

<h3 id="label-Tue+Mar+11+22-3A22-3A38+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Mar 11 22:22:38 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb (TestObjSpace#test_dump_uninitialized_file)
<dd>
<p>remove dependency on json library.</p>
</dd></dl>

<h3 id="label-Tue+Mar+11+10-3A55-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 11 10:55:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT{,.ja} (Appendix B)
<dd>
<p>update contents of `ruby_options` and replace `ruby_run` with
`ruby_run_node`.  based on the patch by Kaneko Yuichiro at [ruby-dev:48030]
[Bug #9619].</p>
</dd></dl>

<h3 id="label-Tue+Mar+11+06-3A54-3A00+2014++Scott+Francis++-3Cscott.francis-40shopify.com-3E">Tue Mar 11 06:54:00 2014  Scott Francis  &lt;scott.francis@shopify.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c
<dd>
<p>Check fptr before trying to dump RFILE object fd. [GH-562]</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Tue+Mar+11+02-3A04-3A36+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Mar 11 02:04:36 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_vm_bugreport)
<dd>
<p>show vm maps on FreeBSD.</p>
</dd><dt>vm_dump.c (procstat_vm)
<dd>
<p>copied from FreeBSD. <a
href="http://svnweb.freebsd.org/base/head/usr.bin/procstat/procstat_vm.c?revision=261780">svnweb.freebsd.org/base/head/usr.bin/procstat/procstat_vm.c?revision=261780</a></p>
</dd></dl>

<h2 id="label-2014-03-10">2014-03-10</h2>

<h3 id="label-Mon+Mar+10+12-3A14-3A26+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Mar 10 12:14:26 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>always check dladdr(1).</p>
</dd><dt>addr2line.c (fill_lines)
<dd>
<p>show the line number in C backtrace if ruby is built without –enable-shared
(PIE) on Linux. patch is originally by Shinichiro Hamaji <a
href="https://twitter.com/shinh/status/441957774264504321">twitter.com/shinh/status/441957774264504321</a>
NOTE: ld doesn&#39;t insert __executable_start for PIE. dladdr(3)&#39;s
argument must be a function pointer.</p>
</dd></dl>

<h3 id="label-Mon+Mar+10+10-3A51-3A17+2014++ksss++-3Cco000ri-40gmail.com-3E">Mon Mar 10 10:51:17 2014  ksss  &lt;co000ri@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_enumerator.rb (test_iterators)
<dd>
<p>fix test for hash iterators.  [Fixes GH-558]</p>
</dd></dl>

<h2 id="label-2014-03-09">2014-03-09</h2>

<h3 id="label-Sun+Mar++9+14-3A14-3A49+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Mar  9 14:14:49 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_class_subclass_add)
<dd>
<p>use xmalloc</p>
</dd><dt>class.c (rb_module_add_to_subclasses_list)
<dd>
<p>ditto</p>
</dd><dt>class.c (rb_class_remove_from_super_subclasses)
<dd>
<p>use xfree</p>
</dd><dt>class.c (rb_class_remove_from_module_subclasses)
<dd>
<p>ditto [Bug #9616]</p>
</dd></dl>

<h3 id="label-Sun+Mar++9+13-3A51-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  9 13:51:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/function.c (function_call)
<dd>
<p>fix memory leak when an exception occurs at argument conversion or the
function call.</p>
</dd></dl>

<h3 id="label-Sun+Mar++9+06-3A42-3A40+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Mar  9 06:42:40 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (struct global_variable)
<dd>
<p>shrink by 8 bytes on 64-bit</p>
</dd></dl>

<h2 id="label-2014-03-08">2014-03-08</h2>

<h3 id="label-Sat+Mar++8+17-3A42-3A51+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Mar  8 17:42:51 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (add_opt_method)
<dd>
<p>cleanup to use rb_method_entry_at</p>
</dd></dl>

<h3 id="label-Sat+Mar++8+13-3A46-3A40+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  8 13:46:40 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/cptr.c (dlptr_free), ext/dl/handle.c (dlhandle_free), ext/fiddle/handle.c (fiddle_handle_free), ext/fiddle/pointer.c (fiddle_ptr_free)
<dd>
<p>fix memory leak. based on the patch Heesob Park at [ruby-dev:48021] [Bug
#9599].</p>
</dd></dl>

<h3 id="label-Sat+Mar++8+13-3A30-3A39+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar  8 13:30:39 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (obj2uid, obj2gid)
<dd>
<p>now getpwnam_r() and getgrnam_r() may need larger buffers than sysconf
values, so retry with expanding the buffer when ERANGE is returned.
[ruby-core:61325] [Bug #9600]</p>
</dd></dl>

<h2 id="label-2014-03-07">2014-03-07</h2>

<h3 id="label-Fri+Mar++7+19-3A29-3A13+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Mar  7 19:29:13 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call0_body)
<dd>
<p>use RARRAY_CONST_PTR</p>
</dd><dt>(check_funcall_exec)
<dd>
<p>ditto [ruby-core:61360]</p>
</dd></dl>

<h3 id="label-Fri+Mar++7+19-3A14-3A11+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Mar  7 19:14:11 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call0_body)
<dd>
<p>fix RB_GC_GUARD location</p>
</dd><dt>(check_funcall_exec)
<dd>
<p>ditto [Bug #9609]</p>
</dd></dl>

<h3 id="label-Fri+Mar++7+14-3A48-3A17+2014++Narihiro+Nakamura++-3Cauthornari-40gmail.com-3E">Fri Mar  7 14:48:17 2014  Narihiro Nakamura  &lt;authornari@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (ENC_SINGLE)
<dd>
<p>Unused macro removed.</p>
</dd></dl>

<h2 id="label-2014-03-06">2014-03-06</h2>

<h3 id="label-Thu+Mar++6+15-3A15-3A24+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Mar  6 15:15:24 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/assignment_rdoc.html">doc/syntax/assignment.rdoc</a>
<dd>
<p>[DOC] Fix assignment directions By @idupree [Fixes GH-555] <a
href="https://github.com/ruby/ruby/pull/555">github.com/ruby/ruby/pull/555</a></p>
</dd></dl>

<h3 id="label-Thu+Mar++6+15-3A07-3A18+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Mar  6 15:07:18 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/methods_rdoc.html">doc/syntax/methods.rdoc</a>
<dd>
<p>[DOC] Fix example for block arguments By @idupree [Fixes GH-554] <a
href="https://github.com/ruby/ruby/pull/554">github.com/ruby/ruby/pull/554</a></p>
</dd></dl>

<h2 id="label-2014-03-05">2014-03-05</h2>

<h3 id="label-Wed+Mar++5+15-3A56-3A18+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar  5 15:56:18 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (f_arg_asgn)
<dd>
<p>define optional arguments as argument variables in the rhs default
expressions. [ruby-core:61299] [Bug #9593]</p>
</dd></dl>

<h3 id="label-Wed+Mar++5+11-3A58-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar  5 11:58:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c (ossl_make_error)
<dd>
<p>check NULL for unknown error reasons with old <a
href="../../classes/OpenSSL.html">OpenSSL</a>, and insert a colon iff
formatted message is not empty.</p>
</dd></dl>

<h3 id="label-Wed+Mar++5+00-3A42-3A00+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Wed Mar  5 00:42:00 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (Pathname#find)
<dd>
<p>add “ignore_error” keyword argument defaulted to true as well as Find#find.</p>
</dd></dl>

<h2 id="label-2014-03-04">2014-03-04</h2>

<h3 id="label-Tue+Mar++4+23-3A00-3A18+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar  4 23:00:18 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_eval.rb (TestEval#make_test_binding)
<dd>
<p>renamed. it&#39;s not test method.</p>
</dd></dl>

<h3 id="label-Tue+Mar++4+20-3A50-3A59+2014++Masaya+Tarui++-3Ctarui-40ruby-lang.org-3E">Tue Mar  4 20:50:59 2014  Masaya Tarui  &lt;tarui@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_foreach)
<dd>
<p>fix type of hash. not st_data_t but st_index_t.</p>
</dd></dl>

<h3 id="label-Tue+Mar++4+19-3A41-3A40+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Mar  4 19:41:40 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in
<dd>
<p>“.DEFAULT” target removed because it is not for specifying default target.</p>
</dd></dl>

<h3 id="label-Tue+Mar++4+00-3A25-3A35+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Mar  4 00:25:35 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/find.rb (Find#find)
<dd>
<p>should pass ignore_error option to enumerators.</p>
</dd></dl>

<h2 id="label-2014-03-03">2014-03-03</h2>

<h3 id="label-Mon+Mar++3+13-3A27-3A35+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar  3 13:27:35 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_find.rb (TestFind#test_unsearchable_dir)
<dd>
<p>ruby cannot make directory unreachable by owner on Windows.</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+08-3A10-3A04+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Mar  3 08:10:04 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_get_without_cache)
<dd>
<p>disable GMC writing if GMC is disabled. [ruby-core:61218]</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+07-3A47-3A17+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Mar  3 07:47:17 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>wrap GetDBM with do/while(0)</p>
</dd><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>ditto</p>
</dd><dt>ext/dbm/dbm.c
<dd>
<p>ditto, likewise for GetDBM2</p>
</dd><dt>ext/gdbm/gdbm.c
<dd>
<p>ditto</p>
</dd><dt>ext/sdbm/init.c
<dd>
<p>ditto [ruby-core:61217]</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+07-3A17-3A31+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Mar  3 07:17:31 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>[DOC] Update doc regarding filesystem load when flushing <a
href="../../classes/IO.html">IO</a></p>
</dd></dl>

<h3 id="label-Mon+Mar++3+04-3A37-3A50+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar  3 04:37:50 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_fsync)
<dd>
<p>need to fsync even if on Windows.  fixed mistake of r45254 and r45256.</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+04-3A21-3A34+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar  3 04:21:34 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole
<dd>
<p>get rid of warnings (unused variable).</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+02-3A53-3A53+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar  3 02:53:53 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_flush_raw)
<dd>
<p>[EXPERIMENTAL] remove force syncing for Win32 to speed up <a
href="../../classes/IO.html">IO</a>.  this may break some tests, and
they&#39;ll be fixed later. [ruby-core:58570] [Bug #9153]</p>
</dd></dl>

<h3 id="label-Mon+Mar++3+00-3A17-3A43+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Mar  3 00:17:43 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_backtrace.rb
<dd>
<p>get rid of warnings.  unused variable, shadowing.</p>
</dd></dl>

<h2 id="label-2014-03-02">2014-03-02</h2>

<h3 id="label-Sun+Mar++2+11-3A15-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  2 11:15:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/find.rb (Find#find)
<dd>
<p>add “ignore_error” keyword argument defaulted to true.  [ruby-core:51025]
[Feature #7596]</p>
</dd></dl>

<h3 id="label-Sun+Mar++2+11-3A13-3A30+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  2 11:13:30 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/extconf.rb (rl_hook_func_t)
<dd>
<p>define as Function for very old readline versions.  [ruby-core:61209] [Bug
#9578]</p>
</dd></dl>

<h3 id="label-Sun+Mar++2+10-3A47-3A58+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Mar  2 10:47:58 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (ruby_init_ext)
<dd>
<p>make idempotent to suppress warnings</p>
</dd></dl>

<h2 id="label-2014-03-01">2014-03-01</h2>

<h3 id="label-Thu+Dec+11+05-3A37-3A52+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Dec 11 05:37:52 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Remove useless loop and block capture. See [#10354]</p>
</dd></dl>

<h3 id="label-Tue+Dec++2+15-3A30-3A30+2014++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Dec  2 15:30:30 2014  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_plus)
<dd>
<p>in documentation, added note about inefficiency of repeated += operations.</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+02-3A44-3A27+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Nov 20 02:44:27 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p><a
href="../../classes/Vector.html#method-i-independent-3F">Vector#independent?</a>
and associated class method patch by gogo tanaka [#10451]</p>
</dd></dl>

<h3 id="label-Thu+Nov+20+02-3A32-3A34+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Nov 20 02:32:34 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a
href="../../classes/Vector.html#method-i-angle_with">Vector#angle_with</a>
Patch by Egunov Dmitriy [#10442]</p>
</dd></dl>

<h3 id="label-Sun+Nov++9+18-3A33-3A33+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Nov  9 18:33:33 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Replaced if-else by case in self.normalized? in parallel to r48309.</p>
</dd></dl>

<h3 id="label-Thu+Nov++6+08-3A49-3A49+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Thu Nov  6 08:49:49 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Comment clarification.</p>
</dd></dl>

<h3 id="label-Thu+Oct+30+13-3A23-3A23+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Thu Oct 30 13:23:23 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>changed Unicode data download location from latest Unicode version to
Unicode 7.0.0.</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+11-3A43-3A43+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct 29 11:43:43 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Generalize <a
href="../../classes/Vector.html#method-i-cross_product">Vector#cross_product</a>
to arbitrary dimensions based on a patch by gogo tanaka [#10074]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+11-3A43-3A11+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct 29 11:43:11 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add Matrix#adjucate patch by gogo tanaka [#10056]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+11-3A42-3A33+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct 29 11:42:33 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add aliases for <a
href="../../classes/Vector.html#method-i-cross">Vector#cross</a> &amp; dot
patch by gogo tanaka [#10352]</p>
</dd></dl>

<h3 id="label-Sun+Oct+25+12-3A26-3A26+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 25 12:26:26 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/insns.inc.tmpl, insns_info.inc.tmpl, known_errors.inc.tmpl, minsns.inc.tmpl
<dd>
<p>fixed path of generating script.</p>
</dd></dl>

<h3 id="label-Sun+Oct+25+11-3A24-3A24+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 25 11:24:24 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>improved comment.</p>
</dd></dl>

<h3 id="label-Sat+Oct+25+20-3A19-3A19+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 25 20:19:19 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>added test_us_ascii.</p>
</dd></dl>

<h3 id="label-Sat+Oct+25+20-3A09-3A09+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 25 20:09:09 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>added US_ASCII as trivially supported encoding (is always normalized, and
may appear mixed in with UTF-8 or other Unicode encodings).</p>
</dd></dl>

<h3 id="label-Sat+Oct+25+20-3A01-3A01+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 25 20:01:01 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>added test_raise_exception_for_non_unicode_encoding.</p>
</dd></dl>

<h3 id="label-Sat+Oct+25+19-3A30-3A30+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 25 19:30:30 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>removed unused function.</p>
</dd></dl>

<h3 id="label-Sat+Oct+25+18-3A41-3A41+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 25 18:41:41 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/unicode_norm_gen.tmpl
<dd>
<p>Adjusted name of generating file.</p>
</dd></dl>

<h3 id="label-Thu+Oct+23+10-3A21-3A21+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Thu Oct 23 10:21:21 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../NEWS.html">NEWS</a>
<dd>
<p>Added <a
href="../../classes/String.html#method-i-unicode_normalize">String#unicode_normalize</a>(|!|d?)
[ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+20-3A33-3A33+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Oct 22 20:33:33 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Fixed grammar in comment [ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+19-3A18-3A18+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Oct 22 19:18:18 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb
<dd>
<p>Fixed escaping of backslash and double quote (&#39;\&amp;&#39; -&gt;
“\\\&amp;”; double quoted string is needed to make & mean last match;
double double backslashes are needed because of two layers of escaping).</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+18-3A12-3A12+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Oct 22 18:12:12 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>Adjusted path for test data file (now
../enc/unicode/data/NormalizationTest.txt).</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+18-3A07-3A07+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Oct 22 18:07:07 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>Removed explicit require, changed method names, adjusted copyright.</p>
</dd></dl>

<h3 id="label-Wed+Oct+22+18-3A00-3A00+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Oct 22 18:00:00 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test-unicode_normalize.rb
<dd>
<p>Importing from <a
href="https://github.com/duerst/eprun/blob/master/test/test_normalize.rb">github.com/duerst/eprun/blob/master/test/test_normalize.rb</a>.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Oct+21+17-3A32-3A32+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Tue Oct 21 17:32:32 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Adding explicit creation of directory enc/unicode/data because git
doesn&#39;t handle empty directories. [patch by Masahiro Ide, filed with
r48073]</p>
</dd></dl>

<h3 id="label-Tue+Oct+21+17-3A12-3A12+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Tue Oct 21 17:12:12 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/tables.rb
<dd>
<p>Committing to make version update easier and more predictable, and reducing
compilation time.</p>
</dd></dl>

<h3 id="label-Tue+Oct+21+15-3A56-3A56+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Tue Oct 21 15:56:56 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Added comment to point to relevant portion of Unicode standard for Hangul
(de)composition identifiers and algorithm.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+19-3A54-3A54+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct 20 19:54:54 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>config.mk
<dd>
<p>Added missing data files as targets for prerequisite update_unicode.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+19-3A06-3A06+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct 20 19:06:06 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>revert r48046. The s in sIndex is not hungarian notation. The variable name
sIndex is directly taken from the relevant part of the Unicode Standard,
where it is written SIndex and stands for &#39;syllable index&#39;. See pp.
144/145 of <a
href="http://www.unicode.org/versions/Unicode7.0.0/ch03.pdf">www.unicode.org/versions/Unicode7.0.0/ch03.pdf</a>.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+12-3A46-3A46+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct 20 12:46:46 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>removing unnecessary &#39;self&#39;.</p>
</dd></dl>

<h3 id="label-Mon+Oct+20+12-3A37-3A37+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct 20 12:37:37 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>change method names in commented-out code. Followup to r48027.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+18-3A39-3A39+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 18:39:39 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/prelude.rb
<dd>
<p>Added automatic loading of lib/unicode_normalize.rb. This makes sure that
all the methods that are available on String are available without explicit
require.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+18-3A35-3A35+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 18:35:35 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Added a missing file extension in require statement.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+18-3A13-3A13+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 18:13:13 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Added a rule to generate lib/unicode_normalize/tables.rb. This rule still
needs to be integrated into the overall make process.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+17-3A53-3A53+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 17:53:53 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Changed to dynamic loading of actual normalization code and tables.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+17-3A37-3A37+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 17:37:37 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Small documentation fix.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+17-3A26-3A26+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 17:26:26 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Added documentation.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+11-3A09-3A09+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 11:09:09 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb, lib/unicode_normalize.rb
<dd>
<p><a href="../../classes/File.html">File</a> name change from
lib/unicode_normalize/normalize_tables.rb to
lib/unicode_normalize/tables.rb.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+10-3A12-3A12+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 10:12:12 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Changing method names, see <a
href="https://bugs.ruby-lang.org/issues/10084#note-7">bugs.ruby-lang.org/issues/10084#note-7</a></p>
</dd></dl>

<h3 id="label-Sun+Oct+19+10-3A10-3A10+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 10:10:10 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Changing module name.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+10-3A08-3A08+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 10:08:08 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Changing require statement, adjusting copyright.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+10-3A04-3A04+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 10:04:04 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>Importing from <a
href="https://github.com/duerst/eprun/blob/master/lib/string_normalize.rb">github.com/duerst/eprun/blob/master/lib/string_normalize.rb</a>.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Sun+Oct+19+09-3A56-3A56+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 09:56:56 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb
<dd>
<p>Changed module name.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+09-3A48-3A48+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 09:48:48 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Changed module name, adjusted copyright.</p>
</dd></dl>

<h3 id="label-Sun+Oct+19+09-3A38-3A38+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Oct 19 09:38:38 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize/normalize.rb
<dd>
<p>Importing from <a
href="https://github.com/duerst/eprun/blob/master/lib/normalize.rb">github.com/duerst/eprun/blob/master/lib/normalize.rb</a>.</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+05-3A16-3A32+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct  8 05:16:32 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add @- and @+ for <a href="../../classes/Matrix.html">Matrix</a> and <a
href="../../classes/Vector.html">Vector</a>. patch by gogo tanaka [#10068]
[#10069]</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+04-3A30-3A29+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct  8 04:30:29 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a
href="../../classes/Matrix.html#method-i-laplace_expansion">Matrix#laplace_expansion</a>.
patch by gogo tanaka [#10073]</p>
</dd></dl>

<h3 id="label-Wed+Oct++8+04-3A29-3A21+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Oct  8 04:29:21 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a href="../../classes/Vector.html#method-c-basis">Vector.basis</a>.
Based on patch by gogo tanaka [#10072]</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+11-3A21-3A21+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct  6 11:21:21 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb
<dd>
<p>Adding/tweaking comments.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+10-3A57-3A57+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct  6 10:57:57 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb
<dd>
<p>Adjusted directory paths.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+10-3A27-3A27+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct  6 10:27:27 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.rb
<dd>
<p><a href="../../classes/Data.html">Data</a> generation script imported from
<a
href="https://github.com/duerst/eprun/blob/master/lib/generate.rb">github.com/duerst/eprun/blob/master/lib/generate.rb</a></p>
</dd></dl>

<h3 id="label-Mon+Oct++6+10-3A15-3A15+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct  6 10:15:15 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Adjust example in documentation for Downloader.download.</p>
</dd></dl>

<h3 id="label-Mon+Oct++6+10-3A07-3A07+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Mon Oct  6 10:07:07 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize
<dd>
<p>New folder for Unicode normalization functionality</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+12-3A42-3A15+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Oct  3 12:42:15 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add hstack &amp; vstack methods. Based on a patch by creasywuqiong. [Fix
GH-344]</p>
</dd></dl>

<h3 id="label-Fri+Oct++3+12-3A37-3A48+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Oct  3 12:37:48 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Fix <a href="../../classes/Matrix.html#method-c-rows">Matrix.rows</a> copy
bug. Patch by Arron Mabrey. [Fix GH-707]</p>
</dd></dl>

<h3 id="label-Sun+Sep+28+11-3A14-3A14+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Sun Sep 28 11:14:14 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Created new target update-unicode to download some Unicode data files.</p>
</dd></dl>

<h3 id="label-Wed+Sep+24+19-3A04-3A04+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 19:04:04 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/unicode/data
<dd>
<p>New directory for downloaded Unicode data files.</p>
</dd></dl>

<h3 id="label-Wed+Sep+24+18-3A59-3A59+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 18:59:59 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Adjusting example for Downloader.download to implementation changes in
r47693.</p>
</dd></dl>

<h3 id="label-Wed+Sep+24+18-3A06-3A06+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 18:06:06 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Removing unused method Downloader.download_if_modified_since.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Sep+24+17-3A59-3A59+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 17:59:59 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Fixing raise after return.</p>
</dd></dl>

<h3 id="label-Wed+Sep+24+17-3A55-3A55+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 17:55:55 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Made Unicode data file location available via :unicode <a
href="../../classes/Symbol.html">Symbol</a>.</p>
</dd></dl>

<h3 id="label-Wed+Sep+24+10-3A45-3A45+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Wed Sep 24 10:45:45 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>Small fix to documentation comment.</p>
</dd></dl>

<h3 id="label-Tue+Sep+23+16-3A07-3A07+2014++Martin+Duerst+-3Cduerst-40it.aoyama.ac.jp-3E">Tue Sep 23 16:07:07 2014  Martin Duerst &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>added Downloader.download_if_modified_since to reduce downloads of large
files that change only rarely. [ruby-core:65164] [CommonRuby - Feature
#10084]</p>
</dd></dl>

<h3 id="label-Fri+Jul+18+19-3A11-3A03+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Jul 18 19:11:03 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix/eigenvalue_decomposition
<dd>
<p>Style fix Patch by Gogo Tanaka [#10058]</p>
</dd></dl>

<h3 id="label-Fri+Jul+18+19-3A03-3A53+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Jul 18 19:03:53 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Avoid using `and`. Patch by gogo tanaka [#10058]</p>
</dd></dl>

<h3 id="label-Fri+Jul+11+14-3A19-3A14+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Jul 11 14:19:14 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Fix sign for cross_product [#9499]</p>
</dd></dl>

<h3 id="label-Fri+May+30+10-3A22-3A21+2014++Mark+Lorenz++-3Cmlorenz-40covermymeds.com-3E">Fri May 30 10:22:21 2014  Mark Lorenz  &lt;mlorenz@covermymeds.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb (result)
<dd>
<p>[DOC] no longer accepts a <a href="../../classes/Proc.html">Proc</a>, as <a
href="../../classes/Kernel.html#method-i-eval">Kernel#eval</a> does not. 
[fix GH-619]</p>
</dd></dl>

<h3 id="label-Mon+Apr++7+02-3A39-3A48+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Mon Apr  7 02:39:48 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a
href="../../classes/Matrix.html#method-i-cofactor">Matrix#cofactor</a> [fix
GH-568] Add first_minor [fix GH-568] Handle empty diagonal matrix case [fix
GH-576] Patches by gogotanaka</p>
</dd></dl>

<h3 id="label-Fri+Mar++7+12-3A06-3A19+2014++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Fri Mar  7 12:06:19 2014  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>Reuse TLS default options from OpenSSL::SSL::SSLContext::DEFAULT_PARAMS.</p>
</dd></dl>

<h3 id="label-Thu+Mar++6+10-3A33-3A31+2014++Martin+Bosslet++-3CMartin.Bosslet-40gmail.com-3E">Thu Mar  6 10:33:31 2014  Martin Bosslet  &lt;Martin.Bosslet@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/openssl/ssl.rb
<dd>
<p>Explicitly whitelist the default SSL/TLS ciphers. Forbid SSLv2 and SSLv3,
disable compression by default. Reported by Jeff Hodges. [ruby-core:59829]
[Bug #9424]</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+19-3A51-3A42+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Mar  1 19:51:42 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb (Open3.capture3)
<dd>
<p>Ignore Errno::EPIPE for writing stdin_data.</p>
</dd><dt>(Open3.capture2)
<dd>
<p>Ditto.</p>
</dd><dt>(Open3.capture2e)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+19-3A06-3A47+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Mar  1 19:06:47 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ruby_gc_set_params)
<dd>
<p>simplify condition</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+16-3A18-3A40+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Mar  1 16:18:40 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (Init_readline)
<dd>
<p>Use rl_hook_func_t instead of Function to support readline-6.3. 
(rl_hook_func_t is available since readline-4.2.) Reported by Dmitry
Medvinsky.  [ruby-core:61141] [Bug #9578]</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+16-3A05-3A58+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Mar  1 16:05:58 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ruby_gc_set_params)
<dd>
<p>fix building without RGenGC</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+11-3A08-3A00+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Mar  1 11:08:00 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>support dumping <a href="../../classes/Encoding.html">Encoding</a> objects.</p>
</dd><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>support loading <a href="../../classes/Encoding.html">Encoding</a> objects.</p>
</dd><dt>test/psych/test_encoding.rb
<dd>
<p>add test</p>
</dd><dt>ext/psych/lib/psych.rb
<dd>
<p>add version</p>
</dd></dl>

<h3 id="label-Sat+Mar++1+10-3A52-3A34+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Mar  1 10:52:34 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>[DOC] Fix typo “macro macro” @utenmiki [Fixes GH-551] <a
href="https://github.com/ruby/ruby/pull/551">github.com/ruby/ruby/pull/551</a></p>
</dd></dl>

<h3 id="label-Fri+Feb+28+11-3A16-3A55+2014++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Feb 28 11:16:55 2014  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>Fix <a href="../../classes/Numeric.html#method-i-step">Numeric#step</a>
with 0 unit [Bug #9575]</p>
</dd></dl>

<h2 id="label-2014-02-27">2014-02-27</h2>

<h3 id="label-Thu+Feb+27+17-3A59-3A01+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Feb 27 17:59:01 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>[DOC] Add example of generating help with optparse. Patch by @joelmccracken
documenting-ruby/ruby#19 <a
href="https://github.com/documenting-ruby/ruby/pull/19">github.com/documenting-ruby/ruby/pull/19</a></p>
</dd></dl>

<h3 id="label-Thu+Feb+27+12-3A10-3A09+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 27 12:10:09 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (ruby_num_interval_step_size)
<dd>
<p>check signs and get rid of implementation dependent behavior of negative
division. [ruby-core:61106] [Bug #9570]</p>
</dd></dl>

<h3 id="label-Thu+Feb+27+03-3A55-3A45+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Feb 27 03:55:45 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>[DOC] Typo in comment for _FORTIFY_SOURCE [Fixes GH-548] Patch by
@qnet-herwin <a
href="https://github.com/ruby/ruby/pull/548">github.com/ruby/ruby/pull/548</a></p>
</dd></dl>

<h2 id="label-2014-02-26">2014-02-26</h2>

<h3 id="label-Wed+Feb+26+18-3A43-3A43+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb 26 18:43:43 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_pages_free_unused_pages)
<dd>
<p>check tomb page availability at first. And return immediately if we
don&#39;t touch sorted list any more.</p>
</dd></dl>

<h3 id="label-Wed+Feb+26+14-3A10-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 26 14:10:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (setup_exception)
<dd>
<p>preserve exception class name encoding in debug mode messages.</p>
</dd><dt>eval.c (setup_exception)
<dd>
<p>preserve errinfo across calling to_s method on the exception. 
[ruby-core:61091] [Bug #9568]</p>
</dd></dl>

<h3 id="label-Wed+Feb+26+01-3A29-3A27+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Feb 26 01:29:27 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (sym_find)
<dd>
<p>Add Symbol.find(str), which returns whether given string is defined as
symbol or not. [Feature #7854]</p>
</dd></dl>

<h2 id="label-2014-02-25">2014-02-25</h2>

<h3 id="label-Tue+Feb+25+22-3A52-3A02+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Feb 25 22:52:02 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/dl.c (rb_dl_realloc)
<dd>
<p>use NUM2SIZET instead of NUM2INT.</p>
</dd><dt>ext/fiddle/fiddle.c (rb_fiddle_realloc)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb+25+22-3A49-3A30+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Feb 25 22:49:30 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dl/dl.c (rb_dl_malloc)
<dd>
<p>use NUM2SIZET instead of NUM2INT. Coverity Scan found this bug.</p>
</dd><dt>ext/fiddle/fiddle.c (rb_fiddle_malloc)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb+25+12-3A06-3A13+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Feb 25 12:06:13 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub
<dd>
<p>define PACKED_STRUCT.</p>
</dd></dl>

<h2 id="label-2014-02-24">2014-02-24</h2>

<h3 id="label-Mon+Feb+24+21-3A41-3A56+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Feb 24 21:41:56 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README.md</a>, README.ja.md
<dd>
<p>removed (wrong) mode setting for emacs.</p>
</dd></dl>

<h3 id="label-Mon+Feb+24+20-3A05-3A41+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Feb 24 20:05:41 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>define PACKED_STRUCT_UNALIGNED for x86*</p>
</dd><dt>timev.h (struct vtm)
<dd>
<p>use PACKED_STRUCT_UNALIGNED</p>
</dd><dt>time.c (struct time_object)
<dd>
<p>ditto [Bug #9558] non-x86 cannot safely access unaligned addresses</p>
</dd></dl>

<h3 id="label-Mon+Feb+24+18-3A10-3A02+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Feb 24 18:10:02 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/test_function.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/fileutils/test_fileutils.rb
<dd>
<p>ditto.</p>
</dd><dt>test/io/console/test_io_console.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Feb+24+12-3A37-3A51+2014++Eric+Wong++-3Ce-4080x24.org-3E">Mon Feb 24 12:37:51 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use -Wno-packed-bitfield-compat for GCC 4.4+ use __attribute__((packed)) if
available</p>
</dd><dt>timev.h
<dd>
<p>shrink and pack struct vtm</p>
</dd><dt>time.c
<dd>
<p>pack struct time_object and adjust/introduce helpers [ruby-core:60794]</p>
</dd></dl>

<h2 id="label-2014-02-23">2014-02-23</h2>

<h3 id="label-Sun+Feb+23+17-3A55-3A50+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Feb 23 17:55:50 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/xmltokens.rb
<dd>
<p>Add missing non ASCII valid characters to element name characters. Now, <a
href="../../classes/REXML.html">REXML</a> name tokens exactly match “[5]
Name” in the <a href="../../classes/XML.html">XML</a> spec and “[4] NCName”
in the Namespaces in <a href="../../classes/XML.html">XML</a> spec. See
comment about the details. [Bug #9539]  [ruby-core:60901] Reported by Mario
Barcala. Thanks!!!</p>
</dd><dt>test/rexml/xpath/test_node.rb
<dd>
<p>Add tests for the above case.</p>
</dd></dl>

<h3 id="label-Sun+Feb+23+12-3A18-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb 23 12:18:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (inet_pton)
<dd>
<p>use rb_w32_inet_pton, instead of inet_pton directly, which is unavailable
on older version Windows.</p>
</dd><dt>include/ruby/win32.h, win32/win32.c (rb_w32_inet_pton)
<dd>
<p>add a wrapper function for inet_pton minimum supported client is Vista, as
well as inet_ntop.</p>
</dd></dl>

<h3 id="label-Sun+Feb+23+11-3A33-3A25+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb 23 11:33:25 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/imap/test_imap.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/net/imap/test_imap_response_parser.rb
<dd>
<p>ditto.</p>
</dd><dt>test/net/pop/test_pop.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Feb+23+02-3A19-3A51+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 23 02:19:51 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (bind_random_port)
<dd>
<p>Rescue EPERM for FreeBSD which security.mac.portacl.port_high is changed.
See mac_portacl(4) for details. Reported by Jakub Szafranski. 
[ruby-core:60917] [Bug #9544]</p>
</dd></dl>

<h2 id="label-2014-02-22">2014-02-22</h2>

<h3 id="label-Sat+Feb+22+23-3A17-3A01+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Feb 22 23:17:01 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/xpath_parser.rb
<dd>
<p>Fix indent.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+23-3A15-3A35+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Feb 22 23:15:35 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/xpath/test_attribute.rb
<dd>
<p>Simplify.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+20-3A28-3A47+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Feb 22 20:28:47 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>more friendly.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+20-3A24-3A43+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Feb 22 20:24:43 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/test_xpath*.rb
<dd>
<p>Move to …</p>
</dd><dt>test/rexml/xpath/*.rb
<dd>
<p>… here.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+20-3A04-3A41+2014++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sat Feb 22 20:04:41 2014  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rexml/listener.rb
<dd>
<p>Untabify.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+19-3A07-3A31+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Feb 22 19:07:31 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c (console_dev)
<dd>
<p>need read access for conout$ because some functions need it.  [Bug#9554]</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+18-3A40-3A58+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Feb 22 18:40:58 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignore benchmark files</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+01-3A22-3A24+2014++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Sat Feb 22 01:22:24 2014  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (bary_mul_precheck)
<dd>
<p>fix a copy-paste error. Coverity Scan found this bug.</p>
</dd></dl>

<h3 id="label-Sat+Feb+22+00-3A58-3A51+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sat Feb 22 00:58:51 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (rb_getaddrinfo)
<dd>
<p>second argument of MEMZERO is type.  Coverity Scan found this bug.</p>
</dd></dl>

<h2 id="label-2014-02-21">2014-02-21</h2>

<h3 id="label-Fri+Feb+21+23-3A47-3A24+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Feb 21 23:47:24 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (wait_connectable)
<dd>
<p>break if the socket is writable to avoid infinite loops on FreeBSD and
other platforms which conforms to SUSv3.  This problem cannot be reproduced
with loopback interfaces, so it&#39;s hard to write test code.
rsock_connect() and wait_connectable() are overly complicated, so they
should be refactored, but I commit this fix as a workaround for the release
of Ruby 1.9.3 scheduled on Feb 24. [ruby-core:60940] [Bug #9547]</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+23-3A03-3A39+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Feb 21 23:03:39 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>added to handle redmine tickets.</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+20-3A42-3A01+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 21 20:42:01 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_mod_init_copy)
<dd>
<p>do nothing if copying self. [ruby-dev:47989] [Bug #9535]</p>
</dd><dt>hash.c (rb_hash_initialize_copy)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+16-3A45-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 21 16:45:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (next_rotate_time, previous_period_end)
<dd>
<p>consider DST change.</p>
</dd><dt>lib/logger.rb (Logger::LogDevice#check_shift_log)
<dd>
<p>compare the current time with the time for the next rotation to fix
rotation miss when date changed between the comparison and log writing.
based on the patch by megayu &lt;yuhg2310 AT gmail.com&gt;. [Fixes GH-539]</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+10-3A39-3A33+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Feb 21 10:39:33 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/monitor/test_monitor.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/resolv/test_dns.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rexml/test_functions.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rss/test_setup_maker_itunes.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+09-3A48-3A56+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Feb 21 09:48:56 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>only retry on error</p>
</dd><dt>(bsock_recvmsg_internal)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_unix.rb
<dd>
<p>test above for infinite loop</p>
</dd></dl>

<h3 id="label-Fri+Feb+21+08-3A27-3A19+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Feb 21 08:27:19 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RB_GC_GUARD)
<dd>
<p>use rb_gc_guarded_ptr_val on non-GCC/MSC</p>
</dd><dt>gc.c (rb_gc_guarded_ptr_val)
<dd>
<p>rename and adjust argument. RB_GC_GUARD should be robust enough for any
compiler. [ruby-core:60816] [Bug #7805]</p>
</dd></dl>

<h2 id="label-2014-02-20">2014-02-20</h2>

<h3 id="label-Thu+Feb+20+22-3A21-3A26+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Feb 20 22:21:26 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (numeric_getaddrinfo)
<dd>
<p>Use xcalloc. Suggested by Eric Wong. <a
href="https://bugs.ruby-lang.org/issues/9525#note-14">bugs.ruby-lang.org/issues/9525#note-14</a></p>
</dd></dl>

<h3 id="label-Thu+Feb+20+11-3A21-3A13+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Feb 20 11:21:13 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_flatten)
<dd>
<p>fix behavior of flatten(-1). [ruby-dev:47988] [Bug #9533]</p>
</dd><dt>test/ruby/test_array.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h2 id="label-2014-02-19">2014-02-19</h2>

<h3 id="label-Wed+Feb+19+18-3A57-3A02+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 19 18:57:02 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>Bypass getaddrinfo() if node and serv are numeric. Reporeted by Naotoshi
Seo.  [ruby-core:60801] [Bug #9525]</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p>Detect struct sockaddr_in6.sin6_len.</p>
</dd><dt>ext/socket/sockport.h (SET_SIN6_LEN)
<dd>
<p>New macro.</p>
</dd><dt>(INIT_SOCKADDR_IN6)
<dd>
<p>Ditto.</p>
</dd><dt>ext/socket/rubysocket.h (struct rb_addrinfo)
<dd>
<p>Add allocated_by_malloc field.</p>
</dd><dt>ext/socket/raddrinfo.c (numeric_getaddrinfo)
<dd>
<p>New function.</p>
</dd><dt>(rb_getaddrinfo)
<dd>
<p>Call numeric_getaddrinfo at first.</p>
</dd><dt>(rb_freeaddrinfo)
<dd>
<p>Free struct addrinfo properly when it is allocated by numeric_getaddrinfo.</p>
</dd></dl>

<h3 id="label-Wed+Feb+19+18-3A31-3A48+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 19 18:31:48 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>Wrap struct addrinfo by struct rb_addrinfo.</p>
</dd></dl>

<h3 id="label-Wed+Feb+19+17-3A47-3A01+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Feb 19 17:47:01 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ipsocket.c (ip_s_getaddress)
<dd>
<p>Don&#39;t access freed memory.</p>
</dd></dl>

<h3 id="label-Wed+Feb+19+11-3A39-3A41+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Feb 19 11:39:41 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>it must see rb_cv_broken_memmem not rb_cv_func_memmem.</p>
</dd></dl>

<h2 id="label-2014-02-18">2014-02-18</h2>

<h3 id="label-Tue+Feb+18+23-3A18-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Feb 18 23:18:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_socket.rb
<dd>
<p>unix socket is required by test case.</p>
</dd></dl>

<h3 id="label-Tue+Feb+18+20-3A48-3A38+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Feb 18 20:48:38 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_addrinfo.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/socket/test_nonblock.rb
<dd>
<p>ditto.</p>
</dd><dt>test/socket/test_socket.rb
<dd>
<p>ditto.</p>
</dd><dt>test/socket/test_unix.rb
<dd>
<p>ditto.</p>
</dd><dt>test/testunit/test_parallel.rb
<dd>
<p>ditto.</p>
</dd><dt>test/webrick/test_filehandler.rb
<dd>
<p>ditto.</p>
</dd><dt>test/xmlrpc/test_features.rb
<dd>
<p>ditto.</p>
</dd><dt>test/zlib/test_zlib.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb+18+14-3A27-3A18+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Tue Feb 18 14:27:18 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit.rb
<dd>
<p>Requires minitest &lt; 5.0.0 if Gem is available.</p>
</dd></dl>

<h3 id="label-Tue+Feb+18+14-3A24-3A07+2014++Shota+Fukumori++-3Cher-40sorah.jp-3E">Tue Feb 18 14:24:07 2014  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/test/unit/test-unit.gemspec
<dd>
<p>Add minitest &lt; 5.0.0 dependency</p>
</dd><dt>tool/rbinstall.rb
<dd>
<p>Add empty implementations for `add_dependency`, `add_runtime_dependency`,
`add_development_dependency` for <a
href="../../classes/Gem/Specification.html">Gem::Specification</a>.</p>
</dd></dl>

<h3 id="label-Tue+Feb+18+12-3A06-3A39+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Feb 18 12:06:39 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (FILE_COUNT)
<dd>
<p>Removed.  (win32.c defines it in itself.)</p>
</dd><dt>(FILE_READPTR)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb+18+09-3A35-3A44+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Feb 18 09:35:44 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test/psych/test_string.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/test/psych/test_yaml.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-02-17">2014-02-17</h2>

<h3 id="label-Mon+Feb+17+21-3A31-3A31+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Feb 17 21:31:31 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>ignore warning messages for running with -w option such as chkbuild.</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+20-3A00-3A27+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Feb 17 20:00:27 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>Move BDIGIT and related definitions from include/ruby/defines.h.</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+17-3A41-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 17 17:41:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (marshal_dump, marshal_load)
<dd>
<p>do not recycle wrapper objects, to prevent from segfault with continuation.
[ruby-dev:47970] [Bug #9523]</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+15-3A43-3A59+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Feb 17 15:43:59 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="keywords_rdoc.html">doc/keywords.rdoc</a>
<dd>
<p>[DOC] Add keywords doc by documenting-ruby/ruby#29 <a
href="https://github.com/documenting-ruby/ruby/pull/29">github.com/documenting-ruby/ruby/pull/29</a></p>
</dd></dl>

<h3 id="label-Mon+Feb+17+12-3A31-3A31+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Feb 17 12:31:31 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (get_envparam_double)
<dd>
<p>fix a warning message.</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+12-3A09-3A52+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Feb 17 12:09:52 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce new environment variable “RUBY_GC_HEAP_OLDOBJECT_LIMIT_FACTOR” to
control major/minor <a href="../../classes/GC.html">GC</a> frequency. Do
full <a href="../../classes/GC.html">GC</a> when the number of old objects
is more than R * N where R is this factor and N is the number of old
objects just after last full <a href="../../classes/GC.html">GC</a>.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+11-3A28-3A40+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Feb 17 11:28:40 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_pty.rb
<dd>
<p>ignore warnings to unused variables.</p>
</dd></dl>

<h3 id="label-Mon+Feb+17+11-3A27-3A36+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Feb 17 11:27:36 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_find.rb
<dd>
<p>remove unused variables.</p>
</dd></dl>

<h3 id="label-Sun+Feb+17+02-3A12-3A00+2014++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Sun Feb 17 02:12:00 2014  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_initialize)
<dd>
<p>Insert <a href="../../classes/GC.html">GC</a> guard.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_global_new)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-02-16">2014-02-16</h2>

<h3 id="label-Sun+Feb+16+15-3A53-3A36+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb 16 15:53:36 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_securerandom.rb
<dd>
<p><a href="../../classes/File.html#method-c-exists-3F">File.exists?</a> is
deprecated. use <a
href="../../classes/File.html#method-c-exist-3F">File.exist?</a></p>
</dd></dl>

<h3 id="label-Sun+Feb+16+15-3A05-3A00+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb 16 15:05:00 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/pathname/test_pathname.rb
<dd>
<p><a href="../../classes/File.html#method-c-exists-3F">File.exists?</a> is
deprecated. use <a
href="../../classes/File.html#method-c-exist-3F">File.exist?</a></p>
</dd></dl>

<h3 id="label-Sun+Feb+16+15-3A00-3A28+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb 16 15:00:28 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/ftp/test_ftp.rb
<dd>
<p>remove unused variables.</p>
</dd><dt>test/logger/test_logger.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+14-3A52-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Feb 16 14:52:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_s_glob)
<dd>
<p>RB_GC_GUARD instead of volatile</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+14-3A33-3A52+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 16 14:33:52 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RBIGNUM_SIGN)
<dd>
<p>Defined for compatibility.</p>
</dd><dt>(RBIGNUM_POSITIVE_P)
<dd>
<p>Ditto.</p>
</dd><dt>(RBIGNUM_NEGATIVE_P)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+12-3A46-3A47+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Feb 16 12:46:47 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_f_backquote)
<dd>
<p>trade volatile for manual recycle rb_gc_force_recycle ensures object is
visible until recycle</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+11-3A55-3A14+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Feb 16 11:55:14 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (marshal_dump)
<dd>
<p>use rb_gc_force_recycle for GC-safety</p>
</dd><dt>(marshal_load)
<dd>
<p>ditto [ruby-core:60730] [Bug #7805]</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+08-3A11-3A23+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Feb 16 08:11:23 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>[DOC] Fix typo by @utenmiki [Fixes GH-534] <a
href="https://github.com/ruby/ruby/pull/534">github.com/ruby/ruby/pull/534</a></p>
</dd></dl>

<h3 id="label-Sun+Feb+16+07-3A48-3A20+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 16 07:48:20 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BIGNUM_ZERO_P)
<dd>
<p>Unused macro removed.</p>
</dd></dl>

<h3 id="label-Sun+Feb+16+06-3A12-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb 16 06:12:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>Rename macro names: RBIGNUM_FOO to BIGNUM_FOO.</p>
</dd><dt>(BIGNUM_EMBED_LEN_NUMBITS)
<dd>
<p>Renamed from RBIGNUM_EMBED_LEN_NUMBITS.</p>
</dd><dt>(BIGNUM_EMBED_LEN_MAX)
<dd>
<p>Renamed from RBIGNUM_EMBED_LEN_MAX.</p>
</dd><dt>(BIGNUM_SIGN_BIT)
<dd>
<p>Renamed from RBIGNUM_SIGN_BIT.</p>
</dd><dt>(BIGNUM_SIGN)
<dd>
<p>Renamed from RBIGNUM_SIGN.</p>
</dd><dt>(BIGNUM_SET_SIGN)
<dd>
<p>Renamed from RBIGNUM_SET_SIGN.</p>
</dd><dt>(BIGNUM_POSITIVE_P)
<dd>
<p>Renamed from RBIGNUM_POSITIVE_P.</p>
</dd><dt>(BIGNUM_NEGATIVE_P)
<dd>
<p>Renamed from RBIGNUM_NEGATIVE_P.</p>
</dd><dt>(BIGNUM_EMBED_FLAG)
<dd>
<p>Renamed from RBIGNUM_EMBED_FLAG.</p>
</dd><dt>(BIGNUM_EMBED_LEN_MASK)
<dd>
<p>Renamed from RBIGNUM_EMBED_LEN_MASK.</p>
</dd><dt>(BIGNUM_EMBED_LEN_SHIFT)
<dd>
<p>Renamed from RBIGNUM_EMBED_LEN_SHIFT.</p>
</dd><dt>(BIGNUM_LEN)
<dd>
<p>Renamed from RBIGNUM_LEN.</p>
</dd><dt>(RBIGNUM_DIGITS)
<dd>
<p>Renamed from RBIGNUM_DIGITS.</p>
</dd><dt>(BIGNUM_LENINT)
<dd>
<p>Renamed from RBIGNUM_LENINT.</p>
</dd><dt>bignum.c
<dd>
<p>Follow the above change.</p>
</dd><dt>gc.c
<dd>
<p>Ditto.</p>
</dd><dt>marshal.c
<dd>
<p>Ditto.</p>
</dd><dt>math.c
<dd>
<p>Ditto.</p>
</dd><dt>numeric.c
<dd>
<p>Ditto.</p>
</dd><dt>random.c
<dd>
<p>Ditto.</p>
</dd><dt>rational.c
<dd>
<p>Ditto.</p>
</dd><dt>sprintf.c
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/bignum/bigzero.c
<dd>
<p>Ditto.</p>
</dd><dt>ext/-test-/bignum/intpack.c
<dd>
<p>Ditto.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h2 id="label-2014-02-15">2014-02-15</h2>

<h3 id="label-Sat+Feb+15+20-3A48-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 15 20:48:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (FILE_READEND)
<dd>
<p>Don&#39;t detect it because it is not used.</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+13-3A22-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Feb 15 13:22:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>probes_helper.h (RUBY_DTRACE_HOOK)
<dd>
<p>correct type for _id</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+11-3A47-3A47+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 15 11:47:47 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_cmp)
<dd>
<p>Avoid bignum allocation for comparison between bignum and fixnum.</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+10-3A55-3A12+2014++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Sat Feb 15 10:55:12 2014  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/win32/fd_setsize/depend
<dd>
<p>fix wrong dependencies. [ruby-dev:47253]</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+00-3A38-3A54+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 15 00:38:54 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>Enumerable#{min,min_by,max,max_by} extended to take an optional argument.</p>
</dd><dt>(nmin_cmp)
<dd>
<p>New function.</p>
</dd><dt>(nmin_block_cmp)
<dd>
<p>Ditto</p>
</dd><dt>(nmin_filter)
<dd>
<p>Ditto.</p>
</dd><dt>(nmin_i)
<dd>
<p>Ditto.</p>
</dd><dt>(nmin_run)
<dd>
<p>Ditto.</p>
</dd><dt>(enum_min)
<dd>
<p>Call nmin_run if the optional argument is given.</p>
</dd><dt>(nmin_max)
<dd>
<p>Ditto.</p>
</dd><dt>(nmin_min_by)
<dd>
<p>Ditto.</p>
</dd><dt>(nmin_max_by)
<dd>
<p>Ditto.</p>
</dd><dt>range.c
<dd>
<p>Range#{min,max} extended to take an optional argument.</p>
</dd><dt>(range_min)
<dd>
<p>Call range_first if the optional argument is given.</p>
</dd><dt>(range_max)
<dd>
<p>Call rb_call_super if the optional argument is given. [ruby-core:57111]
[Feature #8887]</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+00-3A27-3A46+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 15 00:27:46 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, internal.h, ext/-test-/bignum/bigzero.c
<dd>
<p>Hide a <a href="../../classes/Bignum.html">Bignum</a> definition.
[ruby-core:42891] [Feature #6083]</p>
</dd></dl>

<h3 id="label-Sat+Feb+15+00-3A13-3A14+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb 15 00:13:14 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h, include/ruby/io.h, include/ruby/ruby.h, include/ruby/win32.h, include/ruby/backward/rubysig.h, bignum.c, gc.c, io.c, process.c, safe.c, struct.c, thread.c, ext/socket/rubysocket.h, ext/-test-/old_thread_select
<dd>
<p>Remove deprecated definitions [ruby-core:60581] [Feature #9502]</p>
</dd></dl>

<h2 id="label-2014-02-14">2014-02-14</h2>

<h3 id="label-Fri+Feb+14+18-3A38-3A46+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Feb 14 18:38:46 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_format_m)
<dd>
<p>trade volatile for RB_GC_GUARD RB_GC_GUARD meaning is clear and has better
code generation. [ruby-core:60688]</p>
</dd></dl>

<h2 id="label-2014-02-13">2014-02-13</h2>

<h3 id="label-Thu+Feb+13+23-3A30-3A30+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Feb 13 23:30:30 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>should check ci-&gt;me-&gt;flag of a refining method in case the method is
private. [ruby-core:60111] [Bug #9452]</p>
</dd><dt>vm_method.c (make_method_entry_refined)
<dd>
<p>set me-&gt;flag of a refined method entry to NOEX_PUBLIC in case the
original method is private and it is refined as a public method.  The
original flag is stored in me-&gt;def-&gt;body.orig_me, so it&#39;s OK to
make a refined method entry public.  [ruby-core:60111] [Bug #9452]</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>related tests.</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+18-3A38-3A15+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Feb 13 18:38:15 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_reg_raise)
<dd>
<p>remove volatile Unnecessary since r41597</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+18-3A28-3A51+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Feb 13 18:28:51 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_reg_regcomp)
<dd>
<p>remove volatile Unnecessary since r13261</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+16-3A54-3A32+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Feb 13 16:54:32 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_array.rb
<dd>
<p>Ensure flatten! is used for test_flatten Patch by @ksss [Fixes GH-530] <a
href="https://github.com/ruby/ruby/pull/530">github.com/ruby/ruby/pull/530</a></p>
</dd></dl>

<h3 id="label-Thu+Feb+13+15-3A43-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 13 15:43:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (IDSET_ATTRSET_FOR_INTERN)
<dd>
<p>fix off-by-one bug.</p>
</dd><dt>parse.y (rb_enc_symname_type)
<dd>
<p>junk ID succeeded by &#39;=&#39; is also attrset ID.  [ruby-core:60668]
[Bug #8756]</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+11-3A06-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 13 11:06:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check if pthread_setname_np is available.</p>
</dd><dt>thread_pthread.c
<dd>
<p>pthread_setname_np is not available on old Darwins.  [ruby-core:60524] [Bug
#9492]</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+00-3A56-3A59+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Feb 13 00:56:59 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>revert r44922. I should have used AC_CHECK_FUNCS() to just define a symbol
if the function is available.</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+00-3A20-3A58+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Feb 13 00:20:58 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use AC_CHECK_FUNC instead of AC_CHECK_FUNCS if available.</p>
</dd></dl>

<h3 id="label-Thu+Feb+13+00-3A15-3A10+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Feb 13 00:15:10 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>fix to undefine HAVE_MEMMEM correctly if it is broken.</p>
</dd></dl>

<h2 id="label-2014-02-11">2014-02-11</h2>

<h3 id="label-Tue+Feb+11+23-3A54-3A40+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Feb 11 23:54:40 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bignum.c (rb_big_cmp)
<dd>
<p>Specialize a comparison to zero.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (is_negative)
<dd>
<p>Use rb_big_cmp instead of RBIGNUM_NEGATIVE_P.</p>
</dd><dt>(BigMath_s_log)
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb+11+22-3A59-3A10+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Feb 11 22:59:10 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_bn.c (ossl_bn_initialize)
<dd>
<p>Use rb_integer_pack. Fix SEGV by <a
href="../../classes/OpenSSL/BN.html#method-c-new">OpenSSL::BN.new</a>(1
&lt;&lt; (2**34)).</p>
</dd></dl>

<h3 id="label-Tue+Feb+11+17-3A00-3A38+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Feb 11 17:00:38 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/README.tcltklib
<dd>
<p>[DOC] Fix typo by @xta [Fixes GH-532]</p>
</dd></dl>

<h2 id="label-2014-02-09">2014-02-09</h2>

<h3 id="label-Sun+Feb++9+13-3A59-3A29+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Feb  9 13:59:29 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fix compilation error. <a
href="https://bugs.ruby-lang.org/issues/8358#note-16">bugs.ruby-lang.org/issues/8358#note-16</a></p>
</dd></dl>

<h3 id="label-Sun+Feb++9+05-3A20-3A24+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Feb  9 05:20:24 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_gnu_qsort_r)
<dd>
<p>use compile error “conflicting types for &#39;qsort_r&#39;” instead of
AC_RUN_IFELSE.</p>
</dd></dl>

<h3 id="label-Sun+Feb++9+04-3A07-3A34+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Feb  9 04:07:34 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>[DOC] Add links to syck and psych on github [Bug #9501] Based on a patch by
Giorgos Tsiftsis</p>
</dd></dl>

<h3 id="label-Sun+Feb++9+02-3A13-3A53+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb  9 02:13:53 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (OBJ_TAINTABLE, OBJ_TAINT, OBJ_INFECT), marshal.c (r_entry0)
<dd>
<p>all Numerics never be tainted now. [ruby-core:57346] [Bug #8945]</p>
</dd></dl>

<h2 id="label-2014-02-08">2014-02-08</h2>

<h3 id="label-Sat+Feb++8+23-3A40-3A35+2014++Vit+Ondruch++-3Cvondruch-40redhat.com-3E">Sat Feb  8 23:40:35 2014  Vit Ondruch  &lt;vondruch@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add quoting brackets and append wildcard for the rest after target_cpu, to
properly detect platform for SSE2 instructions.  [ruby-core:60576] [Bug
#8358]</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+21-3A44-3A07+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Sat Feb  8 21:44:07 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check qsort_r(3) and whether it is GNU version. BSD version has different
prototype.</p>
</dd><dt>util.h
<dd>
<p>use qsort_r() as ruby_qsort() if it is GNU version.</p>
</dd><dt>util.c
<dd>
<p>define ruby_qsort() if needed.</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+16-3A34-3A36+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  8 16:34:36 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Message::MessageDecoder#get_labels)
<dd>
<p>Make it iterative.</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+15-3A54-3A12+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Feb  8 15:54:12 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, gc.h (rb_objspace_marked_object_p)
<dd>
<p>added. This function <strong>ONLY</strong> works just after marking phase,
before any sweeping. This function is highly depending current <a
href="../../classes/GC.html">GC</a> implementation and can be removed
future version.</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+15-3A41-3A37+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  8 15:41:37 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>Don&#39;t set CLOEXEC flag explicitly.  (Ruby set it by default.)</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+15-3A27-3A02+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  8 15:27:02 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Message::MessageDecoder)
<dd>
<p>Raise DecodeError if no data before the limit. Reported by Will Bryant. 
[ruby-core:60557] [Bug #9498]</p>
</dd></dl>

<h3 id="label-Sat+Feb++8+15-3A11-3A21+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Feb  8 15:11:21 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (SMALLBUF)
<dd>
<p>Unused macro removed.</p>
</dd></dl>

<h2 id="label-2014-02-07">2014-02-07</h2>

<h3 id="label-Fri+Feb++7+23-3A37-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Feb  7 23:37:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>Ignore name servers which cause EAFNOSUPPORT on socket creation. Reported
by Bjoern Rennhak.  [ruby-core:60442] [Bug #9477]</p>
</dd></dl>

<h3 id="label-Fri+Feb++7+21-3A58-3A48+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Feb  7 21:58:48 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>[DOC] use lower case version of core classes, same as commit r44878, based
on patch by Jonathan Jackson [Bug #9483]</p>
</dd></dl>

<h3 id="label-Fri+Feb++7+21-3A54-3A53+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Feb  7 21:54:53 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/ripper/lib/ripper/lexer.rb
<dd>
<p>[DOC] use lower case version of core classes when referring to return
value, since we aren&#39;t directly talking about the class. Patch by
Jonathan Jackson [Bug #9483]</p>
</dd></dl>

<h3 id="label-Fri+Feb+7+05-3A28-3A38+2014++Eric+Wong++-3Ce-4080x24.org-3E">Fri Feb 7 05:28:38 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>constant.h
<dd>
<p>reduce rb_const_entry_t size on 64-bit Patch by Adam Avilla
[ruby-core:60542] [Feature #9496]</p>
</dd></dl>

<h2 id="label-2014-02-06">2014-02-06</h2>

<h3 id="label-Thu+Feb++6+15-3A27-3A46+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Feb  6 15:27:46 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (get_envparam_int)
<dd>
<p>correct warning messages.</p>
</dd><dt>gc.c (get_envparam_double)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb++6+15-3A17-3A30+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Feb  6 15:17:30 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (get_envparam_int)
<dd>
<p>don&#39;t accept a value equals to lowerbound</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (get_envparam_double)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb++6+09-3A00-3A35+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Feb  6 09:00:35 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ruby_gc_set_params)
<dd>
<p>if RUBY_GC_OLDMALLOC_LIMIT is provided, then set
objspace-&gt;rgengc.oldmalloc_increase_limit. Without this fix, the env
variable RUBY_GC_OLDMALLOC_LIMIT does not work.</p>
</dd><dt>gc.c (get_envparam_int)
<dd>
<p>accept a value equals to lowerbound.</p>
</dd><dt>gc.c (get_envparam_double)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb+6+08-3A23-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Thu Feb 6 08:23:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (rb_szqueue_max_set)
<dd>
<p>use correct queue and limit wakeups.  [Bug #<a
href="ruby-core:60517">9343]</a></p>
</dd><dt>test/thread/test_queue.rb (test_sized_queue_assign_max)
<dd>
<p>test for bug</p>
</dd></dl>

<h3 id="label-Thu+Feb++6+07-3A18-3A01+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Feb  6 07:18:01 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.2.2.  Complete history at: <a
href="http://rubygems.rubyforge.org/rubygems-update/History_txt.html#label-2.2.2+%2F+2014-02-05">rubygems.rubyforge.org/rubygems-update/History_txt.html#label-2.2.2+%2F+2014-02-05</a></p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-02-05">2014-02-05</h2>

<h3 id="label-Wed+Feb++5+20-3A56-3A32+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb  5 20:56:32 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (to_be_skipped_id)
<dd>
<p>ignore anonymous attributes.</p>
</dd><dt>pack.c (Init_pack)
<dd>
<p>use anonymous ID so that associated objects do not appear in the packed
result.</p>
</dd><dt>parse.y (rb_make_internal_id)
<dd>
<p>return an anonymous ID for internal use.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+14-3A41-3A56+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 14:41:56 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vsnprintf.c
<dd>
<p>remove duplicated def of `UNINITIALIZED_VAR()&#39;.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+14-3A40-3A16+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 14:40:16 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (dump_object)
<dd>
<p>use STR_SHARED_P() instead of removed STR_NOCAPA_P() macro.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+13-3A51-3A33+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 13:51:33 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h, vm_core.h
<dd>
<p>move LIKELY/UNLIKELY/UNINITIALIZED_VAR() macros from vm_core.h to
internal.h.</p>
</dd><dt>string.c
<dd>
<p>remove dependency to “vm_core.h”.</p>
</dd><dt>common.mk
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+13-3A29-3A01+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 13:29:01 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_free)
<dd>
<p>use FL_TEST(str, STR_SHARED) directly because str is not embed.</p>
</dd><dt>string.c (str_replace)
<dd>
<p>remove `FL_SET(str, STR_SHARED)&#39; line because STR_SET_SHARED() set
STR_SHARED.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+13-3A18-3A08+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 13:18:08 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>remove macros STR_NOCAPA and STR_NOCAPA_P().</p>
</dd><dt>string.c (rb_str_resize)
<dd>
<p>remove `STR_SET_NOEMBED(str)&#39; because str_make_independent_expand() set
NOEMBED flag.</p>
</dd><dt>string.c (rb_str_resize)
<dd>
<p>remove `STR_NOCAPA_P(str)&#39; check because `str&#39; is independent (not
shared).</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+12-3A54-3A25+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 12:54:25 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>refactoring, especially about string flags.</p>
</dd><dt>string.c (STR_UNSET_NOCAPA)
<dd>
<p>removed. Use FL_UNSET() with STR_SHARED.</p>
</dd><dt>string.c (rb_str_capacity)
<dd>
<p>check STR_SHARED directly because it is not a embed string.</p>
</dd><dt>string.c (rb_str_modify_expand)
<dd>
<p>ditto.</p>
</dd><dt>string.c (rb_str_shared_replace)
<dd>
<p>use STR_SET_SHARED().</p>
</dd><dt>string.c (str_make_independent_expand)
<dd>
<p>remove STR_UNSET_NOCAPA() because `str&#39; is not shared string.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+12-3A11-3A04+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 12:11:04 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (RESIZE_CAPA)
<dd>
<p>should not resize shared string.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+11-3A46-3A42+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 11:46:42 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>STR_ASSOC is no longer available. Reported by @nagachika. <a
href="http://d.hatena.ne.jp/nagachika/20140204">d.hatena.ne.jp/nagachika/20140204</a></p>
</dd></dl>

<h3 id="label-Wed+Feb++5+11-3A27-3A22+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Feb  5 11:27:22 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_new_frozen)
<dd>
<p>refactoring code. * Move code from str_new_frozen_with_klass() (and remove
it) * `aux.shared&#39; should not be 0 for STR_SHARED strings.</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+04-3A23-3A41+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Feb  5 04:23:41 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>New release of psych.</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Feb++5+04-3A16-3A41+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Feb  5 04:16:41 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/yaml/emitter.c
<dd>
<p>merge libyaml 0.1.5</p>
</dd><dt>ext/psych/yaml/loader.c
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/parser.c
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/reader.c
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/scanner.c
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/writer.c
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/yaml_private.h
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-02-04">2014-02-04</h2>

<h3 id="label-Tue+Feb++4+19-3A10-3A29+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Feb  4 19:10:29 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>use long allocator names instead of numbered allocator names. * rb_str_new2
-&gt; rb_str_new_cstr * rb_str_new4 -&gt; rb_str_new_frozen * rb_str_new5
-&gt; rb_str_new_with_class * str_new3 -&gt; str_new_shared * str_new4
-&gt; str_new_frozen_with_klass</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+17-3A20-3A03+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  4 17:20:03 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>return the filename with actual cases on the filesystem if it is
case-insensitive.  [ruby-core:42469] [Feature #5994]</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+16-3A16-3A58+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Feb  4 16:16:58 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>use STR_SHARED instead of ELTS_SHARED.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Feb++4+16-3A09-3A14+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Feb  4 16:09:14 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>remove STR_ASSOC related code. By r44804, string objects can not have
STR_ASSOC flag.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd><dt>ext/objspace/objspace_dump.c (dump_object)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+14-3A07-3A20+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  4 14:07:20 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (str_associate, str_associated)
<dd>
<p>keep associated objects in an instance variables, instead of in the
internal structure.</p>
</dd><dt>string.c (rb_str_associate, rb_str_associated)
<dd>
<p>deprecate.</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+12-3A55-3A31+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  4 12:55:31 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_modify_expand)
<dd>
<p>enable capacity and disable association with packed objects when setting
capa, so that pack(“p”) string fails to unpack properly after modified.</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+12-3A45-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  4 12:45:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_make_pattern)
<dd>
<p>all alphabets are magic characters on case-insensitive filesystems. 
[ruby-core:42469] [Feature #5994]</p>
</dd></dl>

<h3 id="label-Tue+Feb++4+09-3A47-3A57+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Feb  4 09:47:57 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.2.2 prerelease to check fixes to CI.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2014-02-03">2014-02-03</h2>

<h3 id="label-Mon+Feb++3+12-3A04-3A47+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Feb  3 12:04:47 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>[DOC] <a
href="../../classes/Exception.html#method-i-cause">Exception#cause</a> may
return nil. [ci skip]</p>
</dd></dl>

<h2 id="label-2014-02-02">2014-02-02</h2>

<h3 id="label-Sun+Feb+2+05-3A48-3A42+2014++Eric+Wong+-3Ce-4080x24.org-3E">Sun Feb 2 05:48:42 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_syswrite)
<dd>
<p>add RB_GC_GUARD [Bug #<a href="ruby-core:60407">9472]</a></p>
</dd></dl>

<h2 id="label-2014-02-01">2014-02-01</h2>

<h3 id="label-Sat+Feb++1+15-3A09-3A16+2014++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Feb  1 15:09:16 2014  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_typedesc2val)
<dd>
<p>add VT_RECORD case.</p>
</dd></dl>

<h3 id="label-Sat+Feb++1+06-3A38-3A51+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Feb  1 06:38:51 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>[DOC] Add note about start_service for each process Based on a patch by
@rosenfeld [Fixes GH-514] [ci skip] <a
href="https://github.com/ruby/ruby/pull/514">github.com/ruby/ruby/pull/514</a></p>
</dd></dl>

<h3 id="label-Sat+Feb++1+06-3A30-3A20+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Feb  1 06:30:20 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c
<dd>
<p>[DOC] Document <a
href="../../classes/Exception.html#method-i-cause">Exception#cause</a> by
@jasonrclark [ci skip] [Fixes GH-519] <a
href="https://github.com/ruby/ruby/pull/519">github.com/ruby/ruby/pull/519</a></p>
</dd></dl>

<h3 id="label-Sat+Feb++1+06-3A10-3A49+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Feb  1 06:10:49 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>[DOC] Add note on require for examples Based on a patch by @schneems [Fixes
GH-518] [ci skip] <a
href="https://github.com/ruby/ruby/pull/518">github.com/ruby/ruby/pull/518</a></p>
</dd></dl>

<h3 id="label-Sat+Feb++1+06-3A04-3A56+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Sat Feb  1 06:04:56 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>[DOC] Fix typo in example for step [ci skip] Patch by @ksss [Fixes GH-522]
<a
href="https://github.com/ruby/ruby/pull/522">github.com/ruby/ruby/pull/522</a></p>
</dd></dl>

<h2 id="label-2014-01-31">2014-01-31</h2>

<h3 id="label-Fri+Jan+31+17-3A01-3A47+2014++Eric+Wong+-3Ce-4080x24.org-3E">Fri Jan 31 17:01:47 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_socket0)
<dd>
<p>split out SOCK_CLOEXEC version</p>
</dd><dt>ext/socket/socket.c (rsock_socketpair0)
<dd>
<p>ditto [ruby-core:60377]</p>
</dd></dl>

<h3 id="label-Fri+Jan+31+03-3A48-3A40+2014++Eric+Wong+-3Ce-4080x24.org-3E">Fri Jan 31 03:48:40 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/driver
<dd>
<p>avoid large alloc in driver process [ruby-core:59869] [Bug #9430]</p>
</dd></dl>

<h2 id="label-2014-01-30">2014-01-30</h2>

<h3 id="label-Thu+Jan+30+14-3A45-3A49+2014++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Jan 30 14:45:49 2014  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use $@ instead of $(.TARGET) because .TARGET is not supported by GNU make.</p>
</dd></dl>

<h3 id="label-Thu+Jan+30+08-3A26-3A21+2014++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Thu Jan 30 08:26:21 2014  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c
<dd>
<p>use sizeof(*pcl) for correct sizeof value. [ruby-core:57599] [Bug #8978].</p>
</dd></dl>

<h2 id="label-2014-01-29">2014-01-29</h2>

<h3 id="label-Wed+Jan+29+20-3A08-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 29 20:08:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (nogvl_copy_stream_sendfile)
<dd>
<p>check socket on other than linux, as sendfile(2) on non-socket fd works
only on linux. [Feature #9427]</p>
</dd></dl>

<h3 id="label-Wed+Jan+29+18-3A09-3A48+2014++Eric+Wong+-3Ce-4080x24.org-3E">Wed Jan 29 18:09:48 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (nogvl_copy_stream_sendfile)
<dd>
<p>remove socket check [ruby-core:59856][Feature #9427]</p>
</dd></dl>

<h3 id="label-Wed+Jan+29+04-3A29-3A54+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Jan 29 04:29:54 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>pass read_nonblock options to underlying <a
href="../../classes/IO.html">IO</a> when SSL session has not been started.</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h3 id="label-Wed+Jan+29+03-3A49-3A36+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Jan 29 03:49:36 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c
<dd>
<p>use sizeof(*pcl) for correct sizeof value. [ruby-core:57599] [Bug #8978]. 
Thanks mame!</p>
</dd></dl>

<h3 id="label-Wed+Jan+29+03-3A36-3A42+2014++Eric+Wong+-3Ce-4080x24.org-3E">Wed Jan 29 03:36:42 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>allow/encourage other git hosts [ruby-core:59807][misc #9421]</p>
</dd></dl>

<h2 id="label-2014-01-28">2014-01-28</h2>

<h3 id="label-Tue+Jan+28+23-3A36-3A01+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jan 28 23:36:01 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>Avoid redundant fcntl/fstat syscalls for cloexec sockets. Patch by Eric
Wong.  [ruby-core:59429] [Feature #9330]</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+20-3A51-3A07+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jan 28 20:51:07 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (READ_FROM_CHILD)
<dd>
<p>Apply the last hunk of <a
href="../../classes/Process.html#method-c-spawn">Process.spawn</a> written
by Eric Wong in [Bug #8770].</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+16-3A31-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 28 16:31:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (ruby_init_stack, ruby_stack_overflowed_p)
<dd>
<p>place get_stack above others to get stack boundary information.
[ruby-core:60113] [Bug #9454]</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+15-3A27-3A36+2014++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Jan 28 15:27:36 2014  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c
<dd>
<p>rlimit is only available on Linux. At least r44712 breaks FreeBSD.
[ruby-core:60113] [Bug #9454]</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+15-3A17-3A59+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jan 28 15:17:59 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>[DOC] Add examples for <a
href="../../classes/Set.html#method-i-intersect-3F">Set#intersect?</a> and
<a href="../../classes/Set.html#method-i-disjoint-3F">Set#disjoint?</a>
Patch by xavier nayrac [Bug #9331] [ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+15-3A12-3A22+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jan 28 15:12:22 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (rb_zlib_adler32)
<dd>
<p>[DOC] Add example for adler32 Patch by Vajrasky Kok [Bug #9307] [ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Jan+28+08-3A56-3A00+2014++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Tue Jan 28 08:56:00 2014  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_build_from_ary_body)
<dd>
<p>Use :blockptr instead of :block as hash key when loading serialized
instruction sequences from arrays. [Bug #9455] [ruby-core:60146]</p>
</dd></dl>

<h2 id="label-2014-01-27">2014-01-27</h2>

<h3 id="label-Mon+Jan+27+21-3A52-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jan 27 21:52:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c
<dd>
<p>get current main thread stack size, which may be expanded than allocated
size at initialization, by rlimit(). [ruby-core:60113] [Bug #9454]</p>
</dd></dl>

<h2 id="label-2014-01-25">2014-01-25</h2>

<h3 id="label-Sat+Jan+25+22-3A17-3A02+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sat Jan 25 22:17:02 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>README.ja.md, <a href="../README_md.html">README.md</a>
<dd>
<p>update the controller address of mailing lists.</p>
</dd></dl>

<h3 id="label-Sat+Jan+25+14-3A50-3A42+2014++Eric+Wong++-3Cnormalperson-40yhbt.net-3E">Sat Jan 25 14:50:42 2014  Eric Wong  &lt;normalperson@yhbt.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (send_child_error)
<dd>
<p>retry write on EINTR to fix occasional Errno::EINTR from <a
href="../../classes/Process.html#method-c-spawn">Process.spawn</a>.</p>
</dd><dt>process.c (recv_child_error)
<dd>
<p>retry read on EINTR to fix occasional Errno::EINTR from <a
href="../../classes/Process.html#method-c-spawn">Process.spawn</a>.</p>
</dd></dl>

<h3 id="label-Sat+Jan+25+14-3A21-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 25 14:21:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>result of assignment should be its rhs instead of returned value from a
method. [ruby-core:60071] [Bug #9448]</p>
</dd></dl>

<h3 id="label-Sat+Jan+25+11-3A16-3A19+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 25 11:16:19 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_extract_keywords)
<dd>
<p>treat nil keyword_hash same as 0, for the case rb_scan_args returns nil if
no keyword hash.</p>
</dd></dl>

<h2 id="label-2014-01-24">2014-01-24</h2>

<h3 id="label-Fri+Jan+24+15-3A13-3A20+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Fri Jan 24 15:13:20 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../lib/racc/rdoc/grammar_en_rdoc.html">lib/racc/rdoc/grammar.en.rdoc</a>
<dd>
<p>[DOC] Correct grammar and typos Patch by Giorgos Tsiftsis [Bug #9429] [ci
skip]</p>
</dd></dl>

<h2 id="label-2014-01-23">2014-01-23</h2>

<h3 id="label-Thu+Jan+23+20-3A20-3A17+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jan 23 20:20:17 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/envutil.rb
<dd>
<p>try to wait a bit (0.1sec) when ruby process exits by signals because some
SEGV tests fail because of not enough error output.</p>
</dd></dl>

<h3 id="label-Thu+Jan+23+20-3A06-3A27+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jan 23 20:06:27 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_settracefunc.rb
<dd>
<p>check the target thread.</p>
</dd></dl>

<h3 id="label-Thu+Jan+23+19-3A59-3A16+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jan 23 19:59:16 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_settracefunc.rb
<dd>
<p>check the target thread.</p>
</dd></dl>

<h3 id="label-Thu+Jan+23+14-3A26-3A44+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jan 23 14:26:44 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>[DOC] Fix typo in options_of() example [Bug #9392] Patch by Giorgos
Tsiftsis</p>
</dd></dl>

<h3 id="label-Thu+Jan+23+13-3A56-3A16+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jan 23 13:56:16 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a> -&gt; <a href="../README_md.html">README.md</a>
<dd>
<p>[DOC] Format <a href="../README_md.html">README</a> with Markdown [Bug
#9255]</p>
</dd><dt>README.ja -&gt; README.ja.md
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-01-22">2014-01-22</h2>

<h3 id="label-Wed+Jan+22+15-3A59-3A39+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 22 15:59:39 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (Init_thread)
<dd>
<p><a href="../../classes/ConditionVariable.html">ConditionVariable</a> and <a
href="../../classes/Queue.html">Queue</a> are not able to copy. 
[ruby-core:59961] [Bug #9440]</p>
</dd></dl>

<h2 id="label-2014-01-21">2014-01-21</h2>

<h3 id="label-Tue+Jan+21+20-3A14-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 21 20:14:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (rb_thread_create_timer_thread)
<dd>
<p>fix for platforms where PTHREAD_STACK_MIN is a dynamic value and not a
compile-time constant.  [ruby-dev:47911] [Bug #9436]</p>
</dd></dl>

<h3 id="label-Tue+Jan+21+17-3A55-3A09+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jan 21 17:55:09 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>[DOC] Use static w3.org uri [ci skip] Patch by @ykzts [Fix GH-484] <a
href="https://github.com/ruby/ruby/pull/484">github.com/ruby/ruby/pull/484</a></p>
</dd></dl>

<h3 id="label-Tue+Jan+21+16-3A43-3A22+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jan 21 16:43:22 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>[DOC] Add simple example of <a
href="../../classes/Enumerable.html#method-i-zip">Enumerable#zip</a> [ci
skip] Patch by @nruth on documenting-ruby/ruby#22 <a
href="https://github.com/documenting-ruby/ruby/pull/22">github.com/documenting-ruby/ruby/pull/22</a></p>
</dd></dl>

<h3 id="label-Tue+Jan+21+16-3A26-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 21 16:26:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (rb_thread_create_timer_thread)
<dd>
<p>expand timer thread stack size to get rid of segfault on FreeBSD/powerpc64.
based on the patch by Steve Wills at [ruby-core:59923]. [ruby-core:56590]
[Bug #8783]</p>
</dd></dl>

<h3 id="label-Tue+Jan+21+04-3A31-3A23+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jan 21 04:31:23 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>Use “int” for IP_MULTICAST_LOOP and IP_MULTICAST_TTL on Mac OS X and
Windows.</p>
</dd></dl>

<h3 id="label-Tue+Jan+21+00-3A39-3A15+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jan 21 00:39:15 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>Use “byte” as default argument for IP_MULTICAST_LOOP and IP_MULTICAST_TTL
socket option to follow the original multicast implementation.</p>
</dd></dl>

<h2 id="label-2014-01-20">2014-01-20</h2>

<h3 id="label-Mon+Jan+20+20-3A20-3A27+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jan 20 20:20:27 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>Use preprocessor macros to avoid repeated conditionals.</p>
</dd></dl>

<h3 id="label-Mon+Jan+20+13-3A55-3A03+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jan 20 13:55:03 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/version.rb
<dd>
<p>[DOC] Use gender-neutral pronouns [ci skip]</p>
</dd><dt>lib/rubygems/security.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2014-01-19">2014-01-19</h2>

<h3 id="label-Sun+Jan+19+06-3A38-3A48+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jan 19 06:38:48 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (cmp_equal)
<dd>
<p>warn for this release and still rescue standard exceptions for a nicer
transition. See #7688. Partly reverts r44502.</p>
</dd><dt>test/ruby/test_comparable.rb
<dd>
<p>adapt assertion to match new behavior.</p>
</dd></dl>

<h3 id="label-Sun+Jan+19+06-3A27-3A18+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jan 19 06:27:18 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_comparable.rb
<dd>
<p>specify behavior for the different kind of exceptions rescued (or not) by
Comparable#==.</p>
</dd></dl>

<h2 id="label-2014-01-18">2014-01-18</h2>

<h3 id="label-Sat+Jan+18+23-3A12-3A19+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 23:12:19 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket
<dd>
<p>Avoid unnecessary ppoll/select on Linux. Patch by Eric Wong. 
[ruby-core:57950] [Bug #9039]</p>
</dd></dl>

<h3 id="label-Sat+Jan+18+22-3A57-3A44+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 22:57:44 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Resource::TXT#data)
<dd>
<p>Return concatenated string. Patch by Ryan Brunner.  [ruby-core:58220] [Bug
#9093]</p>
</dd></dl>

<h3 id="label-Sat+Jan+18+22-3A35-3A15+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 22:35:15 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_update_max_fd)
<dd>
<p>Return immediately if the given fd is small enough.</p>
</dd></dl>

<h3 id="label-Sat+Jan+18+22-3A25-3A53+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 22:25:53 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c
<dd>
<p><a href="../../classes/Test.html">Test</a> O_CLOEXEC only once. Patch by
Eric Wong.  [ruby-core:59419] [Feature #9328]</p>
</dd></dl>

<h3 id="label-Sat+Jan+18+21-3A24-3A49+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 21:24:49 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/option.c
<dd>
<p>IP_MULTICAST_LOOP and IP_MULTICAST_TTL socket option takes a byte on
OpenBSD. Fixed by Jeremy Evans.  [ruby-core:59496] [Bug #9350]</p>
</dd></dl>

<h3 id="label-Sat+Jan+18+21-3A19-3A04+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Jan 18 21:19:04 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>Make proxy disabling working again. Fixed by Christophe Philemotte.  
[ruby-core:59650] [Bug #9385]</p>
</dd></dl>

<h2 id="label-2014-01-17">2014-01-17</h2>

<h3 id="label-Fri+Jan+17+20-3A05-3A02+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jan 17 20:05:02 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb (Delegator)
<dd>
<p>keep source information methods which start and end with &#39;__&#39;. 
[ruby-core:59718] [Bug #9403]</p>
</dd></dl>

<h3 id="label-Fri+Jan+17+17-3A58-3A04+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jan 17 17:58:04 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_mod_s_constants)
<dd>
<p>return its own constants for other than <a
href="../../classes/Module.html">Module</a> itself.  [ruby-core:59763] [Bug
#9413]</p>
</dd></dl>

<h2 id="label-2014-01-16">2014-01-16</h2>

<h3 id="label-Tue+Jan+16+00-3A17-3A00+2014++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Jan 16 00:17:00 2014  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>bigdecimal version 1.2.5.</p>
</dd></dl>

<h2 id="label-2014-01-15">2014-01-15</h2>

<h3 id="label-Wed+Jan+15+20-3A30-3A31+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Wed Jan 15 20:30:31 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_binwrite)
<dd>
<p>use writev(2) to avoid double write if available.</p>
</dd><dt>configure.in
<dd>
<p>check writev(2)</p>
</dd></dl>

<h3 id="label-Wed+Jan+15+14-3A04-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 15 14:04:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (get_encoding)
<dd>
<p>respect BOM on pseudo encodings. [ruby-dev:47895] [Bug #9415]</p>
</dd></dl>

<h3 id="label-Wed+Jan+15+14-3A03-3A47+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 15 14:03:47 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (get_actual_encoding)
<dd>
<p>get actual encoding according to the BOM if exists.</p>
</dd><dt>string.c (rb_str_inspect)
<dd>
<p>use according encoding, instead of pseudo encodings, UTF-{16,32}. 
[ruby-core:59757] [Bug #8940]</p>
</dd></dl>

<h2 id="label-2014-01-14">2014-01-14</h2>

<h3 id="label-Tue+Jan+14+21-3A07-3A22+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Jan 14 21:07:22 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (rb_szqueue_clear)
<dd>
<p>notify SZQUEUE_WAITERS on <a
href="../../classes/SizedQueue.html#method-i-clear">SizedQueue#clear</a>.
[ruby-core:59462] [Bug #9342]</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>add test. the patch is from Justin Collins.</p>
</dd></dl>

<h3 id="label-Tue+Jan+14+15-3A58-3A43+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 14 15:58:43 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (CLASS_NAME)
<dd>
<p>macro to wrap depending on PRIsVALUE for 1.9.  [Backport #9406]</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (DECIMAL_SIZE_OF_BITS)
<dd>
<p>fallback definition for 2.1 or older.  [ruby-core:59750] [Backport #9406]</p>
</dd></dl>

<h3 id="label-Tue+Jan+14+11-3A28-3A44+2014++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Tue Jan 14 11:28:44 2014  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.c (cfp)
<dd>
<p>Fixes a SEGV issue in r44554. r11 can be broken by subroutine and sometimes
causes SEGV at runtime.  Use r13 instead.</p>
</dd></dl>

<h3 id="label-Tue+Jan+14+02-3A20-3A00+2014++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Jan 14 02:20:00 2014  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (BigDecimal_divide)
<dd>
<p>Add an additional digit for the quotient to be compatible with bigdecimal
1.2.1 and the former.  [ruby-core:59365] [#9316] [#9305]</p>
</dd><dt>test/bigdecimal/test_bigdecimal.rb
<dd>
<p>tests for the above change.</p>
</dd><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>bigdecimal version 1.2.4.</p>
</dd></dl>

<h2 id="label-2014-01-13">2014-01-13</h2>

<h3 id="label-Mon+Jan+13+14-3A55-3A31+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jan 13 14:55:31 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc/client.rb
<dd>
<p>[DOC] Remove note about SSL package on RAA Since RAA has been deprecated,
and the SSL package has been replaced with net/https this statement is
entirely false and should be deleted. [Bug #9152]</p>
</dd></dl>

<h3 id="label-Mon+Jan+13+14-3A47-3A07+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jan 13 14:47:07 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/smtp.rb
<dd>
<p>[DOC] Remove dead link to RAA by Giorgos Tsiftsis Fixes the following bugs:
[Bug #9152] [Bug #9268] [Bug #9394]</p>
</dd><dt>lib/open-uri.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Mon+Jan+13+14-3A25-3A55+2014++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jan 13 14:25:55 2014  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_pkey_dh.c
<dd>
<p>Fixed typo by Sandor Szuecs [Bug #9243]</p>
</dd></dl>

<h3 id="label-Mon+Jan+13+12-3A03-3A00+2014++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Mon Jan 13 12:03:00 2014  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c (rb_szqueue_push)
<dd>
<p>check GET_SZQUEUE_WAITERS instead of GET_QUEUE_WAITERS to prevent deadlock.
Patch by Eric Wong. [Bug #9302] [ruby-core:59324]</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>add test</p>
</dd></dl>

<h2 id="label-2014-01-12">2014-01-12</h2>

<h3 id="label-Sun+Jan+12+16-3A41-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 12 16:41:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_load)
<dd>
<p>keep type_map to get rid of memory leak. based on a patch by Eric Wong at
[ruby-core:59699].  [Bug #9399]</p>
</dd></dl>

<h3 id="label-Sun+Jan+12+09-3A21-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 12 09:21:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/util.h (DECIMAL_SIZE_OF_BITS)
<dd>
<p>a preprocessor constant macro to approximate decimal representation size of
n-bits integer.</p>
</dd><dt>iseq.c (register_label)
<dd>
<p>use DECIMAL_SIZE_OF_BITS for better approximation.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (BigMath_s_log)
<dd>
<p>ditto.</p>
</dd><dt>common.mk (iseq.o), ext/bigdecimal/depend (bigdecimal.o)
<dd>
<p>add dependency to ruby/util.h for DECIMAL_SIZE_OF_BITS.</p>
</dd></dl>

<h2 id="label-2014-01-10">2014-01-10</h2>

<h3 id="label-Fri+Jan+10+16-3A27-3A20+2014++Yuki+Yugui+Sonoda++-3Cyugui-40google.com-3E">Fri Jan 10 16:27:20 2014  Yuki Yugui Sonoda  &lt;yugui@google.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_exec.c (cfp)
<dd>
<p>Avoid generating invalid binary for NativeClient. r15 on x86_64 is reserved
by NativeClient.  So r15 to cfp used to generate invalid binary under some
combinations of compiler optimization flags.</p>
</dd></dl>

<h3 id="label-Fri+Jan+10+18-3A01-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jan 10 18:01:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>allow bound method from a module, yet another method transplanting.</p>
</dd></dl>

<h3 id="label-Fri+Jan+10+13-3A34-3A04+2014++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Jan 10 13:34:04 2014  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_aref_with)
<dd>
<p>new instruction to optimize <a
href="../../classes/Hash.html#method-i-5B-5D">Hash#[]</a>, removing any
allocation overhead when used with a string literal key. Patch by
normalperson (Eric Wong). [ruby-core:59640] [Bug #9382]</p>
</dd><dt>insns.def (opt_aset_with)
<dd>
<p>new instruction to optimize <a
href="../../classes/Hash.html#method-i-5B-5D-3D">Hash#[]=</a></p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>compiler shortcuts for new instructions</p>
</dd><dt>hash.c (static VALUE rb_hash_compare_by_id_p)
<dd>
<p>fix documentation for <a
href="../../classes/Hash.html#method-i-compare_by_identity">Hash#compare_by_identity</a>
to reflect frozen string sharing</p>
</dd><dt>test/ruby/test_hash.rb (class TestHash)
<dd>
<p>test for new behavior</p>
</dd></dl>

<h3 id="label-Fri+Jan+10+06-3A23-3A21+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Fri Jan 10 06:23:21 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (Range#size)
<dd>
<p>[DOC] improve description and add examples. Patch by @skade. [Fixes GH-501]</p>
</dd></dl>

<h3 id="label-Fri+Jan+10+00-3A47-3A52+2014++Josef+Stribny++-3Cstrzibny-40gmail.com-3E">Fri Jan 10 00:47:52 2014  Josef Stribny  &lt;strzibny@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/extconf.rb
<dd>
<p>fix to pass arrays instead of strings to libpathflag.  patch at
[ruby-core:59665].  [Bug #9386]</p>
</dd></dl>

<h2 id="label-2014-01-09">2014-01-09</h2>

<h3 id="label-Thu+Jan++9+20-3A49-3A22+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan  9 20:49:22 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>-mstackrealign is necessary for -msse2 working. [ruby-core:54716] [Bug
#8349]</p>
</dd><dt>configure.in
<dd>
<p>use SSE2 instructions to drop unexpected precisions on other than mingw. 
[ruby-core:59472] [Bug #8358]</p>
</dd></dl>

<h3 id="label-Thu+Jan++9+20-3A31-3A10+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jan  9 20:31:10 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_objid_hash)
<dd>
<p>should return `long&#39;.  brushup r44534.</p>
</dd><dt>object.c (rb_obj_hash)
<dd>
<p>follow above change.</p>
</dd></dl>

<h3 id="label-Thu+Jan++9+19-3A12-3A37+2014++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jan  9 19:12:37 2014  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_pop_cfunc_frame)
<dd>
<p>added.  It cares c_return event. The patch base by drkaes (Stefan Kaes).
[Bug #9321]</p>
</dd><dt>variable.c (rb_mod_const_missing)
<dd>
<p>use rb_vm_pop_cfunc_frame() instead of rb_frame_pop().</p>
</dd><dt>vm_eval.c (raise_method_missing)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_iterate)
<dd>
<p>ditto.</p>
</dd><dt>internal.h (rb_vm_pop_cfunc_frame)
<dd>
<p>add decl.</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add tests. provided by drkaes (Stefan Kaes).</p>
</dd><dt>vm.c, eval.c, include/ruby/intern.h (rb_frame_pop)
<dd>
<p>move definition of rb_frame_pop() and deprecate it. It doesn&#39;t care
about `return&#39; events.</p>
</dd></dl>

<h3 id="label-Thu+Jan++9+17-3A40-3A28+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jan  9 17:40:28 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_any_hash)
<dd>
<p>should treat the return value of rb_objid_hash() as `long&#39;, because
ruby assumes the hash value of the object id of an object is `long&#39;.
this fixes test failures on mswin64 introduced at r44525.</p>
</dd></dl>

<h3 id="label-Thu+Jan++9+09-3A55-3A20+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Jan  9 09:55:20 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>dumping strings with quotes should not have changed.  [ruby-core:59316]
[Bug #9300]</p>
</dd><dt>ext/psych/lib/psych.rb
<dd>
<p>fixed missing require.</p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test</p>
</dd></dl>

<h3 id="label-Thu+Jan++9+09-3A51-3A00+2014++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Jan  9 09:51:00 2014  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>anonymous structs should be able to roundtrip.  Thanks @splattael!</p>
</dd><dt>test/psych/test_object_references.rb
<dd>
<p>test for change</p>
</dd></dl>

<h2 id="label-2014-01-08">2014-01-08</h2>

<h3 id="label-Wed+Jan++8+22-3A53-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  8 22:53:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>when super called in a bound <a
href="../../classes/UnboundMethod.html">UnboundMethod</a> generated from a
module, no superclass is found since the current defined class is the
module, then call method_missing in that case.  [ruby-core:59619] [Bug
#9377]</p>
</dd></dl>

<h3 id="label-Wed+Jan++8+15-3A55-3A21+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  8 15:55:21 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_objid_hash)
<dd>
<p>return hash value from object ID with a salt, extract from rb_any_hash().</p>
</dd><dt>object.c (rb_obj_hash)
<dd>
<p>return same value as rb_any_hash(). fix r44125.  [ruby-core:59638] [Bug
#9381]</p>
</dd></dl>

<h3 id="label-Wed+Jan++8+13-3A12-3A41+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  8 13:12:41 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout::ExitException.catch)
<dd>
<p>pass arguments for new instance.</p>
</dd><dt>lib/timeout.rb (Timeout::ExitException#exception)
<dd>
<p>fallback to <a href="../../classes/Timeout/Error.html">Timeout::Error</a>
if couldn&#39;t throw.  [ruby-dev:47872] [Bug #9380]</p>
</dd><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>initialize ExitException with message for the fallback case.</p>
</dd></dl>

<h2 id="label-2014-01-07">2014-01-07</h2>

<h3 id="label-Tue+Jan++7+12-3A43-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan  7 12:43:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>should not rescue ordinarily raised ExitException, which should not be
thrown.</p>
</dd><dt>lib/timeout.rb (Timeout::ExitException.catch)
<dd>
<p>set @thread only if it ought to be caught.</p>
</dd><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>when a custom exception is given, no instance is needed to be caught, so
defer creating new instance until it is raised.  [ruby-core:59511] [Bug
#9354]</p>
</dd></dl>

<h3 id="label-Tue+Jan++7+10-3A16-3A02+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Tue Jan  7 10:16:02 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems master 21e409d / RubyGems 2.2.1. See <a
href="http://rubygems.rubyforge.org/rubygems-update/History_txt.html">rubygems.rubyforge.org/rubygems-update/History_txt.html</a>
for a list of bug fixes.</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jan++7+10-3A10-3A46+2014++Eric+Wong+-3Ce-4080x24.org-3E">Tue Jan  7 10:10:46 2014  Eric Wong &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/generator/depend
<dd>
<p>add build dependencies for json extension [Bug #9374] [ruby-core:59609]</p>
</dd><dt>ext/json/parser/depend
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Jan++7+04-3A35-3A46+2014++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Jan  7 04:35:46 2014  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_add_hash)
<dd>
<p>Fix consistency issue between <a
href="../../classes/Array.html#method-i-uniq">Array#uniq</a> and <a
href="../../classes/Array.html#method-i-uniq-21">Array#uniq!</a> [Bug
#9340] [ruby-core:59457]</p>
</dd><dt>test/ruby/test_array.rb (class TestArray)
<dd>
<p>regression test for above.</p>
</dd></dl>

<h2 id="label-2014-01-06">2014-01-06</h2>

<h3 id="label-Mon+Jan++6+21-3A28-3A48+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Jan  6 21:28:48 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignore *-fake.rb generated even when CROSS_COMPILING = no since r42862.</p>
</dd></dl>

<h2 id="label-2014-01-05">2014-01-05</h2>

<h3 id="label-Sun+Jan++5+20-3A14-3A14+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jan  5 20:14:14 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (cmp_equal)
<dd>
<p>remove error hiding in Comparable#==. Comparable#== no longer rescues
exceptions silently. This was the cause of quite a couple bugs. See #7688.
[EXPERIMENTAL]</p>
</dd><dt>test/ruby/test_comparable.rb
<dd>
<p>adapt assertion to match new behavior.</p>
</dd><dt>lib/rdoc/method_attr.rb
<dd>
<p>fix bugs discovered by this change.</p>
</dd><dt>test/rdoc/test_rdoc_normal_class.rb
<dd>
<p>fix bugs in tests.</p>
</dd></dl>

<h2 id="label-2014-01-04">2014-01-04</h2>

<h3 id="label-Sat+Jan++4+22-3A44-3A00+2014++Charlie+Somerville++-3Ccharliesome-40ruby-lang.org-3E">Sat Jan  4 22:44:00 2014  Charlie Somerville  &lt;charliesome@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (rb_struct_set)
<dd>
<p>return assigned value from setter method rather than struct object. [Bug
#9353] [ruby-core:59509]</p>
</dd><dt>test/ruby/test_struct.rb (test_setter_method_returns_value)
<dd>
<p>add test</p>
</dd></dl>

<h3 id="label-Sat+Jan++4+21-3A44-3A31+2014++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sat Jan  4 21:44:31 2014  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (TestGc#test_latest_gc_info)
<dd>
<p>use <a href="../../classes/GC.html#method-c-stat">GC.stat</a>(:key) instead
of <a href="../../classes/GC.html#method-c-stat">GC.stat</a>.</p>
</dd></dl>

<h3 id="label-Sat+Jan++4+19-3A15-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan  4 19:15:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_syserr_fail_host_port)
<dd>
<p>use format flags, &#39;+&#39; to inspect, &#39; &#39; to quote
unprintables.</p>
</dd><dt>ext/socket/socket.c (rsock_syserr_fail_path)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/socket.c (rsock_syserr_fail_raddrinfo)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/socket.c (rsock_syserr_fail_host_port)
<dd>
<p>add errno argument version and use rb_syserr_fail_str() instead of
rb_sys_fail_str() with restoring errno.</p>
</dd><dt>ext/socket/socket.c (rsock_syserr_fail_path)
<dd>
<p>ditto, and rb_syserr_fail().</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_sockaddr)
<dd>
<p>ditto, use rsock_syserr_fail_raddrinfo().</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_raddrinfo)
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/socket.c (setup_domain_and_type)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jan++4+17-3A18-3A58+2014++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Jan  4 17:18:58 2014  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (RubyVM::OPTS)
<dd>
<p>get rid of a garbage character.</p>
</dd></dl>

<h3 id="label-Sat+Jan++4+10-3A17-3A54+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Jan  4 10:17:54 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (Rinda::RingFinger#make_socket)
<dd>
<p>Use ipv4_multicast_ttl option for portability.</p>
</dd></dl>

<h3 id="label-Sat+Jan++4+10-3A15-3A47+2014++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sat Jan  4 10:15:47 2014  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/ring.rb (Rinda::RingFinger#make_socket)
<dd>
<p>Use ipv4_multicast_loop option for portability.  Patch by Jeremy Evans.
[ruby-trunk - Bug #9351]</p>
</dd></dl>

<h2 id="label-2014-01-03">2014-01-03</h2>

<h3 id="label-Fri+Jan++3+19-3A09-3A00+2014++Eric+Wong++-3Cnormalperson-40yhbt.net-3E">Fri Jan  3 19:09:00 2014  Eric Wong  &lt;normalperson@yhbt.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (rsock_sys_fail_host_port)
<dd>
<p>save and restore errno before calling rb_sys_fail_str to prevent [BUG]
errno == 0. Patch by Eric Wong. [ruby-core:59498] [Bug #9352]</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_path)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_sockaddr)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_raddrinfo)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/socket.c (rsock_sys_fail_raddrinfo_or_sockaddr)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Jan++3+10-3A43-3A57+2014++Aman+Gupta+-3Cruby-40tmm1.net-3E">Fri Jan  3 10:43:57 2014  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/imap/cacert.pem
<dd>
<p>generate new CA cert, since the last one expired. [Bug #9341]
[ruby-core:59459]</p>
</dd><dt>test/net/imap/server.crt
<dd>
<p>new server cert signed with updated CA.</p>
</dd><dt>test/net/imap/Makefile
<dd>
<p>add `make regen_certs` to automate this process.</p>
</dd></dl>

<h3 id="label-Fri+Jan++3+00-3A09-3A54+2014++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Fri Jan  3 00:09:54 2014  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal
<dd>
<p>update class method call style from :: to . in documentation and usage.</p>
</dd><dt>ext/bigdecimal/lib/bigdecimal/math.rb
<dd>
<p>[DOC] fix examples values. Computations were made using ruby 2.0.0p247 to
ensure no effect of the recent <a
href="../../classes/BigDecimal.html">BigDecimal</a> bug.</p>
</dd><dt>ext/bigdecimal/sample/nlsolve.rb
<dd>
<p>fix indent.</p>
</dd></dl>

<h2 id="label-2014-01-02">2014-01-02</h2>

<h3 id="label-Thu+Jan++2+16-3A07-3A21+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jan  2 16:07:21 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_fwrite)
<dd>
<p>freeze converted str.</p>
</dd></dl>

<h3 id="label-Thu+Jan++2+04-3A15-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan  2 04:15:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_longjmp)
<dd>
<p>remove an extra modifier from the forward declaration to match the actual
definition.  [ruby-core:59451] [Bug #9338]</p>
</dd></dl>

<h3 id="label-Thu+Jan++2+01-3A23-3A30+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jan  2 01:23:30 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (method_missing)
<dd>
<p>use ALLOCV_N() instead of ALLOCA_N() and rb_ary_tmp_new().</p>
</dd></dl>

<h3 id="label-Thu+Jan++2+00-3A53-3A16+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jan  2 00:53:16 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_zip)
<dd>
<p>use ALLOCV_N() instead of ALLOCA_N().</p>
</dd></dl>

<h3 id="label-Thu+Jan++2+00-3A04-3A29+2014++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Thu Jan  2 00:04:29 2014  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_keys)
<dd>
<p>make rb_hash_keys() static. it is no longer used from array.c since r43969.
the patch is from normalperson (Eric Wong). [ruby-core:59449] [Feature
#9336]</p>
</dd><dt>internal.h
<dd>
<p>remove definition of rb_hash_keys().</p>
</dd></dl>

<h2 id="label-2014-01-01">2014-01-01</h2>

<h3 id="label-Wed+Jan++1+18-3A19-3A35+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  1 18:19:35 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>reset LDFLAGS and DLDFLAGS for opt-dir again after LIBPATHFLAG and
RPATHFLAG are set.  [ruby-dev:47868] [Bug #9317]</p>
</dd></dl>

<h3 id="label-Wed+Jan++1+11-3A12-3A29+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  1 11:12:29 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>use SSE2 instructions for drop unexpected precisions.  [ruby-core:54738]
[Bug #8358]</p>
</dd></dl>

<h2 id="label-2013-12-31">2013-12-31</h2>

<h3 id="label-Tue+Dec+31+23-3A49-3A07+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 31 23:49:07 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (rb_f_raise)
<dd>
<p>add cause: optional keyword argument. [ruby-core:58610] [Feature #8257]
[EXPERIMENTAL]</p>
</dd></dl>

<h3 id="label-Tue+Dec+31+21-3A44-3A17+2013++Akio+Tajima+-3Cartonx-40yahoo.co.jp-3E">Tue Dec 31 21:44:17 2013  Akio Tajima &lt;artonx@yahoo.co.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub
<dd>
<p>remove HAVE_FSEEKO because fseeko removed from win32/win32.c Fixed [Bug
#9333].</p>
</dd></dl>

<h3 id="label-Tue+Dec+31+21-3A02-3A27+2013++Masaki+Matsushita++-3Cglass.saga-40gmail.com-3E">Tue Dec 31 21:02:27 2013  Masaki Matsushita  &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (io_fwrite)
<dd>
<p>allocate frozen str only when str is not converted.</p>
</dd></dl>

<h3 id="label-Tue+Dec+31+15-3A44-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 31 15:44:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (RbConfig)
<dd>
<p>expand RUBY_SO_NAME for extensions backward compatibility. 
[ruby-core:59426] [Bug #9329]</p>
</dd></dl>

<h2 id="label-2013-12-30">2013-12-30</h2>

<h3 id="label-Mon+Dec+30+23-3A33-3A07+2013++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Mon Dec 30 23:33:07 2013  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c
<dd>
<p>[DOC] adding extra example in docs. patched by Steve Klabnik. [Bug #9210]</p>
</dd></dl>

<h3 id="label-Mon+Dec+30+18-3A34-3A18+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 30 18:34:18 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (must_encindex, rb_enc_from_index, rb_obj_encoding)
<dd>
<p>mask encoding index and ignore dummy flags.  [ruby-core:59354] [Bug #9314]</p>
</dd></dl>

<h3 id="label-Mon+Dec+30+16-3A11-3A52+2013++WATANABE+Hirofumi++-3Ceban-40ruby-lang.org-3E">Mon Dec 30 16:11:52 2013  WATANABE Hirofumi  &lt;eban@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>needs CXXFLAGS.  [ruby-core:59393][Bug #9320]</p>
</dd></dl>

<h2 id="label-2013-12-29">2013-12-29</h2>

<h3 id="label-Sun+Dec+29+18-3A36-3A54+2013++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sun Dec 29 18:36:54 2013  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (configuration)
<dd>
<p>Make CXXFLAGS customizable. Patch by Kohei Suzuki (eagletmt). [Fixes
GH-492]</p>
</dd></dl>

<h3 id="label-Sun+Dec+29+12-3A11-3A11+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 29 12:11:11 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (mnew_from_me)
<dd>
<p>keep iclass as-is, to make inheritance chain consistent.  [ruby-core:59358]
[Bug #9315]</p>
</dd><dt>proc.c (method_owner)
<dd>
<p>return the original defined_class from prepended iclass, instead.</p>
</dd></dl>

<h3 id="label-Sun+Dec+29+08-3A47-3A24+2013++Lucas+Allan+Amorim++-3Clucas.allan-40gmail.com-3E">Sun Dec 29 08:47:24 2013  Lucas Allan Amorim  &lt;lucas.allan@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_sprintf.rb (test_hash)
<dd>
<p>Added tests for sprintf with a hash as parameter.  [Fixes GH-491]</p>
</dd></dl>

<h3 id="label-Sun+Dec+29+07-3A27-3A51+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Dec 29 07:27:51 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (cmp_eq_recursive)
<dd>
<p>Fix the return value, the value for failed #&lt;=&gt; should be nil. It was
raising a <a href="../../classes/NoMethodError.html">NoMethodError</a> for
the test case TestComparable#test_no_cmp (undefined method `&gt;&#39; for
false:FalseClass). Yet one more reason for #7688.</p>
</dd></dl>

<h2 id="label-2013-12-28">2013-12-28</h2>

<h3 id="label-Sat+Dec+28+22-3A21-3A59+2013++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sat Dec 28 22:21:59 2013  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Dec+28+17-3A24-3A00+2013++DV+Suresh++-3Ce-40dvsuresh.me-3E">Sat Dec 28 17:24:00 2013  DV Suresh  &lt;e@dvsuresh.me&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_so_meteor_contest.rb
<dd>
<p>[DOC] Fix a few typos</p>
</dd><dt>ext/fiddle/lib/fiddle/import.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych.rb
<dd>
<p>ditto</p>
</dd><dt>ext/psych/lib/psych/nodes/sequence.rb
<dd>
<p>ditto</p>
</dd><dt>ext/tk/lib/multi-tk.rb
<dd>
<p>ditto</p>
</dd><dt>ext/tk/lib/tcltk.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Dec+28+00-3A42-3A37+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 28 00:42:37 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (local_push_gen, local_pop_gen)
<dd>
<p>save cmdarg_stack to isolate command argument state from outer scope.
[ruby-core:59342] [Bug #9308]</p>
</dd></dl>

<h2 id="label-2013-12-27">2013-12-27</h2>

<h3 id="label-Fri+Dec+27+13-3A25-3A03+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Dec 27 13:25:03 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/{setup.mak,Makefile.sub}
<dd>
<p>update fake.rb like template/fake.rb.in.</p>
</dd></dl>

<h2 id="label-2013-12-26">2013-12-26</h2>

<h3 id="label-Thu+Dec+26+16-3A10-3A41+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 26 16:10:41 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (fake.rb)
<dd>
<p>should depend on version.h because if RUBY_VERSION is updated, fake.rb need
to say the new version to avoid install error in rbconfig.rb.</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+14-3A25-3A03+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 26 14:25:03 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (HASH_REJECT_COPY_EXTRA_STATES)
<dd>
<p>turn off the old behavior, copying extra states by accident.</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+10-3A49-3A14+2013++Yukihiro+Matsumoto++-3Cmatz-40ruby-lang.org-3E">Thu Dec 26 10:49:14 2013  Yukihiro Matsumoto  &lt;matz@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>version.h (RUBY_VERSION)
<dd>
<p>2.2.0 development has started.</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+10-3A27-3A53+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 26 10:27:53 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/merger.rb (tag)
<dd>
<p>support 2.1.1 semi-automatic tagging and 2.2.0 explicit tagging.</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+01-3A09-3A57+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 26 01:09:57 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/release.sh
<dd>
<p>make symbolic links.</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+00-3A45-3A33+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 26 00:45:33 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>support new version scheme.</p>
</dd></dl>

<h2 id="label-2013-12-25">2013-12-25</h2>

<h3 id="label-Wed+Dec+25+22-3A44-3A14+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 25 22:44:14 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_arguments)
<dd>
<p>set arg_keyword_check from nd_cflag, which is set by parser.  internal ID
is used for unnamed keyword rest argument, which should be separated from
no keyword check.</p>
</dd><dt>iseq.c (rb_iseq_parameters)
<dd>
<p>if no keyword check, keyword rest is present.</p>
</dd><dt>parse.y (new_args_tail_gen)
<dd>
<p>set keywords check to nd_cflag, which equals to that keyword rest is not
present.</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+22-3A32-3A19+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Dec 25 22:32:19 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/abbrev.rb
<dd>
<p>[DOC] rdoc format patch by Giorgos Tsiftsis [Bug #9146]</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+20-3A30-3A10+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 25 20:30:10 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_parameters)
<dd>
<p>push argument type symbol only for unnamed rest keywords argument.</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+20-3A28-3A48+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 25 20:28:48 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_iseq_min_max_arity)
<dd>
<p>maximum argument is unlimited if having rest keywords argument. 
[ruby-core:53298] [Bug #8072]</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+18-3A29-3A22+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 25 18:29:22 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (argument_error)
<dd>
<p>insert dummy frame to make a backtrace object intead of modify backtrace
string array. [Bug #9295]</p>
</dd><dt>test/ruby/test_backtrace.rb
<dd>
<p>add a test for this patch. fix test to compare a result of <a
href="../../classes/Exception.html#method-i-backtrace">Exception#backtrace</a>
with a result of <a
href="../../classes/Exception.html#method-i-backtrace_locations">Exception#backtrace_locations</a>.</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+13-3A00-3A54+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 25 13:00:54 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>let mingw do something black-magic, and check if _gmtime64_s() is available
actually.</p>
</dd><dt>win32/win32.c (gmtime_s, localtime_s)
<dd>
<p>use _gmtime64_s() and _localtime64_s() if available, not depending on very
confusing mingw variants macros.  based on the patch by phasis68 (Heesob
Park) at [ruby-core:58764].  [ruby-core:58391] [Bug #9119]</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+12-3A33-3A41+2013++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Wed Dec 25 12:33:41 2013  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/trick2013/
<dd>
<p>added the award-winning entries of TRICK 2013. See <a
href="https://github.com/tric/trick2013">github.com/tric/trick2013</a> for
the contest outline.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Dec+25+10-3A42-3A02+2013++Yamashita+Yuu++-3Cyamashita-40geishatokyo.com-3E">Wed Dec 25 10:42:02 2013  Yamashita Yuu  &lt;yamashita@geishatokyo.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (Init_ossl_ssl)
<dd>
<p>Declare a constant `OP_MSIE_SSLV2_RSA_PADDING` only if the macro is
defined.  The `SSL_OP_MSIE_SSLV2_RSA_PADDING` has been removed from latest
snapshot of <a href="../../classes/OpenSSL.html">OpenSSL</a> 1.0.1.  [Fixes
GH-488]</p>
</dd></dl>

<h3 id="label-Wed+Dec+25+01-3A03-3A00+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 25 01:03:00 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (bind_local_variables)
<dd>
<p>allowing binding to list its local variables.  patch by Jack Danger Canty
&lt;jackdanger AT squareup.com&gt; at [ruby-core:56543].  [Feature #8773]</p>
</dd></dl>

<h2 id="label-2013-12-24">2013-12-24</h2>

<h3 id="label-Tue+Dec+24+23-3A20-3A38+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 24 23:20:38 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/fileasserts.rb (assert_ownership_user)
<dd>
<p>new assertion for user ownership.</p>
</dd><dt>test/fileutils/test_fileutils.rb (test_chown_error), (test_chown_without_permission, test_chown_with_root)
<dd>
<p>based on the patch by vajrasky (Vajrasky Kok) at [ruby-core:59298]. 
[Feature #9292]</p>
</dd></dl>

<h3 id="label-Tue+Dec+24+16-3A28-3A05+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 24 16:28:05 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>consider visibility only if self in the caller is same as the receiver,
otherwise make public as well as old behavior.  [ruby-core:57747] [Bug
#9005] [ruby-core:58497] [Bug #9141]</p>
</dd><dt>vm.c (rb_vm_cref_in_context)
<dd>
<p>return ruby level cref if self is same.</p>
</dd></dl>

<h3 id="label-Tue+Dec+24+14-3A13-3A14+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 24 14:13:14 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>add a refer to URL.</p>
</dd></dl>

<h3 id="label-Tue+Dec+24+13-3A48-3A45+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 24 13:48:45 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="../README_md.html">README</a>.EXT
<dd>
<p>add a document about RGenGC. Reviewed by havenwood. [misc #8962]</p>
</dd><dt><a href="../README_md.html">README</a>.EXT.ja
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+24+12-3A11-3A43+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 24 12:11:43 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RARRAY_ASET)
<dd>
<p>try to avoid compiler warning. [Bug #9287]</p>
</dd></dl>

<h3 id="label-Tue+Dec+24+05-3A04-3A56+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Dec 24 05:04:56 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (setup)
<dd>
<p>should not call <a
href="../../classes/Process.html#method-c-groups">Process.groups</a> for
Windows.  get rid of many errors introduced by r44364.</p>
</dd></dl>

<h2 id="label-2013-12-23">2013-12-23</h2>

<h3 id="label-Mon+Dec+23+18-3A37-3A16+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 23 18:37:16 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/fileasserts.rb (assert_ownership_group)
<dd>
<p>new assertion for group ownership.</p>
</dd><dt>test/fileutils/test_fileutils.rb (test_chown{,_verbose,_noop})
<dd>
<p>based on the patch by vajrasky (Vajrasky Kok) at [ruby-core:59281]. 
[Feature #9286]</p>
</dd></dl>

<h3 id="label-Mon+Dec+23+15-3A53-3A45+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 23 15:53:45 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (HAS_EXTRA_STATES)
<dd>
<p>warn extra states only when something differ.  [ruby-core:59254] [Bug
#9275]</p>
</dd></dl>

<h3 id="label-Mon+Dec+23+05-3A01-3A55+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Dec 23 05:01:55 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="syntax/methods_rdoc.html">doc/syntax/methods.rdoc</a>
<dd>
<p>[DOC] Added example for underscore conventions in method names. Also added
doc to clarify encoding character set support for Ruby programs and
elaborated on defining predicate and bang methods. Based on a patch by
@gaurish [Fixes GH-477] <a
href="https://github.com/ruby/ruby/pull/477">github.com/ruby/ruby/pull/477</a></p>
</dd></dl>

<h3 id="label-Mon+Dec+23+03-3A18-3A09+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Dec 23 03:18:09 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog-1_9_3.html">doc/ChangeLog-1.9.3</a>
<dd>
<p>[DOC] Fix typos by @dvsuresh [Fixes GH-485] <a
href="https://github.com/ruby/ruby/pull/485">github.com/ruby/ruby/pull/485</a></p>
</dd><dt>ext/openssl/ossl_config.c
<dd>
<p>ditto</p>
</dd><dt>lib/rss/utils.rb, lib/time.rb
<dd>
<p>ditto</p>
</dd><dt>test/ruby/envutil.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2013-12-22">2013-12-22</h2>

<h3 id="label-Sun+Dec+22+23-3A56-3A56+2013++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Dec 22 23:56:56 2013  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/{rake,rdoc,rss}/*, test/rexml/test_listener.rb
<dd>
<p>[DOC] Fix typos by @dvsuresh [Fixes GH-486] <a
href="https://github.com/ruby/ruby/pull/486">github.com/ruby/ruby/pull/486</a></p>
</dd></dl>

<h3 id="label-Sun+Dec+22+11-3A08-3A47+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 22 11:08:47 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_ext_builder.rb
<dd>
<p>Fix warning due to ambiguous expression.</p>
</dd></dl>

<h3 id="label-Sun+Dec+22+11-3A05-3A53+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 22 11:05:53 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/commands/install_command.rb
<dd>
<p>Restore gem install –ignore-dependencies for remote gems</p>
</dd><dt>test/rubygems/test_gem_commands_install_command.rb
<dd>
<p><a href="../../classes/Test.html">Test</a> for the above.</p>
</dd></dl>

<h3 id="label-Sun+Dec+22+10-3A23-3A40+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 22 10:23:40 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc.rb
<dd>
<p><a href="../../classes/Set.html">Set</a> <a
href="../../classes/RDoc.html">RDoc</a> to release version.</p>
</dd></dl>

<h3 id="label-Sun+Dec+22+10-3A19-3A07+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 22 10:19:07 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p><a href="../../classes/Set.html">Set</a> RubyGems to release version.</p>
</dd></dl>

<h3 id="label-Sun+Dec+22+10-3A16-3A08+2013++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Sun Dec 22 10:16:08 2013  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb (module Gem)
<dd>
<p>Fix comment for <a
href="../../classes/Gem.html#method-c-load_path_insert_index">Gem.load_path_insert_index</a>.</p>
</dd></dl>

<h3 id="label-Sun+Dec+22+04-3A07-3A55+2013++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Dec 22 04:07:55 2013  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (ruby_gc_set_params)
<dd>
<p>don&#39;t show obsolete warnings for RUBY_FREE_MIN/RUBY_HEAP_MIN_SLOTS if
RUBY_GC_HEAP_FREE_SLOTS/RUBY_GC_HEAP_INIT_SLOTS are given. [Bug #9276]</p>
</dd></dl>

<h2 id="label-2013-12-21">2013-12-21</h2>

<h3 id="label-Sat+Dec+21+13-3A00-3A20+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 21 13:00:20 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>remove unnecessary the source path from EEXIST error messages and show the
destination path only.  [ruby-core:59202] [Feature #9263]</p>
</dd></dl>

<h3 id="label-Sat+Dec+21+12-3A37-3A19+2013++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 21 12:37:19 2013  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::Hosts#lazy_initialize)
<dd>
<p>should not consider encodings in hosts file.  [ruby-core:59239] [Bug #9273]</p>
</dd><dt>lib/resolv.rb (Resolv::Config.parse_resolv_conf)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Dec+21+05-3A43-3A27+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Dec 21 05:43:27 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>replace RUBY_PATCHLEVEL_STR in version.h to show users that this ruby is a
preview/rc version.</p>
</dd></dl>

<h3 id="label-Sat+Dec+21+05-3A03-3A49+2013++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Dec 21 05:03:49 2013  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub (fake.rb)
<dd>
<p>fixed wrong RUBY_PLATFORM, to correctly install win32.h.
[ruby-core:58801][Bug #9199] reported by arton.</p>
</dd></dl>

<h2 id="label-2013-03-01">2013-03-01</h2>

<h3 id="label-Thu+Dec+26+06-3A35-3A25+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Dec 26 06:35:25 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>Having any mandatory keyword argument increases min arity [#9299]</p>
</dd></dl>

<h3 id="label-Thu+Dec+26+06-3A27-3A08+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Dec 26 06:27:08 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>Having optional keyword arguments makes maximum arity +1, not unlimited
[#8072]</p>
</dd></dl>

<h3 id="label-Mon+Dec+23+12-3A42-3A13+2013++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Mon Dec 23 12:42:13 2013  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Have to_h raise on elements that are not key-value pairs [#9239]</p>
</dd><dt>enum.c
<dd>
<p>ditto</p>
</dd></dl>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>