<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ChangeLog</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            ChangeLog
        </h1>
        <ul class="files">
            
            <li>
                ChangeLog
                
            </li>
            <li>Last modified: 2015-12-24 15:30:13 +0100</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-ChangeLog"><a href="ChangeLog.html">ChangeLog</a></h1>

<h2 id="label-2015-12-24">2015-12-24</h2>

<h3 id="label-Thu+Dec+24+23-3A01-3A57+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Dec 24 23:01:57 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>added entry for CGI.escapeHTML optimization.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+18-3A43-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 24 18:43:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_compile_error_with_enc, rb_compile_error), (rb_compile_bug)
<dd>
<p>deprecate internal functions.</p>
</dd><dt>parse.y (parser_yyerror)
<dd>
<p>construct exception message with source code and caret.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+17-3A25-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 24 17:25:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (append_compile_error), parse.y (compile_error)
<dd>
<p>preserve encoding of source file name in exceptions.</p>
</dd><dt>error.c (rb_compile_error_str, rb_compile_bug_str)
<dd>
<p>add.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+16-3A17-3A47+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Dec 24 16:17:47 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (fake.rb)
<dd>
<p>$(arch)-fake.rb must depend miniruby because it may depend miniruby.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+16-3A13-3A05+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Dec 24 16:13:05 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ripper.c)
<dd>
<p>r50045 wrongly replace $(PWD) with ../.. It is the top of build directory,
not topsrcdir.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+15-3A02-3A42+2015++sorah+-28Shota+Fukumori-29++-3Cher-40sorah.jp-3E">Thu Dec 24 15:02:42 2015  sorah (Shota Fukumori)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb (IO.popen)
<dd>
<p>Refactor. Avoid assigning in condition.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+15-3A01-3A38+2015++sorah+-28Shota+Fukumori-29++-3Cher-40sorah.jp-3E">Thu Dec 24 15:01:38 2015  sorah (Shota Fukumori)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/file2lastrev.rb
<dd>
<p>Fix <a href="../classes/ArgumentError.html">ArgumentError</a> to work on
Ruby 1.8.7.</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+14-3A44-3A08+2015++sorah+-28Shota+Fukumori-29++-3Cher-40sorah.jp-3E">Thu Dec 24 14:44:08 2015  sorah (Shota Fukumori)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb (IO.popen)
<dd>
<p>Enable on Ruby 1.9 where chdir option is not supported on <a
href="../classes/IO.html#method-c-popen">IO.popen</a></p>
</dd><dt>tool/vcs.rb (IO.popen)
<dd>
<p>Fix <a href="../classes/NoMethodError.html">NoMethodError</a>. I guess
r49705 was not tested… :/</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+14-3A57-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 24 14:57:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>rename “Implementation changes” section to “Supported platform changes”
section.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add “Implementation improvements” and add several entries.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add <a href="NEWS.html">NEWS</a> entries by Eric Wong. [ruby-core:72450]</p>
</dd></dl>

<h3 id="label-Thu+Dec+24+00-3A26-3A05+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 24 00:26:05 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/extconf.rb
<dd>
<p>fix gem build failure on Windows. only win32_vk.inc is included in the gem
and no dependencies for the header, so that gperf will not be mandatory.
[ruby-core:72453] [Bug #11866]</p>
</dd><dt>ext/io/console/io-console.gemspec
<dd>
<p>include depend file and win32_vk header.</p>
</dd></dl>

<h2 id="label-2015-12-23">2015-12-23</h2>

<h3 id="label-Wed+Dec+23+23-3A58-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 23 23:58:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_readwrite_syserr_fail)
<dd>
<p>works with the given errno than thread local errno.</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+17-3A57-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 23 17:57:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c, io.c, util.c
<dd>
<p>prefer rb_syserr_fail with saved errno over setting errno then call
rb_sys_fail, not to be clobbered potentially and to reduce thread local
errno accesses.</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+11-3A58-3A52+2015++Yuichiro+Kaneko++-3Cyui-knk-40ruby-lang.org-3E">Wed Dec 23 11:58:52 2015  Yuichiro Kaneko  &lt;yui-knk@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>Fix document. Default value of the first argument of `String#split` is not
`$;` but `nil`. When `nil` is passed as first argument, `$;` is used. [ci
skip] [Bug #11729] [ruby-dev:49378]</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+07-3A15-3A17+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec 23 07:15:17 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_init_sock)
<dd>
<p>reject reserved FDs [ruby-core:72445] [Bug #11862]</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+02-3A59-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 23 02:59:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (<em>STDC_WANT_LIB_EXT1</em>)
<dd>
<p>necessary to use memset_s in strict C99 mode.</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+02-3A34-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 23 02:34:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regexec.c (match_at)
<dd>
<p>move direct threaded VM code to get rid of mixed declarations and code, and
enable it only for gcc since it depends on a gcc extension.</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+02-3A23-3A19+2015++Yuki+Nishijima++-3Cmail-40yukinishijima.net-3E">Wed Dec 23 02:23:19 2015  Yuki Nishijima  &lt;mail@yukinishijima.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade the did_you_mean gem to 1.0.0</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Add news about the did_you_mean gem</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+02-3A18-3A57+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Wed Dec 23 02:18:57 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>[DOC] remove an extra word “here”. [Fix GH-1169]</p>
</dd></dl>

<h3 id="label-Wed+Dec+23+01-3A58-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 23 01:58:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regexec.c (USE_DIRECT_THREADED_VM)
<dd>
<p>enable direct threaded VM by the default.</p>
</dd></dl>

<h2 id="label-2015-12-22">2015-12-22</h2>

<h3 id="label-Tue+Dec+22+22-3A15-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 22 22:15:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (internal_object_p)
<dd>
<p>should not expose singleton classes without a metaclass.  based on patches
by ko1 and shugo. [Bug #11740]</p>
</dd><dt>class.c (rb_singleton_class_object_p)
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+22-3A15-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 22 22:15:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/io-console.gemspec
<dd>
<p>bump up to 0.4.4.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+22-3A11-3A06+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 22 22:11:06 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Added news entry of <a href="../classes/Psych.html">Psych</a> 2.0.17</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+22-3A09-3A01+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 22 22:09:01 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Added news entry of <a href="../classes/RDoc.html">RDoc</a> 4.2.1</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+21-3A20-3A00+2015++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Tue Dec 22 21:20:00 2015  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>bump version to 1.2.8.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+21-3A08-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 22 21:08:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc.rb
<dd>
<p>bump version to 4.2.1. It contains following fixes. <a
href="https://github.com/rdoc/rdoc/pull/340">github.com/rdoc/rdoc/pull/340</a>
<a
href="https://github.com/rdoc/rdoc/pull/341">github.com/rdoc/rdoc/pull/341</a>
<a
href="https://github.com/rdoc/rdoc/pull/367">github.com/rdoc/rdoc/pull/367</a>
<a
href="https://github.com/rdoc/rdoc/pull/368">github.com/rdoc/rdoc/pull/368</a></p>
</dd><dt>lib/rdoc/*
<dd>
<p>ditto.</p>
</dd><dt>test/rdoc/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+20-3A25-3A33+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 22 20:25:33 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bump version to 2.0.17</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+20-3A14-3A47+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 22 20:14:47 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>move vm_callee_setup_block_arg() (and related functions) to the latter
location. This moving recovers performance a little. [Bug #11829]</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+15-3A21-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 22 15:21:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_compat_and_valid)
<dd>
<p>as scrub does nothing for dummy encoding string now, incompatible encoding
is not a matter.</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+14-3A31-3A28+2015++Toru+Iwase++-3Ctietew-40tietew.net-3E">Tue Dec 22 14:31:28 2015  Toru Iwase  &lt;tietew@tietew.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/cgi/escape/escape.c (optimized_escape_html)
<dd>
<p>CGI.escapeHTML should return unfrozen new string. [ruby-core:72426] [Bug
#11858]</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+05-3A39-3A58+2015++Takashi+Kokubun++-3Ctakashikkbn-40gmail.com-3E">Tue Dec 22 05:39:58 2015  Takashi Kokubun  &lt;takashikkbn@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/cgi/escape/escape.c (preserve_original_state)
<dd>
<p>Preserve original state for tainted and frozen.  [Fix GH-1166]
[ruby-dev:49451] [Bug #11855]</p>
</dd></dl>

<h3 id="label-Tue+Dec+22+03-3A57-3A20+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec 22 03:57:20 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_init_sock)
<dd>
<p>check FD after validating</p>
</dd><dt>test/socket/test_basicsocket.rb (test_for_fd)
<dd>
<p>new [ruby-core:72418] [Bug #11854]</p>
</dd></dl>

<h2 id="label-2015-12-21">2015-12-21</h2>

<h3 id="label-Mon+Dec+21+21-3A29-3A45+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Mon Dec 21 21:29:45 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (struct ivar_update)
<dd>
<p>rename “extended” to “iv_extended” to avoid name conflict with
/usr/include/floatingpoint.h on Solaris. [Bug #11853] [ruby-dev:49448]</p>
</dd></dl>

<h3 id="label-Mon+Dec+21+12-3A15-3A32+2015++Kimura+Wataru++-3Ckimuraw-40i.nifty.jp-3E">Mon Dec 21 12:15:32 2015  Kimura Wataru  &lt;kimuraw@i.nifty.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>handled rlimit value same as r52277 [Bug #<a
href="ruby-dev:49446">11852]</a></p>
</dd></dl>

<h3 id="label-Mon+Dec+21+10-3A21-3A22+2015++Ilya+Vassilevsky+-3Cvassilevsky-40gmail.com-3E">Mon Dec 21 10:21:22 2015  Ilya Vassilevsky &lt;vassilevsky@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (open_timeout)
<dd>
<p>update default value in <a href="../classes/RDoc.html">RDoc</a>
[ruby-core:72413]</p>
</dd></dl>

<h3 id="label-Mon+Dec+21+10-3A18-3A46+2015++Kazuki+Yamaguchi++-3Ck-40rhe.jp-3E">Mon Dec 21 10:18:46 2015  Kazuki Yamaguchi  &lt;k@rhe.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c (rb_profile_frames)
<dd>
<p>ignore ifunc frames as it did before.  [ruby-core:72409] [Bug #11851]</p>
</dd></dl>

<h3 id="label-Mon+Dec+21+09-3A33-3A17+2015++Karol+Bucek++-3Ckares-40users.noreply.github.com-3E">Mon Dec 21 09:33:17 2015  Karol Bucek  &lt;kares@users.noreply.github.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLSocket)
<dd>
<p>fix <a href="../classes/NotImplementedError.html">NotImplementedError</a>
typo.  [Fix GH-1165]</p>
</dd></dl>

<h2 id="label-2015-12-20">2015-12-20</h2>

<h3 id="label-Sun+Dec+20+20-3A54-3A51+2015++Takashi+Kokubun++-3Ctakashikkbn-40gmail.com-3E">Sun Dec 20 20:54:51 2015  Takashi Kokubun  &lt;takashikkbn@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>cgi/escape/escape.c
<dd>
<p>Optimize CGI.escapeHTML for ASCII-compatible encodings.  [Fix GH-1164]</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+15-3A36-3A46+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Dec 20 15:36:46 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb
<dd>
<p>revert r53123. It breaks compatibility like thor and rspec-rails. We should
try with Ruby 2.4 or 3.0. [Bug #<a href="ruby-core:72374">11842]</a></p>
</dd><dt>lib/rdoc/erb_partial.rb
<dd>
<p>ditto.</p>
</dd><dt>template/verconf.h.tmpl
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+11-3A43-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 20 11:43:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>allow here documents in labeled argument.  [ruby-core:72396] [Bug #11849]</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+11-3A14-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Dec 20 11:14:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>should check <a href="../classes/Symbol.html">Symbol</a> or not. [Bug
#11850]</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+11-3A01-3A57+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Dec 20 11:01:57 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>fix notation.</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+10-3A54-3A15+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Dec 20 10:54:15 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_new)
<dd>
<p>fix notation.</p>
</dd></dl>

<h3 id="label-Sun+Dec+20+00-3A29-3A00+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 20 00:29:00 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_proc_get_iseq)
<dd>
<p>proc made from symbol does not have iseq.  fix infinite loop. 
[ruby-core:72381] [Bug #11845]</p>
</dd></dl>

<h2 id="label-2015-12-19">2015-12-19</h2>

<h3 id="label-Sat+Dec+19+20-3A06-3A10+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Dec 19 20:06:10 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/windows_1250.c
<dd>
<p>Should not use C++ style comments (C99 feature). [Bug #11843]</p>
</dd></dl>

<h3 id="label-Sat+Dec+19+17-3A17-3A04+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 19 17:17:04 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#initialize)
<dd>
<p>use <a
href="../classes/WEBrick/Utils/TimeoutHandler/Thread.html">WEBrick::Utils::TimeoutHandler::Thread</a>,
which is ignored by LeakChecker#find_threads, instead of <a
href="../classes/Thread.html">::Thread</a> to get rid of thread leak
checker.  since this TimeoutHandler is resident during tests because of <a
href="../classes/Singleton.html">Singleton</a>, it waits for the next
timeout if it has any schedules.  in the case of nested timeouts, inner
timeout does not cancel outer timeouts and then those schedules still
remain.</p>
</dd></dl>

<h3 id="label-Sat+Dec+19+14-3A28-3A01+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Sat Dec 19 14:28:01 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (Init_zlib)
<dd>
<p>[DOC] Fix double-word typo and grammatical error.  [Fix GH-1162]</p>
</dd></dl>

<h3 id="label-Sat+Dec+19+14-3A23-3A59+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Sat Dec 19 14:23:59 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb (CSV#initialize)
<dd>
<p>[DOC] Fix double-word typo. [Fix GH-1161]</p>
</dd></dl>

<h2 id="label-2015-12-18">2015-12-18</h2>

<h3 id="label-Fri+Dec+18+21-3A26-3A54+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Fri Dec 18 21:26:54 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler)
<dd>
<p>To prevent potential deadlocks, <a href="../classes/Queue.html">Queue</a>
is used to tell update of @timeout_info instead of sleep and wakeup. [Bug
#11742] [ruby-dev:49387]</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+17-3A24-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 18 17:24:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (ibf_load_object_string)
<dd>
<p>use fstring if frozen string.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+16-3A54-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 18 16:54:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_set_encoding)
<dd>
<p>add StringIO&#39;s own encoding and separate it from the buffer string to
override the encoding of string when reading.  [ruby-core:72189] [Bug
#11827] note that setting the encoding of its buffer string directly
without <a
href="../classes/StringIO.html#method-i-set_encoding">StringIO#set_encoding</a>
may cause unpredictable behavior.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+16-3A50-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 18 16:50:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (ibf_load_setup)
<dd>
<p>check tainted string argument.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+16-3A12-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Dec 18 16:12:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>define USE_LAZY_LOAD if it is not defined.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+15-3A40-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 18 15:40:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_unget_bytes)
<dd>
<p>extract from strio_ungetbyte to share with strio_ungetc.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+12-3A39-3A42+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 18 12:39:42 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/syntax/*.rdoc
<dd>
<p>separated modifier at sentence. [ci skip][fix GH-1121] Patch by @clandry94</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+12-3A09-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 18 12:09:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_ungetbyte)
<dd>
<p>pad with 000 when the current position is after the end.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+11-3A24-3A48+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Dec 18 11:24:48 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make, check_override_opt_method)
<dd>
<p>should check whether a newly created method overrides an optimize method in
case the method is defined in a prepended module of a built-in class.
[ruby-core:72226] [Bug #11836]</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+11-3A09-3A38+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Dec 18 11:09:38 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_exec)
<dd>
<p>call RUBY_DTRACE_CMETHOD_RETURN_HOOK instead of
RUBY_DTRACE_METHOD_RETURN_HOOK.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+10-3A24-3A44+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 18 10:24:44 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb/ruby-lex.rb
<dd>
<p>fixed parse error for striped heredocument syntax. [fix GH-1127] Patch by
@koic</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+09-3A44-3A47+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 18 09:44:47 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pty/pty.c
<dd>
<p>fix double words typo. [ci skip][fix GH-1157] Patch by @jwworth</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+09-3A42-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 18 09:42:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/nkf/nkf-utf8/utf8tbl.c
<dd>
<p>fix a typo. [ci skip][fix GH-1159] Patch by @akshay-vishnoi</p>
</dd><dt>ext/nkf/nkf-utf8/utf8tbl.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec+18+07-3A39-3A01+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Dec 18 07:39:01 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_check_redefinition_opt_method)
<dd>
<p>should check the real class instead of the origin iclass. [ruby-core:72188]
[Bug #11826]</p>
</dd></dl>

<h2 id="label-2015-12-17">2015-12-17</h2>

<h3 id="label-Thu+Dec+17+22-3A13-3A10+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Dec 17 22:13:10 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c (vm_caller_setup_arg_block)
<dd>
<p>remove code for ifunc because it was made unnecessary by r52138.</p>
</dd></dl>

<h3 id="label-Thu+Dec+17+16-3A13-3A10+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Dec 17 16:13:10 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_block_arity)
<dd>
<p>should not call GetProcPtr() for symbols. [ruby-core:72205] [Bug #11830]</p>
</dd></dl>

<h3 id="label-Thu+Dec+17+14-3A16-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 17 14:16:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_scrub)
<dd>
<p>the result should be infected by the original string.</p>
</dd></dl>

<h3 id="label-Thu+Dec+17+13-3A35-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 17 13:35:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (rb_econv_substr_append, econv_primitive_convert)
<dd>
<p>the result should be infected by the original string.</p>
</dd></dl>

<h3 id="label-Thu+Dec+17+09-3A46-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 17 09:46:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (reg_names_iter)
<dd>
<p>should consider encoding of regexp. [ruby-core:72185] [Bug #11825]</p>
</dd></dl>

<h3 id="label-Thu+Dec+17+03-3A52-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 17 03:52:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_make_env_each)
<dd>
<p>should not compare with Qfalse and FALSE. Pointed at <a
href="http://d.hatena.ne.jp/nagachika/20151216/ruby_trunk_changes_53128_53163">d.hatena.ne.jp/nagachika/20151216/ruby_trunk_changes_53128_53163</a></p>
</dd></dl>

<h3 id="label-Thu+Dec+17+03-3A15-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 17 03:15:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method_each_type)
<dd>
<p>should not set fastpath with keyword arguments for VM_METHOD_TYPE_ATTRSET
type methods. Normally, we can not use keyword arguments for this kind of
methods,</p>
</dd><dd>
<p></p>
</dd><dt>test/ruby/test_keyword.rb
<dd>
<p>add a test for this fix.</p>
</dd></dl>

<h2 id="label-2015-12-16">2015-12-16</h2>

<h3 id="label-Wed+Dec+16+20-3A32-3A43+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Wed Dec 16 20:32:43 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/handle.c
<dd>
<p>check tainted string arguments. Patch provided by tenderlove and nobu.</p>
</dd><dt>test/fiddle/test_handle.rb (class TestHandle)
<dd>
<p>add test for above.</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+19-3A30-3A56+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Dec 16 19:30:56 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_make_proc_from_block)
<dd>
<p>should convert a <a href="../classes/Symbol.html">Symbol</a> to a <a
href="../classes/Proc.html">Proc</a>. [ruby-core:72083] [Bug #11811]</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+16-3A17-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec 16 16:17:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>fix spelling errors</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+16-3A04-3A49+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec 16 16:04:49 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>note <a href="../classes/IO.html#method-i-advise">IO#advise</a> change
[ruby-core:72168]</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+15-3A35-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 16 15:35:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>fix mark miss for proc given as passed block. [Bug #11750]</p>
</dd><dt>vm.c (vm_make_proc_from_block)
<dd>
<p>should return a <a href="../classes/Proc.html">Proc</a> object if block is
given. Previous implementation returns a <a
href="../classes/Proc.html">Proc</a> object only when corresponding <a
href="../classes/Proc.html">Proc</a> object is not available.</p>
</dd><dt>vm.c (vm_make_env_each)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_proc.rb
<dd>
<p>add a test for this bug.</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+10-3A49-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 16 10:49:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (block_command, block_call)
<dd>
<p>fix `&amp;.` calls after block_call.  [Feature #11537]</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+00-3A53-3A45+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Dec 16 00:53:45 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler)
<dd>
<p>Acquire TimeoutMutex only when accessing @timeout_info for avoiding
potential deadlock. [Bug #11742] [ruby-dev:49387]</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+00-3A39-3A27+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Wed Dec 16 00:39:27 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/extension_rdoc.html">doc/extension.rdoc</a>
<dd>
<p>[DOC] fix double-word typo.  [Fix GH-1153]</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+00-3A25-3A41+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Dec 16 00:25:41 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#initialize)
<dd>
<p>TimeoutMutex should be acquired when accessing @timeout_info. To avoid
deadlock, interrupt() calls are delayed. Due to the mutex, it is safe to
treat ary without ary.dup. [Bug #11742] [ruby-dev:49387]</p>
</dd></dl>

<h2 id="label-2015-12-15">2015-12-15</h2>

<h3 id="label-Tue+Dec+15+23-3A13-3A10+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Dec 15 23:13:10 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Delete excess semicolon after RUBY_ALIAS_FUNCTION(). Suppress “syntax
error:  empty declaration” warnings by Oracle Solaris Studio 12.x on
Solaris. [Bug #11821]</p>
</dd><dt>hash.c
<dd>
<p>ditto, after NOINSERT_UPDATE_CALLBACK().</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+16-3A19-3A26+2015++Takashi+Kokubun++-3Ctakashikkbn-40gmail.com-3E">Tue Dec 15 16:19:26 2015  Takashi Kokubun  &lt;takashikkbn@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb
<dd>
<p>Render erb with array buffer for function call optimization. [fix GH-1143]</p>
</dd><dt>lib/rdoc/erb_partial.rb
<dd>
<p>ditto.</p>
</dd><dt>template/verconf.h.tmpl
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+13-3A50-3A05+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 15 13:50:05 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_oct)
<dd>
<p>[DOC] mention radix indicators. [ruby-core:71310] [Bug #11648]</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+12-3A20-3A30+2015++Takashi+Kokubun++-3Ctakashikkbn-40gmail.com-3E">Tue Dec 15 12:20:30 2015  Takashi Kokubun  &lt;takashikkbn@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/erb.rb
<dd>
<p>Simplify regexp to optimize erb scanner. [fix GH-1144]</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+11-3A56-3A24+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 15 11:56:24 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>make code block for rdoc. [ci skip][fix GH-1152] Patch by @Tonkpils</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+11-3A55-3A08+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Dec 15 11:55:08 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c
<dd>
<p>fix a typo. [ci skip][fix GH-1149] Patch by @crismali</p>
</dd></dl>

<h2 id="label-2015-12-14">2015-12-14</h2>

<h3 id="label-Mon+Dec+14+17-3A04-3A14+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 17:04:14 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p>use safe navigation operator. [fix GH-1142] Patch by @mlarraz</p>
</dd><dt>lib/drb/extservm.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/net/http.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/net/http/response.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/scanf.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/uri/generic.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+17-3A03-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 17:03:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/runner.rb
<dd>
<p>use safe navigation operator. [fix GH-1142] Patch by @mlarraz</p>
</dd><dt>test/openssl/test_pair.rb
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_econv.rb
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>ditto.</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+14-3A33-3A35+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 14:33:35 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/xmlrpc.rb
<dd>
<p>added documentation for parser details. [ci skip][fix GH-1124] Patch by
@jrafanie</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+11-3A46-3A52+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 11:46:52 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>fix a typo in documentation. [ci skip][fix GH-1140] Patch by @jutaz</p>
</dd><dt>io.c
<dd>
<p>ditto.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>numeric.c
<dd>
<p>ditto.</p>
</dd><dt>process.c
<dd>
<p>ditto.</p>
</dd><dt>string.c
<dd>
<p>ditto.</p>
</dd><dt>vm_trace.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+11-3A41-3A59+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 11:41:59 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi.rb
<dd>
<p>fix a typo in documentation. [ci skip][fix GH-1140] Patch by @jutaz</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+11-3A31-3A00+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 11:31:00 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>fix typos. [ci skip][fix GH-1140] Patch by @jutaz</p>
</dd><dt>dir.c
<dd>
<p>ditto.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>io.c
<dd>
<p>ditto.</p>
</dd><dt>node.h
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vsnprintf.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+11-3A27-3A01+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 11:27:01 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/iso_2022_jp.h
<dd>
<p>fix typos. [ci skip][fix GH-1140] Patch by @jutaz</p>
</dd><dt>enc/utf_16_32.h
<dd>
<p>ditto.</p>
</dd><dt>enc/utf_7.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+11-3A25-3A57+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Dec 14 11:25:57 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_app_aobench.rb
<dd>
<p>fix typos. [ci skip][fix GH-1140] Patch by @jutaz</p>
</dd><dt>benchmark/bm_vm_thread_pipe.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-12-13">2015-12-13</h2>

<h3 id="label-Sun+Dec+13+23-3A46-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 23:46:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (trace_lex_state)
<dd>
<p>trace lex_state changes if yydebug is set, and send the messages to
rb_stdout.</p>
</dd><dt>parse.y (rb_parser_printf)
<dd>
<p>store YYPRINTF messages per lines so that lex_state traces do not mix.</p>
</dd><dt>tool/ytab.sed
<dd>
<p>add parser argument to yy_stack_print too.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+20-3A41-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 20:41:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (build_lex_state_name, trace_lex_state)
<dd>
<p>lex_state is now bit flags and can be set 2 bits or more.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+20-3A26-3A30+2015++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sun Dec 13 20:26:30 2015  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_syntax.rb
<dd>
<p>fix typo in test</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+20-3A12-3A14+2015++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sun Dec 13 20:12:14 2015  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parse_percent)
<dd>
<p>Allow %-literals in labeled arg as r51624 did for parentheses. Fixes
[ruby-core:72084] [Bug #11812].</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+20-3A02-3A15+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Dec 13 20:02:15 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>fix a typo</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+19-3A54-3A26+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Dec 13 19:54:26 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb
<dd>
<p>move envutil&#39;s assertions under Test::Unit::Assertion.</p>
</dd><dt>test/lib/test/unit/assertions.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+19-3A24-3A20+2015++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sun Dec 13 19:24:20 2015  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (lex_state_name)
<dd>
<p>Make it return the correct names. Add new names to follow r51617; Indices
ffs(2) returns are 1-origin.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A40-3A45+2015++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Sun Dec 13 18:40:45 2015  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>debug output of lex_state transition if PARSER_DEBUG</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A49-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:49:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (parse_mode_enc)
<dd>
<p>preserve encoding of mode string in warnings.</p>
</dd><dt>io.c (io_encname_bom_p)
<dd>
<p>check BOM prefix only, not including UTF prefix.</p>
</dd><dt>io.c (parse_mode_enc)
<dd>
<p>warn BOM with non-UTF encoding.</p>
</dd><dt>io.c (parse_mode_enc)
<dd>
<p>fix buffer overflow.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A35-3A57+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:35:57 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/function.c (initialize)
<dd>
<p>check all arguments first. reported by Marcin &#39;Icewall&#39; Noga of
Cisco Talos.</p>
</dd><dt>ext/fiddle/conversions.h (PTR2NUM)
<dd>
<p>use signed integer to make <a href="../classes/Fixnum.html">Fixnum</a> for
negative values.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A33-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:33:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_pack)
<dd>
<p>always check index range against the receiver array length, which can be
shortened by elements conversion.  reported by Marcin &#39;Icewall&#39;
Noga of Cisco Talos.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A28-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:28:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/psych_emitter.c (start_document)
<dd>
<p>should not exceed tags array range.</p>
</dd><dt>ext/psych/psych_emitter.c (start_document)
<dd>
<p>ensure string before encoding conversion.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A26-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:26:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tkutil/tkutil.c (tk_hash_kv)
<dd>
<p>check types of array argument.  reported by Marcin &#39;Icewall&#39; Noga
of Cisco Talos.</p>
</dd><dt>ext/tk/tkutil/tkutil.c (cbsubst_table_setup)
<dd>
<p>check length of argument arrays for each access, as callback methods can
modify them.  reported by Marcin &#39;Icewall&#39; Noga of Cisco Talos.</p>
</dd><dt>ext/tk/tkutil/tkutil.c (cbsubst_table_setup)
<dd>
<p>check types of argument elements.  reported by Marcin &#39;Icewall&#39;
Noga of Cisco Talos.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+18-3A19-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 18:19:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_vstr2wc)
<dd>
<p>check argument type, vstr must be a String here.  reported by Marcin
&#39;Icewall&#39; Noga of Cisco Talos.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+16-3A41-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 13 16:41:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (BOOTSTRAPRUBY)
<dd>
<p>make BASERUBY full path before building ruby to get rid of unexpectedly
invoking built ruby. [ruby-core:72065] [Bug #11807]</p>
</dd><dt>configure.in (BOOTSTRAPRUBY)
<dd>
<p>use MINIRUBY but not BASERUBY unless cross compiling.  [ruby-core:72065]
[Bug #11807]</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+14-3A17-3A19+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun Dec 13 14:17:19 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_shellwords.rb (TestShellwords)
<dd>
<p>Add many more tests for handling whitespace characters and frozenness.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+14-3A16-3A09+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun Dec 13 14:16:09 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shellwords.rb (Shellwords#shellsplit)
<dd>
<p>Document that this method does not treat shell metacharacters as such.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+12-3A17-3A43+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Dec 13 12:17:43 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shellwords.rb (shellescape)
<dd>
<p>duplicate frozen literal</p>
</dd><dt>test/test_shellwords.rb (test_stringification)
<dd>
<p>new test</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+11-3A47-3A35+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sun Dec 13 11:47:35 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_inspect)
<dd>
<p>check the default internal encoding as <a
href="../classes/String.html#method-i-inspect">String#inspect</a> do.
[ruby-dev:49415] [Bug #11787]</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+11-3A38-3A12+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sun Dec 13 11:38:12 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/shellwords.rb
<dd>
<p>Turn on frozen-string-literal after fixing shellsplit.</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+10-3A26-3A47+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Dec 13 10:26:47 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ssl_npn_select_cb_common)
<dd>
<p>fix parsing protocol list. The protocol list from <a
href="../classes/OpenSSL.html">OpenSSL</a> is not null-terminated. patched
by Kazuki Yamaguchi [Bug #11810] [ruby-core:72082]</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+00-3A05-3A42+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sun Dec 13 00:05:42 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method_missing)
<dd>
<p>method_missing should not be refined. [ruby-core:72080] [Bug #11809]</p>
</dd></dl>

<h2 id="label-2015-12-12">2015-12-12</h2>

<h3 id="label-Sat+Dec+12+23-3A00-3A17+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Dec 12 23:00:17 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/nkf/nkf-utf8/nkf.c
<dd>
<p>Merge nkf 2.1.4.</p>
</dd></dl>

<h3 id="label-Sat+Dec+12+18-3A52-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 12 18:52:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_dig)
<dd>
<p>raise <a href="../classes/TypeError.html">TypeError</a> if an element does
not have dig method.  [ruby-core:71798] [Bug #11762]</p>
</dd></dl>

<h3 id="label-Sat+Dec+12+17-3A59-3A07+2015++Yuichiro+Kaneko++-3Cyui-knk-40ruby-lang.org-3E">Sat Dec 12 17:59:07 2015  Yuichiro Kaneko  &lt;yui-knk@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_regexp.rb
<dd>
<p>Add test cases for `$KCODE` and `$=` warning [Misc #<a
href="ruby-dev:49398">11770]</a></p>
</dd></dl>

<h3 id="label-Sat+Dec+12+17-3A11-3A57+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Sat Dec 12 17:11:57 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/NEWS-0.2.2
<dd>
<p>add description about incompatible change in <a
href="../classes/Hash.html">Hash</a> duplicated key overriding policy. [Bug
#10315] [Bug #11501]</p>
</dd></dl>

<h3 id="label-Sat+Dec+12+07-3A44-3A38+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec 12 07:44:38 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (do_io_advise)
<dd>
<p>do not raise on ENOSYS</p>
</dd><dt>test/ruby/test_io.rb (test_advise)
<dd>
<p>do not skip on Errno::ENOSYS</p>
</dd><dt>(test_advise_pipe)
<dd>
<p>ditto [ruby-core:72066] [Feature #11806]</p>
</dd></dl>

<h3 id="label-Sat+Dec+12+07-3A05-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 12 07:05:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/windows_1252.c
<dd>
<p>separate from ISO-8859-1 to fix 0x80..0x9e range.  [ruby-core:64049] [Bug
#10097]</p>
</dd></dl>

<h2 id="label-2015-12-11">2015-12-11</h2>

<h3 id="label-Fri+Dec+11+23-3A33-3A40+2015++Yusuke+Endoh++-3Cmame-40ruby-lang.org-3E">Fri Dec 11 23:33:40 2015  Yusuke Endoh  &lt;mame@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/trick2015/
<dd>
<p>added the award-winning entries of TRICK 2015. See <a
href="https://github.com/tric/trick2015">github.com/tric/trick2015</a> for
the contest outline.</p>
</dd></dl>

<h3 id="label-Fri+Dec+11+17-3A59-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Dec 11 17:59:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_case_dispatch)
<dd>
<p>avoid converting Infinity</p>
</dd><dt>test/ruby/test_optimization.rb (test_opt_case_dispatch_inf)
<dd>
<p>new [ruby-dev:49423] [Bug #11804]&#39;</p>
</dd></dl>

<h3 id="label-Fri+Dec+11+16-3A48-3A57+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Dec 11 16:48:57 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_num_hash_start)
<dd>
<p>avoid pathological behavior [ruby-core:72028] [Feature #11405]</p>
</dd></dl>

<h3 id="label-Fri+Dec+11+11-3A58-3A46+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 11 11:58:46 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Mentioned rubygems-2.5.1</p>
</dd></dl>

<h3 id="label-Fri+Dec+11+11-3A52-3A39+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec 11 11:52:39 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.5.1</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec+11+11-3A38-3A14+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 11 11:38:14 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each, ibf_load_object_hash)
<dd>
<p>rehash case-dispatch hash to reduce collisions. <a
href="http://d.hatena.ne.jp/ku-ma-me/20151210">d.hatena.ne.jp/ku-ma-me/20151210</a></p>
</dd></dl>

<h3 id="label-Fri+Dec+11+03-3A44-3A43+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Dec 11 03:44:43 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_inspect)
<dd>
<p>dump inspected result with rb_str_escape() instead of raising <a
href="../classes/Encoding/CompatibilityError.html">Encoding::CompatibilityError</a>.
[Feature #11801]</p>
</dd><dt>string.c (rb_str_escape)
<dd>
<p>added to dump given string like rb_str_inspect without quotes and always
dump in US-ASCII like rb_str_dump.</p>
</dd></dl>

<h2 id="label-2015-12-10">2015-12-10</h2>

<h3 id="label-Thu+Dec+10+14-3A59-3A59+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 10 14:59:59 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb (test_expand_heap)
<dd>
<p>relax condition (1-&gt;2).</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+14-3A15-3A59+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Dec 10 14:15:59 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c
<dd>
<p>fix a double word typo. [Bug #<a href="ruby-core:69749">11313]</a></p>
</dd></dl>

<h3 id="label-Thu+Dec+10+14-3A13-3A34+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Dec 10 14:13:34 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/lib/multi-tk.rb
<dd>
<p>fix typos. [Bug #<a href="ruby-core:71800">11764]</a></p>
</dd></dl>

<h3 id="label-Thu+Dec+10+11-3A33-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec 10 11:33:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>reduce needless rb_str_dup [ruby-core:72018]
&lt;5668DB6E.8000101@ruby-lang.org&gt;</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+09-3A32-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 10 09:32:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb, lib/shellwords.rb
<dd>
<p>disable frozen-string-literal. [ruby-core:72011] [Bug #11800]</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+06-3A33-3A39+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec 10 06:33:39 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (memsize_dump_arg)
<dd>
<p>remove NULL check</p>
</dd><dt>(memsize_load_arg)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+05-3A53-3A18+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 10 05:53:18 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/mkconfig.rb
<dd>
<p>rbconfig must not be frozen-string-literal to expand CONFIG hash. 
[ruby-core:72006] [Bug #11798]</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+05-3A03-3A51+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec 10 05:03:51 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ifaddr.c (ifaddr_mark)
<dd>
<p>remove empty function</p>
</dd><dt>(ifaddr_type)
<dd>
<p>pass zero to rb_data_type_t.function.dmark</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+04-3A49-3A16+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Dec 10 04:49:16 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (bm_free)
<dd>
<p>remove, use default free</p>
</dd><dt>(method_data_type)
<dd>
<p>use RUBY_TYPED_DEFAULT_FREE</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+02-3A01-3A41+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 10 02:01:41 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>do not add debug information without –debug or –debug=frozen-string-literal
option because <a href="../classes/Object.html#method-i-dup">Object#dup</a>
slows down with debug information. [Feature #11725]</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>apply about it.</p>
</dd><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>catch up this fix with refactoring.</p>
</dd></dl>

<h3 id="label-Thu+Dec+10+00-3A06-3A56+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Dec 10 00:06:56 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c
<dd>
<p>rename methods RubyVM::InstructionSequence#to_binary_format -&gt; to_binary
RubyVM::InstructionSequence.from_binary_format -&gt; .load_from_binary
RubyVM::InstructionSequence.from_binary_format_extra_data -&gt;
.load_from_binary_extra_data</p>
</dd><dt>iseq.c
<dd>
<p>fix document of iseq.to_binary. [Fix GH-1134]</p>
</dd><dt>sample/iseq_loader.rb
<dd>
<p>catch up this change.</p>
</dd><dt>test/lib/iseq_loader_checker.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-12-09">2015-12-09</h2>

<h3 id="label-Wed+Dec++9+17-3A02-3A03+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  9 17:02:03 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regparse.h (SET_NTYPE)
<dd>
<p>get rid of breaking strict aliasing. patch by Zarko Todorovski in
[ruby-core:71953].  [Bug #11790]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+16-3A10-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 16:10:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_cref_in_context)
<dd>
<p>Module#define_method in non-class expression should be public. [Bug #11754]</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+14-3A45-3A27+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 14:45:27 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_stacked_objects)
<dd>
<p>fix typo. reported by XIE Zhibang. [Bug #11763]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+14-3A37-3A51+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Dec  9 14:37:51 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>remove outdated description.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+09-3A58-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 09:58:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/*<strong>/</strong>.c (*_memsize)
<dd>
<p>same as r52986 for extensions.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+09-3A46-3A19+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Dec  9 09:46:19 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored ISeq binary format.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+09-3A34-3A41+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 09:34:41 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>*.c (*_memsize)
<dd>
<p>do not check ptr. NULL checking is finished Before call of memsize
functions. See r52979.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+09-3A25-3A29+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Dec  9 09:25:29 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/smtp/test_response.rb
<dd>
<p>use Test::Unit. We should use Test::Unit without rubygems and rdoc.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+06-3A26-3A23+2015++Colin+Kelley+-3Ccolindkelley-40gmail.com-3E">Wed Dec  9 06:26:23 2015  Colin Kelley &lt;colindkelley@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/generic.rb
<dd>
<p>enable frozen_string_literal</p>
</dd><dt>(split_userinfo)
<dd>
<p>remove explicit .freeze for string literals</p>
</dd><dt>(check_path)
<dd>
<p>ditto</p>
</dd><dt>(query)
<dd>
<p>ditto</p>
</dd><dt>(fragment)
<dd>
<p>ditto</p>
</dd><dt>(to_s)
<dd>
<p>ditto [ruby-core:71910] [Bug #11759]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+06-3A25-3A47+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec  9 06:25:47 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/uri/test_generic.rb (to_s)
<dd>
<p>new test [ruby-core:71820]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+02-3A18-3A52+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 02:18:52 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (ibf_dump_memsize)
<dd>
<p>should check NULL.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+01-3A46-3A35+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Dec  9 01:46:35 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_init)
<dd>
<p>now accepts new option parameter `encoding&#39;. [Feature #11785]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+00-3A52-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  9 00:52:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_stat_wr, rb_stat_ww)
<dd>
<p>call get_stat only once and reduce checking struct.  patch by Yuki Kurihara
in [ruby-core:71949].  [Misc #11789]</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+00-3A24-3A33+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 00:24:33 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_ibf_dump)
<dd>
<p>dump extra data just string length.</p>
</dd><dt>sample/iseq_loader.rb
<dd>
<p>add using RubyVM::InstructionSequence.from_binary_format_extra_data method</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Mon+Dec++9+00-3A21-3A19+2015++Yuki+Nishijima++-3Cmail-40yukinishijima.net-3E">Mon Dec  9 00:21:19 2015  Yuki Nishijima  &lt;mail@yukinishijima.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade the did_you_mean gem to 1.0.0.rc1</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+00-3A17-3A49+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 00:17:49 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (ibf_load_setup)
<dd>
<p>cast to int.</p>
</dd></dl>

<h3 id="label-Wed+Dec++9+00-3A13-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  9 00:13:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (ibf_setup_load)
<dd>
<p>rename to ibf_load_setup().</p>
</dd><dt>compile.c (iseq_load_setup)
<dd>
<p>check binary format.</p>
</dd></dl>

<h2 id="label-2015-12-08">2015-12-08</h2>

<h3 id="label-Tue+Dec++8+23-3A30-3A07+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Dec  8 23:30:07 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/io/console/test_io_console.rb (run_pty)
<dd>
<p>Avoid waiting twice for a process. Fix Errno::ECHILD in
TestIO_Console#test_close and TestIO_Console#test_sync.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+23-3A05-3A47+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 23:05:47 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_ibf_dump)
<dd>
<p>fix for clang type checker.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+23-3A04-3A02+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 23:04:02 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_s_load)
<dd>
<p>fix mysterious bug.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+22-3A31-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 22:31:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>iseq.c
<dd>
<p>add new methods: * RubyVM::InstructionSequence#to_binary_format(extra_data
= nil) * RubyVM::InstructionSequence.from_binary_format(binary) *
RubyVM::InstructionSequence.from_binary_format_extra_data(binary)</p>
</dd><dt>compile.c
<dd>
<p>implement body of this new feature.</p>
</dd><dt>load.c (rb_load_internal0), iseq.c (rb_iseq_load_iseq)
<dd>
<p>call RubyVM::InstructionSequence.load_iseq(fname) with loading script name
if this method is defined. We can return any ISeq object as a result value.
Otherwise loading will be continue as usual. This interface is not matured
and is not extensible. So that we don&#39;t guarantee the future
compatibility of this method. Basically, you shouldn&#39;t use this method.</p>
</dd><dt>iseq.h
<dd>
<p>move ISEQ_MAJOR/MINOR_VERSION (and some definitions) from iseq.c.</p>
</dd><dt>encoding.c (rb_data_is_encoding), internal.h
<dd>
<p>added.</p>
</dd><dt>vm_core.h
<dd>
<p>add several supports for lazy load. * add USE_LAZY_LOAD macro to specify
enable or disable of this feature. * add several fields to rb_iseq_t. *
introduce new macro rb_iseq_check().</p>
</dd><dt>insns.def
<dd>
<p>some check for lazy loading feature.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>test/lib/iseq_loader_checker.rb
<dd>
<p>enabled iff suitable environment variables are provided.</p>
</dd><dt>test/runner.rb
<dd>
<p>enable lib/iseq_loader_checker.rb.</p>
</dd><dt>sample/iseq_loader.rb
<dd>
<p>add sample compiler and loader. $ ruby sample/iseq_loader.rb [dir] will
compile all ruby scripts in [dir]. With default setting, this compile
creates *.rb.yarb files in same directory of target .rb scripts. $ ruby -r
sample/iseq_loader.rb [app] will run with enable to load compiled binary
data.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+21-3A21-3A16+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Dec  8 21:21:16 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>mention about <a
href="../classes/Enumerator/Lazy.html#method-i-grep_v">Enumerator::Lazy#grep_v</a>.
[ruby-core:71845] [Feature #11773]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+16-3A23-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  8 16:23:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enumerator.c (lazy_grep_v)
<dd>
<p>add <a
href="../classes/Enumerator/Lazy.html#method-i-grep_v">Enumerator::Lazy#grep_v</a>
as well as <a href="../classes/Enumerable.html">Enumerable</a>, to
enumerate lazily. [ruby-core:71845] [Feature #11773]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+14-3A27-3A07+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  8 14:27:07 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (name_err_local_variables)
<dd>
<p>new method <a
href="../classes/NameError.html#method-i-local_variables">NameError#local_variables</a>
for internal use only. [Feature #11777]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+14-3A20-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  8 14:20:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_objivar)
<dd>
<p>skip internal instance variables in T_OBJECT too.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+12-3A58-3A04+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Dec  8 12:58:04 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/io/console/test_io_console.rb (test_getpass)
<dd>
<p>s.getpass should be tested. Narrow ensure block. This reverts r52911. [Bug
#11780] [ruby-dev:49412]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+10-3A40-3A21+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  8 10:40:21 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_vm2_case_lit.rb
<dd>
<p>new benchmark</p>
</dd><dt>compile.c (case_when_optimizable_literal)
<dd>
<p>add nil/true/false</p>
</dd><dt>insns.def (opt_case_dispatch)
<dd>
<p>ditto</p>
</dd><dt>vm.c (vm_redefinition_check_flag)
<dd>
<p>ditto</p>
</dd><dt>vm.c (vm_init_redefined_flag)
<dd>
<p>ditto</p>
</dd><dt>vm_core.h
<dd>
<p>ditto</p>
</dd><dt>object.c (InitVM_Object)
<dd>
<p>define === explicitly for nil/true/false</p>
</dd><dt>test/ruby/test_case.rb (test_deoptimize_nil)
<dd>
<p>new test</p>
</dd><dt>test/ruby/test_optimization.rb (test_opt_case_dispatch)
<dd>
<p>update</p>
</dd><dt>(test_eqq)
<dd>
<p>new test [ruby-core:71923] [Feature #11769] Original patch by Aaron
Patterson &lt;tenderlove@ruby-lang.org&gt;</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+10-3A19-3A02+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Tue Dec  8 10:19:02 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>fix double word typo in the document. [Misc #10608] [Fix GH-1126]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+09-3A03-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  8 09:03:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c (d_lite_lshift)
<dd>
<p>should check the argument before negation.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+08-3A56-3A16+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  8 08:56:16 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (opt_case_dispatch)
<dd>
<p>check <a href="../classes/Float.html#method-i-3D-3D-3D">Float#===</a>
redefinition</p>
</dd><dt>test/ruby/test_optimization.rb (test_opt_case_dispatch)
<dd>
<p>new [ruby-core:71920] [Bug #11784]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+03-3A56-3A05+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 03:56:05 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/iseq_loader_checker.rb
<dd>
<p>add iseq dumper/loader checker. If you enable this checker (remove `#&#39;
in test/runner.rb), you can see comparison results between an original iseq
disassembed result and dumped and loaded iseq disassembed result. There are
several bugs around there, because of inexact stack depth calculation. Now,
I leave these bugs because they are not critical and difficult to solve
completely.</p>
</dd><dt>test/runner.rb
<dd>
<p>require test/lib/iseq_loader_checker.rb but disabled at default (commented
out).</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+03-3A45-3A47+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  8 03:45:47 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/extension_rdoc.html">doc/extension.rdoc</a>
<dd>
<p>warn about kwargs performance in C [Feature #11339] [ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+03-3A44-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 03:44:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_load)
<dd>
<p>disable peephole optimization option because apply it multiple times change
the sequence.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Dec++8+03-3A43-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec  8 03:43:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (rb_iseq_build_from_ary)
<dd>
<p>do not allocate table if table_size is 0.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+03-3A30-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  8 03:30:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/unixsocket.c (unix_send_io)
<dd>
<p>document args</p>
</dd><dt>(unix_recv_io)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_unix.rb (test_fd_passing_class_mode)
<dd>
<p>added</p>
</dd></dl>

<h3 id="label-Tue+Dec+08+02-3A21-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Dec 08 02:21:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_translate)
<dd>
<p>at the end of constructing an iseq, call
RubyVM::InstructionSequence.translate(iseq) if this method is defined. If
the return value is also an object of <a
href="../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a>,
then use it instead of created one. For example, this method is useful to
test iseq dumper/loader such as <a
href="../classes/RubyVM/InstructionSequence.html#method-i-to_a">RubyVM::InstructionSequence#to_a</a>
and rb_iseq_load(). Because this method is for such internal experimental
usage, the interface is not matured. For example, this interface has no
extensibility. Two or more translators can not run simultaneously. So that
we don&#39;t guarantee future compatibility of this method. Basically, do
not use this method.</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+01-3A57-3A13+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Tue Dec  8 01:57:13 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/*
<dd>
<p>update psych to 2.0.16</p>
</dd><dt>test/psych/*
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-12-07">2015-12-07</h2>

<h3 id="label-Mon+Dec++7+23-3A45-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Dec  7 23:45:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>introduce String#+@ and String#-@ to control String mutability. [Feature
#11782]</p>
</dd></dl>

<h3 id="label-Mon+Dec++7+23-3A39-3A49+2015++Ben+Miller++-3Cbjmllr-40gmail.com-3E">Mon Dec  7 23:39:49 2015  Ben Miller  &lt;bjmllr@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>add heredoc &lt;&lt;~ syntax.  [Feature #9098]</p>
</dd></dl>

<h3 id="label-Mon+Dec++7+23-3A06-3A16+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Dec  7 23:06:16 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>prelude.rb (IO#read_nonblock)
<dd>
<p>[DOC] add missing options to call-seq.  [ruby-core:71627] [Bug #11730]</p>
</dd></dl>

<h2 id="label-2015-12-06">2015-12-06</h2>

<h3 id="label-Sun+Dec++6+19-3A52-3A31+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Dec  6 19:52:31 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_autoload)
<dd>
<p>deprecate</p>
</dd><dt>internal.h (rb_autoload_str)
<dd>
<p>declare</p>
</dd><dt>load.c (rb_mod_autoload)
<dd>
<p>use rb_autoload_str</p>
</dd><dt>variable.c (rb_autoload)
<dd>
<p>become compatibility wrapper</p>
</dd><dt>(rb_autoload_str)
<dd>
<p>hoisted out from old rb_autoload [ruby-core:71369] [Feature #11664]</p>
</dd></dl>

<h3 id="label-Sun+Dec++6+18-3A25-3A22+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Dec  6 18:25:22 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_cgi.rb (TestWEBrickCGI#test_cgi)
<dd>
<p>gave up the test of binary path info test on Windows because the test had
passed occasionally as the comment said.</p>
</dd></dl>

<h3 id="label-Sun+Dec++6+15-3A25-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec  6 15:25:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c (console_getpass)
<dd>
<p>add <a href="../classes/IO.html#method-i-getpass">IO#getpass</a> method.</p>
</dd></dl>

<h3 id="label-Sun+Dec++6+08-3A39-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Dec  6 08:39:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/json.gemspec
<dd>
<p>bump version to json 1.8.3. CRuby already contained upstream changes. <a
href="https://github.com/ruby/ruby/commit/4d059bf9f5f10f3d3088de49fc87e5555db7770d">github.com/ruby/ruby/commit/4d059bf9f5f10f3d3088de49fc87e5555db7770d</a>
<a
href="https://github.com/flori/json/commit/d4c99de78905d96c3f301f48b2c789943bb3f098">github.com/flori/json/commit/d4c99de78905d96c3f301f48b2c789943bb3f098</a></p>
</dd><dt>ext/json/lib/json/version.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-12-05">2015-12-05</h2>

<h3 id="label-Sat+Dec++5+17-3A48-3A25+2015++Lars+Kanis++-3Clars-40greiz-reinsdorf.de-3E">Sat Dec  5 17:48:25 2015  Lars Kanis  &lt;lars@greiz-reinsdorf.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/fake.rb
<dd>
<p>Fix cross build when srcdir is an absolute path.</p>
</dd><dt>Makefile.in
<dd>
<p>PREP dependency is needed when cross build too, not “-r$(arch)-fake” to be 
used before created.  [Fix GH-1125]</p>
</dd></dl>

<h3 id="label-Sat+Dec++5+17-3A26-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec  5 17:26:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (env_str_new, env_path_str_new)
<dd>
<p>make default string UTF-8 for the case conversion is not possible.  [Bug
#8822]</p>
</dd><dt>hash.c (get_env_cstr)
<dd>
<p>convert non-ASCII string to UTF-8 string.</p>
</dd><dt>hash.c (ruby_setenv)
<dd>
<p>use wide char version to put environment variable to deal with non-ASCII
value.</p>
</dd></dl>

<h3 id="label-Sat+Dec++5+09-3A56-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec  5 09:56:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_CAS)
<dd>
<p>old value to be swapped should be same as the destination.  immediate value
may need type promotion.</p>
</dd><dt>ruby_atomic.h (ATOMIC_SIZE_CAS)
<dd>
<p>fix the argument order of InterlockedCompareExchange64.  new value and then
old value is the last.</p>
</dd></dl>

<h3 id="label-Sat+Dec++5+09-3A23-3A34+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec  5 09:23:34 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_seed)
<dd>
<p>fix the size to be filled, not the size of element, but the whole size of
array.</p>
</dd></dl>

<h3 id="label-Sat+Dec++5+06-3A03-3A54+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec  5 06:03:54 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (ruby_vm_verbose_ptr)
<dd>
<p>make static</p>
</dd><dt>(ruby_vm_debug_ptr)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Dec++5+00-3A56-3A29+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Dec  5 00:56:29 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RB_OBJ_TAINT)
<dd>
<p>follow-up of r52881. Turn into void expression not to use unexpected
result. Fix “operands have incompatible types” error with Oracle Solaris
Studio 12.x on Solaris.</p>
</dd></dl>

<h2 id="label-2015-12-04">2015-12-04</h2>

<h3 id="label-Fri+Dec++4+16-3A48-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  4 16:48:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_obj_as_string)
<dd>
<p>fstring should not be infected. re-apply r52872 and fix a typo. TODO: other
frozen strings also may not be.</p>
</dd></dl>

<h3 id="label-Fri+Dec++4+15-3A21-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Dec  4 15:21:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.5.0+ HEAD(fdab4c4). this version includes #1396,
#1397, #1398, #1399</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Dec++4+11-3A22-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec  4 11:22:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_setname)
<dd>
<p>name must be ascii-compatible, as pthread APIs do not accept legacy wide
char strings.</p>
</dd></dl>

<h2 id="label-2015-12-03">2015-12-03</h2>

<h3 id="label-Thu+Dec++3+15-3A39-3A21+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Dec  3 15:39:21 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/scanf.rb
<dd>
<p>fixed double words typo. [ci skip][fix GH-1123] Patch by @jwworth</p>
</dd></dl>

<h3 id="label-Thu+Dec++3+15-3A37-3A56+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Dec  3 15:37:56 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_mixed_unicode_escapes.rb
<dd>
<p>fixed typo. [fix GH-1122] Patch by @davydovanton</p>
</dd><dt>test/ruby/test_object.rb
<dd>
<p>ditto.</p>
</dd><dt>test/socket/test_tcp.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Dec++3+15-3A33-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  3 15:33:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>fix wrong shifting position in <a
href="../classes/Rational.html">Rational</a> conversion when not at the
beginning of the result. [ruby-core:71806] [Bug #11766]</p>
</dd></dl>

<h3 id="label-Thu+Dec++3+14-3A22-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  3 14:22:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (range_to_s)
<dd>
<p>should be infected by the receiver. str2 infects by appending. 
[ruby-core:71811] [Bug #11767]</p>
</dd></dl>

<h3 id="label-Thu+Dec++3+11-3A57-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec  3 11:57:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>separate SET_CURRENT_THREAD_NAME, which can set the name of current thread
only, and SET_ANOTHER_THREAD_NAME, which can set the name of other threads.</p>
</dd><dt>thread.c (rb_thread_setname)
<dd>
<p>use SET_ANOTHER_THREAD_NAME.  OS X is not possible to set another thread
name.</p>
</dd><dt>thread_pthread.c (native_set_thread_name, thread_timer)
<dd>
<p>use SET_CURRENT_THREAD_NAME.</p>
</dd></dl>

<h2 id="label-2015-12-02">2015-12-02</h2>

<h3 id="label-Wed+Dec+02+22-3A57-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec 02 22:57:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, iseq.h
<dd>
<p>remove rb_iseq_t::variable_body. Fields in rb_iseq_t::variable_body are
contained by rb_iseq_t::body::mark_ary (hidden Array object). Index 0 to 2
of mark_ary are reserved by these objects.</p>
</dd><dt>iseq.c
<dd>
<p>catch up this fix.</p>
</dd><dt>compile.c (rb_iseq_original_iseq)
<dd>
<p>trivial rewrite.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+17-3A19-3A02+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  2 17:19:02 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h
<dd>
<p>introduce ISEQ_ORIGINAL_ISEQ() and ISEQ_ORIGINAL_ISEQ_ALLOC() macro.</p>
</dd><dt>compile.c
<dd>
<p>use them to access original iseq buffer.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm_core.h
<dd>
<p>rename iseq field to support this fix.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+17-3A10-3A32+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  2 17:10:32 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h
<dd>
<p>introduce ISEQ_FLIP_CNT_INCREMENT() macro.</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>use it.</p>
</dd><dt>vm_core.h
<dd>
<p>rename flip_cnt field to support this fix.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+17-3A05-3A15+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  2 17:05:15 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h
<dd>
<p>introduce ISEQ_COVERAGE() and ISEQ_COVERAGE_SET() macro.</p>
</dd><dt>compile.c
<dd>
<p>use them.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>iseq.c (rb_iseq_coverage)
<dd>
<p>added.</p>
</dd><dt>thread.c (update_coverage)
<dd>
<p>use rb_iseq_coverage().</p>
</dd><dt>vm_core.h
<dd>
<p>rename coverage field name to support this fix.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+17-3A00-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  2 17:00:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_name, rb_enc_name_list_i, rb_enc_aliases_enc_i)
<dd>
<p>make fstring instead of making each copies.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+16-3A32-3A08+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Dec  2 16:32:08 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.h
<dd>
<p>introduce ISEQ_COMPILE_DATA() macro.</p>
</dd><dt>compile.c, iseq.c
<dd>
<p>use ISEQ_COMPILE_DATA().</p>
</dd><dt>vm_core.h
<dd>
<p>rename compile_data field to support this fix.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+16-3A27-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec  2 16:27:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_m_loader)
<dd>
<p>defer finding encoding object not to be infected by marshal source. 
[ruby-core:71793] [Bug #11760]</p>
</dd><dt>marshal.c (r_object0)
<dd>
<p>enable compatible loader on USERDEF class.  the loader function is called
with the class itself, instead of an allocated object, and the loaded data.</p>
</dd><dt>marshal.c (compat_allocator_table)
<dd>
<p>initialize compat_allocator_tbl on demand.</p>
</dd><dt>object.c (rb_undefined_alloc)
<dd>
<p>extract from rb_obj_alloc.</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+15-3A12-3A43+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Dec  2 15:12:43 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Fixed double negative comments. [Bug #<a href="ruby-core:71506">11698]</a></p>
</dd></dl>

<h3 id="label-Wed+Dec++2+14-3A55-3A01+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Wed Dec  2 14:55:01 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_string.rb
<dd>
<p>removed non executing tests. [Misc #<a href="ruby-dev:49397">11757]</a></p>
</dd></dl>

<h3 id="label-Wed+Dec++2+11-3A23-3A06+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Dec  2 11:23:06 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>enable frozen_string_literal. [fix GH-1116] Patch by @marshall-lee</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+10-3A36-3A25+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Dec  2 10:36:25 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>Fix double word typo. [ci skip][fix GH-1120] Patch by @jwworth</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+07-3A43-3A51+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec  2 07:43:51 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (mSSLExtConfig)
<dd>
<p>make static</p>
</dd><dt>(eSSLError)
<dd>
<p>ditto</p>
</dd><dt>(ID_callback_state)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_ex_vcb_idx)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_ex_store_p)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_ex_ptr_idx)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.h
<dd>
<p>remove extern declarations for mSSLExtConfig and eSSLError</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+07-3A41-3A08+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Dec  2 07:41:08 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/explicit_bzero.c (explicit_bzero)
<dd>
<p>fixup r52839 for compilers with “weak” attribute</p>
</dd></dl>

<h3 id="label-Wed+Dec++2+06-3A47-3A25+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Dec  2 06:47:25 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/explicit_bzero.c
<dd>
<p>add ruby_explicit_bzero_hook_unused for preventing optimization. Inspired
from OpenBSD.</p>
</dd></dl>

<h2 id="label-2015-12-01">2015-12-01</h2>

<h3 id="label-Tue+Dec++1+23-3A36-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  1 23:36:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_setname)
<dd>
<p>allow to reset thread name.</p>
</dd></dl>

<h3 id="label-Tue+Dec++1+23-3A14-3A04+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  1 23:14:04 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_setname)
<dd>
<p>check the argument if valid string.  [ruby-core:71774] [Bug #11756]</p>
</dd></dl>

<h3 id="label-Tue+Dec++1+17-3A13-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec  1 17:13:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_string_value_cstr)
<dd>
<p>should not raise on frozen string.</p>
</dd></dl>

<h3 id="label-Tue+Dec++1+09-3A35-3A29+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Dec  1 09:35:29 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/explicit_bzero.c
<dd>
<p>add a few comment.</p>
</dd></dl>

<h3 id="label-Tue+Dec++1+09-3A31-3A19+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Tue Dec  1 09:31:19 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/explicit_bzero.c
<dd>
<p>add disabling optimization on gcc.</p>
</dd></dl>

<h3 id="label-Tue+Dec++1+07-3A50-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Dec  1 07:50:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>missing/explicit_bzero.c
<dd>
<p>new file. define explicit_bzero. Fixup r52806</p>
</dd></dl>

<h2 id="label-2015-11-30">2015-11-30</h2>

<h3 id="label-Mon+Nov+30+18-3A46-3A44+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Nov 30 18:46:44 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/extconf.rb
<dd>
<p>call dir_config(“libedit”) if –enable-libedit is specified. [Bug #11751]
patched by John Hein</p>
</dd></dl>

<h3 id="label-Mon+Nov+30+08-3A44-3A29+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Nov 30 08:44:29 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c
<dd>
<p>remove spurious define for globals [ruby-core:71735] [Feature #11749]</p>
</dd></dl>

<h2 id="label-2015-11-29">2015-11-29</h2>

<h3 id="label-Sun+Nov+29+09-3A13-3A03+2015++Conor+Landry++-3Cclandry94-40gmail.com-3E">Sun Nov 29 09:13:03 2015  Conor Landry  &lt;clandry94@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>[DOC] Various grammar corrections and clarifications to increase
readability.  [Fix GH-1115]</p>
</dd></dl>

<h2 id="label-2015-11-28">2015-11-28</h2>

<h3 id="label-Sat+Nov+28+19-3A33-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 28 19:33:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_here_document)
<dd>
<p>store dispatched result of on_tstring_content at the last fragment of a
here document.</p>
</dd></dl>

<h2 id="label-2015-11-27">2015-11-27</h2>

<h3 id="label-Fri+Nov+27+19-3A19-3A44+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Nov 27 19:19:44 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (connect)
<dd>
<p>detect closed connection and reconnect If the server closes a keep-alive
http connection, the client socket reaches EOF. To avoid an <a
href="../classes/EOFError.html">EOFError</a>, detect the closed connection
and reconnect. Added test to ensure HTTP#post succeeds even if the
keep-alive-connection has been closed by the server. by Kristian Hanekamp
&lt;kris.hanekamp@gmail.com&gt; <a
href="https://github.com/ruby/ruby/pull/1089">github.com/ruby/ruby/pull/1089</a>
fix GH-1089</p>
</dd></dl>

<h2 id="label-2015-11-26">2015-11-26</h2>

<h3 id="label-Thu+Nov+26+21-3A36-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 26 21:36:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>enable tail call optimization for specialized indexers.</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>blockiseq should be NULL, but not Qnil.</p>
</dd></dl>

<h3 id="label-Thu+Nov+26+17-3A22-3A53+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Nov 26 17:22:53 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>regcomp.c, regenc.c, regexec.c, regint.h, enc/unicode.c
<dd>
<p>Merge Onigmo 58fa099ed1a34367de67fb3d06dd48d076839692 + <a
href="https://github.com/k-takata/Onigmo/pull/52">github.com/k-takata/Onigmo/pull/52</a></p>
</dd></dl>

<h3 id="label-Thu+Nov+26+09-3A50-3A02+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Thu Nov 26 09:50:02 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/coverage/test_coverage.rb
<dd>
<p>Added test-case for Coverage.restart. [Misc #<a
href="ruby-dev:49379">11732]</a></p>
</dd></dl>

<h3 id="label-Thu+Nov+26+09-3A46-3A36+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Thu Nov 26 09:46:36 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/coverage/test_coverage.rb
<dd>
<p>Added test-case for <a
href="../classes/Coverage.html#method-c-peek_result">Coverage.peek_result</a>
without <a
href="../classes/Coverage.html#method-c-start">Coverage.start</a>. [Misc
#<a href="ruby-core:71622">11726]</a></p>
</dd></dl>

<h3 id="label-Thu+Nov+26+07-3A22-3A55+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov 26 07:22:55 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb (test_copy_stream)
<dd>
<p>new test</p>
</dd></dl>

<h2 id="label-2015-11-25">2015-11-25</h2>

<h3 id="label-Wed+Nov+25+21-3A23-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 25 21:23:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (copy_stream_body)
<dd>
<p>try to_io conversion before read, readpartial, and write methods. 
[ruby-dev:49008] [Bug #11199]</p>
</dd></dl>

<h3 id="label-Wed+Nov+25+10-3A55-3A21+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Nov 25 10:55:21 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (argf_getpartial)
<dd>
<p>should not resize str if the second argument is not given.
[ruby-core:71668] [Bug #11738]</p>
</dd></dl>

<h2 id="label-2015-11-24">2015-11-24</h2>

<h3 id="label-Tue+Nov+24+23-3A56-3A25+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Nov 24 23:56:25 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>On Solaris, it is safe to define _LARGEFILE_SOURCE when
_FILE_OFFSET_BITS=64 is defined (= when 32-bit compile).</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+10-3A00-3A10+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Nov 24 10:00:10 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/installer.rb
<dd>
<p>Fix two double-word typos. [ci skip][fix GH-1108] Patch by @jwworth</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+09-3A17-3A02+2015++Alexander+von+Gluck+IV++-3Ckallisti5-40unixzen.com-3E">Tue Nov 24 09:17:02 2015  Alexander von Gluck IV  &lt;kallisti5@unixzen.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>beos
<dd>
<p>Drop support for BeOS now that Haiku is stable. [Fix GH-1112]</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+09-3A16-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 24 09:16:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_gc_for_fd)
<dd>
<p>move to export, as referred by ext/socket.</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+09-3A04-3A29+2015++David+Rodriguez++-3Cdeivid.rodriguez-40gmail.com-3E">Tue Nov 24 09:04:29 2015  David Rodriguez  &lt;deivid.rodriguez@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>[DOC] add a missing period to <a href="../classes/File.html">File</a> docs,
to terminate the sentence and separate from the next sentence.  [Fix
GH-1111]</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+08-3A30-3A06+2015++JuanitoFatas++-3Ckatehuang0320-40gmail.com-3E">Tue Nov 24 08:30:06 2015  JuanitoFatas  &lt;katehuang0320@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Fix the issue number of `Struct#dig`, which should be [Feature #11688]. 
[Fix GH-1110]</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+07-3A56-3A54+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 24 07:56:54 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_s_accept)
<dd>
<p>handle ENOMEM</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+07-3A50-3A15+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 24 07:50:15 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_initialize)
<dd>
<p>use rb_gc_for_fd for ENOMEM</p>
</dd><dt>ext/socket/init.c (rsock_socket)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/socket.c (rsock_socketpair)
<dd>
<p>ditto</p>
</dd><dt>internal.h (rb_gc_for_fd)
<dd>
<p>prototype</p>
</dd><dt>io.c (rb_gc_for_fd)
<dd>
<p>remove static [ruby-core:71623] [Feature #11727]</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+06-3A46-3A27+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 24 06:46:27 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_gc_for_fd)
<dd>
<p>new helper function</p>
</dd><dt>(ruby_dup)
<dd>
<p>use rb_gc_for_fd</p>
</dd><dt>(rb_sysopen)
<dd>
<p>ditto</p>
</dd><dt>(rb_fdopen)
<dd>
<p>ditto</p>
</dd><dt>(rb_pipe)
<dd>
<p>ditto [ruby-core:71623] [Feature #11727]</p>
</dd></dl>

<h3 id="label-Tue+Nov+24+05-3A13-3A35+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 24 05:13:35 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/function.c (struct nogvl_ffi_call_args)
<dd>
<p>new struct for GVL release</p>
</dd><dt>(nogvl_ffi_call)
<dd>
<p>new function</p>
</dd><dt>(function_call)
<dd>
<p>adjust for GVL release [ruby-core:71642] [Feature #11607]</p>
</dd><dt>ext/fiddle/closure.c (struct callback_args)
<dd>
<p>new struct for GVL acquire</p>
</dd><dt>(with_gvl_callback)
<dd>
<p>adjusted original callback function</p>
</dd><dt>(callback)
<dd>
<p>wrapper for conditional GVL acquire</p>
</dd><dt>ext/fiddle/depend
<dd>
<p>add dependencies</p>
</dd><dt>ext/fiddle/extconf.rb
<dd>
<p>include top_srcdir for internal.h</p>
</dd><dt>internal.h (ruby_thread_has_gvl_p)
<dd>
<p>expose for fiddle</p>
</dd><dt>vm_core.h (ruby_thread_has_gvl_p)
<dd>
<p>moved to internal.h</p>
</dd><dt>test/fiddle/test_function.rb (test_nogvl_poll)
<dd>
<p>new test</p>
</dd></dl>

<h2 id="label-2015-11-23">2015-11-23</h2>

<h3 id="label-Mon+Nov+23+19-3A53-3A12+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Mon Nov 23 19:53:12 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>On Solaris, with gcc, “-std=iso9899:1999” in $ansi_options is often also
needed in CPPFLAGS, because some feature definitions vary depending on such
standards options.</p>
</dd></dl>

<h3 id="label-Mon+Nov+23+12-3A54-3A39+2015++Hamish+Morrison++-3Chamishm53-40gmail.com-3E">Mon Nov 23 12:54:39 2015  Hamish Morrison  &lt;hamishm53@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>remove obsolete workarounds for Haiku.</p>
</dd><dt>dln.c, file.c, io.c
<dd>
<p>remove obsolete Haiku workarounds.</p>
</dd><dt>thread_pthread.c
<dd>
<p>add stack bounds detection for Haiku.</p>
</dd><dt>signal.c
<dd>
<p>get stack pointer from signal context on Haiku. [ruby-core:67923] [Bug
#10811] [Fix GH-1109]</p>
</dd></dl>

<h3 id="label-Mon+Nov+23+11-3A44-3A11+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 23 11:44:11 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>bump version to minitest-5.8.3</p>
</dd></dl>

<h3 id="label-Mon+Nov+23+08-3A55-3A00+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 23 08:55:00 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>fix wrong reference for r52714</p>
</dd></dl>

<h2 id="label-2015-11-22">2015-11-22</h2>

<h3 id="label-Sun+Nov+22+22-3A23-3A37+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sun Nov 22 22:23:37 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_raw_obj_info)
<dd>
<p>fix compile errors when USE_RGENGC is 0.</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+21-3A58-3A09+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sun Nov 22 21:58:09 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cmath.rb
<dd>
<p>methods which has suffix &#39;!&#39; are now deprecated. Re-apply r52469
made by Kazuki Tanaka, with fixing bug about mathn.rb compatibility.
[ruby-core:68528] [Feature #10974]</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+19-3A36-3A51+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Nov 22 19:36:51 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>fix brew command for installation of openssl. [ci skip][fix GH-1107] Patch
by @arthurnn</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+17-3A59-3A50+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sun Nov 22 17:59:50 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>On Solaris, add -D_XOPEN_SOURCE=n only when both AC_TRY_CPP and
AC_TRY_COMPILE pass, because some options</p>
</dd><dt>(e.g. -std=iso9899
<dd>
<p>1999) are not set when running C preprocessor or building ext.</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+16-3A53-3A34+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 22 16:53:34 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>remove unreachable code chunk after jump/leave.</p>
</dd><dt>parse.y
<dd>
<p>move dead code elimination of logical operation to compile.c.  not to warn
logical operation of literal constants.</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+16-3A37-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov 22 16:37:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>eliminate always/never branches after a literal object and when the value
is used after the branch.</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+01-3A23-3A43+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sun Nov 22 01:23:43 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Add -D_XOPEN_SOURCE=500 (or 600 or 700) on Solaris if available, mainly for
enabling some features in sockets.</p>
</dd></dl>

<h3 id="label-Sun+Nov+22+00-3A17-3A22+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sun Nov 22 00:17:22 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_socket.rb (test/socket/test_socket.rb)
<dd>
<p>skip the test when Socket::SO_TIMESTAMP is not defined. Fix error on
Solaris 10. [Bug #11728] [ruby-dev:49377]</p>
</dd></dl>

<h2 id="label-2015-11-21">2015-11-21</h2>

<h3 id="label-Sat+Nov+21+18-3A57-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 21 18:57:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (need_argument)
<dd>
<p>move frozen-string-literal-debug option from –enable to –debug.  [Feature
#11725]</p>
</dd><dt>ruby.c (proc_options)
<dd>
<p>fix pointer overrun. do not advance argv until it is valid.</p>
</dd></dl>

<h3 id="label-Sat+Nov+21+13-3A59-3A09+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Nov 21 13:59:09 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/sha1/extconf.rb
<dd>
<p>OpenSSL&#39;s struct name for SHA1 is SHA_CTX. <a
href="http://openssl.org/docs/man0.9.8/crypto/SHA1.html">openssl.org/docs/man0.9.8/crypto/SHA1.html</a></p>
</dd></dl>

<h3 id="label-Sat+Nov+21+13-3A31-3A52+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Nov 21 13:31:52 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ch">ext/digest//.</a>
<dd>
<p>include ruby.h before digest.h to avoid including ext/digest/extconf.h.
[Bug #3231] <a
href="https://msdn.microsoft.com/library/36k2cdd4.aspx">msdn.microsoft.com/library/36k2cdd4.aspx</a></p>
</dd><dt>ext/digest/*/extconf.rb
<dd>
<p>remove ext/digest from include search path to avoid confusion of cl.exe.</p>
</dd><dt><a href="ch">ext/digest//.</a>
<dd>
<p>explicitly specify def.h&#39;s path.</p>
</dd></dl>

<h3 id="label-Sat+Nov+21+13-3A05-3A16+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Nov 21 13:05:16 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.h
<dd>
<p>LibreSSL doesn&#39;t have and need e_os2.h.</p>
</dd></dl>

<h3 id="label-Sat+Nov+21+09-3A18-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 21 09:18:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_sync.c
<dd>
<p>reduce the specification of <a
href="../classes/Queue.html#method-i-close">Queue#close</a>. * <a
href="../classes/Queue.html#method-i-close">Queue#close</a> accepts no
arguments. * deq&#39;ing on closed queue returns nil, always. [Feature
#10600]</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Sat+Nov+21+08-3A44-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 21 08:44:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>add debug information to NODE_STR strings as default. [Feature #11725]</p>
</dd><dt>insns.def (freezestring)
<dd>
<p>add new instruction to support adding debug information for dynamically
constructed strings.</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>support adding debug information for NODE_DSTR with freezestring
instruction.</p>
</dd><dt>error.c (rb_error_frozen)
<dd>
<p>change the debug information ID name id_debug_created_info and this field
should have a 2 element array containing path and line information.</p>
</dd><dt>defs/id.def
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>catch up this fix.</p>
</dd><dt>test/ruby/test_iseq.rb
<dd>
<p>now frozen strings are not same.</p>
</dd></dl>

<h3 id="label-Sat+Nov+21+04-3A34-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Nov 21 04:34:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (rb_str_intern)
<dd>
<p>should not freeze the receiver itself unexpectedly.  [ruby-core:71611] [Bug
#11721]</p>
</dd></dl>

<h2 id="label-2015-11-20">2015-11-20</h2>

<h3 id="label-Fri+Nov+20+23-3A15-3A18+2015++Naotoshi+Seo++-3Csonots-40gmail.com-3E">Fri Nov 20 23:15:18 2015  Naotoshi Seo  &lt;sonots@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>expose logger mutex [fix GH-541] Patch by @arthurnn</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+15-3A05-3A28+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 20 15:05:28 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Fri+Nov+20+14-3A57-3A01+2015++Trevor+Rowe++-3Ctrevorrowe-40gmail.com-3E">Fri Nov 20 14:57:01 2015  Trevor Rowe  &lt;trevorrowe@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>Fixed regression for Net::HTTP::PUT with “Expect-100” header. [fix GH-949]</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p>added test.</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+14-3A39-3A56+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 20 14:39:56 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>set hostname before call ossl_ssl_set_session. [Bug #<a
href="ruby-core:70152">11401]</a>[fix GH-964] Patch by @mkarnebeek</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+12-3A53-3A19+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 20 12:53:19 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>clarify docs for take_while/drop_while samples. [ci skip][fix GH-1028]
Patch by @leriksen</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+12-3A48-3A04+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 20 12:48:04 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c
<dd>
<p>remove mention of :UNIX in getaddrinfo(). It&#39;s typically not a support
option. [ci skip][fix GH-990] Patch by @eam</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+12-3A44-3A06+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 20 12:44:06 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/syndication.rb
<dd>
<p>Add nodoc marker for validate_sy_updatePeriod. [ci skip][fix GH-1105] Patch
by @davydovanton</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+09-3A05-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Nov 20 09:05:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_cref_replace_with_duplicated_cref)
<dd>
<p>added. CREFs should not be shared by methods between `using&#39;. [Bug
#11247]</p>
</dd><dt>vm_insnhelper.c (vm_cref_replace_with_duplicated_cref)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (vm_cref_dup)
<dd>
<p>should copy refinements correctly.</p>
</dd><dt>eval.c
<dd>
<p>use rb_vm_cref_replace_with_duplicated_cref().</p>
</dd><dt>eval_intern.h
<dd>
<p>add a decl. of rb_vm_cref_replace_with_duplicated_cref().</p>
</dd><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>do not need to pass scope&#39;s CREF because VM can find out CREF from
stack frames.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Fri+Nov+20+06-3A52-3A53+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Nov 20 06:52:53 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitattributes
<dd>
<p>new file for git users [ruby-core:71578] [Feature #11713]</p>
</dd></dl>

<h2 id="label-2015-11-19">2015-11-19</h2>

<h3 id="label-Thu+Nov+19+22-3A35-3A31+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 19 22:35:31 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c
<dd>
<p>Check buffer full and ignore MSG_TRUNC flag. buffer fullness is more robust
to detect the message is too big for the buffer. AIX 7.1 recvmsg
doesn&#39;t set MSG_TRUNC for rflags when MSG_PEEK is given.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+21-3A55-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 19 21:55:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_start)
<dd>
<p>force to invoke <a href="../classes/GC.html">GC</a> by <a
href="../classes/GC.html#method-c-start">GC.start</a> even if it is <a
href="../classes/GC.html#method-c-disable">GC.disable</a>&#39;d.</p>
</dd><dt>test/ruby/test_gc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+20-3A08-3A59+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 19 20:08:59 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>trivial performance improvements. name    modified vm1_gc_short_lived*     
1.015 vm1_gc_short_with_complex_long*    1.014 vm1_gc_short_with_long*     
1.000 vm1_gc_short_with_symbol*          1.016 vm1_gc_wb_ary*              
1.002 vm1_gc_wb_ary_promoted*            0.996 vm1_gc_wb_obj*              
1.045 vm1_gc_wb_obj_promoted*            1.014 vm3_gc                      
1.021</p>
</dd><dt>gc.c (gc_writebarrier_generational)
<dd>
<p>reorder parameters to optimize register passing function call.</p>
</dd><dt>gc.c (gc_writebarrier_incremental)
<dd>
<p>ditto.</p>
</dd><dt>gc.c (rb_gc_writebarrier)
<dd>
<p>remove LIKELY(). LIKELY() seems to move related functions not better
places.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+19-3A45-3A05+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 19 19:45:05 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (ruby_prog_init)
<dd>
<p>[DOC] ARGV does not contain the name of the executable.  [ruby-core:71561]
[Bug #11711]</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+15-3A53-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 19 15:53:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c
<dd>
<p>should also clear ruby_disable_gc. [Bug #11692]</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+15-3A31-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Nov 19 15:31:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>T_IMEMO/iseq objects should be wrap with ISeq wrappers. [Bug #11676]</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+15-3A16-3A12+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Nov 19 15:16:12 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.5.0+ HEAD(c6b4946). this version includes #1114,
#1314, #1322, #1375, #1383, #1387</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+14-3A14-3A37+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 19 14:14:37 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (finish_overlapped_socket)
<dd>
<p>return value of this function should be only 0 or SOCKET_ERROR.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+14-3A12-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 19 14:12:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_tailcall_optimize)
<dd>
<p>apply tail call optimization before conversion to specialized instructions.
when looking back from `leave` instruction, `send` instructions have been
translated already.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+13-3A57-3A58+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 19 13:57:58 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (finish_overlapped_socket)
<dd>
<p>ignore EMSGSIZE when input, because POSIX platforms just do so.  fixes test
errors revealed by r52647.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+02-3A52-3A30+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 19 02:52:30 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>stretch the buffer size only when vmaxdatlen is nil.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+02-3A20-3A11+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Nov 19 02:20:11 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_socket.rb (test_udp_recvmsg_truncation)
<dd>
<p>rflags is nil on Solaris 10 which have no HAVE_STRUCT_MSGHDR_MSG_CONTROL.
Reported by Naohisa Goto. [ruby-core:71557] [Bug #11709]</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+01-3A48-3A05+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 19 01:48:05 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>add -static-libgcc for mingw automatically if available.</p>
</dd></dl>

<h3 id="label-Thu+Nov+19+00-3A53-3A26+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Nov 19 00:53:26 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb (–extflags)
<dd>
<p>new option to pass EXTLDFLAGS to children, especially exts.mk.</p>
</dd><dt>common.mk (EXTMK_ARGS)
<dd>
<p>use above option.</p>
</dd></dl>

<h2 id="label-2015-11-18">2015-11-18</h2>

<h3 id="label-Wed+Nov+18+22-3A50-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 18 22:50:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_class_clear_method_cache)
<dd>
<p>should clear all RCLASS_CALLABLE_M_TBLs of all sub-classes (T_ICLASS).
RCLASS_CALLABLE_M_TBL() caches complemented method entries. It should be
cleared when the modules are cleared. On previous version clears only for
direct children. It is enough for normal modules because corresponding
T_ICLASSes are direct children. However, refinements create complex data
structure. So that we need to clear all children (and descendants).
[ruby-core:71423] [Bug #11672]</p>
</dd><dt>vm_method.c (rb_clear_method_cache_by_class)
<dd>
<p>rb_mKernel doesn&#39;t call rb_class_clear_method_cache, so that clear
child T_ICLASSes.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>enable disabled test.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+21-3A09-3A08+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 18 21:09:08 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (prepare_callable_method_entry)
<dd>
<p>use RCLASS_CALLABLE_M_TBL() instead of accessing a filed directly.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+17-3A08-3A18+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 18 17:08:18 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>introduce the following field and macros. *
rb_method_definition_t::complemented_count to count shared method entries
because of complemented method entries and separate from alias_count.
Shared `def&#39; only by complemented method entries should not prevent
method re-definition warning. * METHOD_ENTRY_COMPLEMENTED(me) to represent
complemented method entry. * METHOD_ENTRY_COMPLEMENTED_SET(me) to check it
as  complemented me.</p>
</dd><dt>vm_insnhelper.c (aliased_callable_method_entry)
<dd>
<p>should also check me-&gt;def-&gt;complemented_count.</p>
</dd><dt>vm_method.c (method_definition_addref_complement)
<dd>
<p>add to count complemented method entries number.</p>
</dd><dt>vm_method.c (rb_method_definition_release)
<dd>
<p>release `def&#39; iff alias_count == 0 and complemented_count == 0.</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+17-3A06-3A19+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Nov 18 17:06:19 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_raw_obj_info)
<dd>
<p>fix trivial issues. * support SPECIAL_CONSTs. * fix IMEMO/ment outputs.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+11-3A32-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 18 11:32:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>eliminate always/never branches after a literal object.  this sequence
typically appears by defined? operator for a method call on a local
variable.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+10-3A33-3A06+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Nov 18 10:33:06 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>stretch the buffer size when EMSGSIZE occurs on non
HAVE_STRUCT_MSGHDR_MSG_CONTROL platforms</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Nov+18+10-3A12-3A36+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Nov 18 10:12:36 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>use 4096 as default size to match pre-r52610, which also maps to a common
page size.</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+10-3A05-3A25+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Nov 18 10:05:25 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/refinements_rdoc.html">doc/syntax/refinements.rdoc</a>
<dd>
<p>update documentation to reflect recent changes. [ci skip] [ruby-core:71466]
[Misc #11681] Patch by James Adam</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+09-3A50-3A21+2015++Naotoshi+Seo++-3Csonots-40gmail.com-3E">Wed Nov 18 09:50:21 2015  Naotoshi Seo  &lt;sonots@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/logger/test_logdevice.rb
<dd>
<p>Fix tests of logger to make it work on windows (windows can not remove
opened file) [Bug #11702]</p>
</dd></dl>

<h3 id="label-Wed+Nov+18+06-3A59-3A52+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Nov 18 06:59:52 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>grow buffer on unspecified maxdatlen [ruby-core:71517] [Bug #11701]</p>
</dd><dt>ext/socket/lib/socket.rb (Socket#recvmsg)
<dd>
<p>nil default for dlen</p>
</dd><dt>(Socket#recvmsg_nonblock)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_socket.rb (test_recvmsg_udp_no_arg)
<dd>
<p>new test</p>
</dd></dl>

<h2 id="label-2015-11-17">2015-11-17</h2>

<h3 id="label-Tue+Nov+17+19-3A50-3A06+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov 17 19:50:06 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (fstat)
<dd>
<p>declare for mingw.</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+19-3A02-3A59+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov 17 19:02:59 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (BASERUBY)
<dd>
<p>use <a href="../classes/Kernel.html#method-i-print">Kernel#print</a>
instead of <a href="../classes/Kernel.html#method-i-p">Kernel#p</a> because
the baseruby may output CRLF as end of line.</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+14-3A36-3A00+2015++Kenichi+Kamiya++-3Ckachick1-40gmail.com-3E">Tue Nov 17 14:36:00 2015  Kenichi Kamiya  &lt;kachick1@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb (dig)
<dd>
<p>Implement <a
href="../classes/OpenStruct.html#method-i-dig">OpenStruct#dig</a> [Feature
#11688]</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+14-3A04-3A14+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov 17 14:04:14 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb (Socket#recvmsg{,_nonblock})
<dd>
<p>default values of clen must be nil.</p>
</dd><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>handle nil of clen. fixes test errors introduced at r52602.</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+13-3A43-3A46+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Nov 17 13:43:46 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p><a href="../classes/UNIXSocket.html">UNIXSocket</a> is not always exists. 
fixes install error on Windows, introduced at r52601.</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+11-3A27-3A23+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 11:27:23 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb (Socket#recvfrom_nonblock)
<dd>
<p><a
href="../classes/UDPSocket.html#method-i-recvfrom_nonblock">UDPSocket#recvfrom_nonblock</a>):
update doc for `exception: false` and destination buffer [ruby-core:69542]
[Feature #11229] [ruby-core:69543] [Feature #11242]</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+11-3A25-3A05+2015++Eric+Turner++-3Cericturnerdev-40gmail.com-3E">Tue Nov 17 11:25:05 2015  Eric Turner  &lt;ericturnerdev@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_dig), hash.c (rb_hash_dig)
<dd>
<p>[DOC] Update comments describing dig methods.  [Fix GH-1103]</p>
</dd><dt>struct.c (rb_struct_dig)
<dd>
<p>[DOC] add rdoc.</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+10-3A12-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 10:12:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb (Socket.accept_loop)
<dd>
<p>avoid exceptions</p>
</dd><dt>(Socket.udp_server_recv)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+09-3A59-3A00+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 09:59:00 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>avoid arg parsing [ruby-core:71439] [Feature #11339]</p>
</dd><dt>(rsock_bsock_sendmsg)
<dd>
<p>make private, adjust for above</p>
</dd><dt>(rsock_bsock_sendmsg_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>adjust prototypes</p>
</dd><dt>(rsock_opt_false_p)
<dd>
<p>remove</p>
</dd><dt>ext/socket/basicsocket.c (rsock_init_basicsocket)
<dd>
<p>define private methods</p>
</dd><dt>ext/socket/lib/socket.rb (BasicSocket#sendmsg)
<dd>
<p>new wrapper</p>
</dd><dt>(BasicSocket#sendmsg_nonblock)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+09-3A45-3A18+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 09:45:18 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>avoid arg parsing</p>
</dd><dt>(rsock_bsock_recvmsg)
<dd>
<p>adjust for above change</p>
</dd><dt>(rsock_bsock_recvmsg_nonblock)
<dd>
<p>ditto [ruby-core:71439] [Feature #11339]</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>adjust prototypes for above</p>
</dd><dt>ext/socket/basicsocket.c (rsock_init_basicsocket)
<dd>
<p>adjust private methods</p>
</dd><dt>ext/socket/lib/socket.rb (BasicSocket#recvmsg)
<dd>
<p>wrapper method</p>
</dd><dt>(BasicSocket#recvmsg_nonblock)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+08-3A36-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 08:36:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_s_accept_nonblock)
<dd>
<p>avoid parsing args [ruby-core:71439] [Feature #11339]</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>adjust prototype</p>
</dd><dt>ext/socket/socket.c (sock_accept_nonblock)
<dd>
<p>make private</p>
</dd><dt>ext/socket/tcpserver.c (tcp_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/unixserver.c (unix_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/lib/socket.rb (Socket#accept_nonblock)
<dd>
<p>implement as wrapper, move <a href="../classes/RDoc.html">RDoc</a></p>
</dd><dt>(TCPServer#accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>(UNIXServer#accept_nonblock)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+08-3A25-3A57+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 08:25:57 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sock_connect_nonblock)
<dd>
<p>avoid argument parsing in C. [ruby-core:71439] [Feature #11339]</p>
</dd><dt>ext/socket/lib/socket.rb (Socket#connect_nonblock)
<dd>
<p>new wrapper for private method, move <a
href="../classes/RDoc.html">RDoc</a></p>
</dd></dl>

<h3 id="label-Tue+Nov+17+08-3A16-3A09+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 17 08:16:09 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_s_recvfrom_nonblock)
<dd>
<p>avoid arg parsing with C API [ruby-core:71439] [Feature #11339]</p>
</dd><dt>ext/socket/basicsocket.c (bsock_recv_nonblock)
<dd>
<p>adjust for above change, make private</p>
</dd><dt>ext/socket/socket.c (sock_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/udpsocket.c (udp_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/lib/socket.rb (BasicSocket#recv_nonblock)
<dd>
<p>new wrapper for private method, move <a
href="../classes/RDoc.html">RDoc</a></p>
</dd><dt>(Socket#recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>(UDPSocket#recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-11-16">2015-11-16</h2>

<h3 id="label-Mon+Nov+16+21-3A27-3A54+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Mon Nov 16 21:27:54 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/dtrace/helper.rb (Dtrace::TestCase#trap_probe)
<dd>
<p>dtrace buffer size is set as 8m on Solaris (default 4m). [Bug #11697]</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+20-3A03-3A14+2015++Naotoshi+Seo++-3Csonots-40gmail.com-3E">Mon Nov 16 20:03:14 2015  Naotoshi Seo  &lt;sonots@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>Add <a href="../classes/Logger.html#method-i-reopen">Logger#reopen</a></p>
</dd></dl>

<h3 id="label-Mon+Nov+16+18-3A21-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 16 18:21:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_dig)
<dd>
<p>dig in nested structs too.</p>
</dd><dt>struct.c (rb_struct_dig)
<dd>
<p>new method <a href="../classes/Struct.html#method-i-dig">Struct#dig</a>.
[Feature #11688]</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+17-3A41-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov 16 17:41:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>optimize tail calls on aref and aset specialized instructions.</p>
</dd><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>optimize replaced leave instruction copied to jump instruction too.</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+16-3A39-3A38+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Nov 16 16:39:38 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>Enable frozen_string_literal.</p>
</dd><dt>lib/set.rb
<dd>
<p>Move &lt;&lt; out of the begin block that ensures pop.</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+16-3A28-3A30+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Nov 16 16:28:30 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (Hash#flatten!, add?, delete?, collect!, reject!, select!, #^, classify)
<dd>
<p>Micro-optimize some methods for performance and readability.</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+16-3A17-3A58+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 16 16:17:58 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>fixed accidentally commit.</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+16-3A10-3A51+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 16 16:10:51 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>mkconfig.rb
<dd>
<p>Add some high-level documentation. [ci skip][fix GH-1081] Patch by
@ulfalizer</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+15-3A59-3A14+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Mon Nov 16 15:59:14 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>Add call-seq of `Method#super_method` [ci skip][fix GH-1094]</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+15-3A58-3A39+2015++Kenichi+Kamiya++-3Ckachick1-40gmail.com-3E">Mon Nov 16 15:58:39 2015  Kenichi Kamiya  &lt;kachick1@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c
<dd>
<p>Standardize a method signature of <a
href="../classes/Struct.html#method-i-5B-5D-3D">Struct#[]=</a>. [ci
skip][fix GH-1095]</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+15-3A42-3A36+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Nov 16 15:42:36 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (#&gt;=, #&gt;, #&lt;=, #&lt;)
<dd>
<p>Make use of Hash#&gt;=, #&gt;, #&lt;, and #&lt;= when comparing against an
instance of the same kind.</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+15-3A37-3A11+2015++Naotoshi+Seo++-3Csonots-40gmail.com-3E">Mon Nov 16 15:37:11 2015  Naotoshi Seo  &lt;sonots@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb
<dd>
<p>Support symbol and string log level setting</p>
</dd></dl>

<h3 id="label-Mon+Nov+16+15-3A33-3A11+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 16 15:33:11 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>fix wrong permission for gem specification without zlib runtime. [Bug #<a
href="ruby-dev:49343">11685]</a></p>
</dd></dl>

<h3 id="label-Mon+Nov+16+12-3A11-3A11+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov 16 12:11:11 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpauth/basicauth.rb
<dd>
<p>fix a typo. [ci skip][fix GH-1099] Patch by @jwworth</p>
</dd><dt>lib/webrick/httpauth/digestauth.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-11-15">2015-11-15</h2>

<h3 id="label-Sun+Nov+15+18-3A28-3A43+2015++Kenichi+Kamiya++-3Ckachick1-40gmail.com-3E">Sun Nov 15 18:28:43 2015  Kenichi Kamiya  &lt;kachick1@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (set_method_visibility)
<dd>
<p>should fail if the receiver is frozen.  [ruby-core:71489] [Bug #11687]</p>
</dd></dl>

<h2 id="label-2015-11-14">2015-11-14</h2>

<h3 id="label-Sat+Nov+14+22-3A15-3A07+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 22:15:07 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+21-3A44-3A56+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 21:44:56 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>Use “&lt;&lt;” to reduce string allocation.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+17-3A45-3A49+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 17:45:49 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tsort.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+17-3A25-3A15+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 17:25:15 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv-replace.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+17-3A00-3A13+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 17:00:13 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+16-3A43-3A02+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Nov 14 16:43:02 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+05-3A04-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 14 05:04:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.h
<dd>
<p>remove old comments.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+04-3A55-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 14 04:55:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>eval_intern.h
<dd>
<p>remove unused setter functions. CREF_CLASS_SET() CREF_NEXT_SET()
CREF_SCOPE_VISI_COPY()</p>
</dd><dt>eval_intern.h
<dd>
<p>rename flags: * NODE_FL_CREF_PUSHED_BY_EVAL_ -&gt; CREF_FL_PUSHED_BY_EVAL *
NODE_FL_CREF_OMOD_SHARED_ -&gt; CREF_FL_OMOD_SHARED and use
IMEMO_FL_USER1/2.</p>
</dd><dt>vm.c (vm_cref_new)
<dd>
<p>accept push_by_eval parameter.</p>
</dd><dt>vm.c (vm_cref_new_use_prev)
<dd>
<p>added for rb_vm_rewrite_cref().</p>
</dd><dt>vm_insnhelper.c (vm_cref_push)
<dd>
<p>accept pushed_by_eval parameter.</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>remove unused macros: COPY_CREF_OMOD() and COPY_CREF().</p>
</dd><dt>vm_eval.c, insns.def
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+02-3A58-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 14 02:58:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_define_method)
<dd>
<p>refactoring. * get CREF in this function. * cbase is no longer needed
(CREF_CLASS(cref) is enough).</p>
</dd><dt>compile.c
<dd>
<p>RubyVM::FrozenCore.define_method only accept 2 args.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+02-3A34-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 14 02:34:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_define_method)
<dd>
<p>do not use current CREF immediately, but check CREF in environment or
methods. Methods defined in methods should be public. [Bug #11571]</p>
</dd><dt>vm_method.c (rb_scope_module_func_check)
<dd>
<p>check CREF in env or me. if CREF is contained by `me&#39;, then return
FALSE.</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+02-3A19-3A16+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov 14 02:19:16 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>constify rb_cref_t::scope_visi;</p>
</dd><dt>eval_intern.h (CREF_SCOPE_VISI_COPY)
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Nov+14+01-3A53-3A52+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Nov 14 01:53:52 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_unpack, AVOID_CC_BUG)
<dd>
<p>Very ugly workaround for optimization bug of Oracle Solaris Studio 12.4 on
Solaris with -xO4 optimization option. [Bug #11684]</p>
</dd></dl>

<h2 id="label-2015-11-13">2015-11-13</h2>

<h3 id="label-Fri+Nov+13+23-3A00-3A23+2015++Hiroshi+Shirosaki++-3Ch.shirosaki-40gmail.com-3E">Fri Nov 13 23:00:23 2015  Hiroshi Shirosaki  &lt;h.shirosaki@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>unset LD_PRELOAD on mingw. msys2 child processes crash at make test-all
with LD_PRELOAD. [ruby-core:71461] [Bug #11680]</p>
</dd></dl>

<h3 id="label-Fri+Nov+13+14-3A00-3A43+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Fri Nov 13 14:00:43 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_pkey.c
<dd>
<p>Merge b9ea8ef at ruby/openssl [Bug #10735]</p>
</dd></dl>

<h3 id="label-Fri+Nov+13+13-3A09-3A16+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Fri Nov 13 13:09:16 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>Merge b9ea8ef at ruby/openssl</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Nov+13+13-3A05-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov 13 13:05:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>prelude.rb (Thread.exclusive)
<dd>
<p>warn as deprecated.</p>
</dd></dl>

<h3 id="label-Fri+Nov+13+10-3A36-3A39+2015++Victor+Nawothnig++-3CVictor.Nawothnig-40gmail.com-3E">Fri Nov 13 10:36:39 2015  Victor Nawothnig  &lt;Victor.Nawothnig@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (new_unless)
<dd>
<p>optimize constant condition for `unless` as well as `if`.  [Fix GH-1092]</p>
</dd></dl>

<h3 id="label-Fri+Nov+13+10-3A08-3A41+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov 13 10:08:41 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/psych.gemspec
<dd>
<p>bump version to 2.0.15</p>
</dd></dl>

<h2 id="label-2015-11-12">2015-11-12</h2>

<h3 id="label-Thu+Nov+12+18-3A44-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 12 18:44:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_magic_comment)
<dd>
<p>should match exactly. [ruby-core:71460] [Bug #11679]</p>
</dd></dl>

<h3 id="label-Thu+Nov+12+16-3A16-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 12 16:16:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/prelude.c.tmpl
<dd>
<p>enable tail call optimization.</p>
</dd></dl>

<h3 id="label-Thu+Nov+12+14-3A17-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov 12 14:17:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>ANDDOT at the head of the line denote line continuation from previous one
to support fluent interface, as well as single dot.</p>
</dd></dl>

<h3 id="label-Thu+Nov+12+13-3A49-3A50+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Nov 12 13:49:50 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.5.0+ HEAD(db78980). this version includes #1367 ,
#1373 , #1375</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Nov+12+10-3A53-3A41+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Nov 12 10:53:41 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_io_nonblock_noex2.rb
<dd>
<p>new benchmark based on bm_io_nonblock_noex.rb</p>
</dd><dt>io.c (io_read_nonblock)
<dd>
<p>move documentation to prelude.rb</p>
</dd><dt>(io_write_nonblock)
<dd>
<p>ditto</p>
</dd><dt>(Init_io)
<dd>
<p>private, internal methods for prelude.rb use only</p>
</dd><dt>prelude.rb (IO#read_nonblock)
<dd>
<p>wrapper + documentation</p>
</dd><dt>(IO#write_nonblock)
<dd>
<p>ditto [ruby-core:71439] [Feature #11339]</p>
</dd></dl>

<h2 id="label-2015-11-11">2015-11-11</h2>

<h3 id="label-Wed+Nov+11+18-3A30-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 11 18:30:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>look up the key, then get default value and raise <a
href="../classes/KeyError.html">KeyError</a> if the returned value is nil.
[ruby-dev:49338] [Ruby trunk - Bug #11677]</p>
</dd></dl>

<h3 id="label-Wed+Nov+11+17-3A38-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 11 17:38:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (local_var_list_add)
<dd>
<p>skip internal local variable name by its type but not if it has a name. 
internal local variable names are just unique per frame, not globally.
[ruby-core:71437] [Bug #11674]</p>
</dd></dl>

<h3 id="label-Wed+Nov+11+14-3A14-3A33+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Nov 11 14:14:33 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c
<dd>
<p>fix a typo [ci skip][fix GH-1091] Patch by @jwworth</p>
</dd></dl>

<h3 id="label-Wed+Nov+11+11-3A58-3A38+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Nov 11 11:58:38 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (initialize)
<dd>
<p>Connections are in passive mode per default now.  The default mode can be
changed by <a
href="../classes/Net/FTP.html#method-c-default_passive-3D">Net::FTP.default_passive=</a>.
[ruby-core:71146] [Feature #11612]</p>
</dd><dt>lib/net/ftp.rb (default_passive=, default_passive)
<dd>
<p>new methods.</p>
</dd></dl>

<h3 id="label-Wed+Nov+11+09-3A03-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Nov 11 09:03:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sprintf.c (rb_str_format)
<dd>
<p>respect default value of a hash.  no longer raises <a
href="../classes/KeyError.html">KeyError</a> unless the default value of
the hash is nil.  [ruby-core:71354] [Bug #11661]</p>
</dd></dl>

<h2 id="label-2015-11-10">2015-11-10</h2>

<h3 id="label-Tue+Nov+10+20-3A35-3A12+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 10 20:35:12 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>Remove indicator for “frozen_string_literal: true”.</p>
</dd><dt>lib/pp.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/prettyprint.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/resolv.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/securerandom.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/tmpdir.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/unicode_normalize/tables.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/net/ftp/test_buffered_socket.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/net/ftp/test_mlsx_entry.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/open-uri/test_open-uri.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/open-uri/test_ssl.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/pathname/test_pathname.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/test_pp.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/test_prettyprint.rb
<dd>
<p>Ditto.</p>
</dd><dt>tool/transcode-tblgen.rb
<dd>
<p>Ditto.</p>
</dd><dt>ext/pathname/lib/pathname.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+18-3A42-3A24+2015++Aleksandrs+Ledovskis++-3Caleksandrs-40ledovskis.lv-3E">Tue Nov 10 18:42:24 2015  Aleksandrs Ledovskis  &lt;aleksandrs@ledovskis.lv&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def, parse.y
<dd>
<p>Switch internal token name to reflect current form of safe-call operator. 
[Fix GH-1090]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+18-3A25-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 10 18:25:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_to_proc)
<dd>
<p>use rb_func_proc_new to make light weight proc.  [Feature #11653]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+18-3A23-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 10 18:23:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (cfunc_proc_t)
<dd>
<p>add room for me.</p>
</dd><dt>proc.c (cfunc_proc_new)
<dd>
<p>generalise for cfunc proc without env.</p>
</dd><dt>proc.c (rb_func_proc_new, rb_func_lambda_new)
<dd>
<p>new functions to make proc/lambda without env from cfunc.</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+17-3A32-3A35+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Nov 10 17:32:35 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_fork.rb ([ruby-dev:37934])
<dd>
<p>:NPROC (RLIMIT_NPROC) is not supported on some platforms (e.g. Solaris 10).</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+16-3A57-3A14+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 10 16:57:14 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_to_proc)
<dd>
<p>new method <a
href="../classes/Hash.html#method-i-to_proc">Hash#to_proc</a>. [Feature
#11653]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+14-3A34-3A09+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Nov 10 14:34:09 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (rb_time_timespec_new)
<dd>
<p>swap utc and localtime to generate gmt flag by INT_MAX - gmtoff.</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+14-3A01-3A59+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Nov 10 14:01:59 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_{le,lt,ge,gt})
<dd>
<p>new methods, Hash#&lt;=, Hash#&lt;, Hash#&gt;=, Hash#&gt;, to test if all
elements of a hash are also included in another hash, and vice versa.
[ruby-core:68561] [Feature #10984]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+11-3A25-3A29+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Nov 10 11:25:29 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (rb_timespec_now)
<dd>
<p>added.  [Feature #11558]</p>
</dd><dt>time.c (rb_time_timespec_new)
<dd>
<p>added.  [Feature #11558]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+06-3A17-3A17+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov 10 06:17:17 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_autoload_load)
<dd>
<p>allow recursive calls [ruby-core:71345] [Bug #11658]</p>
</dd><dt>test/ruby/test_autoload.rb (test_autoload_while_autoloading)
<dd>
<p>new test by: Hiroshi Shirosaki &lt;h.shirosaki@gmail.com&gt;
[ruby-core:71390]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+00-3A36-3A46+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Nov 10 00:36:46 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Message::MessageEncoder#put_labels)
<dd>
<p>Prevent overflow of pointer to labels. Patch by Hannes Georg. 
[ruby-core:71248] [Bug #11632]</p>
</dd></dl>

<h3 id="label-Tue+Nov+10+00-3A25-3A41+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Tue Nov 10 00:25:41 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update to power_assert 0.2.6.</p>
</dd></dl>

<h2 id="label-2015-11-09">2015-11-09</h2>

<h3 id="label-Mon+Nov++9+21-3A48-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov  9 21:48:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_check_funcall_default)
<dd>
<p>split from rb_check_funcall to return the given fallback value.</p>
</dd><dt>object.c (rb_obj_dig)
<dd>
<p>use rb_check_funcall_default so that tail call optimization will be
possible.  [Feature #11643]</p>
</dd></dl>

<h3 id="label-Mon+Nov++9+21-3A27-3A23+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Nov  9 21:27:23 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_dig)
<dd>
<p>new method <a href="../classes/Array.html#method-i-dig">Array#dig</a>.</p>
</dd><dt>hash.c (rb_hash_dig)
<dd>
<p>new method <a href="../classes/Hash.html#method-i-dig">Hash#dig</a>.</p>
</dd><dt>object.c (rb_obj_dig)
<dd>
<p>dig in nested arrays/hashes. [Feature #11643]</p>
</dd></dl>

<h3 id="label-Mon+Nov++9+18-3A00-3A47+2015++Yuki+Nishijima++-3Cmail-40yukinishijima.net-3E">Mon Nov  9 18:00:47 2015  Yuki Nishijima  &lt;mail@yukinishijima.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade the did_you_mean gem to 1.0.0.beta3</p>
</dd></dl>

<h3 id="label-Mon+Nov++9+17-3A38-3A14+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov  9 17:38:14 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>use official repository for coverage tool.</p>
</dd><dt>Makefile.in
<dd>
<p>ditto.</p>
</dd><dt>common.mk
<dd>
<p>ditto.</p>
</dd><dt>.gitignore
<dd>
<p>ignored third party repositories.</p>
</dd></dl>

<h3 id="label-Mon+Nov++9+17-3A29-3A09+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Nov  9 17:29:09 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>Dynamic string literals should be frozen. [ruby-core:57574] [Feature #8976]</p>
</dd></dl>

<h3 id="label-Mon+Nov++9+15-3A56-3A07+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Nov  9 15:56:07 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>Use ruby organization url for simplecov repository.</p>
</dd></dl>

<h2 id="label-2015-11-08">2015-11-08</h2>

<h3 id="label-Sun+Nov++8+16-3A24-3A09+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun Nov  8 16:24:09 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>describe addition of File::TMPFILE</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+15-3A19-3A17+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun Nov  8 15:19:17 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>Add O_TMPFILE.</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+14-3A24-3A43+2015++windwiny++-3Cwindwiny.ubt-40gmail.com-3E">Sun Nov  8 14:24:43 2015  windwiny  &lt;windwiny.ubt@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h (METHOD_ENTRY_{VISI,BASIC,FLAGS}_SET)
<dd>
<p>suppress shift-op-parentheses warnings.  [Fix GH-1082]</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+14-3A01-3A22+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Nov  8 14:01:22 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/psych_emitter.c
<dd>
<p>backport 5bd7744 from tenderlove/psych. support backward compatibility of
Ruby 2.0</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+10-3A55-3A10+2015++Anton+Davydov++-3Cantondavydov.o-40gmail.com-3E">Sun Nov  8 10:55:10 2015  Anton Davydov  &lt;antondavydov.o@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_gets_m)
<dd>
<p>Update <a href="../classes/IO.html#method-i-gets">IO#gets</a> doc for
characters more than 1 byte.  [Fix GH-1085]</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+10-3A37-3A58+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Nov  8 10:37:58 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/ftp.rb
<dd>
<p>fix a typo. [fix GH-1084][ci skip] Patch by @windwiny</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+08-3A10-3A31+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Nov  8 08:10:31 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (exec_hooks_precheck)
<dd>
<p>check need_clean everytime to clean-up unused hooks.</p>
</dd><dt>vm_trace.c (list-&gt;need_clean)
<dd>
<p>use as boolean value.</p>
</dd></dl>

<h3 id="label-Sun+Nov++8+01-3A31-3A27+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Nov  8 01:31:27 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (Net::HTTP#initialize)
<dd>
<p>default value of <a
href="../classes/Net/HTTP.html#attribute-i-open_timeout">Net::HTTP#open_timeout</a>
is now 60 (was nil).</p>
</dd></dl>

<h2 id="label-2015-11-07">2015-11-07</h2>

<h3 id="label-Sat+Nov++7+12-3A18-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Nov  7 12:18:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (id_to_s)
<dd>
<p>remove redundant variable</p>
</dd><dt>(rb_obj_as_string)
<dd>
<p>trade id_to_s for idTo_s</p>
</dd><dt>(rb_str_equal)
<dd>
<p>replace rb_intern(…) with pre-defined ID</p>
</dd><dt>(rb_str_cmp_m)
<dd>
<p>ditto</p>
</dd><dt>(rb_str_match)
<dd>
<p>ditto</p>
</dd><dt>(str_upto_each)
<dd>
<p>ditto</p>
</dd><dt>(rb_str_sum)
<dd>
<p>ditto</p>
</dd><dt>(Init_String)
<dd>
<p>remove id_to_s initialization</p>
</dd></dl>

<h3 id="label-Sat+Nov++7+11-3A40-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Nov  7 11:40:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_cThreadShield)
<dd>
<p>make static</p>
</dd></dl>

<h3 id="label-Sat+Nov++7+09-3A51-3A38+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov  7 09:51:38 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_threadptr_exec_event_hooks_orig)
<dd>
<p>maintain trace_running counter on internal events. This patch is made by
Takashi Kokubun &lt;takashikkbn@gmail.com&gt;. [Bug #11603] <a
href="https://github.com/ruby/ruby/pull/1059">github.com/ruby/ruby/pull/1059</a></p>
</dd></dl>

<h3 id="label-Sat+Nov++7+03-3A32-3A27+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Nov  7 03:32:27 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RSTRUCT_PTR)
<dd>
<p>need a close parenthesis.</p>
</dd></dl>

<h3 id="label-Sat+Nov++7+01-3A32-3A06+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Nov  7 01:32:06 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_fileno, dirfd)
<dd>
<p>support of <a href="../classes/Dir.html#method-i-fileno">Dir#fileno</a> on
Solaris 10. Solaris 10 does not have dirfd, but the file descriptor of a
directory is stored in the d_fd or dd_fd member in the DIR struct. Note
that Solaris 11 has dirfd(3C).</p>
</dd><dt>configure.in
<dd>
<p>checks for DIR.d_fd and DIR.dd_fd on Solaris 10.</p>
</dd></dl>

<h2 id="label-2015-11-06">2015-11-06</h2>

<h3 id="label-Fri+Nov++6+23-3A13-3A53+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Fri Nov  6 23:13:53 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>clarifies <a
href="../classes/Array.html#method-i-reject-21">Array#reject!</a>
documentation. [fix GH-894][ci skip] Patch by @GxSplinter</p>
</dd></dl>

<h3 id="label-Fri+Nov++6+20-3A18-3A25+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Nov  6 20:18:25 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/runner.rb
<dd>
<p>extracted test helper.</p>
</dd><dt>test/lib/zombie_hunter.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Nov++6+18-3A07-3A47+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Fri Nov  6 18:07:47 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (rb_array_const_ptr, rb_struct_const_ptr)
<dd>
<p>Suppress pointer type mismatch warnings occurred with old version of
Fujitsu C Compiler (fcc) on Solaris 10. The warnings cause failure of
TestMkmf::TestConvertible. [Bug #11644] [ruby-dev:49326]</p>
</dd><dt>include/ruby/ruby.h (FIX_CONST_VALUE_PTR)
<dd>
<p>macro for the above, only effective with fcc.</p>
</dd></dl>

<h3 id="label-Fri+Nov++6+12-3A39-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  6 12:39:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def (token_ops), parse.y (parser_yylex)
<dd>
<p>change DOTQ from “.?” to “&amp;.”.  [ruby-core:71363] [Feature #11537]</p>
</dd></dl>

<h3 id="label-Fri+Nov++6+09-3A01-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Nov  6 09:01:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (kwd_append)
<dd>
<p>fix segv after invalid keyword argument, preceding keyword list is NULL
when syntax error is there. [ruby-core:71356] [Bug #11663]</p>
</dd></dl>

<h3 id="label-Fri+Nov++6+06-3A59-3A37+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Nov  6 06:59:37 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_autoload
<dd>
<p>hoist out ruby_impl_require</p>
</dd></dl>

<h2 id="label-2015-11-05">2015-11-05</h2>

<h3 id="label-Thu+Nov++5+13-3A03-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  5 13:03:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def (token_ops)
<dd>
<p>gather associations between IDs, operators, and parser tokens.</p>
</dd></dl>

<h3 id="label-Thu+Nov++5+10-3A17-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  5 10:17:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (make_addrinfo)
<dd>
<p>use RARRAY_ASET for write-barrier.</p>
</dd><dt>ext/tk/tcltklib.c ({call,eval,invoke}_queue_handler)
<dd>
<p>ditto.</p>
</dd><dt>ext/tk/tkutil/tkutil.c (ary2list, ary2list2)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Nov++5+10-3A09-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Nov  5 10:09:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/*<strong>/</strong>.c
<dd>
<p>prefer RARRAY_AREF to indexing RARRAY_CONST_PTR. pointed out by hanmac. <a
href="https://github.com/ruby/ruby/commit/3553a86#commitcomment-14187670">github.com/ruby/ruby/commit/3553a86#commitcomment-14187670</a></p>
</dd></dl>

<h2 id="label-2015-11-04">2015-11-04</h2>

<h3 id="label-Wed+Nov++4+17-3A33-3A24+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Nov  4 17:33:24 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/debug.rb
<dd>
<p>Add documentation for thread_list_all. [Misc #11580][ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Nov++4+15-3A45-3A59+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Nov  4 15:45:59 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>fix documentation for rb_define_class{_id}_under. [fix GH-991][ci skip]
Patch by @kachick</p>
</dd></dl>

<h3 id="label-Wed+Nov++4+15-3A40-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Nov  4 15:40:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>fix typo. Patch by @davydovanton [fix GH-1076][ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Nov++4+15-3A39-3A32+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Nov  4 15:39:32 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>use correct grammer. Patch by @tveastman [fix GH-1079][ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Nov++4+11-3A38-3A23+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Wed Nov  4 11:38:23 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (proc_getsid)
<dd>
<p>[DOC] Fix double word &#39;for&#39; and typo. [Fix GH-1080]</p>
</dd></dl>

<h3 id="label-Wed+Nov++4+06-3A01-3A52+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Nov  4 06:01:52 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (struct RObject)
<dd>
<p>hide iv_index_tbl type [ruby-core:71306] [Feature #11647]</p>
</dd></dl>

<h2 id="label-2015-11-03">2015-11-03</h2>

<h3 id="label-Tue+Nov++3+06-3A48-3A58+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov  3 06:48:58 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (find_class_path)
<dd>
<p>remove cast for rb_class_ivar_set</p>
</dd><dt>(rb_ivar_set)
<dd>
<p>ditto</p>
</dd><dt>(rb_cvar_set)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Tue+Nov++3+06-3A18-3A21+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Nov  3 06:18:21 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_global_tbl)
<dd>
<p>convert to id_table</p>
</dd></dl>

<h3 id="label-Tue+Nov++3+01-3A58-3A46+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Nov  3 01:58:46 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (NO_QCALL)
<dd>
<p>fix type mismatch of operands that causes compile error with Oracle Solaris
Studio on Solaris. [Bug #11645] [ruby-dev:49327]</p>
</dd></dl>

<h2 id="label-2015-11-01">2015-11-01</h2>

<h3 id="label-Sun+Nov++1+17-3A14-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Nov  1 17:14:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.c (mix_id_table_insert)
<dd>
<p>do not touch list during list-&gt;hash transition because <a
href="../classes/GC.html">GC</a> can run during transition.</p>
</dd></dl>

<h3 id="label-Sun+Nov++1+11-3A07-3A31+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Nov  1 11:07:31 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_memsize)
<dd>
<p>account for rb_call_cache entries</p>
</dd></dl>

<h3 id="label-Sun+Nov++1+09-3A12-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Nov  1 09:12:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_yylex)
<dd>
<p>&#39;:&#39; separated by a comment and a newline is not valid as symbol.</p>
</dd></dl>

<h2 id="label-2015-10-31">2015-10-31</h2>

<h3 id="label-Sat+Oct+31+20-3A15-3A48+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Oct 31 20:15:48 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pair.rb
<dd>
<p>skipped tests if openssl doesn&#39;t support ECDH cipher.</p>
</dd></dl>

<h3 id="label-Sat+Oct+31+14-3A58-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 31 14:58:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1 (SYNOPSIS)
<dd>
<p>remove extraneous space for -F option as it does not allow spaces before
its argument. [ruby-core:71283] [Bug #11641]</p>
</dd></dl>

<h3 id="label-Sat+Oct+31+14-3A58-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 31 14:58:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/ruby.1 (SYNOPSIS)
<dd>
<p>remove extraneous space for -F option as it does not allow spaces before
its argument. [ruby-core:71283] [Bug #11641]</p>
</dd></dl>

<h3 id="label-Sat+Oct+31+10-3A22-3A49+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Sat Oct 31 10:22:49 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (undef_mesg_for)
<dd>
<p>fix typo.  Before this commit `ArgumentError: malformed format string - %$`
was raised when `NameError#message` is called.  [ruby-core:71282] [Bug
#11640] [Fix GH-1077]</p>
</dd></dl>

<h2 id="label-2015-10-30">2015-10-30</h2>

<h3 id="label-Fri+Oct+30+21-3A12-3A45+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Fri Oct 30 21:12:45 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update to power_assert 0.2.5.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+19-3A29-3A52+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 19:29:52 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_slowpath)
<dd>
<p>do not need to use flags hack (commit miss).</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+19-3A08-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 19:08:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (heap_get_freeobj_from_next_freepage)
<dd>
<p>not so UNLIKELY.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+18-3A09-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 18:09:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_slowpath)
<dd>
<p>reduce 1 parameter to use only registers for performance. On my laptop,
&#39;N.times{x = []}&#39; (where N = 29_000_000) is 1.86 sec -&gt; 1.74
sec.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+12-3A53-3A21+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Oct 30 12:53:21 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_call.rb
<dd>
<p>added test for safe navigation operator. [fix GH-1066]</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+12-3A47-3A34+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 30 12:47:34 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>fix wrong commit name.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+12-3A36-3A16+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Oct 30 12:36:16 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>added documentation of protected/private methods. [fix GH-1072]</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>added testcase for method_defined? [fix GH-1071]</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+12-3A06-3A59+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 30 12:06:59 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_class_ivar_set)
<dd>
<p>rename as class specific ivar setter, and st_table is no longer involved.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+11-3A36-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct 30 11:36:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (generic_ivar_remove)
<dd>
<p>adjust type, set valp</p>
</dd><dt>(rb_obj_remove_instance_variable)
<dd>
<p>simplify call</p>
</dd><dt>test/ruby/test_object.rb (test_remove_instance_variable)
<dd>
<p>expand for implementation details</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+10-3A37-3A56+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct 30 10:37:56 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_st_insert_id_and_value)
<dd>
<p>update prototype</p>
</dd><dt>variable.c (rb_st_insert_id_and_value)
<dd>
<p>reduce args</p>
</dd><dt>(find_class_path)
<dd>
<p>adjust call for less args</p>
</dd><dt>(rb_ivar_set)
<dd>
<p>ditto</p>
</dd><dt>(rb_cvar_set)
<dd>
<p>ditto</p>
</dd><dt>class.c (rb_singleton_class_attached)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+09-3A57-3A22+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 30 09:57:22 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update latest gems. test-unit-3.1.5 and minitest-5.8.2</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+09-3A54-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 30 09:54:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems HEAD(60d7972). this version contains pull requests
number of #1343, #1356, #1357, #1363 at <a
href="https://github.com/rubygems/rubygems/pulls">github.com/rubygems/rubygems/pulls</a></p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+07-3A38-3A29+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 07:38:29 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (getinlinecache/setinlinecache)
<dd>
<p>compare ic-&gt;ic_cref and current cref only when cached CREF list includes
singleton class. <a href="../classes/Singleton.html">Singleton</a> classes
have own namespaces, so that we need to check cref as a key (#10943).
However, if current CREF list does not include singleton class, no need to
check CREF because it should be same name space.</p>
</dd><dt>vm_insnhelper.c (vm_get_const_key_cref)
<dd>
<p>add a function returns CREF only when it includes singleton class.</p>
</dd><dt>vm_core.h
<dd>
<p>constify iseq_inline_cache_entry::ic_cref.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+06-3A43-3A50+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 06:43:50 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_env_cref)
<dd>
<p>make it inline for performance.</p>
</dd><dt>vm_insnhelper.c (rb_vm_get_cref)
<dd>
<p>use NULL instead of 0.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+06-3A20-3A40+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 06:20:40 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def
<dd>
<p>nobody set ic-&gt;ic_value.value to Qundef.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+06-3A15-3A50+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 06:15:50 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>add ifndef guard for VM_CHECK_MODE.</p>
</dd></dl>

<h3 id="label-Fri+Oct+30+06-3A13-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Oct 30 06:13:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_check_frame_detail)
<dd>
<p>should require me for VM_FRAME_FLAG_BMETHOD type frame.</p>
</dd></dl>

<h2 id="label-2015-10-29">2015-10-29</h2>

<h3 id="label-Thu+Oct+29+18-3A42-3A30+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 18:42:30 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_ptr)
<dd>
<p>specify NOINLINE so that gc_mark() can return immediately when obj is not a
markable object.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+18-3A05-3A22+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 18:05:22 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_enc_check_str)
<dd>
<p>add for performance. This function only accepts T_STRING (and T_REGEXP).
This patch improves performance of a tiny_segmenter benchmark</p>
</dd><dt>(num=2) 2.54sec -&gt; 2.42sec on my machine. https
<dd>
<p>//github.com/chezou/TinySegmenter.jl/blob/master/benchmark/benchmark.rb</p>
</dd><dt>encoding.c
<dd>
<p>add ENC_DEBUG and ENC_ASSERT() macros.</p>
</dd><dt>internal.h
<dd>
<p>add a decl. of rb_enc_check_str().</p>
</dd><dt>string.c (rb_str_plus)
<dd>
<p>use rb_enc_check_str().</p>
</dd><dt>string.c (rb_str_subpat_set)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+17-3A16-3A40+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 17:16:40 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>export rb_wb_(un)protected_newobj_of() because some extensions include
internal.h.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+16-3A42-3A19+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 16:42:19 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_imemo_new)
<dd>
<p>should not pass FL_WB_PROTECTED flag.</p>
</dd><dt>gc.c (rb_wb_protected_newobj_of)
<dd>
<p>add more assertions.</p>
</dd><dt>gc.c (rb_wb_unprotected_newobj_of)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+16-3A20-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 16:20:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>introduce rb_wb_unprotected_newobj_of() and rb_wb_protected_newobj_of(),
pass the WB_PROTECTED information explicitly.</p>
</dd><dt>internal.h
<dd>
<p>use introduced functions by NEWOBJ_OF(). `flag&#39; is immediate value, so
that C compilers can solve them at compile time.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>add a comment about that.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+14-3A52-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 14:52:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>add rb_objspace::flags::has_hook to represent hook availability.</p>
</dd><dt>gc.c
<dd>
<p>add gc_event_hook_available_p(objspace) to check that flag.</p>
</dd><dt>gc.c (newobj_of)
<dd>
<p>use gc_event_hook_available_p() instead of checking
gc_event_hook_needed_p(objspace, RUBY_INTERNAL_EVENT_NEWOBJ). for
performance.</p>
</dd><dt>gc.c (newobj_init)
<dd>
<p>add UNLIKELY() for FL_WB_PROTECTED flag.</p>
</dd><dt>gc.c (newobj_init)
<dd>
<p>change parameters order (trivial change).</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+14-3A45-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 29 14:45:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_thread_struct)
<dd>
<p>move forward declarations before used.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+14-3A07-3A54+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Oct 29 14:07:54 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_ptr)
<dd>
<p>remove debug code for #11244.</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+10-3A08-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 29 10:08:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (struct autoload_state)
<dd>
<p>usable as wait-queue head</p>
</dd><dt>(struct autoload_data_i)
<dd>
<p>remove 2 words of overhead</p>
</dd><dt>(autoload_i_mark)
<dd>
<p>remove marking for thread</p>
</dd><dt>(autoload_reset)
<dd>
<p>adjust for struct changes</p>
</dd><dt>(rb_autoload)
<dd>
<p>ditto</p>
</dd><dt>(rb_autoloading_value)
<dd>
<p>ditto</p>
</dd><dt>(rb_autoload_load)
<dd>
<p>ditto</p>
</dd><dt>(const_update)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Oct+29+08-3A48-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Oct 29 08:48:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (struct autoload_data_i)
<dd>
<p>add waitq_head</p>
</dd><dt>(struct autoload_state)
<dd>
<p>new struct</p>
</dd><dt>(autoload_require)
<dd>
<p>save result in autoload_state for use in autoload_reset</p>
</dd><dt>(autoload_reset)
<dd>
<p>wake up other waiters with open-coded wait-queues</p>
</dd><dt>(rb_autoload_load)
<dd>
<p>add ensure autoload_const_set happens atomically w.r.t. autoload-triggered
“require” [ruby-core:70075] [ruby-core:71239] [Bug #11384]</p>
</dd></dl>

<h3 id="label-Wed+Oct+29+00-3A39-3A50+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Oct 29 00:39:50 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_commands_server_command.rb (test_handle_options_port)
<dd>
<p>change port from http to discard. Solaris does not include “http 80/tcp” in
its default /etc/inet/services. AFAIK, discard (9/tcp) is older than http
and it is expected that all OS can resolve the service name. [Bug #10004]
[ruby-core:63518]</p>
</dd></dl>

<h2 id="label-2015-10-28">2015-10-28</h2>

<h3 id="label-Wed+Oct+28+23-3A52-3A48+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Oct 28 23:52:48 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>probes_helper.h (RUBY_DTRACE_HOOK)
<dd>
<p>add RB_GC_GUARD, though paranoic.</p>
</dd></dl>

<h3 id="label-Wed+Oct+28+15-3A36-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 28 15:36:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_name_err_new)
<dd>
<p>store the receiver directly.</p>
</dd><dt>error.c (name_err_receiver)
<dd>
<p>return directly stored receiver. [Feature #10881]</p>
</dd><dt>error.c (name_err_mesg_to_str)
<dd>
<p>quote the name if unprintable.</p>
</dd><dt>object.c (check_setter_id)
<dd>
<p>use rb_check_id to convert names.</p>
</dd><dt>variable.c (uninitialized_constant)
<dd>
<p>use NameError::message to keep the receiver of uninitialized constant. 
[Feature #10881]</p>
</dd><dt>error.c (rb_name_err_new)
<dd>
<p>new function to create <a href="../classes/NameError.html">NameError</a>
exception instance.  [Feature #10881]</p>
</dd></dl>

<h3 id="label-Wed+Oct+28+13-3A29-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 28 13:29:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (new_attr_op_assign)
<dd>
<p>fix op_assign type, which is already an ID since r52284.  [Feature #11537]</p>
</dd></dl>

<h2 id="label-2015-10-27">2015-10-27</h2>

<h3 id="label-Tue+Oct+27+23-3A14-3A14+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 27 23:14:14 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def
<dd>
<p>enable anonymous IDs not to expose internal IDs for
frozen-string-literal-debug by <a
href="../classes/Marshal.html#method-c-dump">Marshal.dump</a>.</p>
</dd></dl>

<h3 id="label-Tue+Oct+27+17-3A06-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 27 17:06:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>defs/id.def
<dd>
<p>move internal IDs for frozen-string-literal-debug.</p>
</dd></dl>

<h3 id="label-Tue+Oct+27+16-3A41-3A05+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 27 16:41:05 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (rb_error_frozen_object)
<dd>
<p>use rb_attr_get instead of rb_ivar_get to get rid of warnings for string
objects created when frozen-string-literal-debug is disabled.</p>
</dd></dl>

<h3 id="label-Tue+Oct+27+16-3A18-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 27 16:18:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (Logger::Period#previous_period_end)
<dd>
<p>as weekly rotation shifts the log file on Sundays, the end date of the
previous period should be Saturdays.  fix r45072. [ruby-dev:49314] [Bug
#11622]</p>
</dd></dl>

<h3 id="label-Tue+Oct+27+16-3A12-3A37+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Oct 27 16:12:37 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_print_backtrace)
<dd>
<p>our addr2line doesn&#39;t work on sparc. <a
href="http://rubyci.s3.amazonaws.com/unstable11s/ruby-trunk/log/20151027T043311Z.log.html.gz">rubyci.s3.amazonaws.com/unstable11s/ruby-trunk/log/20151027T043311Z.log.html.gz</a></p>
</dd></dl>

<h3 id="label-Tue+Oct+27+12-3A00-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct 27 12:00:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/logger.rb (Logger::Period#next_rotate_time)
<dd>
<p>get rid of adding to mday not to exceed the days of the month.
[ruby-core:71185] [Bug #11620]</p>
</dd></dl>

<h2 id="label-2015-10-26">2015-10-26</h2>

<h3 id="label-Mon+Oct+26+22-3A43-3A03+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Mon Oct 26 22:43:03 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb (test_method_defined)
<dd>
<p>Add test cases for `public/protected/private _method_defined?` These
methods accept string as argument, so add string argument cases.  [Fix
GH-1067]</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+22-3A23-3A30+2015++SimonDKnight++-3Csimondknight-40hotmail.com-3E">Mon Oct 26 22:23:30 2015  SimonDKnight  &lt;simondknight@hotmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="lib/racc/rdoc/grammar_en_rdoc.html">lib/racc/rdoc/grammar.en.rdoc</a>
<dd>
<p>Grammatical errors fixed. [Fix GH-1070]</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+18-3A36-3A43+2015++Shota+Fukumori+-28sora_h-29+-3Cher-40sorah.jp-3E">Mon Oct 26 18:36:43 2015  Shota Fukumori (sora_h) &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c(rb_method_entry_make)
<dd>
<p>[DOC] [ci skip] Remove a needless space from comment [Fixes GH-1069] Patch
by @yui-knk</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+17-3A30-3A13+2015++Ryan+Hosford++-3Ctad.hosford-40gmail.com-3E">Mon Oct 26 17:30:13 2015  Ryan Hosford  &lt;tad.hosford@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb
<dd>
<p>rename tailing to trailing. [Misc #11548]</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+17-3A11-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 26 17:11:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (call_op, call_op2)
<dd>
<p>fix values on ripper.  [Feature #11537]</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+12-3A55-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 26 12:55:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (call_op2)
<dd>
<p>separate from call_op and also allow “::”, while dot_or_colon should not
allow “.?”.  [Feature #11537]</p>
</dd></dl>

<h3 id="label-Mon+Oct+26+01-3A03-3A23+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Mon Oct 26 01:03:23 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c
<dd>
<p>fix compile errors when USE_SLEEPY_TIMER_THREAD is disabled.</p>
</dd></dl>

<h2 id="label-2015-10-25">2015-10-25</h2>

<h3 id="label-Sun+Oct+25+10-3A12-3A05+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct 25 10:12:05 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (op_tbl)
<dd>
<p>add DOTQ for ripper.  [Feature #11537]</p>
</dd></dl>

<h2 id="label-2015-10-24">2015-10-24</h2>

<h3 id="label-Sat+Oct+24+22-3A51-3A18+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Oct 24 22:51:18 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>fixed build failure of Haiku. [fix GH-984] Patch by @kallisti5</p>
</dd><dt>ext/socket/getaddrinfo.c
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/getnameinfo.c
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+21-3A16-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 24 21:16:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fileutils/test_fileutils.rb (test_uptodate)
<dd>
<p>relax error message format.  [Feature #9025], [ruby-core:71178] [Bug
#11617]</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+21-3A06-3A43+2015++Shota+Fukumori+-28sora_h-29++-3Cher-40sorah.jp-3E">Sat Oct 24 21:06:43 2015  Shota Fukumori (sora_h)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>Revert r45640 because it may lead to link with different libruby. [Bug
#9760]</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+15-3A42-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 24 15:42:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_method.rb
<dd>
<p>relax error message format.</p>
</dd><dt>test/ruby/test_arity.rb (err_mess)
<dd>
<p>ditto. [Feature #9025], [ruby-core:71178] [Bug #11617]</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+11-3A57-3A59+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Oct 24 11:57:59 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>remove the typedef redeclaration of vm_call_handler.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+07-3A29-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 24 07:29:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/forwardable.rb (def_instance_delegator, def_single_delegator)
<dd>
<p>match backtraces against <a
href="../classes/Forwardable.html">::Forwardable</a> in case the target
class is a subclass of <a
href="../classes/BasicObject.html">BasicObject</a> and does not include <a
href="../classes/Kernel.html">Kernel</a>. [ruby-core:71176] [Bug #11616]</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+04-3A10-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 24 04:10:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (make_compile_option_value)
<dd>
<p>include frozen_string_literal* in a made option value.</p>
</dd><dt>vm_opts.h
<dd>
<p>forgot to add OPT_FROZEN_STRING_LITERAL_DEBUG at last commit.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+03-3A58-3A02+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 24 03:58:02 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c
<dd>
<p>introduce –enable-frozen-string-literal-debug option. If this option is
enabled, the modify error will be: can&#39;t modify frozen String
(RuntimeError) =&gt; can&#39;t modify frozen String, created at test.rb:3
(RuntimeError)</p>
</dd><dt>iseq.h
<dd>
<p>add compile option frozen_string_literal_debug.</p>
</dd><dt>compile.c
<dd>
<p>catch up this fix.</p>
</dd><dt>error.c (rb_error_frozen)
<dd>
<p>ditto.</p>
</dd><dt>iseq.c (set_compile_option_from_hash)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>add a test for this fix.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+02-3A02-3A24+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 24 02:02:24 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>introduce new call handler for simple ISeqs.
vm_call_iseq_setup_normal_0start() is simple, however it has some
loops/conditions depends on ISeq::param.size and ISeq::local_size (in
vm_push_frame(), inlined into this function). There are many simple methods
which has a few parameters and local variables. So that this patch
introduces several special functions generated in
vm_call_iseq_optimized.inc by tool/mk_call_iseq_optimized.rb. This script
makes vm_call_iseq_setup_normal_0start_Xparams_Ylocals() where X is 0 to 3
and Y is 1 to 6 (as current setting). In this case, X * Y = 24 functions
are created. These functions creates fast method dispatch by inlining
vm_push_frame() with immediate params/locals sizes. On my laptop, we can
have the following results. vm2_method*       1.083 (8.3% faster)
vm2_poly_method*  0.961 (3.4% slower) It shows 8.3% faster for inner loop
method dispatch (hit inline cache), but 3.4% slower when inline cache miss
because we need to find a suitable call handler.</p>
</dd><dt>common.mk
<dd>
<p>add a rule for vm_call_iseq_optimized.inc.</p>
</dd><dt>tool/mk_call_iseq_optimized.rb
<dd>
<p>added.</p>
</dd><dt>vm.c
<dd>
<p>include vm_call_iseq_optimized.inc.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+01-3A58-3A50+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 24 01:58:50 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>define vm_call_handler.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+01-3A56-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 24 01:56:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, vm_insnhelper.h
<dd>
<p>move definition of VMDEBUG from vm_insnhelper.h to vm_core.h.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+01-3A51-3A01+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Sat Oct 24 01:51:01 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>[DOC] In the new safe call syntax, arguments are evaluated only if a call
is made.</p>
</dd><dt><a href="doc/syntax/calling_methods_rdoc.html">doc/syntax/calling_methods.rdoc</a>
<dd>
<p>Fix a typo.</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+00-3A38-3A34+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Oct 24 00:38:34 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/forwardable (def_instance_delegator, def_single_delegator)
<dd>
<p>rescue <a href="../classes/Exception.html">::Exception</a> instead of <a
href="../classes/Exception.html">Exception</a> in case <a
href="../classes/Exception.html">Exception</a> is defined under the target
class. [ruby-core:71175] [Ruby trunk - Bug #11615]</p>
</dd></dl>

<h2 id="label-2015-10-23">2015-10-23</h2>

<h3 id="label-Fri+Oct+23+21-3A10-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 23 21:10:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (name_err_mesg_to_str)
<dd>
<p>separate class names from the receiver description.</p>
</dd><dt>vm_eval.c (make_no_method_exception, raise_method_missing)
<dd>
<p>add format specifiers for class names.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+18-3A10-3A32+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 23 18:10:32 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored environmental wrapper files.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+17-3A55-3A29+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 23 17:55:29 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/irb.rb
<dd>
<p>Ignored assignment of STDOUT.sync = true when irb.rb loaded. It&#39;s
affected to IDE such as Jetbrain. [fix GH-864] Patch by @os97673</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+16-3A35-3A08+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 23 16:35:08 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ipaddr.rb, test/test_ipaddr.rb
<dd>
<p>Reject invalid address contained EOL string. Patch by @kachick [fix
GH-942][Bug #11513]</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+16-3A03-3A26+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 23 16:03:26 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>fix indent style. [fix GH-977]</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p>indent. [fix GH-975] [ci skip] These patches are contributed from @yui-knk</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+15-3A46-3A09+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Oct 23 15:46:09 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>Added method signature to include hash. It&#39;s inconsistency with `gsub`
method signature. [ci skip][fix GH-1023] Patch by @danielevans</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+15-3A25-3A51+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct 23 15:25:51 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb
<dd>
<p>remove an empty comment line and -*-.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+15-3A20-3A02+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct 23 15:20:02 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (gettextfile, getbinaryfile)
<dd>
<p>use the safe navigation operator.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+13-3A51-3A33+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Oct 23 13:51:33 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test_call.rb (test_safe_call)
<dd>
<p>Add test cases for safe navigation operator assignment.  [Fix GH-1064]
Validate: * can assign an attribute which is `nil` * can “or assign” an
attribute which is `nil`</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+11-3A58-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 23 11:58:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>optimize lengthy safe navigation method chain.  [Feature #11537]</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+10-3A58-3A41+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct 23 10:58:41 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix/eigenvalue_decomposition.rb (tridiagonalize)
<dd>
<p>fix indentation to avoid a warning when the command line option -w of ruby
is specified.</p>
</dd><dt>lib/matrix/eigenvalue_decomposition.rb (hessenberg_to_real_schur)
<dd>
<p>change the name of a block parameter to avoid a warning when the command
line option -w of ruby is specified.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+10-3A49-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 23 10:49:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>support safe navigation of simple attribute assignment.  [Feature #11537]</p>
</dd><dt>parse.y (mlhs_node, lhs, attrset_gen)
<dd>
<p>ditto.  keep mid non-attrset as the sign of safe navigation.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+07-3A17-3A11+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Oct 23 07:17:11 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/io/wait/test_io_wait.rb (test_wait_eof)
<dd>
<p>test return value</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+00-3A32-3A02+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Oct 23 00:32:02 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ssl_npn_select_cb)
<dd>
<p>explicitly raise error in ext/openssl instead of <a
href="../classes/OpenSSL.html">OpenSSL</a> itself because LibreSSL silently
truncate the selected protocol name by casting the length from int to
unsigned char. [Bug #11369] Patch by Jeremy Evans
&lt;merch-redmine@jeremyevans.net&gt;</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+00-3A49-3A45+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct 23 00:49:45 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/un.rb (help)
<dd>
<p>change the name of a block parameter to avoid a warning when the command
line option -w of ruby is specified.</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+00-3A22-3A20+2015++Josef+Simanek++-3Cjosef.simanek-40gmail.com-3E">Fri Oct 23 00:22:20 2015  Josef Simanek  &lt;josef.simanek@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_tr)
<dd>
<p>[DOC] Escape backslash in <a
href="../classes/String.html#method-i-tr">String#tr</a> documentation. 
[Fix GH-1063]</p>
</dd></dl>

<h3 id="label-Fri+Oct+23+00-3A19-3A04+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Oct 23 00:19:04 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_collect)
<dd>
<p>[DOC] Fix space of code example of <a
href="../classes/Array.html#method-i-map">Array#map</a>.  [Fix GH-1062]</p>
</dd></dl>

<h2 id="label-2015-10-22">2015-10-22</h2>

<h3 id="label-Thu+Oct+22+12-3A54-3A43+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 12:54:43 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (register_ubf_list)
<dd>
<p>renamed from add_signal_thread_list.</p>
</dd><dt>thread_pthread.c (unregister_ubf_list)
<dd>
<p>renamed from remove_signal_thread_list.</p>
</dd><dt>thread_pthread.c (ubf_wakeup_all_threads)
<dd>
<p>renamed from ping_signal_thread_list.</p>
</dd><dt>thread_pthread.c (ubf_wakeup_thread)
<dd>
<p>renamed from ubf_select_each.</p>
</dd><dt>thread_pthread.c (ubf_threads_empty)
<dd>
<p>renamed from check_signal_thread_list().</p>
</dd><dt>thread_pthread.c (ubf_list_lock)
<dd>
<p>renamed from signal_thread_list_lock.</p>
</dd><dt>thread_pthread.c (register_ubf_list)
<dd>
<p>large simplification by using ccan/list.h. bonus: removed malloc() and
exit(EXIT_FAILURE).</p>
</dd><dt>thread_pthread.c (unregister_ubf_list)
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c (ubf_threads_empty)
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c (ubf_wakeup_all_threads)
<dd>
<p>ditto.</p>
</dd><dt>thread_pthread.c (print_signal_list)
<dd>
<p>removed.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+08-3A03-3A49+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 08:03:49 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rand.rb (TestRand#test_default_seed)
<dd>
<p>add srand case.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+06-3A33-3A38+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 06:33:38 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (InitVM_Random)
<dd>
<p>move Random::DEFAULT initialization bits to Init_Random_default.</p>
</dd><dt>random.c (Init_Random_default)
<dd>
<p>renamed from Init_RandomSeed2.</p>
</dd><dt>random.c (Init_RandomSeedCore)
<dd>
<p>renamed from Init_RandomSeed.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+06-3A20-3A48+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 06:20:48 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (Init_RandomSeed)
<dd>
<p>move all Random::DEFAULT construction bits to Init_RandomSeed2.
Random::DEFAULT and Ruby internal hashes are no longer shared their seed.</p>
</dd><dt>random.c (Init_RandomSeed2)
<dd>
<p>ditto. And, kill evil rb_obj_reveal() stuff.</p>
</dd><dt>random.c (init_hashseed)
<dd>
<p>add MT argument.</p>
</dd><dt>random.c
<dd>
<p>(init_siphash): ditto.</p>
</dd><dt>test/ruby/test_rand.rb (TestRand#test_default_seed)
<dd>
<p>new test for Random::DEFAULT::seed.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+05-3A23-3A48+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 05:23:48 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (init_hashseed, init_siphash)
<dd>
<p>extract initialize functions.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+01-3A01-3A34+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 01:01:34 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>sort AC_CHECK_HEADERS() by alphabetical order.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+00-3A19-3A07+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 00:19:07 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (init_randomseed)
<dd>
<p>remove “initial” argument. It never be used from outside of this function.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+00-3A12-3A33+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Oct 22 00:12:33 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb (SecureRandom::gen_random)
<dd>
<p>use /dev/urandom for initialize OpenSSL&#39;s rand.</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+18-3A52-3A53+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Thu Oct 22 18:52:53 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_f_loop)
<dd>
<p>When a loop is stopped by a <a
href="../classes/StopIteration.html">StopIteration</a> exception, return
what the enumerator has returned instead of nil. [ruby-core:71133] [Feature
#11498]</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+18-3A25-3A10+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Oct 22 18:25:10 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (idle)
<dd>
<p>add a new argument timeout for keep-alive. [ruby-core:63693] [Bug #10031]</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+15-3A30-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 22 15:30:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_peephole_optimize)
<dd>
<p>peephole optimization for branchnil jumps.</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>generate save navigation operator code.</p>
</dd><dt>insns.def (branchnil)
<dd>
<p>new opcode to pop the tos and branch if it is nil.</p>
</dd><dt>parse.y (NEW_QCALL, call_op, parser_yylex)
<dd>
<p>parse token &#39;.?&#39;. [Feature #11537]</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+13-3A16-3A19+2015++Guilherme+Reis+Campos++-3Cguilhermekbsa-40gmail.com-3E">Thu Oct 22 13:16:19 2015  Guilherme Reis Campos  &lt;guilhermekbsa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (ruby_brace_expand)
<dd>
<p>glob brace expansion edge case fix. When there are closing braces
&#39;}&#39; before a open brace &#39;{&#39; it must be ignored and
considered as literal. [ruby-core:71138] [Bug #11609]</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+13-3A13-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 22 13:13:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (argf_next_argv)
<dd>
<p>check ARGV element type, and try conversion if necessary. 
[ruby-core:71140] [Bug #11610]</p>
</dd></dl>

<h3 id="label-Thu+Oct+22+11-3A11-3A16+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Oct 22 11:11:16 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/ftp/test_ftp.rb
<dd>
<p>add tests for getbinaryfile and gettextfile.</p>
</dd></dl>

<h2 id="label-2015-10-21">2015-10-21</h2>

<h3 id="label-Wed+Oct+21+12-3A10-3A04+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 21 12:10:04 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_rand.c (ossl_rand_bytes)
<dd>
<p>RAND_bytes could be return -1 as an error. Therefore, added error handling.</p>
</dd><dt>ext/openssl/ossl_pkey_dsa.c (dsa_generate)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Oct+21+09-3A04-3A09+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 21 09:04:09 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/util.h
<dd>
<p>remove a warning suppression C4723</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Oct+21+08-3A23-3A36+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Oct 21 08:23:36 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c
<dd>
<p>random_raw_seed don&#39;t use GRND_NONBLOCK. GRND_NONBLOCK mean the result
might not have an enough cryptic strength and easy predictable. That&#39;s
no good for <a href="../classes/SecureRandom.html">SecureRandom</a>.</p>
</dd></dl>

<h3 id="label-Wed+Oct+21+18-3A34-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 21 18:34:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_magic_comment)
<dd>
<p>allow a sole magic comment without indicators, neither other non-space
comments.  [Feature #8976]</p>
</dd></dl>

<h2 id="label-2015-10-20">2015-10-20</h2>

<h3 id="label-Tue+Oct+20+08-3A12-3A47+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Tue Oct 20 08:12:47 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>pthread_getattr_np is broken on AIX. More specifically, the stack address
and size returned are not correct.</p>
</dd></dl>

<h3 id="label-Tue+Oct+20+05-3A54-3A46+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Oct 20 05:54:46 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/closure.c (callback)
<dd>
<p>static function</p>
</dd></dl>

<h2 id="label-2015-10-19">2015-10-19</h2>

<h3 id="label-Mon+Oct+19+10-3A33-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct 19 10:33:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_raise_socket_error)
<dd>
<p>get rid of a glibc bug.  [ruby-core:71100] [Bug #11600]</p>
</dd></dl>

<h3 id="label-Mon+Oct+19+01-3A26-3A26+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Oct 19 01:26:26 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_identical_p)
<dd>
<p>not necessary to compare the paths after comparing the file indexes on
Windows.  designate by kosaki.</p>
</dd></dl>

<h2 id="label-2015-10-18">2015-10-18</h2>

<h3 id="label-Sun+Oct+18+17-3A26-3A53+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 17:26:53 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>add a rule for explicit_bzero.o.</p>
</dd><dt>configure.in
<dd>
<p>detect explicit_bzero and memset_s.</p>
</dd><dt>include/ruby/missing.h
<dd>
<p>add explicit_bzero.</p>
</dd><dt>random.c (init_randomseed)
<dd>
<p>use explicit_bzero() instead of memset(). memset could be eliminated by
compiler optimization.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+21-3A17-3A27+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Oct 18 21:17:27 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open-uri.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+14-3A37-3A56+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 14:37:56 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_urandom)
<dd>
<p>add a comment why using O_NONBLOCK and O_NOCTTY.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+13-3A24-3A17+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 13:24:17 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_syscall)
<dd>
<p>use ATOMIC_SET() for updating try_syscall.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+13-3A03-3A52+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 13:03:52 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/backward/util.h
<dd>
<p>Good-by Borland-C.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+13-3A03-3A09+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 13:03:09 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>add a comment how to use “make test-all”</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+12-3A59-3A22+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 12:59:22 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>add comments how to use “make benchmark”</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+12-3A58-3A15+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Oct 18 12:58:15 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>Specify frozen_string_literal: true.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+11-3A22-3A52+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 11:22:52 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln.c
<dd>
<p>remove defined(__WATCOMC__).</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+11-3A16-3A33+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 11:16:33 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>Good-by Borland-C.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+11-3A04-3A36+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 11:04:36 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>Good-by Borland-C.</p>
</dd><dt>include/ruby/backward/rubyio.h
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/backward/st.h
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/backward/util.h
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/backward/rubysig.h
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/backward/classext.h
<dd>
<p>ditto.</p>
</dd><dt>dln.c
<dd>
<p>ditto.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>win32/resource.rb
<dd>
<p>ditto.</p>
</dd><dt>win32/dir.h
<dd>
<p>ditto.</p>
</dd><dt>ext/tk/tcltklib.c
<dd>
<p>ditto.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>announce that Borland-C is no longer supported.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+10-3A54-3A52+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 10:54:52 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln.c
<dd>
<p>simplify ifdef. _WIN32 and __CYGWIN__ are exclusive. see
include/ruby/defines.h</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>ext/sdbm/_sdbm.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+10-3A42-3A19+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 10:42:19 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (open_load_file)
<dd>
<p>add a comment.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+10-3A12-3A46+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 10:12:46 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_identical_p)
<dd>
<p>simplify ifdefs</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+10-3A01-3A40+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 10:01:40 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>Good-bye OS/2.</p>
</dd><dt>common.mk
<dd>
<p>ditto.</p>
</dd><dt>configure.in
<dd>
<p>ditto.</p>
</dd><dt>dln_find.c
<dd>
<p>ditto.</p>
</dd><dt>ext/Setup.emx
<dd>
<p>ditto.</p>
</dd><dt>ext/extmk.rb
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/extconf.rb
<dd>
<p>ditto.</p>
</dd><dt>ext/zlib/extconf.rb
<dd>
<p>ditto.</p>
</dd><dt>file.c
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/defines.h
<dd>
<p>ditto.</p>
</dd><dt>io.c
<dd>
<p>ditto.</p>
</dd><dt>lib/mkmf.rb
<dd>
<p>ditto.</p>
</dd><dt>missing/os2.c
<dd>
<p>ditto.</p>
</dd><dt>process.c
<dd>
<p>ditto.</p>
</dd><dt>ruby.c
<dd>
<p>ditto.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>announce OS/2 is no longer supported.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+08-3A50-3A15+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 08:50:15 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (DOSISH)
<dd>
<p>add comments.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+08-3A26-3A51+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 08:26:51 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (fptr_finalize)
<dd>
<p>don&#39;t release gvl if fptr is not writable. writable fd may block on
close(2) when it&#39;s on NFS. But readonly fd doesn&#39;t. [Bug #11559]
result: make benchmark OPTS=“-p bm_require_t -e ruby-trunk -e ruby-2.2.2”
build-ruby:             0.171 ruby 2.3.0dev(r52151):  0.659 ruby 2.2.0p95
(r50295): 0.834</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+09-3A32-3A58+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 09:32:58 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (ruby_is_fd_loadable)
<dd>
<p>this should be fail if st_mode is not regular file nor FIFO.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+09-3A20-3A17+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 09:20:17 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (open_load_file)
<dd>
<p>use rb_thread_wait_fd() instead of reopen.</p>
</dd></dl>

<h3 id="label-Sun+Oct+18+05-3A11-3A22+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sun Oct 18 05:11:22 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (open_load_file)
<dd>
<p>reset O_NONBLOCK after open. Even if S_ISREG() is true, the file may be
file on FUSE filesystem or something. We can&#39;t assume O_NONBLOCK is
safe. Moreover, we should wait if the path is point to FIFO. That&#39;s
FIFO semantics. GVL should be transparent from ruby script. Thus, just
reopen without O_NONBLOCK for filling the requirements. [Bug #11060][Bug
#11559]</p>
</dd><dt>ruby.c (loadopen_func)
<dd>
<p>new for the above.</p>
</dd><dt>file.c (ruby_is_fd_loadable)
<dd>
<p>new. for checks loadable file type of not.</p>
</dd><dt>file.c (rb_file_load_ok)
<dd>
<p>use ruby_is_fd_loadble()</p>
</dd><dt>internal.h
<dd>
<p>add ruby_is_fd_loadble()</p>
</dd><dt>common.mk
<dd>
<p>now, ruby.o depend on thread.h.</p>
</dd><dt>test/ruby/test_require.rb (TestRequire#test_loading_fifo_threading_success)
<dd>
<p>new test. This test successful case that loading from FIFO.</p>
</dd><dt>test/ruby/test_require.rb (TestRequire#test_loading_fifo_threading_raise)
<dd>
<p>rename from test_loading_fifo_threading. You shouldn&#39;t rescue an
exception if you test raise or not. Moreover, this case should be caught <a
href="../classes/IOError.html">IOError</a> because load(FIFO) should be
blocked until given any input.</p>
</dd></dl>

<h2 id="label-2015-10-17">2015-10-17</h2>

<h3 id="label-Sat+Oct+17+13-3A55-3A32+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 17 13:55:32 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_expand_path_internal)
<dd>
<p>concatenate converted string to the result instead of making converted
string and append it.</p>
</dd><dt>string.c (rb_str_cat_conv_enc_opts)
<dd>
<p>from rb_str_conv_enc_opts, separate function to concatenate with
transcoding.</p>
</dd></dl>

<h3 id="label-Sat+Oct+17+13-3A19-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 17 13:19:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (load_file)
<dd>
<p>unify each preparations and clean-ups by merging load_file_internal and
load_file_internal2, and remove nested rb_protect and rb_ensure.</p>
</dd></dl>

<h3 id="label-Sat+Oct+17+05-3A28-3A32+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sat Oct 17 05:28:32 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_symbol.rb (test_symbol_fstr_leak)
<dd>
<p>add a warm-up code and check <a href="../classes/RSS.html">RSS</a> to avoid
false positive on AIX and false negative on Mac OS X. [Bug #10686]</p>
</dd></dl>

<h2 id="label-2015-10-16">2015-10-16</h2>

<h3 id="label-Fri+Oct+16+15-3A54-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct 16 15:54:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_load_ok)
<dd>
<p>open in non-blocking mode withoout releasing GVL.  don&#39;t care about
others than regular files and directories.  [ruby-dev:49272] [Bug #11559]</p>
</dd><dt>ruby.c (load_file_internal)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-10-15">2015-10-15</h2>

<h3 id="label-Thu+Oct+15+23-3A56-3A03+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 15 23:56:03 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_sym_to_proc)
<dd>
<p>make void env.</p>
</dd></dl>

<h3 id="label-Thu+Oct+15+13-3A37-3A23+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Oct 15 13:37:23 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_sym_to_proc)
<dd>
<p>move from string.c and create a <a href="../classes/Proc.html">Proc</a>
with no environments.  [ruby-core:71088] [Bug #11594]</p>
</dd></dl>

<h3 id="label-Thu+Oct+15+01-3A57-3A03+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Thu Oct 15 01:57:03 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb (test_trace_object_allocations_start_stop_clear)
<dd>
<p>clear object allocation table first to get rid of erroneous detection for
obj3. [ruby-dev:49095] [Bug #11271]</p>
</dd></dl>

<h3 id="label-Thu+Oct+15+01-3A53-3A38+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Thu Oct 15 01:53:38 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ostruct/test_ostruct.rb
<dd>
<p>Add tests for OpenStruct#respond_to. Patch by @jeremy in [GH-1041]: <a
href="https://github.com/ruby/ruby/pull/1041">github.com/ruby/ruby/pull/1041</a></p>
</dd></dl>

<h3 id="label-Thu+Oct+15+01-3A49-3A25+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Thu Oct 15 01:49:25 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb
<dd>
<p>Finish defining <a href="../classes/OpenStruct.html">OpenStruct</a>
attributes lazily. Patch by @sferik in [GH-1037]: <a
href="https://github.com/ruby/ruby/pull/1037">github.com/ruby/ruby/pull/1037</a>
This commit is an addendum to <a
href="https://github.com/ruby/ruby/pull/1033">github.com/ruby/ruby/pull/1033</a>.
It: 1. lazily defines attribute accessors for copied and marshaled objects,
2. returns nil when an attribute reader is not defined, and 3. defines
respond_to_missing? to maintain the same respond_to? behavior</p>
</dd></dl>

<h2 id="label-2015-10-14">2015-10-14</h2>

<h3 id="label-Wed+Oct+14+16-3A56-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 14 16:56:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check for libunwind.h, which is not available in very old OS X SDK. 
[ruby-core:71080] [Bug #11591]</p>
</dd></dl>

<h3 id="label-Wed+Oct+14+14-3A11-3A42+2015++Brian+Black++-3Cbblack-40veracode.com-3E">Wed Oct 14 14:11:42 2015  Brian Black  &lt;bblack@veracode.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_insn_operand_intern)
<dd>
<p>change kw in callinfo disasm from the number of keyword arguments to an
ordered list of the keywords used. [Feature #11589]</p>
</dd></dl>

<h3 id="label-Wed+Oct+14+13-3A58-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct 14 13:58:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_nextc)
<dd>
<p>send a warning to ripper, not to STDERR always.</p>
</dd><dt>parse.y (rb_warn1, rb_warning1)
<dd>
<p>move argument conversions to callers.  PRIsVALUE is not valid in <a
href="../classes/String.html#method-i-25">String#%</a>.</p>
</dd></dl>

<h3 id="label-Wed+Oct+14+13-3A37-3A23+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Oct 14 13:37:23 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="lib/racc/rdoc/grammar_en_rdoc.html">lib/racc/rdoc/grammar.en.rdoc</a>
<dd>
<p>fix spell error. [fix GH-1053][ci skip] Patch by @Matrixbirds</p>
</dd></dl>

<h2 id="label-2015-10-13">2015-10-13</h2>

<h3 id="label-Tue+Oct+13+22-3A06-3A50+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct 13 22:06:50 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (rsock_fd_family)
<dd>
<p>Check sa_len.</p>
</dd></dl>

<h3 id="label-Tue+Oct+13+12-3A14-3A10+2015++Craig+Davison++-3Ccraig65535-40gmail.com-3E">Tue Oct 13 12:14:10 2015  Craig Davison  &lt;craig65535@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rsock_addrinfo (rsock_addrinfo)
<dd>
<p>specify address family.  [Fix GH-1052]</p>
</dd><dt>ext/socket/udpsocket.c (udp_connect, udp_bind, udp_send)
<dd>
<p>address family by the receiver.</p>
</dd></dl>

<h2 id="label-2015-10-11">2015-10-11</h2>

<h3 id="label-Sun+Oct+11+07-3A09-3A19+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Oct 11 07:09:19 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>initialize other than sp (and ep) first for performance.</p>
</dd></dl>

<h3 id="label-Sun+Oct+11+06-3A21-3A50+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Oct 11 06:21:50 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c, internal.h (rb_yield_1)
<dd>
<p>added for performance which doesn&#39;t check Qundef.</p>
</dd><dt>numeric.c (int_dotimes)
<dd>
<p>use rb_yield_1.</p>
</dd></dl>

<h3 id="label-Sun+Oct+11+06-3A19-3A49+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Oct 11 06:19:49 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_iseq_setup_normal)
<dd>
<p>setup sp first for performance.</p>
</dd></dl>

<h3 id="label-Sun+Oct+11+05-3A29-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Oct 11 05:29:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (invoke_block_from_c)
<dd>
<p>split this function into several functions.</p>
</dd><dt>vm_insnhelper.c (vm_yield_callee_setup_arg)
<dd>
<p>remove this function because it is only delegation function.</p>
</dd></dl>

<h3 id="label-Sun+Oct+11+03-3A48-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Oct 11 03:48:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_of_slowpass)
<dd>
<p>fix typo (pass -&gt; path). Pointed out by Yukihiro Matsumoto 
&lt;matz@ruby-lang.org&gt;.</p>
</dd><dt>gc.c (newobj_of_…)
<dd>
<p>`of&#39; is unnecessary.</p>
</dd></dl>

<h2 id="label-2015-10-10">2015-10-10</h2>

<h3 id="label-Sat+Oct+10+19-3A04-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 10 19:04:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/udpsocket.c (udp_connect, udp_bind)
<dd>
<p>get open files inside ensure functions.</p>
</dd></dl>

<h3 id="label-Sat+Oct+10+18-3A35-3A12+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 10 18:35:12 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method0)
<dd>
<p>do not propagate enable_fastpath, but pass dummy CC to prevent wrong
caching.</p>
</dd></dl>

<h3 id="label-Sat+Oct+10+15-3A28-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Oct 10 15:28:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>import a github pull request https
<dd>
<p>//github.com/ruby/ruby/pull/1050 by Kazuho Oku &lt;kazuho@natadeco.co&gt;.
This pull request has the following commits.</p>
</dd><dt>gc.c
<dd>
<p>reduce # of args to 6 (max. of register args on x86-64) so that the
`newobj_of_slowpass` can be called via TCO.</p>
</dd><dt>gc.c (newobj_of), string.c (str_duplicate)
<dd>
<p>for performance, the hot functions must be inlined.</p>
</dd><dt>gc.c
<dd>
<p>for performance, preceding arguments of `.<strong>newobj_of.</strong>` must
be same, so that the arg registers can be reused in case of TCO.</p>
</dd></dl>

<h3 id="label-Sat+Oct+10+08-3A52-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Oct 10 08:52:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/udpsocket.c (udp_connect, udp_bind, udp_send)
<dd>
<p>fix memory leaks at closed socket.</p>
</dd></dl>

<h2 id="label-2015-10-09">2015-10-09</h2>

<h3 id="label-Fri+Oct++9+17-3A29-3A07+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct  9 17:29:07 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (parse257)
<dd>
<p>refactor.</p>
</dd></dl>

<h3 id="label-Fri+Oct++9+16-3A42-3A26+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct  9 16:42:26 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb
<dd>
<p>use frozen_string_literal: true.</p>
</dd><dt>test/net/imap/test_imap.rb
<dd>
<p>ditto.</p>
</dd><dt>test/net/imap/test_imap_response_parser.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct++9+15-3A52-3A28+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct  9 15:52:28 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb
<dd>
<p>use frozen_string_literal: true.</p>
</dd><dt>test/net/ftp/test_buffered_socket.rb
<dd>
<p>ditto.</p>
</dd><dt>test/net/ftp/test_ftp.rb
<dd>
<p>ditto.</p>
</dd><dt>test/net/ftp/test_mlsx_entry.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Oct++9+14-3A12-3A35+2015++Shota+Fukumori+-28sora_h-29++-3Cher-40sorah.jp-3E">Fri Oct  9 14:12:35 2015  Shota Fukumori (sora_h)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb
<dd>
<p>Revert r52082 because it was dropping TLS v1.1 support too. Supporting only
TLS v1.2 is too early, because many popular websites still don&#39;t
support it. For instance, Servers where aws-sdk connects to still don&#39;t
support TLS v1.2 and it became broken. We should consider more carefully
about this. [Fix GH-873] [Feature #11524]</p>
</dd></dl>

<h3 id="label-Fri+Oct++9+12-3A52-3A08+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Oct  9 12:52:08 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>Dynamic string literals (e.g., “#{x}”) should not be frozen because they
don&#39;t literally represent strings. <a
href="https://twitter.com/shugomaeda/status/651937650027401216">twitter.com/shugomaeda/status/651937650027401216</a>
<a
href="https://twitter.com/yukihiro_matz/status/651942882312482817">twitter.com/yukihiro_matz/status/651942882312482817</a>
<a
href="https://twitter.com/yukihiro_matz/status/651980835181096960">twitter.com/yukihiro_matz/status/651980835181096960</a></p>
</dd></dl>

<h3 id="label-Fri+Oct++9+06-3A52-3A49+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Oct  9 06:52:49 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/prepare_require.rb
<dd>
<p>skip file creation if it already exist. Suggested by ko1.</p>
</dd></dl>

<h3 id="label-Fri+Oct++9+06-3A18-3A04+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Fri Oct  9 06:18:04 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_require.rb
<dd>
<p>new benchmark for require.</p>
</dd><dt>benchmark/bm_require_thread.rb
<dd>
<p>new benchmark for conflicting require vs thread. like [Bug #11559]</p>
</dd><dt>prepare_require.rb
<dd>
<p>new file for preparing above tests.</p>
</dd><dt>prepare_require.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-10-08">2015-10-08</h2>

<h3 id="label-Thu+Oct++8+14-3A10-3A45+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Thu Oct  8 14:10:45 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb
<dd>
<p>Default to TLSv1.2 and drop TLS v1 Patch provided by @claudijd [Fixes
GH-873] [Feature #11524]: <a
href="https://github.com/ruby/ruby/pull/873">github.com/ruby/ruby/pull/873</a></p>
</dd></dl>

<h2 id="label-2015-10-07">2015-10-07</h2>

<h3 id="label-Wed+Oct++7+22-3A55-3A02+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  7 22:55:02 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/minitest/metametameta.rb (with_output)
<dd>
<p>restore output to fix mixing test result output in worker responses.</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+21-3A32-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  7 21:32:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_duplicate)
<dd>
<p>move from rb_str_resurrect to short circuit initialization.</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+20-3A43-3A14+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  7 20:43:14 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_resurrect)
<dd>
<p>fix resurrection of short enough to be embedded but not embedded string.</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+20-3A17-3A29+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct  7 20:17:29 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_of)
<dd>
<p>divide fast path and slow path to avoid register savings for fast path.
This idea is given by Kazuho Oku &lt;kazuho@natadeco.co&gt;.</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+17-3A30-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Oct  7 17:30:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_times)
<dd>
<p>optimize for the argument 0 and 1.</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+01-3A20-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct  7 01:20:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.h, gc.c
<dd>
<p>introduce new debug function rb_obj_info_dump(VALUE obj) which prints the
result of rb_raw_obj_info(…, obj).</p>
</dd></dl>

<h3 id="label-Wed+Oct++7+01-3A16-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Oct  7 01:16:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c
<dd>
<p>remove an unused field args_info::calling.</p>
</dd></dl>

<h2 id="label-2015-10-06">2015-10-06</h2>

<h3 id="label-Tue+Oct++6+23-3A43-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 23:43:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_entry_min_max_arity)
<dd>
<p>should support OPTIMIZED_METHOD_TYPE_CALL.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+21-3A29-3A08+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Oct  6 21:29:08 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tmpdir.rb (Dir.tmpdir)
<dd>
<p>return duplicated string to be modify safely even when $SAFE &gt; 0.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+19-3A24-3A38+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 19:24:38 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method0)
<dd>
<p>use switch() for visibilities</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Oct++6+19-3A23-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 19:23:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (Init_Proc)
<dd>
<p>Proc#call and others should be public.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+18-3A51-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 18:51:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>IMEMO_FL_USER3 and IMEMO_FL_USER4 is not needed any more.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+18-3A47-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 18:47:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>remove METHOD_ENTRY_SAFE(me) and related code because $SAFE = 3 and 4 is
not available. Now, $SAFE is not checked on method dispatch at all.</p>
</dd><dt>vm_eval.c, vm_insnhelper.c, vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+13-3A56-3A14+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  6 13:56:14 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>turn function macros into inline functions, for debuggers.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>turn constant macros into enums, for debuggers.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+13-3A48-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Oct  6 13:48:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>typo fix. Patch by @davydovanton [fix GH-1032][ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+06-3A54-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 06:54:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_free)
<dd>
<p>free iseq::variable_body to avoid memory leak.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+06-3A32-3A52+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 06:32:52 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>enable optimization of Proc#call. [Feature #11569]</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>write about this optimization and incompatibilities.</p>
</dd><dt>test/ruby/test_backtrace.rb
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+04-3A41-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Oct  6 04:41:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>solve goto spaghetti. Change all goto statement across blocks to tail call
functions.</p>
</dd></dl>

<h3 id="label-Tue+Oct++6+02-3A29-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Oct  6 02:29:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_resurrect)
<dd>
<p>optimize by short circuit to copy hidden string without checking length,
encoding and so on.</p>
</dd></dl>

<h2 id="label-2015-10-05">2015-10-05</h2>

<h3 id="label-Mon+Oct++5+23-3A08-3A17+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Mon Oct  5 23:08:17 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb (test_handle_interrupt_blocking)
<dd>
<p>check if exception handling was postponed until sleep.</p>
</dd></dl>

<h3 id="label-Mon+Oct++5+22-3A25-3A49+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Oct  5 22:25:49 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/pp.rb
<dd>
<p>Use frozen_string_literal: true.</p>
</dd><dt>lib/prettyprint.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/resolv.rb
<dd>
<p>Ditto.</p>
</dd><dt>lib/tmpdir.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/test_pp.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/test_prettyprint.rb
<dd>
<p>Ditto.</p>
</dd><dt>tool/transcode-tblgen.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Oct++5+20-3A39-3A32+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Oct  5 20:39:32 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb
<dd>
<p>fix potential race condition. The thread could have a “sleep” status
because it tries to acquire the mutex, but does not have it yet.</p>
</dd></dl>

<h3 id="label-Mon+Oct++5+15-3A39-3A30+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Mon Oct  5 15:39:30 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c
<dd>
<p>[DOC] Overview for <a href="../classes/Numeric.html">Numeric</a> class by
Joe Corcoran This patch was created at ROSSConf Berlin 2015 [Bug #11555]</p>
</dd></dl>

<h3 id="label-Mon+Oct++5+15-3A34-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  5 15:34:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_new)
<dd>
<p>link ep to calling block. [ruby-core:70980] [Bug #11566]</p>
</dd></dl>

<h3 id="label-Mon+Oct++5+00-3A53-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Oct  5 00:53:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (rb_dir_getwd)
<dd>
<p>make ASCII-8BIT if filesystem encoding is US-ASCII, like as <a
href="../classes/Dir.html#method-c-glob">Dir.glob</a>.</p>
</dd></dl>

<h2 id="label-2015-10-04">2015-10-04</h2>

<h3 id="label-Sun+Oct++4+23-3A39-3A09+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Oct  4 23:39:09 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (nmin_filter)
<dd>
<p>Fix limit value. patch by Helder Pereira. [Bug #11471] [ruby-core:70477]</p>
</dd></dl>

<h3 id="label-Sun+Oct++4+15-3A11-3A48+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sun Oct  4 15:11:48 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/euc_jp.c (mbc_case_fold)
<dd>
<p>check given string is valid or not, and if invalid, return 1. [Bug #11486]</p>
</dd></dl>

<h3 id="label-Sun+Oct++4+10-3A09-3A57+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct  4 10:09:57 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (rb_dir_getwd)
<dd>
<p>normalize OS path to UTF-8 on OS X.</p>
</dd></dl>

<h3 id="label-Sun+Oct++4+00-3A09-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Oct  4 00:09:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/ruby-runner.c.in
<dd>
<p>wrapper to set dynamic loading path environment variable.  /bin/sh on Mac
OS X 10.11 (El Capitan) clears DYLD_LIBRARY_PATH. it must: - do nothing
even if current directory is not present - do not set other environment
variables, e.g. PWD, SHLVL, etc - do not open other FDs, e.g. pipes for
timer thread</p>
</dd></dl>

<h2 id="label-2015-10-02">2015-10-02</h2>

<h3 id="label-Sun+Oct+2+10-3A59-3A00+2015++schneems++-3Crichard.schneeman-40gmail.com-3E">Sun Oct 2 10:59:00 2015  schneems  &lt;richard.schneeman@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb
<dd>
<p>freeze string literals for reduced object allocation. [Feature #11375]
[ruby-core:70043]</p>
</dd></dl>

<h3 id="label-Fri+Oct++2+00-3A18-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Oct  2 00:18:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_mark)
<dd>
<p>block.ep of <a href="../classes/Proc.html">Proc</a> from <a
href="../classes/Symbol.html">Symbol</a> is now NULL. [ruby-core:70961]
[Bug #11560]</p>
</dd></dl>

<h2 id="label-2015-09-30">2015-09-30</h2>

<h3 id="label-Wed+Sep+30+15-3A47-3A13+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 30 15:47:13 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c (vm_caller_setup_arg_block)
<dd>
<p>bypass <a href="../classes/Symbol.html#method-i-to_proc">Symbol#to_proc</a>
call to optimize symbol block passing.</p>
</dd></dl>

<h3 id="label-Wed+Sep+30+01-3A34-3A34+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 30 01:34:34 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_free)
<dd>
<p>fix memory leak at syntax error when warn-indent is enabled.</p>
</dd></dl>

<h2 id="label-2015-09-29">2015-09-29</h2>

<h3 id="label-Tue+Sep+29+22-3A27-3A50+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Tue Sep 29 22:27:50 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>fix minor typo. [ci skip][fix GH-1038]. Patch by @ltratt.</p>
</dd></dl>

<h3 id="label-Tue+Sep+29+16-3A37-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 29 16:37:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (compile_dstr_fragments)
<dd>
<p>fix performance by omitting the first empty string only for keeping literal
encoding if other literals are too.  [ruby-core:70930] [Bug #11556]</p>
</dd><dt>string.c (rb_str_append_literal)
<dd>
<p>append but keep encoding non US-ASCII.</p>
</dd></dl>

<h2 id="label-2015-09-28">2015-09-28</h2>

<h3 id="label-Mon+Sep+28+17-3A40-3A17+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Sep 28 17:40:17 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (mtime)
<dd>
<p>use usec instead of fractions to parse decimal fractions of a second
correctly when the number of digits is not 6.</p>
</dd></dl>

<h3 id="label-Mon+Sep+28+16-3A07-3A08+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Sep 28 16:07:08 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (mtime)
<dd>
<p>parse decimal fractions of a second as specified in RFC 3659.</p>
</dd></dl>

<h3 id="label-Mon+Sep+28+10-3A31-3A12+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Sep 28 10:31:12 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_forwardable.rb
<dd>
<p>Write basic tests for lib/forwardable. [fix GH-1035] Patch by @kachick</p>
</dd></dl>

<h2 id="label-2015-09-27">2015-09-27</h2>

<h3 id="label-Sun+Sep+27+23-3A32-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 27 23:32:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_define_class, rb_define_class_id_under)
<dd>
<p>refine error messages.</p>
</dd><dt>class.c (rb_define_module, rb_define_module_id_under)
<dd>
<p>ditto, and make consistent with class.</p>
</dd></dl>

<h3 id="label-Sun+Sep+27+18-3A44-3A43+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Sep 27 18:44:43 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>removed duplicated message.</p>
</dd></dl>

<h3 id="label-Sun+Sep+27+15-3A46-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 27 15:46:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (process_options)
<dd>
<p>add an option to enable/disable frozen-string-literal.  [Feature #8976]</p>
</dd><dt>compile.c (iseq_compile_each)
<dd>
<p>override compile option by option given by pragma.</p>
</dd><dt>iseq.c (rb_iseq_make_compile_option)
<dd>
<p>extract a function to overwrite rb_compile_option_t.</p>
</dd><dt>parse.y (parser_set_compile_option_flag)
<dd>
<p>introduce pragma to override compile options.</p>
</dd><dt>parse.y (magic_comments)
<dd>
<p>new pragma “frozen-string-literal”. [Feature #8976]</p>
</dd></dl>

<h3 id="label-Sun+Sep+27+08-3A16-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 27 08:16:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb (delete_field)
<dd>
<p>do not raise <a href="../classes/NameError.html">NameError</a> for existing
keys.  [Fix GH-1033]</p>
</dd></dl>

<h3 id="label-Sun+Sep+27+00-3A34-3A31+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Sun Sep 27 00:34:31 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb
<dd>
<p>Move method definitions for getter/setter to be lazy Patch by @sferik in
[GH-1033]: <a
href="https://github.com/ruby/ruby/pull/1033">github.com/ruby/ruby/pull/1033</a></p>
</dd></dl>

<h2 id="label-2015-09-25">2015-09-25</h2>

<h3 id="label-Fri+Sep+25+10-3A07-3A25+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Sep 25 10:07:25 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>removed unused variable. It&#39;s removed at r13648. [fix GH-1022] Patch by
@nkondratyev</p>
</dd></dl>

<h3 id="label-Fri+Sep+25+09-3A48-3A27+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Sep 25 09:48:27 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>upgrade to minitest-5.8.1</p>
</dd></dl>

<h3 id="label-Fri+Sep+25+09-3A47-3A12+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Sep 25 09:47:12 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.c
<dd>
<p>fix typo. [ci skip][fix GH-1031] Patch @davydovanton</p>
</dd></dl>

<h3 id="label-Fri+Sep+25+07-3A54-3A05+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Fri Sep 25 07:54:05 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/gdbm/test_gdbm.rb (TestGDBM#test_s_open_lock)
<dd>
<p>skip this test on AIX. The issue is the same as on Solaris.
[ruby-dev:47631]</p>
</dd></dl>

<h2 id="label-2015-09-24">2015-09-24</h2>

<h3 id="label-Thu+Sep+24+17-3A25-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 24 17:25:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (paren_args)
<dd>
<p>fix separator token at `foo::bar()` in ripper.</p>
</dd></dl>

<h3 id="label-Thu+Sep+24+00-3A00-3A17+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Thu Sep 24 00:00:17 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c
<dd>
<p>ruby/config.h must be included before math.h because it defines
_LARGE_FILES on AIX and _LARGE_FILES must be defined before sys/types.h is
included from math.h. [Bug #11483]</p>
</dd></dl>

<h2 id="label-2015-09-23">2015-09-23</h2>

<h3 id="label-Wed+Sep+23+22-3A22-3A38+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Wed Sep 23 22:22:38 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_pkcs12*
<dd>
<p>Remove svn commit id macro</p>
</dd></dl>

<h3 id="label-Wed+Sep+23+01-3A11-3A28+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Wed Sep 23 01:11:28 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/*
<dd>
<p>Remove svn commit id macros to make sync easier</p>
</dd></dl>

<h2 id="label-2015-09-22">2015-09-22</h2>

<h3 id="label-Tue+Sep+22+04-3A20-3A01+2015++Masatoshi+SEKI++-3Cm_seki-40mva.biglobe.ne.jp-3E">Tue Sep 22 04:20:01 2015  Masatoshi SEKI  &lt;m_seki@mva.biglobe.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/drb/test_drb.rb
<dd>
<p>Run Rinda/DRb tests on localhost. [Fix GH-1027] patch by voxik.</p>
</dd><dt>test/rinda/test_rinda.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-09-21">2015-09-21</h2>

<h3 id="label-Mon+Sep+21+20-3A53-3A39+2015++tbpgr++-3Ctbpgr-40tbpgr.jp-3E">Mon Sep 21 20:53:39 2015  tbpgr  &lt;tbpgr@tbpgr.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_event.rb
<dd>
<p>fix typo. swbemsink_avairable? =&gt; swbemsink_available?  [Fix GH-1025]</p>
</dd></dl>

<h2 id="label-2015-09-20">2015-09-20</h2>

<h3 id="label-Sun+Sep+20+10-3A07-3A35+2015++Anton+Davydov++-3Cantondavydov.o-40gmail.com-3E">Sun Sep 20 10:07:35 2015  Anton Davydov  &lt;antondavydov.o@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (rb_callcc)
<dd>
<p>[DOC] append continuations example accros methods.  [Fix GH-1026]</p>
</dd></dl>

<h3 id="label-Sun+Sep+20+03-3A20-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Sep 20 03:20:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_free)
<dd>
<p>free rb_iseq_t::body::cc_entries.</p>
</dd></dl>

<h3 id="label-Sun+Sep+20+02-3A46-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Sep 20 02:46:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>split rb_call_info_t into several structs. * rb_call_info (ci) has compiled
fixed information. * if ci-&gt;flag &amp; VM_CALL_KWARG, then rb_call_info
is also rb_call_info_with_kwarg. This technique reduce one word for major
rb_call_info data. * rb_calling_info has temporary data (argc, blockptr,
recv). for each method dispatch. This data is allocated only on machine
stack. * rb_call_cache is for inline method cache. Before this patch, only
rb_call_info_t data is passed. After this patch, above three structs are
passed. This patch improves: * data locality (rb_call_info is now read-only
data). * reduce memory consumption (rb_call_info_with_kwarg,
rb_calling_info).</p>
</dd><dt>compile.c
<dd>
<p>use above data.</p>
</dd><dt>insns.def
<dd>
<p>ditto.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.h
<dd>
<p>ditto.</p>
</dd><dt>iseq.h
<dd>
<p>add iseq_compile_data::ci_index and iseq_compile_data::ci_kw_index.</p>
</dd><dt>tool/instruction.rb
<dd>
<p>introduce TS_CALLCACHE operand type.</p>
</dd></dl>

<h3 id="label-Sun+Sep+20+02-3A18-3A10+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Sep 20 02:18:10 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb
<dd>
<p>mkfifo command based <a
href="../classes/File.html#method-c-mkfifo">File.mkfifo</a> method
definition removed.</p>
</dd></dl>

<h2 id="label-2015-09-18">2015-09-18</h2>

<h3 id="label-Fri+Sep+18+20-3A11-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep 18 20:11:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_s_mkfifo)
<dd>
<p>implement <a href="../classes/File.html#method-c-mkfifo">File.mkfifo</a>.
[Feature #11536]</p>
</dd></dl>

<h3 id="label-Fri+Sep+18+16-3A56-3A19+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Sep 18 16:56:19 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add <a href="../classes/Net/FTP.html#method-i-mlst">Net::FTP#mlst</a> and
<a href="../classes/Net/FTP.html#method-i-mlsd">Net::FTP#mlsd</a>.</p>
</dd></dl>

<h3 id="label-Fri+Sep+18+07-3A39-3A22+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Fri Sep 18 07:39:22 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c (obj_type)
<dd>
<p>add IMEMO types to the heap dump information.</p>
</dd></dl>

<h2 id="label-2015-09-17">2015-09-17</h2>

<h3 id="label-Thu+Sep+17+22-3A33-3A07+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Sep 17 22:33:07 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>fix command error with outside builddir.</p>
</dd></dl>

<h3 id="label-Thu+Sep+17+17-3A42-3A09+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Sep 17 17:42:09 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>separated test for test-framework from test-all task. They should be invoke
at first before tests of test-all.</p>
</dd></dl>

<h3 id="label-Thu+Sep+17+12-3A05-3A54+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Thu Sep 17 12:05:54 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_dir.rb (TestDir#test_fileno)
<dd>
<p>s/?x/“x”/. Don&#39;t use tricky code, please.</p>
</dd></dl>

<h2 id="label-2015-09-16">2015-09-16</h2>

<h3 id="label-Wed+Sep+16+20-3A49-3A56+2015++Masaki+Suketa++-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Sep 16 20:49:56 2015  Masaki Suketa  &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>encindex.h
<dd>
<p>fix typo of last endif comment. [ci skip]</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+20-3A39-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 16 20:39:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (set_const_visibility)
<dd>
<p>fail if the class/module is frozen.  [ruby-core:70828] [Bug #11532]</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+17-3A16-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 16 17:16:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (ENABLE_VM_OBJSPACE)
<dd>
<p>enable per-VM object space on Windows by default, as rb_w32_sysinit() no
longer depends on ruby_xmalloc.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+15-3A08-3A17+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Sep 16 15:08:17 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a> (Strings)
<dd>
<p>[DOC] Revise the character literal part.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+14-3A55-3A33+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Sep 16 14:55:33 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a> (Strings)
<dd>
<p>[DOC] Document the full list of supported escape sequences in string
literals.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+14-3A49-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep 16 14:49:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_setbyte)
<dd>
<p>keep the code range as possible.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+13-3A23-3A48+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Sep 16 13:23:48 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a> (Strings)
<dd>
<p>mention about ?a literal.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+12-3A06-3A53+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Sep 16 12:06:53 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>check pathtype once again by lstat(2) if dp-&gt;d_type is DT_UNKNOWN. XFS
may return DT_UNKNOWN.</p>
</dd></dl>

<h3 id="label-Wed+Sep+16+03-3A49-3A19+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Wed Sep 16 03:49:19 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_thread.rb (TestThread#test_mutex_synchronize)
<dd>
<p>insert waste loop for invoking preemptive thread context switch. [Bug
#11496]</p>
</dd></dl>

<h2 id="label-2015-09-15">2015-09-15</h2>

<h3 id="label-Tue+Sep+15+19-3A38-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 15 19:38:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_alloc, rb_objspace_free)
<dd>
<p>define always regardless ENABLE_VM_OBJSPACE, and free heap pages.</p>
</dd></dl>

<h3 id="label-Tue+Sep+15+15-3A15-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 15 15:15:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_sysinit, rb_w32_readdir)
<dd>
<p>compare by encoding index to get rid of encoding initialization before VM
object space allocation.</p>
</dd><dt>dir.c (fundamental_encoding_p, push_glob)
<dd>
<p>compare by encoding index immediately.</p>
</dd><dt>enc/{ascii,us_ascii,utf_8}.c
<dd>
<p>set encoding indexes of fundamental built-in encodings so that usable as
well as allocated rb_encoding before rb_enc_init().</p>
</dd><dt>encindex.h
<dd>
<p>separate encoding index constants from internal.h.</p>
</dd></dl>

<h3 id="label-Tue+Sep+15+13-3A13-3A13+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 15 13:13:13 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sort_bang, rb_ary_sort)
<dd>
<p>[DOC] correct block return values, which may be a negative or positive
integer, not only -1 or +1.</p>
</dd></dl>

<h3 id="label-Tue+Sep+15+12-3A49-3A10+2015++Jason+Barnabe++-3Cjason.barnabe-40gmail.com-3E">Tue Sep 15 12:49:10 2015  Jason Barnabe  &lt;jason.barnabe@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sort_bang, rb_ary_sort)
<dd>
<p>[DOC] Correct description of array sort block return values.  And also fix
up the grammar a bit.  [Fix GH-1020]</p>
</dd></dl>

<h3 id="label-Tue+Sep+15+12-3A44-3A32+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep 15 12:44:32 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>util.c (ruby_qsort)
<dd>
<p>use BSD-style qsort_r if available.</p>
</dd></dl>

<h2 id="label-2015-09-14">2015-09-14</h2>

<h3 id="label-Mon+Sep+14+19-3A26-3A34+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Sep 14 19:26:34 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (parse_mlsx_entry)
<dd>
<p>parse pathnames including space correctly.</p>
</dd></dl>

<h3 id="label-Mon+Sep+14+11-3A12-3A10+2015++Anton+Davydov++-3Cantondavydov.o-40gmail.com-3E">Mon Sep 14 11:12:10 2015  Anton Davydov  &lt;antondavydov.o@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="lib/racc/rdoc/grammar_en_rdoc.html">lib/racc/rdoc/grammar.en.rdoc</a>
<dd>
<p>[DOC] fix typo, “convertion” to “conversion”.  [Fix GH-1016]</p>
</dd></dl>

<h2 id="label-2015-09-13">2015-09-13</h2>

<h3 id="label-Sun+Sep+13+11-3A03-3A13+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Sep 13 11:03:13 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>prefix RUBY or RB to global symbols to get rid of name conflicts with other
headers.</p>
</dd><dt>include/ruby/encoding.h, include/ruby/intern.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Sep+13+09-3A38-3A51+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sun Sep 13 09:38:51 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (size, modify, create, type, unique, perm, lang, media_type, charset)
<dd>
<p>new methods to return standard facts.</p>
</dd></dl>

<h2 id="label-2015-09-12">2015-09-12</h2>

<h3 id="label-Sat+Sep+12+19-3A43-3A49+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Sep 12 19:43:49 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_iseq_setup_normal)
<dd>
<p>do not clear local variables here. vm_push_frame() clears.</p>
</dd><dt>vm_insnhelper.c (vm_call_iseq_setup_tailcall)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>move check code to vm_check_frame(). Reorder initialization timing to reuse
same values (sp).</p>
</dd><dt>compile.c (rb_iseq_compile_node)
<dd>
<p>use iseq_set_exception_local_table() for ISEQ_TYPE_DEFINED_GUARD.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+23-3A06-3A51+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 12 23:06:51 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (file?, directory?, appendable?, creatable?, deletable?, enterable?, renamable?, listable?, directory_makable?, purgeable?, readable?, writable?)
<dd>
<p>new methods.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+21-3A27-3A22+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 12 21:27:22 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (FACT_PARSERS)
<dd>
<p>support system dependent facts UNIX.mode, UNIX.owner, UNIX.group,
UNIX.ctime, and UNIX.atime.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+19-3A08-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 12 19:08:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_dup2)
<dd>
<p>should return the new fd on success, while msvcrt returns 0 wrongly.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+18-3A14-3A11+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 12 18:14:11 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Sep+12+18-3A00-3A35+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 12 18:00:35 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (TIME_PARSER)
<dd>
<p>use “Z” instead of “+00:00” to get UTC time.  Thanks, Wilson Bilkovich.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+17-3A55-3A24+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Sat Sep 12 17:55:24 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (mlst, mlsd)
<dd>
<p>support new commands MLST and MLSD specified in RFC 3659.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+16-3A14-3A31+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Sep 12 16:14:31 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>access()/eaccess() wrapping methods check more than just uid. [fix
GH-1007][ci skip] Patch by @eam</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+16-3A07-3A01+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Sep 12 16:07:01 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README.md</a>
<dd>
<p>improve markdown rendering for readability. [fix GH-1015][ci skip] Patch by
@Matrixbirds</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+14-3A30-3A03+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep 12 14:30:03 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (save_redirect_fd)
<dd>
<p>make saved FDs close-on-exec not to be inherited.</p>
</dd><dt>process.c (run_exec_dup2)
<dd>
<p>restore close-on-exec flags too.</p>
</dd><dt>win32/win32.c (fcntl)
<dd>
<p>implement F_GETFD, F_SETFD, and F_DUPFD_CLOEXEC.</p>
</dd></dl>

<h3 id="label-Sat+Sep+12+05-3A35-3A24+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Sep 12 05:35:24 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c (string_to_r_strict)
<dd>
<p>preserve encoding in exception</p>
</dd></dl>

<h2 id="label-2015-09-11">2015-09-11</h2>

<h3 id="label-Fri+Sep+11+20-3A23-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 11 20:23:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_call_info_t::aux.opt_pc.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>introduce shortcut functions for opt_pc == 0 because opt_pc is always 0 on
shortcut function.</p>
</dd></dl>

<h3 id="label-Fri+Sep+11+17-3A49-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep 11 17:49:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c
<dd>
<p>disable ISeq.load. It enabled accidentally at r51794.</p>
</dd></dl>

<h3 id="label-Fri+Sep+11+11-3A15-3A12+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri Sep 11 11:15:12 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (size, mdtm, system)
<dd>
<p>parse responses according to RFC 959 and 3659, where reply codes must be
followed by SP.</p>
</dd><dt>lib/net/ftp.rb (system)
<dd>
<p>remove LF from the return value.</p>
</dd></dl>

<h2 id="label-2015-09-10">2015-09-10</h2>

<h3 id="label-Thu+Sep+10+22-3A48-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 10 22:48:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (literal_concat_gen, evstr2dstr_gen)
<dd>
<p>keep literal encoding beginning with an interpolation same as the source
file encoding.  [ruby-core:70703] [Bug #11519]</p>
</dd></dl>

<h3 id="label-Thu+Sep+10+22-3A15-3A51+2015++Joe+Rafaniello++-3Cjrafanie-40redhat.com-3E">Thu Sep 10 22:15:51 2015  Joe Rafaniello  &lt;jrafanie@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_f_spawn)
<dd>
<p>Be more specific regarding “other values” by having “non-zero positive
integers” Add nil, the default value, as a possible value and what it
means. Try to use more consistent language. [Fix GH-1008]</p>
</dd></dl>

<h3 id="label-Thu+Sep+10+15-3A16-3A02+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Sep 10 15:16:02 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (getmultiline)
<dd>
<p>refactor.</p>
</dd></dl>

<h3 id="label-Thu+Sep+10+12-3A17-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep 10 12:17:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_build_from_ary_body)
<dd>
<p>register cdhash to the iseq constant body instead of compile time mark
array, not to get GCed.  [ruby-core:70708] [Feature #8543]</p>
</dd></dl>

<h2 id="label-2015-09-09">2015-09-09</h2>

<h3 id="label-Wed+Sep++9+18-3A16-3A14+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Sep  9 18:16:14 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/stub_specification.rb (Gem::StubSpecification#data)
<dd>
<p>should not change the value of $. when `require`ing gems. this fixed test
failures introduced by r51813.</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+16-3A55-3A45+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Sep  9 16:55:45 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (usage, enable_option, disable_option, process_options)
<dd>
<p>new option `–disable-did_you_mean`.</p>
</dd><dt>gem_prelude.rb
<dd>
<p>now requires did_you_mean gem by default if available.</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+13-3A38-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  9 13:38:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/extlibs.rb (do_patch)
<dd>
<p>let “patch” command change the working directory and open the patch file
there, instead of spawn options, so that proper error message will be shown
by the command not just “chdir” or “open”.</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+11-3A33-3A05+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Sep  9 11:33:05 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (update-gems)
<dd>
<p>use BASERUBY instead of RUNRUBY.</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+11-3A08-3A59+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Wed Sep  9 11:08:59 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>Remove backtrace cleaning for delegated methods This patch was provided by
Rafael Franca and greatly improves performance when an exception is raised.
[Bug #11461]</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+10-3A05-3A41+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Sep  9 10:05:41 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_config.rb
<dd>
<p>fix broken tests for Windows platform.</p>
</dd></dl>

<h3 id="label-Wed+Sep++9+07-3A46-3A32+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Sep  9 07:46:32 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems HEAD(fe61e4c112). this version contains new feature that
warn invalid SPDX license identifiers. <a
href="https://github.com/rubygems/rubygems/pull/1249">github.com/rubygems/rubygems/pull/1249</a>
and #1032, #1023, #1332, #1328, #1306, #1321, #1324</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-09-08">2015-09-08</h2>

<h3 id="label-Tue+Sep++8+23-3A17-3A36+2015++Yuki+Nishijima++-3Cmail-40yukinishijima.net-3E">Tue Sep  8 23:17:36 2015  Yuki Nishijima  &lt;mail@yukinishijima.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Upgrade the did_you_mean gem to 1.0.0.beta2.</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+23-3A09-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep  8 23:09:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_s_popen)
<dd>
<p>do not wait the child process during being killed.  [ruby-core:70671] [Bug
#11510]</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+22-3A18-3A04+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  8 22:18:04 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>revert because ruby trunk never be able to install the did_you_mean gem. 
retry after enough test.</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+21-3A48-3A22+2015++Yuki+Nishijima++-3Cmail-40yukinishijima.net-3E">Tue Sep  8 21:48:22 2015  Yuki Nishijima  &lt;mail@yukinishijima.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Automatically install the did_you_mean gem as a bundled gem.  [Feature
#11252]</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+17-3A17-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  8 17:17:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_call_info_t::blockiseq.</p>
</dd><dt>insns.def (send, invokesuper)
<dd>
<p>pass blockiseq explicitly.</p>
</dd><dt>compile.c
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd><dt>iseq.c (ISEQ_MINOR_VERSION)
<dd>
<p>2-&gt;3 because instruction spec was changed.</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+15-3A01-3A19+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Sep  8 15:01:19 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (list)
<dd>
<p>fetch all the lines before yielding a block to allow other commands in the
block.  [Feature #11454] Patched by Srikanth Shreenivas.</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+12-3A05-3A00+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Sep  8 12:05:00 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_read_reparse_point)
<dd>
<p>return correct required buffer size for IO_REPARSE_TAG_MOUNT_POINT.</p>
</dd></dl>

<h3 id="label-Tue+Sep++8+00-3A14-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Sep  8 00:14:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_execarg_parent_start1)
<dd>
<p>raise with the target path name when open() failed.</p>
</dd></dl>

<h2 id="label-2015-09-07">2015-09-07</h2>

<h3 id="label-Mon+Sep++7+23-3A45-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  7 23:45:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_exec_fail)
<dd>
<p>raise with the target directory name when chdir() failed.  pointed out by
sorah.</p>
</dd></dl>

<h3 id="label-Mon+Sep++7+22-3A05-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  7 22:05:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (insert)
<dd>
<p>should use plain strdup() instead of ruby_strdup() at startup time, and
plain free()ed in cmdglob().</p>
</dd></dl>

<h3 id="label-Mon+Sep++7+16-3A49-3A30+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  7 16:49:30 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_vm_struct)
<dd>
<p>define objspace always regardless ENABLE_VM_OBJSPACE.</p>
</dd></dl>

<h3 id="label-Mon+Sep++7+15-3A54-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Sep  7 15:54:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_VALUE_CAS)
<dd>
<p>fix typo. TODO: make arguments of all CAS macros consistent.</p>
</dd></dl>

<h2 id="label-2015-09-06">2015-09-06</h2>

<h3 id="label-Sun+Sep++6+16-3A07-3A22+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Sep  6 16:07:22 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ccan/list/list.h
<dd>
<p>suppress unused argument warnings [ccan commit
6aaca17e07588997417a73fac19dcf0ff17ed81b]</p>
</dd></dl>

<h2 id="label-2015-09-05">2015-09-05</h2>

<h3 id="label-Sat+Sep++5+11-3A39-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep  5 11:39:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rss/rss.rb (Time#w3cdtf)
<dd>
<p>fix zero-trimmed width of fraction digits.  [ruby-core:70667] [Bug #11509]</p>
</dd></dl>

<h3 id="label-Sat+Sep++5+08-3A28-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Sep  5 08:28:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_equal, rb_hash_eql)
<dd>
<p>[DOC] the orders of each hashes are not compared.  [Bug #11508]</p>
</dd></dl>

<h2 id="label-2015-09-04">2015-09-04</h2>

<h3 id="label-Fri+Sep++4+23-3A26-3A22+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Sep  4 23:26:22 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/win32.h
<dd>
<p>fix macro name for VC runtime version, RT_VER is only in Makefile.</p>
</dd></dl>

<h3 id="label-Fri+Sep++4+17-3A46-3A17+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Sep  4 17:46:17 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>fix configuration option. [ci skip] [fix GH-1009]</p>
</dd></dl>

<h3 id="label-Fri+Sep++4+04-3A46-3A54+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Sep  4 04:46:54 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_memsize)
<dd>
<p>functions for wrapper object should have iseqw_ prefix.</p>
</dd></dl>

<h2 id="label-2015-09-03">2015-09-03</h2>

<h3 id="label-Thu+Sep++3+21-3A12-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep  3 21:12:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/session.rb (create_new_id)
<dd>
<p>use SHA512 instead of MD5. pointed out by SARWAR JAHAN.</p>
</dd></dl>

<h3 id="label-Thu+Sep++3+20-3A29-3A18+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep  3 20:29:18 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_raw_obj_info)
<dd>
<p>iseq-&gt;body-&gt;location.first_lineno is <a
href="../classes/Fixnum.html">Fixnum</a>.</p>
</dd></dl>

<h3 id="label-Thu+Sep++3+17-3A54-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep  3 17:54:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (raise_method_missing)
<dd>
<p>“names” should be singular. pointed out by Filip Bartuzi.</p>
</dd></dl>

<h3 id="label-Thu+Sep++3+17-3A50-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Sep  3 17:50:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_raw_obj_info)
<dd>
<p>should support IMEMO/iseq.</p>
</dd></dl>

<h3 id="label-Thu+Sep++3+10-3A07-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Sep  3 10:07:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (raise_method_missing)
<dd>
<p>refine error messages when a symbol is not given.  [Fix GH-1013]</p>
</dd></dl>

<h2 id="label-2015-09-02">2015-09-02</h2>

<h3 id="label-Wed+Sep++2+18-3A49-3A55+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Sep  2 18:49:55 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/*
<dd>
<p>merge psych master(8737e5b). It contains following fixes. <a
href="https://github.com/tenderlove/psych/pull/242">github.com/tenderlove/psych/pull/242</a>
<a
href="https://github.com/tenderlove/psych/pull/246">github.com/tenderlove/psych/pull/246</a>
[ruby-list:50219]</p>
</dd><dt>test/psych/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Sep++2+18-3A04-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Sep  2 18:04:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h (GET_PC_COUNT)
<dd>
<p>remove unused macro.</p>
</dd></dl>

<h3 id="label-Wed+Sep++2+17-3A18-3A37+2015++Chris+Schneider++-3Cchris-40christopher-schneider.com-3E">Wed Sep  2 17:18:37 2015  Chris Schneider  &lt;chris@christopher-schneider.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (proc_detach)
<dd>
<p>[DOC] fix typo “intent” as “intend” in rdoc.  [Fix GH-1011]</p>
</dd></dl>

<h3 id="label-Wed+Sep++2+16-3A58-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Sep  2 16:58:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_realpath_internal)
<dd>
<p>use filesystem encoding if the argument is in ASCII encodings.</p>
</dd><dt>win32/file.c (rb_readlink)
<dd>
<p>needs the result encoding.</p>
</dd></dl>

<h2 id="label-2015-09-01">2015-09-01</h2>

<h3 id="label-Tue+Sep++1+18-3A37-3A15+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  1 18:37:15 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/thread/test_queue.rb
<dd>
<p>catch up last commit.</p>
</dd></dl>

<h3 id="label-Tue+Sep++1+18-3A16-3A32+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  1 18:16:32 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_sync.c (queue_do_close)
<dd>
<p>ignore multiple close to allow multiple producers. <a
href="https://bugs.ruby-lang.org/issues/10600#note-14">bugs.ruby-lang.org/issues/10600#note-14</a></p>
</dd></dl>

<h3 id="label-Tue+Sep++1+18-3A06-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Sep  1 18:06:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_tools.c
<dd>
<p>rename thread_tools.c to thread_sync.c.</p>
</dd></dl>

<h2 id="label-2015-08-31">2015-08-31</h2>

<h3 id="label-Mon+Aug+31+17-3A04-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Aug 31 17:04:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (move_refined_method)
<dd>
<p>should insert a write barrier from an original class to a created (cloned)
method entry.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h2 id="label-2015-08-30">2015-08-30</h2>

<h3 id="label-Sun+Aug+30+02-3A42-3A22+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Aug 30 02:42:22 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_method_tab)
<dd>
<p>Only add SSLv3 support if the SSL library supports it.  Thanks Kurt Roeckx
&lt;kurt@roeckx.be&gt; [Bug #11376]</p>
</dd><dt>ext/openssl/extconf.rb
<dd>
<p>check for SSLv3 support in the SSL implementation.</p>
</dd><dt>test/openssl/test_ssl.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>Skip tests that need SSLv3 if there is no support.</p>
</dd></dl>

<h2 id="label-2015-08-28">2015-08-28</h2>

<h3 id="label-Fri+Aug+28+16-3A05-3A09+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Aug 28 16:05:09 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/*
<dd>
<p>Update rdoc master(cfffed5) <a
href="https://github.com/rdoc/rdoc/pull/337">github.com/rdoc/rdoc/pull/337</a>
<a
href="https://github.com/rdoc/rdoc/pull/367">github.com/rdoc/rdoc/pull/367</a></p>
</dd></dl>

<h3 id="label-Fri+Aug+28+10-3A16-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 28 10:16:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (hook_before_rewind)
<dd>
<p>prevent kicking :return event while finishing vm_exec func because
invoke_block_from_c() kick a :return event for bmethods. [Bug #11492]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h2 id="label-2015-08-27">2015-08-27</h2>

<h3 id="label-Thu+Aug+27+18-3A05-3A42+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Aug 27 18:05:42 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>use IO::NULL instead of &#39;/dev/null&#39;</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Aug+27+15-3A24-3A57+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 27 15:24:57 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_set_sequence)
<dd>
<p>rename variable names to make it readable.</p>
</dd></dl>

<h3 id="label-Thu+Aug+27+07-3A45-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 27 07:45:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_tools.c
<dd>
<p>add <a href="../classes/Queue.html#method-i-close">Queue#close</a> and <a
href="../classes/SizedQueue.html#method-i-close">SizedQueue#close</a>.
[Feature #10600] Trying to deq from a closed empty queue return nil if
exception parameter equals to false (default). If exception parameter is
truthy, it raises <a
href="../classes/ClosedQueueError.html">ClosedQueueError</a> (&lt; <a
href="../classes/StopIteration.html">StopIteration</a>). <a
href="../classes/ClosedQueueError.html">ClosedQueueError</a> inherits <a
href="../classes/StopIteration.html">StopIteration</a> so that you can
write: loop{ e = q.deq; (using e) } Trying to close a closed queue raises
<a href="../classes/ClosedQueueError.html">ClosedQueueError</a>. Blocking
threads to wait deq for <a href="../classes/Queue.html">Queue</a> and <a
href="../classes/SizedQueue.html">SizedQueue</a> will be restarted
immediately by returning nil (exception=false) or raising a <a
href="../classes/ClosedQueueError.html">ClosedQueueError</a>
(exception=true). Blocking threads to wait enq for <a
href="../classes/SizedQueue.html">SizedQueue</a> will be restarted by
raising a <a href="../classes/ClosedQueueError.html">ClosedQueueError</a>
immediately. The above specification is not proposed specification, so that
we need to continue discussion to conclude specification this method.</p>
</dd><dt>test/thread/test_queue.rb
<dd>
<p>add tests originally written by John Anderson and modify detailed behavior.</p>
</dd></dl>

<h2 id="label-2015-08-26">2015-08-26</h2>

<h3 id="label-Wed+Aug+26+10-3A52-3A02+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 26 10:52:02 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_memsearch_wchar, rb_memsearch_qchar)
<dd>
<p>test matching till the end of string.  [ruby-core:70592] [Bug #11488]</p>
</dd><dt>test/ruby/test_m17n.rb (test_include?, test_index)
<dd>
<p>add tests by Tom Stuart.</p>
</dd></dl>

<h3 id="label-Wed+Aug+26+09-3A26-3A00+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 26 09:26:00 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.c (list_table_extend, hash_table_extend)
<dd>
<p>remove C99 features.  [ruby-dev:49239] [Bug #11487]</p>
</dd></dl>

<h2 id="label-2015-08-25">2015-08-25</h2>

<h3 id="label-Tue+Aug+25+06-3A34-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 25 06:34:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (w32_symlink)
<dd>
<p>implement symlink().</p>
</dd></dl>

<h2 id="label-2015-08-24">2015-08-24</h2>

<h3 id="label-Mon+Aug+24+16-3A01-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 24 16:01:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (rb_locale_encindex)
<dd>
<p>find encoding index without making a string object every time. 
[ruby-core:58160] [Bug #9080]</p>
</dd></dl>

<h2 id="label-2015-08-22">2015-08-22</h2>

<h3 id="label-Sat+Aug+22+15-3A43-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 22 15:43:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (check_funcall_failed, check_funcall_missing)
<dd>
<p>cache results of respond_to? and respond_to_missing?, and search a public
method only for compatibility with rb_respond_to.</p>
</dd></dl>

<h3 id="label-Sat+Aug+22+08-3A23-3A32+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Aug 22 08:23:32 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/thread/thread.c
<dd>
<p>move definitions of <a href="../classes/Queue.html">Queue</a>, <a
href="../classes/SizedQueue.html">SizedQueue</a> and ConditionalVariables
to thread_tools.c. In other words, such classes are built-in. [Feature
#8919] At first, I planned to embed only a <a
href="../classes/Queue.html">Queue</a> class. However, rubygems requires
&#39;thread.rb&#39; (rubygems are required at first, when launch MRI
without –disable-gems). So most of people require &#39;thread.rb&#39; as an
embedded library. Now, ext/thread/thread.c is empty, only for a dummy for
compatibility.</p>
</dd><dt>thread.c
<dd>
<p>move a definition of Mutex class to thread_tools.c. And define Mutex class
under <a href="../classes/Thread.html">Thread</a> (so now Mutex is <a
href="../classes/Thread/Mutex.html">Thread::Mutex</a>). Because other
thread related classes are also defined under <a
href="../classes/Thread.html">Thread</a>. We remain ::Mutex as <a
href="../classes/Thread/Mutex.html">Thread::Mutex</a>. Only an inspect
result is changed.</p>
</dd><dt>common.mk
<dd>
<p>add dependency from thread.o to thread_tools.c.</p>
</dd></dl>

<h3 id="label-Sat+Aug+22+05-3A31-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Aug 22 05:31:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_opts.h, iseq.c, iseq.h
<dd>
<p>add compile option to force frozen string literals. [Feature #11473] This
addition is not specification change, but to try frozen string literal
world discussed on [Feature #11473]. You can try frozen string literal
world using this magical line: <a
href="../classes/RubyVM/InstructionSequence.html#method-c-compile_option">RubyVM::InstructionSequence.compile_option</a>
= {frozen_string_literal: true} Note that this is a global compilation
option, so that you need to compile another script like that: p
&#39;foo&#39;.frozen? #=&gt; false <a
href="../classes/RubyVM/InstructionSequence.html#method-c-compile_option">RubyVM::InstructionSequence.compile_option</a>
= {frozen_string_literal: true} p &#39;foo&#39;.frozen? #=&gt; false,
because this line is already compiled. p eval(“&#39;foo&#39;.frozen?”)
#=&gt; true Details: * String literals are deduped by rb_fstring(). *
Dynamic string literals (“…#{xyz}…”) is now only frozen, not deduped. Maybe
you have other ideas. Now, please do not use this option on your
productions :) Of course, current specification can be changed.</p>
</dd><dt>compile.c
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_iseq.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Sat+Aug+22+02-3A53-3A12+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug 22 02:53:12 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/*
<dd>
<p>update to <a href="../classes/Psych.html">Psych</a> 2.0.14</p>
</dd><dt>test/psych/*
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-08-21">2015-08-21</h2>

<h3 id="label-Fri+Aug+21+19-3A58-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 21 19:58:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>add a new method <a
href="../classes/ObjectSpace.html#method-c-count_symbols">ObjectSpace.count_symbols</a>.
[Feature #11158]</p>
</dd><dt>symbol.c (rb_sym_immortal_count)
<dd>
<p>added to count immortal symbols.</p>
</dd><dt>symbol.h
<dd>
<p>ditto.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test for this method.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>describe about this method.</p>
</dd></dl>

<h3 id="label-Fri+Aug+21+19-3A48-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 21 19:48:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub ($(LIBRUBY_SO))
<dd>
<p>needs additional libraries for extension libraries to link statically.
[ruby-core:70499] [Feature #9018]</p>
</dd></dl>

<h3 id="label-Fri+Aug+21+18-3A49-3A22+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 21 18:49:22 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h, cont.c, vm_trace.c
<dd>
<p>add a new event fiber_switch. We need more discussion about this feature so
that I don&#39;t write it on <a href="NEWS.html">NEWS</a>. [Feature #11348]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add tests.</p>
</dd></dl>

<h3 id="label-Fri+Aug+21+17-3A32-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Aug 21 17:32:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_invoke_block)
<dd>
<p>we should not expect ci-&gt;argc is stable after invoking a block. [Bug
#11451]</p>
</dd><dt>test/ruby/test_yield.rb
<dd>
<p>add a test. This test script is given by Alex Dowad.</p>
</dd></dl>

<h3 id="label-Fri+Aug+21+06-3A35-3A50+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Fri Aug 21 06:35:50 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl_session.rb
<dd>
<p>Fix tests so that they take in to account <a
href="../classes/OpenSSL.html">OpenSSL</a> installations that have SSLv3
disabled by default. Thanks Jeremy Evans &lt;code@jeremyevans.net&gt; for
the patches. [Bug #11366] [Bug #11367]</p>
</dd></dl>

<h2 id="label-2015-08-20">2015-08-20</h2>

<h3 id="label-Thu+Aug+20+22-3A19-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 20 22:19:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (basic_obj_respond_to)
<dd>
<p>call respond_to_missing? only when redefined.  [ruby-core:70460] [Bug
#11465]</p>
</dd></dl>

<h3 id="label-Thu+Aug+20+14-3A13-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 20 14:13:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (check_funcall_respond_to)
<dd>
<p>share the behavior with rb_obj_respond_to.  [ruby-core:70460] [Bug #11465]</p>
</dd><dt>vm_method.c (vm_respond_to)
<dd>
<p>extract from rb_obj_respond_to and merge r39881.</p>
</dd></dl>

<h3 id="label-Thu+Aug+20+08-3A53-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 20 08:53:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_obj_respond_to)
<dd>
<p>reuse found method entry instead of searching same entry repeatedly.</p>
</dd></dl>

<h3 id="label-Thu+Aug+20+08-3A31-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 20 08:31:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename), win32/win32.c (opendir_internal)
<dd>
<p>check reparse point tags and treat supported tags only as symbolic links. 
[ruby-core:70454] [Bug #11462]</p>
</dd></dl>

<h2 id="label-2015-08-19">2015-08-19</h2>

<h3 id="label-Wed+Aug+19+23-3A59-3A28+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Wed Aug 19 23:59:28 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>add OP_ALL to existing options rather than just setting it.  Some vendors
apply custom patches to their versions of <a
href="../classes/OpenSSL.html">OpenSSL</a> that set default values for
options.  This commit respects the custom patches they&#39;ve applied.</p>
</dd><dt>test/openssl/test_ssl.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>check that OP_ALL has been added to the options.</p>
</dd></dl>

<h3 id="label-Wed+Aug+19+23-3A55-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 19 23:55:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_f_spawn)
<dd>
<p>[DOC] elaborate environment variable values.  [ruby-core:70456] [Bug
#11463]</p>
</dd></dl>

<h3 id="label-Wed+Aug+19+23-3A48-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug 19 23:48:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (winnt_lstat)
<dd>
<p>check reparse point tags and treat supported tags only as symbolic links.
[ruby-core:70454] [Bug #11462]</p>
</dd></dl>

<h2 id="label-2015-08-18">2015-08-18</h2>

<h3 id="label-Tue+Aug+18+20-3A05-3A49+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Aug 18 20:05:49 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (reserve_stack)
<dd>
<p>ensure the memory is really allocated. [Bug #11457]</p>
</dd></dl>

<h3 id="label-Tue+Aug+18+17-3A19-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 18 17:19:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (IS_BEG)
<dd>
<p>include labeled argument state, which was EXPR_LABELARG.  [ruby-dev:49221]
[Bug #11456]</p>
</dd></dl>

<h3 id="label-Tue+Aug+18+16-3A16-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 18 16:16:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (RClass)
<dd>
<p>define only in C, `__attribute__` between `struct` and the name can&#39;t
compile with g++. [ruby-core:70297] [Bug #11426]</p>
</dd></dl>

<h2 id="label-2015-08-17">2015-08-17</h2>

<h3 id="label-Mon+Aug+17+20-3A56-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 17 20:56:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>fix syntax error at do-block after a conditional operator.  separate
label-allowed and after-a-label states from others as bit flags. 
[ruby-dev:48790] [Bug #10653]</p>
</dd></dl>

<h3 id="label-Mon+Aug+17+11-3A57-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug 17 11:57:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_each_codepoint)
<dd>
<p>raise an exception at incomplete character before EOF when conversion takes
place.  [Bug #11444]</p>
</dd></dl>

<h2 id="label-2015-08-16">2015-08-16</h2>

<h3 id="label-Sun+Aug+16+17-3A33-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Aug 16 17:33:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update latest version of bundled gems. It includes minitest-5.8.0 and
test-unit 3.1.3.</p>
</dd></dl>

<h3 id="label-Sun+Aug+16+17-3A24-3A10+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Aug 16 17:24:10 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>check if RCLASS_EXT is valid before marking. This fixes the following test
failure introduced in r51126: make test-all TESTOPTS=&#39;–gc-stress
ruby/test_refinement.rb&#39;</p>
</dd></dl>

<h2 id="label-2015-08-15">2015-08-15</h2>

<h3 id="label-Sat+Aug+15+10-3A51-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 15 10:51:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (API#SetValue)
<dd>
<p>data size should be in bytes, not in chars.  [ruby-core:70365] [Bug #11439]</p>
</dd></dl>

<h3 id="label-Sat+Aug+15+10-3A15-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Aug 15 10:15:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_each_codepoint)
<dd>
<p>read more data when read partially. [ruby-core:70379] [Bug #11444]</p>
</dd></dl>

<h3 id="label-Sat+Aug+15+04-3A33-3A39+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Aug 15 04:33:39 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (any_hash)
<dd>
<p>skip rb_objid_hash for static syms</p>
</dd><dt>(rb_num_hash_start)
<dd>
<p>extract from rb_ident_hash</p>
</dd><dt>(rb_objid_hash)
<dd>
<p>call rb_num_hash_start</p>
</dd><dt>(rb_ident_hash)
<dd>
<p>ditto [ruby-core:70181] [Feature #11405]</p>
</dd></dl>

<h3 id="label-Sat+Aug+15+04-3A16-3A13+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Aug 15 04:16:13 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_mark)
<dd>
<p>reduce NULL checks</p>
</dd></dl>

<h2 id="label-2015-08-14">2015-08-14</h2>

<h3 id="label-Fri+Aug+14+18-3A50-3A57+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 14 18:50:57 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h (METHOD_ENTRY_VISI_SET)
<dd>
<p>cast visi to int</p>
</dd><dt>(METHOD_ENTRY_FLAGS_SET)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Aug+14+18-3A43-3A11+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Aug 14 18:43:11 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (close_unless_reserved)
<dd>
<p>add extra check</p>
</dd><dt>(dup2_with_divert)
<dd>
<p>remove</p>
</dd><dt>(redirect_dup2)
<dd>
<p>use dup2 without divert</p>
</dd><dt>(before_exec_non_async_signal_safe)
<dd>
<p>adjust call + comment</p>
</dd><dt>(rb_f_exec)
<dd>
<p>stop timer thread for all OSes</p>
</dd><dt>(rb_exec_without_timer_thread)
<dd>
<p>remove</p>
</dd><dt>eval.c (ruby_cleanup)
<dd>
<p>adjust call</p>
</dd><dt>thread.c (rb_thread_stop_timer_thread)
<dd>
<p>always close pipes</p>
</dd><dt>thread_pthread.c (struct timer_thread_pipe)
<dd>
<p>add writing field, mark owner_process volatile for signal handlers</p>
</dd><dt>(rb_thread_wakeup_timer_thread_fd)
<dd>
<p>check valid FD</p>
</dd><dt>(rb_thread_wakeup_timer_thread)
<dd>
<p>set writing flag to prevent close</p>
</dd><dt>(rb_thread_wakeup_timer_thread_low)
<dd>
<p>ditto</p>
</dd><dt>(CLOSE_INVALIDATE)
<dd>
<p>new macro</p>
</dd><dt>(close_invalidate)
<dd>
<p>new function</p>
</dd><dt>(close_communication_pipe)
<dd>
<p>removed</p>
</dd><dt>(setup_communication_pipe_internal)
<dd>
<p>make errors non-fatal</p>
</dd><dt>(setup_communication_pipe)
<dd>
<p>ditto</p>
</dd><dt>(thread_timer)
<dd>
<p>close reading ends inside timer thread</p>
</dd><dt>(rb_thread_create_timer_thread)
<dd>
<p>make errors non-fatal</p>
</dd><dt>(native_stop_timer_thread)
<dd>
<p>close write ends only, always, wait for signal handlers to finish</p>
</dd><dt>(rb_divert_reserved_fd)
<dd>
<p>remove</p>
</dd><dt>thread_win32.c (native_stop_timer_thread)
<dd>
<p>adjust (untested)</p>
</dd><dt>(rb_divert_reserved_fd)
<dd>
<p>remove</p>
</dd><dt>vm_core.h
<dd>
<p>adjust prototype [ruby-core:70386] [Bug #11336]</p>
</dd></dl>

<h3 id="label-Fri+Aug+14+18-3A40-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug 14 18:40:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (API#SetValue)
<dd>
<p>add terminator size, not 1 byte.  [ruby-core:70365] [Bug #11439]</p>
</dd></dl>

<h2 id="label-2015-08-13">2015-08-13</h2>

<h3 id="label-Thu+Aug+13+22-3A49-3A42+2015++Juanito+Fatas++-3Ckatehuang0320-40gmail.com-3E">Thu Aug 13 22:49:42 2015  Juanito Fatas  &lt;katehuang0320@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>freeze a string message to reduce string allocations.  [Fix GH-996]</p>
</dd></dl>

<h3 id="label-Thu+Aug+13+17-3A42-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Aug 13 17:42:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_call_info_kw_arg_bytes)
<dd>
<p>move the definition to iseq.h because this function is shared with iseq.c
and compile.c.</p>
</dd></dl>

<h3 id="label-Thu+Aug+13+14-3A36-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug 13 14:36:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_num_to_dbl)
<dd>
<p>move from num2dbl_with_to_f in math.c.</p>
</dd></dl>

<h3 id="label-Thu+Aug+13+09-3A01-3A25+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Aug 13 09:01:25 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (features_index_add)
<dd>
<p>avoid repeat calculation</p>
</dd></dl>

<h2 id="label-2015-08-12">2015-08-12</h2>

<h3 id="label-Wed+Aug+12+21-3A57-3A31+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 12 21:57:31 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.c
<dd>
<p>IMPL() macro accept op as _opname instead of opname because jemalloc seems
to replace the word `free&#39; to `je_free&#39;.</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+21-3A51-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 12 21:51:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.c (mix_id_table_insert)
<dd>
<p>fix memory leak.</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+21-3A17-3A38+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Aug 12 21:17:38 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_memsize)
<dd>
<p>reimplement for wrapper</p>
</dd><dt>(param_keyword_size)
<dd>
<p>extracted from iseq_memsize</p>
</dd><dt>(iseqw_mark)
<dd>
<p>new mark function</p>
</dd><dt>(iseqw_data_type)
<dd>
<p>new data type</p>
</dd><dt>(iseqw_new)
<dd>
<p>wrap as iseqw_data_type</p>
</dd><dt>(iseqw_check)
<dd>
<p>adjust for wrapper</p>
</dd><dt>(Init_ISeq)
<dd>
<p>remove iseqw_iseq_key initialization</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>new test [ruby-core:70344] [Feature #11435]</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+21-3A15-3A27+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Aug 12 21:15:27 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_call_info_kw_arg_bytes)
<dd>
<p>extract from compile.c</p>
</dd><dt>compile.c (iseq_build_callinfo_from_hash)
<dd>
<p>use above function</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+18-3A00-3A17+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 12 18:00:17 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (move_refined_method)
<dd>
<p>same as the last commit.</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+17-3A57-3A53+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 12 17:57:53 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c, gc.c vm.c
<dd>
<p>use ID_TABLE_* instead of ST_*</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Aug+12+17-3A05-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Aug 12 17:05:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>id_table.h
<dd>
<p>introduce ID key table. [Feature #11420] This table only manage
ID-&gt;VALUE table to reduce overhead of st. Some functions prefixed
rb_id_table_* are provided.</p>
</dd><dt>id_table.c
<dd>
<p>implement rb_id_table_*. There are several algorithms to implement it. Now,
there are roughly 4 types: * st * array * hash (implemented by  Yura
Sokolov) * mix of array and hash The macro ID_TABLE_IMPL can choose
implementation. You can see detailes about them at the head of id_table.c.
At the default, I choose 34 (mix of list and hash). This is not final
decision. Please report your suitable parameters or your data structure. *
symbol.c: introduce rb_id_serial_t and rb_id_to_serial() to represent ID by
serial number. * internal.h: use id_table for method tables. * class.c,
gc.c, marshal.c, vm.c, vm_method.c: ditto.</p>
</dd></dl>

<h3 id="label-Wed+Aug+12+05-3A19-3A11+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Aug 12 05:19:11 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (rb_parser_compile_cstr)
<dd>
<p>remove volatile arg</p>
</dd><dt>(rb_parser_compile_string)
<dd>
<p>ditto</p>
</dd><dt>(rb_parser_compile_file)
<dd>
<p>ditto</p>
</dd><dt>(rb_parser_compile_string_path)
<dd>
<p>ditto</p>
</dd><dt>(rb_parser_compile_file_path)
<dd>
<p>ditto [ruby-core:70323] [Misc #11431]</p>
</dd></dl>

<h2 id="label-2015-08-11">2015-08-11</h2>

<h3 id="label-Tue+Aug+11+22-3A59-3A57+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Aug 11 22:59:57 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (Init_Numeric)
<dd>
<p>Fix document for Float::MIN and Float::EPSILON.</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+15-3A22-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 11 15:22:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (ALLOCV_N)
<dd>
<p>check integer overflow, as well as ruby_xmalloc2.  pointed out by Paul
&lt;pawlkt AT gmail.com&gt;.</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+14-3A57-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 11 14:57:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_repeated_permutation)
<dd>
<p>fix buffer size, ALLOCV_N already multiplies element size.</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+12-3A13-3A20+2015++Jeremy+Evans++-3Cmerch-redmine-40jeremyevans.net-3E">Tue Aug 11 12:13:20 2015  Jeremy Evans  &lt;merch-redmine@jeremyevans.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>Fix LocalJumpErrors being raised in <a
href="../classes/OpenSSL.html">OpenSSL</a> tests. [ruby-core:70020][Bug
#11368]</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+11-3A54-3A13+2015++Alexey+Lipnyagov++-3Cliptonshmidt-40gmail.com-3E">Tue Aug 11 11:54:13 2015  Alexey Lipnyagov  &lt;liptonshmidt@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>Fix documentation for <a
href="../classes/String.html#method-i-slice">String#slice</a>
[ruby-core:70298][Bug #11427]</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+11-3A53-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Aug 11 11:53:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (superclass)
<dd>
<p>make superclass rule optional and allow any contents without a terminator. 
[EXPERIMENTAL]</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+10-3A58-3A42+2015++Juanito+Fatas++-3Cjuanitofatas-40gmail.com-3E">Tue Aug 11 10:58:42 2015  Juanito Fatas  &lt;juanitofatas@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>[DOC] Make end_with? example doc symmetry with start_with? [fix GH-992][ci
skip]</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+10-3A51-3A19+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Aug 11 10:51:19 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_array.rb
<dd>
<p>Add test for `Array#flatten` with level 1 [fix GH-986] Patch @yui-knk</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+10-3A48-3A16+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Aug 11 10:48:16 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>added doc for <a
href="../classes/Enumerable.html#method-i-zip">Enumerable#zip</a> [fix
GH-985] Patch by @yui-knk</p>
</dd><dt>test/ruby/test_enum.rb
<dd>
<p>added tests for <a
href="../classes/Enumerable.html#method-i-zip">Enumerable#zip</a> [fix
GH-985] Patch @yui-knk</p>
</dd></dl>

<h3 id="label-Tue+Aug+11+10-3A33-3A26+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Aug 11 10:33:26 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>typo fix [fix GH-993][ci skip] Patch by @0x0dea</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-08-09">2015-08-09</h2>

<h3 id="label-Sun+Aug++9+14-3A15-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Aug  9 14:15:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (Init_vm_objects, rb_vm_fstring_table)
<dd>
<p>use frozen_strings table in rb_vm_t.  [ruby-core:70274] [Bug #11423]</p>
</dd></dl>

<h2 id="label-2015-08-08">2015-08-08</h2>

<h3 id="label-Sat+Aug++8+03-3A59-3A51+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Sat Aug  8 03:59:51 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c
<dd>
<p>[DOC] Improve grammar for <a
href="../classes/Module.html#method-i-3D-3D-3D">Module#===</a> Patch by
@SkyBirdSoar in documenting-ruby/ruby#52: <a
href="https://github.com/documenting-ruby/ruby/pull/52">github.com/documenting-ruby/ruby/pull/52</a></p>
</dd></dl>

<h3 id="label-Sat+Aug++8+03-3A39-3A33+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Sat Aug  8 03:39:33 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>[DOC] Improve description of symbol key syntax Patch by Raphael Das Gupta
in documenting-ruby/ruby#51: <a
href="https://github.com/documenting-ruby/ruby/pull/51">github.com/documenting-ruby/ruby/pull/51</a></p>
</dd></dl>

<h2 id="label-2015-08-07">2015-08-07</h2>

<h3 id="label-Fri+Aug++7+21-3A04-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  7 21:04:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_params)
<dd>
<p>turn in_def and in_single into bit flags and reduce the size by 2-words.</p>
</dd><dt>parse.y (parser_params)
<dd>
<p>remove redundant prefixes.</p>
</dd><dt>parse.y (yylex)
<dd>
<p>non-pure parser has not been supported since merger of ripper.  change
argument types from void pointers.</p>
</dd></dl>

<h3 id="label-Fri+Aug++7+17-3A07-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Aug  7 17:07:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_super_method)
<dd>
<p>uncallable method entry does not have the defined class, use the owner
instead. [ruby-core:70254] [Bug #11419]</p>
</dd><dt>test/ruby/test_method.rb (test_super_method_unbound)
<dd>
<p>add test by Akira Matsuda.</p>
</dd></dl>

<h2 id="label-2015-08-06">2015-08-06</h2>

<h3 id="label-Thu+Aug++6+10-3A49-3A57+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  6 10:49:57 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.c (rb_alloc_tmp_buffer)
<dd>
<p>round up the size and check the range.</p>
</dd><dt>ruby_atomic.h (ATOMIC_VALUE_EXCHANGE, ATOMIC_VALUE_CAS)
<dd>
<p>add atomic operations for VALUE.</p>
</dd></dl>

<h3 id="label-Thu+Aug++6+08-3A15-3A49+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Aug  6 08:15:49 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>move SSLSocket#sysclose to Ruby.</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_close)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Aug++6+07-3A57-3A21+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Aug  6 07:57:21 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>move nonblock enable to SSLSocket#initialize and remove Nonblock module.</p>
</dd></dl>

<h3 id="label-Thu+Aug++6+07-3A53-3A47+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Aug  6 07:53:47 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>move OpenSSL::SSL::SSLSocket#initialize to Ruby.</p>
</dd><dt>ext/openssl/ossl_ssl.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Aug++6+02-3A25-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Aug  6 02:25:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.c (rb_alloc_tmp_buffer)
<dd>
<p>use NODE_ALLOCA to mark locations like as builtin alloca. 
[ruby-core:70251] [Bug #11418]</p>
</dd></dl>

<h2 id="label-2015-08-05">2015-08-05</h2>

<h3 id="label-Wed+Aug++5+14-3A37-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Aug  5 14:37:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (rb_econv_open0)
<dd>
<p>rb_econv_t::source_encoding_name and rb_econv_t::destination_encoding_name
should refer static strings always or NULL.  [ruby-core:70247] [Bug #11416]</p>
</dd></dl>

<h2 id="label-2015-08-04">2015-08-04</h2>

<h3 id="label-Tue+Aug++4+16-3A53-3A43+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Tue Aug  4 16:53:43 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>extract callback lookup to private Ruby methods. This means we can keep the
default DH callback logic hidden from consumers.  Also, since the SSLSocket
always has a context, we can remove conditionals about that instance.</p>
</dd><dt>ext/openssl/ossl_ssl.c
<dd>
<p>move callback lookup methods to private Ruby methods.</p>
</dd></dl>

<h3 id="label-Tue+Aug++4+16-3A40-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug  4 16:40:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb
<dd>
<p>should not expect a method table ordering. [Feature #11414]</p>
</dd></dl>

<h3 id="label-Tue+Aug+04+15-3A30-3A04+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Aug 04 15:30:04 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_block_clear_env_self)
<dd>
<p>clear by Qfalse instead of Qnil. [Bug #11409]</p>
</dd><dt>test/ruby/test_eval.rb
<dd>
<p>add tests for this issue, written by @0x0dea. <a
href="https://github.com/ruby/ruby/pull/988">github.com/ruby/ruby/pull/988</a></p>
</dd></dl>

<h3 id="label-Tue+Aug++4+12-3A12-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Aug  4 12:12:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c
<dd>
<p>wrap long lines</p>
</dd></dl>

<h3 id="label-Tue+Aug++4+09-3A32-3A30+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Aug  4 09:32:30 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>Removing duplicate doc [fix GH-987][ci skip] Patch by @ronakjangir47</p>
</dd></dl>

<h3 id="label-Tue+Aug++4+09-3A21-3A58+2015++Richard+Schneeman++-3Crichard.schneeman-2Bfoo-40gmail.com-3E">Tue Aug  4 09:21:58 2015  Richard Schneeman  &lt;richard.schneeman+foo@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>fixed wrong instructions with OS X [fix GH-989][ci skip] Patch by @schneems</p>
</dd></dl>

<h2 id="label-2015-08-03">2015-08-03</h2>

<h3 id="label-Mon+Aug++3+10-3A08-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Aug  3 10:08:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (rb_memsearch)
<dd>
<p>should match only char boundaries in wide character encodings. 
[ruby-core:70220] [Bug #11413]</p>
</dd></dl>

<h2 id="label-2015-08-02">2015-08-02</h2>

<h3 id="label-Sun+Aug++2+07-3A01-3A17+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Aug  2 07:01:17 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/buffering.rb (gets)
<dd>
<p>avoid comparing fixnum with nil</p>
</dd><dt>test/openssl/test_pair.rb
<dd>
<p>test gets with limit when EOF is hit Thanks to Bar Hofesh
&lt;bar.hofesh@safe-t.com&gt; for the bug report and testing.
[ruby-core:70149] [Bug #11400]</p>
</dd></dl>

<h2 id="label-2015-08-01">2015-08-01</h2>

<h3 id="label-Sat+Aug++1+17-3A13-3A15+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Aug  1 17:13:15 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (Net::HTTPResponse::Inflater#finish)
<dd>
<p>fix a bug that empty gzipped response body causes <a
href="../classes/Zlib/BufError.html">Zlib::BufError</a>. [ruby-core:68846]
[Bug #11058]</p>
</dd><dt>test/net/http/test_httpresponse.rb
<dd>
<p>tests for the above.</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+17-3A05-3A18+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sat Aug  1 17:05:18 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (Net::HTTPResponse#inflater)
<dd>
<p>fix <a href="../classes/TypeError.html">TypeError</a>. An exception object
might be nil. [ruby-core:68846] [Bug #11058]</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+09-3A09-3A46+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 09:09:46 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_sslctx_setup)
<dd>
<p>Implement SSLContext#options and options= using SSL_CTX_set_options and
SSL_CTX_get_options. This reduces the number of ivars we need and
simplifies `ossl_sslctx_setup`.</p>
</dd><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>Default `options` to SSL_OP_ALL</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+06-3A54-3A36+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 06:54:36 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (Init_ossl_ssl)
<dd>
<p><a href="../classes/OpenSSL.html">OpenSSL</a> declares these constants as
longs, so we should follow that and use LONG2NUM. <a
href="http://git.io/vOqxD">git.io/vOqxD</a></p>
</dd></dl>

<h3 id="label-Sat+Aug++1+04-3A06-3A29+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 04:06:29 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_call_tmp_dh_callback)
<dd>
<p>change callback to return the Ruby dh (or ecdh) object that the caller
cares about instead of doing rb_iv_get / set to communicate.  This means we
can remove an rb_iv_get call, and only use the set calls for their intended
purpose (to prevent the object from being GC&#39;d).</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_call_tmp_ecdh_callback)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_tmp_ecdh_callback)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+03-3A49-3A31+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 03:49:31 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_call_tmp_dh_callback)
<dd>
<p>Similarly to the tmp_ecdh_callback, the SSLSocket instance always holds a
reference to the SSLContext object (it&#39;s always set in `initialize`). 
The SSLContext holds a reference to the tmp_dh_callback.  Ask the context
for the callback instead of storing the callback in two places.</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+03-3A43-3A10+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 03:43:10 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_call_tmp_dh_callback)
<dd>
<p>create an array and use `rb_apply` to clean up calls to `rb_protect`.</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+03-3A27-3A12+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 03:27:12 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_call_tmp_ecdh_callback)
<dd>
<p>The SSL socket always holds a reference to the SSLContext object, which
will have the callback object.  Ask the context for the callback instead of
storing the callback in two places.</p>
</dd></dl>

<h3 id="label-Sat+Aug++1+03-3A14-3A07+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sat Aug  1 03:14:07 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>convert `tmp_dh_callback` to Ruby, and call it when setting up an SSL
connection.  This allows us to move the “default” behavior to the reader
method.</p>
</dd><dt>ext/openssl/ossl_ssl.c
<dd>
<p>call the tmp_dh_callback instead of accessing the SSLContext&#39;s
internals.</p>
</dd></dl>

<h2 id="label-2015-07-31">2015-07-31</h2>

<h3 id="label-Fri+Jul+31+23-3A34-3A27+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Fri Jul 31 23:34:27 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>update libssl before running tests. Thanks to Chris Sinjakli
&lt;chris@sinjakli.co.uk&gt; for figuring out the travis settings!</p>
</dd></dl>

<h3 id="label-Fri+Jul+31+21-3A34-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 31 21:34:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_require_internal)
<dd>
<p>use rb_load_internal0 not to raise a exception to be caught.</p>
</dd></dl>

<h2 id="label-2015-07-30">2015-07-30</h2>

<h3 id="label-Thu+Jul+30+13-3A19-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 30 13:19:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_const_get_0)
<dd>
<p>warn deprecated constant reference.</p>
</dd><dt>variable.c (rb_mod_deprecate_constant)
<dd>
<p>mark constants to be warned as deprecated.  [Feature #11398]</p>
</dd></dl>

<h3 id="label-Thu+Jul+30+11-3A53-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 30 11:53:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_s_handle_interrupt)
<dd>
<p>make identity hash, to compare masking classes just by their IDs.</p>
</dd></dl>

<h3 id="label-Thu+Jul+30+11-3A52-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 30 11:52:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_load_internal0)
<dd>
<p>stop separating exits at loading from exits from execution.  TAG_FATAL is
the only case that `errinfo` is a <a
href="../classes/Fixnum.html">Fixnum</a>, and should continue to exit by
JUMP_TAG but not raising as an ordinary exception. [ruby-core:70169] [Bug
#11404]</p>
</dd></dl>

<h3 id="label-Thu+Jul+30+10-3A42-3A27+2015++Alex+Dowad++-3Calexinbeijing-40gmail.com-3E">Thu Jul 30 10:42:27 2015  Alex Dowad  &lt;alexinbeijing@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_load_internal0)
<dd>
<p>extra check before returning TAG_RAISE when a non-local transfer of control
happens while loading and parsing a Ruby source file. [ruby-core:70169]
[Bug #11404]</p>
</dd></dl>

<h3 id="label-Thu+Jul+30+08-3A48-3A42+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 30 08:48:42 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (find_entry)
<dd>
<p>constify st_table*</p>
</dd><dt>(find_packed_index_from)
<dd>
<p>ditto</p>
</dd><dt>(find_packed_index)
<dd>
<p>ditto</p>
</dd><dt>(get_keys)
<dd>
<p>ditto</p>
</dd><dt>(get_values)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Jul+30+04-3A29-3A25+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 30 04:29:25 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_hash_aref_dsym.rb
<dd>
<p>new benchmark</p>
</dd><dt>benchmark/bm_hash_aref_dsym_long.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_aref_fix.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-07-29">2015-07-29</h2>

<h3 id="label-Wed+Jul+29+21-3A38-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 21:38:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (any_hash), symbol.c (dsymbol_alloc)
<dd>
<p>fix dynamic symbol hash value by restricting in <a
href="../classes/Fixnum.html">Fixnum</a> range, that is `long`.</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+17-3A25-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 17:25:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_obj_hash)
<dd>
<p>move in order to share with rb_any_hash.</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+16-3A00-3A22+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 16:00:22 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_buf_cat)
<dd>
<p>consider empty non-embed string case, not to loop infinitely. 
[ruby-core:70074] [Bug #11383]</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+15-3A25-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 15:25:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (send_internal)
<dd>
<p>set method_missing_reason before invoking overriding method_missing method
so that the default method_missing can achieve it properly.
[ruby-core:68515] [Bug #10969]</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+14-3A54-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 14:54:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_sym_hash)
<dd>
<p>return same value as rb_any_hash() of <a
href="../classes/Symbol.html">Symbol</a>.  [Bug #9381]</p>
</dd><dt>hash.c (rb_any_hash)
<dd>
<p>fix <a href="../classes/Float.html">Float</a> hash.  rb_dbl_hash() returns
a <a href="../classes/Fixnum.html">Fixnum</a>, but not a long.  [Bug #9381]</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+11-3A07-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 29 11:07:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (LIKELY, UNLIKELY)
<dd>
<p>make a boolean to enforce 1 or 0.</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+10-3A44-3A43+2015++Alex+Dowad++-3Calexinbeijing-40gmail.com-3E">Wed Jul 29 10:44:43 2015  Alex Dowad  &lt;alexinbeijing@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>document argument passed to finalizer proc. [fix GH-976][ci skip] Patch by
@alexdowad</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+10-3A36-3A58+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jul 29 10:36:58 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_extract_modeenc)
<dd>
<p>add option parameter `flags&#39; to append extra oflags to normal mode.
[Feature #11253] [ruby-core:69539]</p>
</dd></dl>

<h3 id="label-Wed+Jul+29+04-3A54-3A47+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul 29 04:54:47 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_remote_fetcher.rb
<dd>
<p>pre-generate test key [ruby-core:70151] [Bug #11397]</p>
</dd></dl>

<h2 id="label-2015-07-28">2015-07-28</h2>

<h3 id="label-Tue+Jul+28+10-3A32-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 28 10:32:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (struct RClass)
<dd>
<p>moved from ruby/ruby.h to hide the internals.</p>
</dd></dl>

<h3 id="label-Tue+Jul+28+08-3A48-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 28 08:48:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_TYPE_ATTRIBUTE)
<dd>
<p>attribute declaration for types.</p>
</dd></dl>

<h3 id="label-Tue+Jul+28+07-3A23-3A03+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul 28 07:23:03 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.h (struct RSymbol)
<dd>
<p>add hashval field</p>
</dd><dt>symbol.c (dsymbol_alloc)
<dd>
<p>setup hashval field once</p>
</dd><dt>hash.c (rb_any_hash)
<dd>
<p>return RSymbol-&gt;hashval directly</p>
</dd><dt>common.mk
<dd>
<p>hash.o depends on symbol.h Thanks to Bruno Escherl
&lt;bruno@escherl.net&gt; for the bug report [ruby-core:70129] [Bug #11396]</p>
</dd></dl>

<h3 id="label-Tue+Jul+28+03-3A26-3A15+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Tue Jul 28 03:26:15 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>raise a more helpful exception when verifying the peer connection and an
anonymous cipher has been selected. [ruby-core:68330] [Bug #10910] Thanks
to Chris Sinjakli &lt;chris@sinjakli.co.uk&gt; for the patch.</p>
</dd><dt>test/openssl/test_ssl.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>test for change</p>
</dd></dl>

<h2 id="label-2015-07-27">2015-07-27</h2>

<h3 id="label-Mon+Jul+27+13-3A24-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul 27 13:24:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/id.h.tmpl (ID2ATTRSET)
<dd>
<p>remove an unused macro.</p>
</dd></dl>

<h3 id="label-Mon+Jul+27+12-3A21-3A15+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Jul 27 12:21:15 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb
<dd>
<p>run tests on non-Unix platforms.</p>
</dd></dl>

<h2 id="label-2015-07-26">2015-07-26</h2>

<h3 id="label-Sun+Jul+26+19-3A21-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 26 19:21:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_alpn_protocol)
<dd>
<p>fix condition to compile, needs ALPN to be available.  [Feature #9390]</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+11-3A29-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul 26 11:29:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (default_handler, Init_signal)
<dd>
<p>discard SIGSYS, ENOSYS should raise a <a
href="../classes/SystemCallError.html">SystemCallError</a> always instead.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+10-3A26-3A35+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 10:26:35 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_call_servername_cb)
<dd>
<p>set the ssl context object returned by the servername callback on to the
socket as an instance variable.  If the callback allocated a new context
object and didn&#39;t keep a reference to it, it could be GC&#39;d out from
under the socket object.</p>
</dd><dt>test/openssl/test_ssl.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>test for change.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+10-3A07-3A26+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 10:07:26 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>add test coverage around OpenSSL::SSL::SSLContext#servername_cb</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+09-3A10-3A32+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Jul 26 09:10:32 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update latest version of bundled power_assert.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+08-3A49-3A28+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun Jul 26 08:49:28 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_remote_fetcher.rb
<dd>
<p>backport rubygems upstream change for <a
href="../classes/OpenSSL.html">OpenSSL</a> key length. see detail to <a
href="https://github.com/rubygems/rubygems/pull/1290">github.com/rubygems/rubygems/pull/1290</a></p>
</dd></dl>

<h3 id="label-Sun+Jul+26+08-3A33-3A03+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 08:33:03 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/pkey.rb
<dd>
<p>implement DEFAULT_512 and DEFAULT_1024 constants in Ruby.</p>
</dd><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>Ask PKey for the default DH callback since it already must check whether
openssl has been compiled with DH support.</p>
</dd><dt>ext/openssl/ossl_pkey_dh.c (OSSL_PKEY_BN)
<dd>
<p>Remove C definitions of DEFAULT_512 and DEFAULT_1024</p>
</dd><dt>ext/openssl/ossl_pkey_dh.c (Init_ossl_dh)
<dd>
<p>ditto</p>
</dd><dt>test/openssl/test_pkey_dh.rb (class <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>add test to ensure the Ruby definitions are the same as the C definitions
were.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+08-3A14-3A59+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 08:14:59 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>support specifically setting the tmp_dh_callback to nil.</p>
</dd><dt>ext/openssl/ossl_ssl.c (Init_ossl_ssl)
<dd>
<p>ditto</p>
</dd><dt>test/openssl/test_pair.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>add a test</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+07-3A47-3A14+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 07:47:14 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>move the default tmp_dh_callback Ruby code and set it as a default in
`initialize`.</p>
</dd><dt>ext/openssl/ossl_pkey_dh.c (static unsigned char DEFAULT_DH_512_GEN)
<dd>
<p>move this constant to Ruby.</p>
</dd><dt>ext/openssl/ossl_pkey_dh.c (static unsigned char DEFAULT_DH_1024_GEN)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_pkey_dh.c (Init_ossl_dh)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_sslctx_setup)
<dd>
<p>tmp_dh_callback should always be set, so we can remove this conditional</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+06-3A22-3A24+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 06:22:24 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_pair.rb
<dd>
<p>add a test ensuring that the default DH callback is used when no DH
callback is specified.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+04-3A08-3A27+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 04:08:27 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>add missing instance variables to squash warnings with alpn.</p>
</dd></dl>

<h3 id="label-Sun+Jul+26+03-3A42-3A19+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun Jul 26 03:42:19 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb (module <a href="../classes/OpenSSL.html">OpenSSL</a>)
<dd>
<p>move OpenSSL::SSL::SSLContext#initialize implementation to pure Ruby.</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_sslctx_initialize)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (Init_ossl_ssl)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-07-25">2015-07-25</h2>

<h3 id="label-Sat+Jul+25+21-3A03-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 25 21:03:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_syscall)
<dd>
<p>get rid of blocking when no entropy is available.  based on the patch by
mame in [ruby-core:70114].  [Bug #11395]</p>
</dd></dl>

<h3 id="label-Sat+Jul+25+11-3A05-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 25 11:05:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_replace_shared_without_enc)
<dd>
<p>fill the terminator of embedded strings in wide char encodings.</p>
</dd></dl>

<h3 id="label-Sat+Jul+25+06-3A38-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 25 06:38:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>size should be unsigned. * rb_call_info_t::index *
rb_iseq_constant_body::stack_max * rb_iseq_constant_body::local_size *
rb_iseq_constant_body::param::size *
rb_iseq_constant_body::local_table_size * rb_iseq_constant_body::is_size *
rb_iseq_constant_body::callinfo_size</p>
</dd><dt>iseq.h
<dd>
<p>same for iseq_catch_table::size.</p>
</dd><dt>compile.c
<dd>
<p>catch up these fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jul+25+06-3A00-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 25 06:00:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_constant_body::line_info_table.</p>
</dd><dt>iseq.c
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Sat+Jul+25+05-3A56-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 25 05:56:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_constant_body::param::opt_table and
rb_iseq_constant_body::param::keyword.</p>
</dd><dt>compile.c
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Sat+Jul+25+04-3A47-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jul 25 04:47:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_constant_body::catch_table.</p>
</dd><dt>compile.c (iseq_set_exception_table)
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c (vm_exec)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-07-24">2015-07-24</h2>

<h3 id="label-Fri+Jul+24+21-3A29-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 24 21:29:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (EQUAL, st_delete_safe)
<dd>
<p>fix arguments order to compare function, searching key is the first and
stored key is the second always.</p>
</dd></dl>

<h3 id="label-Fri+Jul+24+21-3A27-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 24 21:27:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (fstr_update_callback)
<dd>
<p>fstring must not be a shared string, or the content without RSTRING_FSTR
may be freed. [ruby-dev:49188] [Bug #11386]</p>
</dd></dl>

<h3 id="label-Fri+Jul+24+20-3A09-3A43+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Fri Jul 24 20:09:43 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rinda/test_rinda.rb (RingIPv6#prepare_ipv6)
<dd>
<p>prevent to use IPv6 loopback interface for
Rinda::TestRingFinger#test_make_socket_ipv6_multicast and
Rinda::TestRingFinger#test_make_socket_ipv6_multicast_hops. The tests are
skipped if there are no IPv6 devices other than the loopback device. [Bug
#11394] [ruby-dev:49199]</p>
</dd><dt>test/rinda/test_rinda.rb (test_make_socket_ipv6_multicast)
<dd>
<p>ditto for Rinda::TestRingServer#test_make_socket_ipv6_multicast.</p>
</dd><dt>test/rinda/test_rinda.rb (test_ring_server_ipv6_multicast)
<dd>
<p>ditto for Rinda::TestRingServer#test_ring_server_ipv6_multicast.</p>
</dd></dl>

<h3 id="label-Fri+Jul+24+16-3A35-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 24 16:35:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (fstr_update_callback)
<dd>
<p>pool bare strings only.</p>
</dd><dt>string.c (rb_fstring)
<dd>
<p>return the original string with sharing a fstring if it has extra
attributes, not the fstring itself. [ruby-dev:49188] [Bug #11386]</p>
</dd></dl>

<h3 id="label-Fri+Jul+24+16-3A35-3A34+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Jul 24 16:35:34 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_s_extname)
<dd>
<p>[DOC] add an example.</p>
</dd><dt>test/ruby/test_path.rb (test_extname)
<dd>
<p>add tests.  [Fix GH-978] * path starts with dot (&#39;.a.rb&#39;) * path
includes dir name (&#39;a/b/d/test.rb&#39;) * path includes dir name and
dir name starts with dot</p>
</dd><dd>
<p></p>
</dd></dl>

<h2 id="label-2015-07-23">2015-07-23</h2>

<h3 id="label-Thu+Jul+23+18-3A50-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 23 18:50:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_constant_body::local_table and
rb_iseq_param_keyword::table and rb_iseq_param_keyword::default_values.</p>
</dd><dt>compile.c
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+17-3A30-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 23 17:30:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_constant_body::iseq_encoded and rb_control_frame_t::pc.</p>
</dd><dt>compile.c (rb_iseq_translate_threaded_code)
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm_exec.c (vm_exec_core)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+10-3A25-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 23 10:25:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>add raw FL macros, which assume always the argument object is not a special
constant.</p>
</dd><dt>internal.h (STR_EMBED_P, STR_SHARED_P)
<dd>
<p>valid only for T_STRING.</p>
</dd><dt>string.c
<dd>
<p>deal with taint flags directly across String instances.</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+09-3A05-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 23 09:05:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (lambda_body)
<dd>
<p>pop cmdarg stack for lookahead token.  [ruby-core:70067] [Bug #11380]</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+04-3A03-3A03+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Jul 23 04:03:03 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>fix tests by not setting the instance variable on the frozen ssl instance.</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+03-3A32-3A26+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Jul 23 03:32:26 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>add ECDH callback support. [Feature #11356]</p>
</dd><dt>test/openssl/test_pair.rb
<dd>
<p>test for ECDH callback support</p>
</dd></dl>

<h3 id="label-Thu+Jul+23+03-3A29-3A49+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Thu Jul 23 03:29:49 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>add ALPN support. [Feature #9390]</p>
</dd><dt>ext/openssl/extconf.rb
<dd>
<p>detect ALPN support in <a href="../classes/OpenSSL.html">OpenSSL</a></p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>test for ALPN</p>
</dd></dl>

<h2 id="label-2015-07-22">2015-07-22</h2>

<h3 id="label-Wed+Jul+22+23-3A44-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 22 23:44:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_reverse)
<dd>
<p>reversed string is not a substring, and should not set coderange of the
original string. [ruby-dev:49189] [Bug #11387]</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+20-3A17-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 20:17:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>modify layout of rb_iseq_constant_body. Move frequent accessing fields to
upper part.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+19-3A57-3A47+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 19:57:47 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove unused declaration of iseq_compile_data_ensure_node_stack.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+19-3A52-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 19:52:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>separate rb_iseq_body into rb_iseq_constant_body and rb_iseq_variable_body
(rb_iseq_t::variable_body). rb_iseq_variable_body can be modified after
compilation.</p>
</dd><dt>compile.c
<dd>
<p>use rb_iseq_t::variable_body.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>thread.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+17-3A50-3A35+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jul 22 17:50:35 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix/eigenvalue_decomposition.rb
<dd>
<p>refine code style. [fix GH-959][ci skip] Patch by @bogdanvlviv</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+15-3A48-3A47+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jul 22 15:48:47 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_range.rb
<dd>
<p>Add test case for <a
href="../classes/Range.html#method-i-end">Range#end</a> with exclude_end
true case. [fix GH-968] Patch by @yui-knk</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+09-3A45-3A31+2015++Maksim+Sitnikov++-3Csitnikovme-40undev.ru-3E">Wed Jul 22 09:45:31 2015  Maksim Sitnikov  &lt;sitnikovme@undev.ru&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_coerce)
<dd>
<p>[DOC] fix doc for <a
href="../classes/Numeric.html#method-i-coerce">Numeric#coerce</a>, missing
&#39;+&#39;.  [Fix GH-974]</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+07-3A24-3A18+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 07:24:18 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>make rb_iseq_t T_IMEMO object (type is imemo_iseq). All contents of previous rb_iseq_t is in rb_iseq_t
<dd>
<p>:body. Remove rb_iseq_t::self because rb_iseq_t is an object. <a
href="../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a>
is wrapper object points T_IMEMO/iseq. So RubyVM::ISeq.of(something) method
returns different wrapper objects but they point the same T_IMEMO/iseq
object. This patch is big, but most of difference is replacement of
iseq-&gt;xxx to iseq-&gt;body-&gt;xxx.</p>
</dd><dt>(previous) rb_iseq_t
<dd>
<p>:compile_data is also located to rb_iseq_t::compile_data. It was moved from
rb_iseq_body::compile_data. Now rb_iseq_t has empty two pointers. I will
split rb_iseq_body data into static data and dynamic data.</p>
</dd><dt>compile.c
<dd>
<p>rename some functions/macros. Now, we don&#39;t need to separate iseq and
iseqval (only VALUE).</p>
</dd><dt>eval.c (ruby_exec_internal)
<dd>
<p>`n&#39; is rb_iseq_t (T_IMEMO/iseq).</p>
</dd><dt>ext/objspace/objspace.c (count_imemo_objects)
<dd>
<p>count T_IMEMO/iseq.</p>
</dd><dt>gc.c
<dd>
<p>check T_IMEMO/iseq.</p>
</dd><dt>internal.h
<dd>
<p>add imemo_type::imemo_iseq.</p>
</dd><dt>iseq.c
<dd>
<p>define <a
href="../classes/RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a>
as T_OBJECT. Methods are implemented by functions named iseqw_.…</p>
</dd><dt>load.c (rb_load_internal0)
<dd>
<p>rb_iseq_new_top() returns rb_iseq_t (T_IMEMO/iesq).</p>
</dd><dt>method.h (rb_add_method_iseq)
<dd>
<p>accept rb_iseq_t (T_IMEMO/iseq).</p>
</dd><dt>vm_core.h (GetISeqPtr)
<dd>
<p>removed because it is not T_DATA now.</p>
</dd><dt>vm_core.h (struct rb_iseq_body)
<dd>
<p>remove padding for [Bug #<a href="ruby-core:63721">10037]</a>.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+07-3A15-3A33+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 07:15:33 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (total_i)
<dd>
<p>no need to skip singleton classes.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+06-3A37-3A54+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 06:37:54 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_call_info_t::kw_arg, rb_control_frame_t::iseq and
rb_control_frame_t::block_iseq.</p>
</dd><dt>iseq.c (iseq_free)
<dd>
<p>catch up this fix.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>vm_dump.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+06-3A25-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 06:25:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_call_info_t::blockiseq and rb_block_t::iseq.</p>
</dd><dt>vm.c, vm_insnhelper.c
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>constify the first iseq parameter.</p>
</dd><dt>vm_insnhelper.c (vm_make_proc_with_iseq)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+06-3A17-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 06:17:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>constify rb_method_iseq_t::iseqptr.</p>
</dd><dt>proc.c (rb_method_entry_min_max_arity)
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_insnhelper.c (def_iseq_ptr)
<dd>
<p>constify.</p>
</dd></dl>

<h3 id="label-Wed+Jul+22+03-3A37-3A39+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 22 03:37:39 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (internal_object_p)
<dd>
<p>Now a singleton classes appear by <a
href="../classes/ObjectSpace.html#method-c-each_object">ObjectSpace.each_object</a>.
[Bug #11360]</p>
</dd><dt>test/ruby/test_objectspace.rb
<dd>
<p>add a test about it.</p>
</dd></dl>

<h2 id="label-2015-07-21">2015-07-21</h2>

<h3 id="label-Tue+Jul+21+21-3A21-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 21 21:21:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (do_select)
<dd>
<p>replace switch and goto with a loop to suppress maybe-uninitialized
warnings by gcc6.</p>
</dd><dt>thread.c (set_unblock_function, rb_wait_for_single_fd)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+20-3A32-3A33+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Jul 21 20:32:33 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_range.rb
<dd>
<p>Add test for <a href="../classes/Range.html#method-i-hash">Range#hash</a>
[fix GH-969] Patch by @yui-knk</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+19-3A43-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 21 19:43:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c
<dd>
<p>constify the first parameter (iseq). * iseq_add_mark_object() *
iseq_add_mark_object_compile_time()</p>
</dd><dt>iseq.c, iseq.h (rb_iseq_add_mark_object)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+16-3A18-3A48+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul 21 16:18:48 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_nonblock.rb
<dd>
<p>increase buffer sizes to OpenBSD limits. Thanks to Jeremy Evans
&lt;code@jeremyevans.net&gt; [ruby-core:70058]</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+16-3A08-3A53+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul 21 16:08:53 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (ruby_dln_librefs)
<dd>
<p>make static</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+13-3A36-3A54+2015++yuuji.yaginuma++-3Cyuuji.yaginuma-40gmail.com-3E">Tue Jul 21 13:36:54 2015  yuuji.yaginuma  &lt;yuuji.yaginuma@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb (complete)
<dd>
<p>[DOC] fix typo.  [Fix GH-973]</p>
</dd></dl>

<h3 id="label-Tue+Jul+21+05-3A20-3A21+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul 21 05:20:21 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (nogvl_wait_for_single_fd)
<dd>
<p>new function for Linux</p>
</dd><dt>(maygvl_copy_stream_wait_read)
<dd>
<p>Linux-specific version</p>
</dd><dt>(nogvl_copy_stream_wait_write)
<dd>
<p>use nogvl_wait_for_single_fd [ruby-core:70051] [Feature #11377]</p>
</dd></dl>

<h2 id="label-2015-07-20">2015-07-20</h2>

<h3 id="label-Mon+Jul+20+15-3A04-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jul 20 15:04:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parser_initialize)
<dd>
<p>avoid redundant zero-ing</p>
</dd></dl>

<h3 id="label-Mon+Jul+20+12-3A12-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jul 20 12:12:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (struct parser_params)
<dd>
<p>pack: 88 =&gt; 256 bytes on 64-bit [ruby-core:70034] [Feature #11371]</p>
</dd></dl>

<h2 id="label-2015-07-19">2015-07-19</h2>

<h3 id="label-Sun+Jul+19+14-3A29-3A18+2015++windwiny++-3Cwindwiny.ubt-40gmail.com-3E">Sun Jul 19 14:29:18 2015  windwiny  &lt;windwiny.ubt@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pty/pty.c
<dd>
<p>[DOC] fix example typo, an old name at move from <a
href="../classes/PTY.html#method-c-open">PTY.open</a>.  [Fix GH-972]</p>
</dd></dl>

<h2 id="label-2015-07-18">2015-07-18</h2>

<h3 id="label-Sat+Jul+18+21-3A29-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 18 21:29:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (vm_check_ints_blocking)
<dd>
<p>gather common statements at the end, and prefer LIKELY for Visual C
optimization.</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+20-3A44-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 18 20:44:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_load_internal0)
<dd>
<p>do not raise any exceptions but return the result tag state.</p>
</dd><dt>load.c (rb_load_protect)
<dd>
<p>reduce nested EXEC_TAGs.</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+19-3A52-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 18 19:52:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (run_finalizer)
<dd>
<p>set and restore safe level here to reduce nested EXEC_TAGs.</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+18-3A45-3A22+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 18 18:45:22 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (ruby_cleanup)
<dd>
<p>error_handle() returns exit status to the system, not internal error state,
do not convert the exit status again.</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+10-3A29-3A03+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 18 10:29:03 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb
<dd>
<p>test thread+sigs work after failed exec</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+07-3A20-3A18+2015++Jeremy+Evans++-3Ccode-40jeremyevans.net-3E">Sat Jul 18 07:20:18 2015  Jeremy Evans  &lt;code@jeremyevans.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_nonblock
<dd>
<p>use smaller buffer for sendmsg [ruby-core:70016] [Bug #11364]</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+07-3A04-3A24+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 18 07:04:24 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (trap_handler)
<dd>
<p>cleanup to use RSTRING_GETMEM + memcmp</p>
</dd></dl>

<h3 id="label-Sat+Jul+18+02-3A53-3A06+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul 18 02:53:06 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (argf_read_nonblock)
<dd>
<p>support `exception: false&#39;</p>
</dd><dt>(io_nonblock_eof)
<dd>
<p>new function</p>
</dd><dt>(io_read_nonblock)
<dd>
<p>use io_nonblock_eof</p>
</dd><dt>(argf_getpartial)
<dd>
<p>accept kwargs hash for `exception: false&#39;</p>
</dd><dt>test/ruby/test_argf.rb (test_read_nonblock)
<dd>
<p>new test</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add item for ARGF.read_nonblock [ruby-core:70000] [Feature #11358]</p>
</dd></dl>

<h2 id="label-2015-07-17">2015-07-17</h2>

<h3 id="label-Fri+Jul+17+23-3A51-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 17 23:51:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_eval_cmd)
<dd>
<p>$SAFE=4 has been deprecated.</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+22-3A18-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 17 22:18:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>use enum ruby_tag_type names.</p>
</dd><dt>vm_core.h (ruby_tag_type)
<dd>
<p>move from eval_intern.h for compiling break/next/redo/return.</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+15-3A39-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 17 15:39:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/encoding.h (ENC_CODERANGE_CLEAN_P)
<dd>
<p>predicate that tells if the coderange is clean, that is 7bit or valid, and
no needs to scrub.</p>
</dd><dt>re.c (rb_reg_expr_str)
<dd>
<p>use ENC_CODERANGE_CLEAN_P.</p>
</dd><dt>string.c (enc_strlen, rb_enc_cr_str_buf_cat, rb_str_scrub)
<dd>
<p>ditto.</p>
</dd><dt>string.c (rb_str_enumerate_chars)
<dd>
<p>ditto, and suppress a warning by gcc6.</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+15-3A36-3A52+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Jul 17 15:36:52 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_range.rb (test_first_last)
<dd>
<p>Add test for `Range.new`.  [Fix GH-971]</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+15-3A36-3A40+2015++yui-knk++-3Cspiketeika-40gmail.com-3E">Fri Jul 17 15:36:40 2015  yui-knk  &lt;spiketeika@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_range.rb (test_first_last)
<dd>
<p>Add assertions to test of `Range#last` with exclude_end true case.  [Fix
GH-970]</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+09-3A59-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jul 17 09:59:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_alone)
<dd>
<p>simplify</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+09-3A58-3A32+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jul 17 09:58:32 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rinda/tuplespace.rb
<dd>
<p>remove enumerator require</p>
</dd><dt>test/pathname/test_pathname.rb
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Jul+17+05-3A33-3A58+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jul 17 05:33:58 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_compile_with_option)
<dd>
<p>reuse result of previous GET_THREAD() call</p>
</dd><dt>thread.c (thread_create_core)
<dd>
<p>ditto</p>
</dd><dt>(rb_mutex_trylock)
<dd>
<p>ditto</p>
</dd><dt>(rb_mutex_lock)
<dd>
<p>ditto</p>
</dd><dt>process.c (rb_waitpid)
<dd>
<p>avoid multiple eval from RUBY_VM_CHECK_INTS</p>
</dd><dt>thread.c (rb_thread_check_ints)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-07-16">2015-07-16</h2>

<h3 id="label-Thu+Jul+16+19-3A12-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 16 19:12:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (mutex_alloc)
<dd>
<p>remove needless volatile</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+22-3A05-3A29+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 16 22:05:29 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>constify rb_iseq_t::parent_iseq. rb_iseq_t::local_iseq is not constant data
because local_iseq::flip_cnt can be modified (commented).</p>
</dd><dt>compile.c
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+21-3A47-3A47+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jul 16 21:47:47 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (redirect_dup2)
<dd>
<p>when the new FD of dup2() conflicts with one of the timer thread FDs, the
internal FD is diverted. [Bug #11336] [ruby-core:69886] [Bug #11350]
[ruby-core:69961]</p>
</dd><dt>process.c (dup2_with_divert)
<dd>
<p>new function for the above purpose.</p>
</dd><dt>thread_pthread.c (rb_divert_reserved_fd)
<dd>
<p>new function for diverting reserved FD. If the given FD is the same as one
of the reserved FDs, the reserved FD number is internally changed. It
returns -1 when error. Otherwise, returns 0. It also returns 0 if there is
no need to change reserved FD number.</p>
</dd><dt>thread_win32.c (rb_divert_reserved_fd)
<dd>
<p>always returns 0 because of no reserved FDs.</p>
</dd><dt>internal.h (rb_divert_reserved_fd)
<dd>
<p>prototype declaration. It is Ruby internal use only.</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+21-3A47-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul 16 21:47:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_disasm)
<dd>
<p>rename rb_iseq_t *iseqdat to iseq and VALUE *iseq to code.</p>
</dd><dt>iseq.c (rb_iseq_disasm_insn)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+14-3A34-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul 16 14:34:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (REWIND_CFP)
<dd>
<p>keep the arguments region inside the valid value stack.  [ruby-core:69969]
[Bug #11352]</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+11-3A38-3A21+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 16 11:38:21 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (close_unless_reserved)
<dd>
<p>declare type of `fd&#39; arg</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+08-3A47-3A29+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 16 08:47:29 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (rb_construct_expanded_load_path)
<dd>
<p>fstring expanded path</p>
</dd><dt>(get_loaded_features_index)
<dd>
<p>fstring feature path</p>
</dd><dt>(rb_provide_feature)
<dd>
<p>ditto [ruby-core:69871] [Feature #11331]</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+02-3A56-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul 16 02:56:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_initialize)
<dd>
<p>avoid RSTRING_PTR and NUMT2INT</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+01-3A00-3A46+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jul 16 01:00:46 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_exec_close_reserved_fd)
<dd>
<p>test for [Bug #11353]</p>
</dd></dl>

<h3 id="label-Thu+Jul+16+00-3A35-3A42+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu Jul 16 00:35:42 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignore version.i.</p>
</dd></dl>

<h2 id="label-2015-07-15">2015-07-15</h2>

<h3 id="label-Wed+Jul+15+23-3A40-3A32+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Jul 15 23:40:32 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb (test_deadlock_by_signal_at_forking)
<dd>
<p>use RUBY (= EnvUtil.rubybin)</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+23-3A01-3A22+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Jul 15 23:01:22 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (redirect_close, parent_redirect_close)
<dd>
<p>should not close reserved FD. It should be closed in the exec system call
due to the O_CLOEXEC or FD_CLOEXEC flag. [Bug #11353] [ruby-core:69977]</p>
</dd><dt>process.c (close_unless_reserved)
<dd>
<p>new function to close FD unless it is reserved for internal communication.</p>
</dd><dt>thread_pthread.c (rb_reserved_fd_p)
<dd>
<p>should check owner_process pid to avoid false positive in forked child
process.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+18-3A31-3A18+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul 15 18:31:18 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_mark)
<dd>
<p>remove redundant check</p>
</dd><dt>vm.c (env_mark)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+17-3A27-3A40+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul 15 17:27:40 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_mark)
<dd>
<p>remove check for data pointer</p>
</dd><dt>proc.c (binding_mark)
<dd>
<p>ditto</p>
</dd><dt>vm.c (rb_thread_mark)
<dd>
<p>ditto</p>
</dd><dt>vm_trace.c (tp_mark)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+16-3A55-3A04+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 15 16:55:04 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>encoding.c (enc_autoload)
<dd>
<p>drop dummy encoding flag from the loaded encoding index.  this flag is used
only in this source.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+14-3A39-3A29+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 15 14:39:29 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_make_env_each)
<dd>
<p>add comments about env layout. Do not use `i&#39; to specify `new_ep&#39;.</p>
</dd><dt>vm.c (rb_proc_create, rb_vm_make_proc_lambda)
<dd>
<p>envval is not used.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+08-3A59-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul 15 08:59:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.h (RUBY_MARK_UNLESS_NULL)
<dd>
<p>evaluate the argument only once to get rid of inadvertent side effects.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+02-3A53-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 15 02:53:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, vm.c
<dd>
<p>remove rb_proc_t::envval because we can know it via rb_proc_t::block::ep.
rb_vm_proc_envval(const rb_proc_t *proc) returns an Env object which the <a
href="../classes/Proc.html">Proc</a> object use.</p>
</dd><dt>proc.c
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_dump.c (rb_vmdebug_proc_dump_raw)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+02-3A27-3A22+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 15 02:27:22 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h, vm.c
<dd>
<p>remove rb_env_t::prev_envval because we can know it via env-&gt;ep.
rb_vm_env_prev_envval(env) returns prev_envval via env-&gt;ep.</p>
</dd><dt>vm_core.h (rb_vm_env_local_variables)
<dd>
<p>change parameter type from VALUE (T_DATA/env) to `const rb_env_t *&#39; to
make same as rb_vm_env_prev_envval().</p>
</dd><dt>proc.c
<dd>
<p>catch up these changes.</p>
</dd><dt>vm_dump.c
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>rename macros. * ENV_IN_HEAP_P() to VM_EP_IN_HEAP_P() because it uses ep. *
ENV_VAL() to VM_ENV_EP_ENVVAL() because it is too short.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+01-3A09-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jul 15 01:09:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>refactoring Proc/Env related code.</p>
</dd><dt>vm_core.h
<dd>
<p>remove blockprocval field from rb_proc_t and rb_binding_t. Instead of this
field, mark given block in <a href="../classes/Proc.html">Proc</a> at
rb_env_t::env.</p>
</dd><dt>vm.c (vm_make_env_each)
<dd>
<p>make an Env object with this layout. And also simplify parameters.</p>
</dd><dt>proc.c
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_core.h
<dd>
<p>remove rb_env_t::local_size because it is not used.</p>
</dd><dt>vm_dump.c (rb_vmdebug_env_dump_raw)
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_core.h (rb_vm_make_env_object)
<dd>
<p>remove rb_vm_make_env_object() because it is only referred from vm.c.</p>
</dd><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+00-3A03-3A36+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jul 15 00:03:36 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (__has_feature)
<dd>
<p>move into internal.h.</p>
</dd><dt>internal.h (__has_feature)
<dd>
<p>ditto.</p>
</dd><dt>internal.h (__has_extension)
<dd>
<p>new macro.</p>
</dd><dt>internal.h (STATIC_ASSERT)
<dd>
<p>use _Static_assert with clang. [ruby-core:69931] [Bug #11343]</p>
</dd></dl>

<h3 id="label-Wed+Jul+15+00-3A00-3A00+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jul 15 00:00:00 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_syscall)
<dd>
<p>fix compile error with clang. [ruby-core:69931] [Bug #11343]</p>
</dd></dl>

<h2 id="label-2015-07-14">2015-07-14</h2>

<h3 id="label-Tue+Jul+14+11-3A22-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul 14 11:22:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#register)
<dd>
<p>notify the handler thread of new timeout registration.</p>
</dd><dt>lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#initialize)
<dd>
<p>make sleep intervals adaptive than fixed period intervals.</p>
</dd><dt>lib/webrick/server.rb (WEBrick::GenericServer#start)
<dd>
<p>flush shutdown pipe.</p>
</dd><dt>lib/webrick/server.rb (WEBrick::GenericServer#stop)
<dd>
<p>request the server to stop immediately by sending data via shutdown pipe.</p>
</dd></dl>

<h2 id="label-2015-07-13">2015-07-13</h2>

<h3 id="label-Mon+Jul+13+23-3A58-3A08+2015++Stefano+Tortarolo++-3Cstefano.tortarolo-40gmail.com-3E">Mon Jul 13 23:58:08 2015  Stefano Tortarolo  &lt;stefano.tortarolo@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#do_CONNECT)
<dd>
<p>fix typos in debugger statements.  [Fix GH-967]</p>
</dd></dl>

<h3 id="label-Mon+Jul+13+19-3A11-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul 13 19:11:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (timeout)
<dd>
<p>warn as deprecated for a long time.</p>
</dd></dl>

<h3 id="label-Mon+Jul+13+01-3A37-3A27+2015++Zachary+Scott++-3Czzak-40ruby-lang.org-3E">Mon Jul 13 01:37:27 2015  Zachary Scott  &lt;zzak@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.c
<dd>
<p>[DOC] Backport b9ea8ef at ruby/openssl [Bug #11345] Thanks to Tomoya Chiba
for the report and help with patch.</p>
</dd></dl>

<h2 id="label-2015-07-12">2015-07-12</h2>

<h3 id="label-Sun+Jul+12+09-3A20-3A02+2015++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sun Jul 12 09:20:02 2015  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/basicsocket.c
<dd>
<p>[DOC] typo (Errno::AGAIN -&gt; Errno::EAGAIN)</p>
</dd><dt>ext/socket/socket.c
<dd>
<p>ditto</p>
</dd><dt>ext/socket/tcpserver.c
<dd>
<p>ditto</p>
</dd><dt>ext/socket/udpsocket.c
<dd>
<p>ditto</p>
</dd><dt>ext/socket/unixserver.c
<dd>
<p>ditto</p>
</dd><dt>io.c
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sun+Jul+12+06-3A42-3A23+2015++ksss++-3Cco000ri-40gmail.com-3E">Sun Jul 12 06:42:23 2015  ksss  &lt;co000ri@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/stringio/test_stringio.rb (test_sysread)
<dd>
<p>add a test for <a
href="../classes/IO/generic_readable.html#method-i-sysread">IO::generic_readable#sysread</a>.
[Fix GH-966]</p>
</dd></dl>

<h2 id="label-2015-07-11">2015-07-11</h2>

<h3 id="label-Sat+Jul+11+21-3A16-3A34+2015++ksss++-3Cco000ri-40gmail.com-3E">Sat Jul 11 21:16:34 2015  ksss  &lt;co000ri@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (Init_stringio)
<dd>
<p>[DOC] Fix an example, <a
href="../classes/IO/generic_writable.html#method-i-puts">IO::generic_writable#puts</a>
should be set “n” at last.  [Fix GH-965]</p>
</dd></dl>

<h3 id="label-Sat+Jul+11+12-3A45-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul 11 12:45:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (Timeout#timeout)
<dd>
<p>remove regexp with wrong line number and fix caller depth.</p>
</dd></dl>

<h2 id="label-2015-07-10">2015-07-10</h2>

<h3 id="label-Fri+Jul+10+22-3A05-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 10 22:05:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/timeout.rb (ExitException)
<dd>
<p>removed internal exception class and use <a
href="../classes/Timeout/Error.html">Timeout::Error</a> instead, as using
throw/catch to isolate each timeouts now.  [ruby-dev:49179] [Bug #11344]</p>
</dd></dl>

<h3 id="label-Fri+Jul+10+17-3A41-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul 10 17:41:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (is_case_sensitive)
<dd>
<p>get attributes by the file descriptor of open directory, instead of using
mount point name.</p>
</dd></dl>

<h3 id="label-Fri+Jul+10+10-3A46-3A02+2015++ksss++-3Cco000ri-40gmail.com-3E">Fri Jul 10 10:46:02 2015  ksss  &lt;co000ri@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (writable)
<dd>
<p>remove unnecessary check for deprecated safe level 4.  [Fix GH-963]</p>
</dd></dl>

<h2 id="label-2015-07-09">2015-07-09</h2>

<h3 id="label-Thu+Jul++9+15-3A07-3A12+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jul  9 15:07:12 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (waitpid)
<dd>
<p>return immediately if interrupted. reported by &lt;takkanm AT gmail.com&gt;
[ruby-dev:49176] [Bug #11340]</p>
</dd></dl>

<h3 id="label-Thu+Jul++9+13-3A03-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul  9 13:03:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>use CI_SET_FASTPATH().</p>
</dd></dl>

<h3 id="label-Thu+Jul++9+11-3A07-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul  9 11:07:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_call_info_t::klass because rb_callable_method_entry_t has
information about defined class.</p>
</dd><dt>vm_insnhelper.c (vm_search_method)
<dd>
<p>don&#39;t set ci-&gt;klass because it is removed.</p>
</dd><dt>vm_insnhelper.c (rb_equal_opt)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_search_superclass)
<dd>
<p>removed because it is too simple to write code directly.</p>
</dd><dt>vm_insnhelper.c (vm_defined)
<dd>
<p>don&#39;t use vm_search_superclass(). This fix avoid searching current
callable `me&#39; twice.</p>
</dd><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jul++9+10-3A03-3A10+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jul  9 10:03:10 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/responses.rb
<dd>
<p>Added 308 status to CODE_TO_OBJ list. [fix GH-961] Patch by @billinghamj</p>
</dd></dl>

<h3 id="label-Thu+Jul++9+09-3A34-3A14+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul  9 09:34:14 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_control_frame_t)
<dd>
<p>fix comments (layout index).</p>
</dd></dl>

<h3 id="label-Thu+Jul++9+09-3A25-3A50+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Thu Jul  9 09:25:50 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y
<dd>
<p>Improve duplicate key warning with patch by @andremedeiros [Fix GH-938] <a
href="https://github.com/ruby/ruby/pull/938">github.com/ruby/ruby/pull/938</a>
[Bug #11327]</p>
</dd></dl>

<h2 id="label-2015-07-08">2015-07-08</h2>

<h3 id="label-Wed+Jul++8+07-3A43-3A01+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jul  8 07:43:01 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>typo fix [ci skip][fix GH-958] Patch by @henrik</p>
</dd></dl>

<h3 id="label-Wed+Jul++8+04-3A42-3A27+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul  8 04:42:27 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_data_to_ary)
<dd>
<p>dump kw_arg as symbol</p>
</dd><dt>test/-ext-/iseq_load/test_iseq_load.rb
<dd>
<p>test kw_arg roundtrip [ruby-core:69891] [Bug #11338]</p>
</dd></dl>

<h2 id="label-2015-07-07">2015-07-07</h2>

<h3 id="label-Tue+Jul++7+18-3A18-3A41+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue Jul  7 18:18:41 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_syscall)
<dd>
<p>fix compile error.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+16-3A47-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul  7 16:47:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (COMPILE_ERROR)
<dd>
<p>reduce GET_THREAD() calls</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+16-3A39-3A04+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul  7 16:39:04 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes_syscall)
<dd>
<p>return -1 for error</p>
</dd><dt>random.c (fill_random_bytes)
<dd>
<p>try urandom on syscall failure</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+15-3A02-3A18+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jul  7 15:02:18 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_str_normalize_ospath)
<dd>
<p>skip invalid byte sequence not to loop infinitely.  this case usually does
not happen as the input name should come from real file systems.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+14-3A40-3A08+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 14:40:08 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_backtrace.c
<dd>
<p>remove debug flag introduced accidentally.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+12-3A05-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 12:05:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (cont_free)
<dd>
<p>remove mysterious fflush() introduced at r19890, maybe accidentally.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+11-3A45-3A14+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 11:45:14 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_call)
<dd>
<p>because data-&gt;me should be non-NULL, do not check data-&gt;me</p>
</dd><dt>proc.c (method_inspect)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+11-3A37-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 11:37:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_iseq_t::orig because rb_iseq_clone() no longer exists.</p>
</dd><dt>iseq.c
<dd>
<p>don&#39;t use rb_iseq_t::orig.</p>
</dd></dl>

<h3 id="label-Tue+Jul+07+11-3A25-3A57+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul 07 11:25:57 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c, internal.h (rb_iseq_clone)
<dd>
<p>removed because we don&#39;t need to clone iseq any more.</p>
</dd><dt>class.c (clone_method)
<dd>
<p>share iseq between cloned methods. All of method dependent information are
able to refer from method entry.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+04-3A42-3A25+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jul  7 04:42:25 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (Init_String)
<dd>
<p>use rb_str_freeze for <a
href="../classes/String.html#method-i-freeze">String#freeze</a> to resize
internal buffer [ruby-core:69870] [Feature #11330]</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+04-3A12-3A32+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 04:12:32 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_define_method)
<dd>
<p>remove an unused local variable.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+03-3A57-3A28+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 03:57:28 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_iseq_t::defined_method_id because it is not needed.</p>
</dd><dt>eval.c (frame_func_id)
<dd>
<p>simplify. rb_callable_method_entry_t has enough information.</p>
</dd><dt>eval.c (frame_called_id)
<dd>
<p>ditto.</p>
</dd><dt>iseq.c (prepare_iseq_build)
<dd>
<p>catch up this fix.</p>
</dd><dt>proc.c (rb_mod_define_method)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (vm_define_method)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+03-3A47-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 03:47:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove a useless declaration.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+03-3A33-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 03:33:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>remove rb_iseq_t::klass to reduce dynamic data.</p>
</dd><dt>internal.h, iseq.c (rb_iseq_klass)
<dd>
<p>remove it because rb_iseq_t::klass is removed.</p>
</dd><dt>vm_insnhelper.c (vm_super_outside)
<dd>
<p>do not see cfp-&gt;iseq, but check callable method entry on a frame. This
fix simplify the logic to search super class.</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>support super() from <a href="../classes/Proc.html">Proc</a>. Now, [Bug
#4881] and [Bug #3136] was solved.</p>
</dd><dt>proc.c (rb_mod_define_method)
<dd>
<p>catch up this change.</p>
</dd><dt>vm.c (vm_define_method)
<dd>
<p>ditto.</p>
</dd><dt>vm_backtrace.c (rb_profile_frames)
<dd>
<p>now, each `frame&#39; objects are rb_callable_method_entry_t data or iseq
VALUEs. This fix introduce minor compatibility issue that
rb_profile_frame_label() always returns rb_profile_frame_base_label().</p>
</dd><dt>test/-ext-/debug/test_profile_frames.rb
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Tue+Jul++7+01-3A52-3A14+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jul  7 01:52:14 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (fiber_init)
<dd>
<p>initialize control frame correctly. This fix does not affect any ordinal
execution, but affects debug prints.</p>
</dd></dl>

<h2 id="label-2015-07-06">2015-07-06</h2>

<h3 id="label-Mon+Jul++6+17-3A59-3A05+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  6 17:59:05 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_search_super_method)
<dd>
<p>do not skip calling same methods in super. [Bug #3351]</p>
</dd><dt>test/ruby/test_super.rb
<dd>
<p>fix a test.</p>
</dd></dl>

<h3 id="label-Mon+Jul++6+17-3A59-3A11+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Jul  6 17:59:11 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tcltklib.c
<dd>
<p>removed deprecated safe level.</p>
</dd></dl>

<h3 id="label-Mon+Jul++6+17-3A16-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jul  6 17:16:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h, proc.c (rb_method_entry_location)
<dd>
<p>make it static and remove prefix `rb_&#39; because it is used only in
proc.c.</p>
</dd></dl>

<h3 id="label-Mon+Jul++6+16-3A42-3A10+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Jul  6 16:42:10 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/memory_status.rb
<dd>
<p>removed redundant path.</p>
</dd></dl>

<h3 id="label-Mon+Jul++6+01-3A18-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jul  6 01:18:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit/parallel.rb
<dd>
<p>make @@project_dir one level upper as this file had moved one level deeper.</p>
</dd></dl>

<h2 id="label-2015-07-05">2015-07-05</h2>

<h3 id="label-Sun+Jul++5+23-3A54-3A10+2015++mizokami++-3Csuzunatsu-40yahoo.com-3E">Sun Jul  5 23:54:10 2015  mizokami  &lt;suzunatsu@yahoo.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>[DOC] Fix typo.</p>
</dd></dl>

<h3 id="label-Sun+Jul++5+18-3A25-3A37+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul  5 18:25:37 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_profile_record_get)
<dd>
<p>fix spelling error in keys</p>
</dd></dl>

<h3 id="label-Sun+Jul++5+14-3A49-3A01+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Sun Jul  5 14:49:01 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README.md</a>
<dd>
<p>fix a typo pointed out by raoulvdberge. <a
href="https://github.com/ruby/ruby/pull/953#commitcomment-11998186">github.com/ruby/ruby/pull/953#commitcomment-11998186</a></p>
</dd></dl>

<h3 id="label-Sun+Jul++5+12-3A56-3A20+2015++Irvi+Firqotul+Aini++-3Cviarc7-40gmail.com-3E">Sun Jul  5 12:56:20 2015  Irvi Firqotul Aini  &lt;viarc7@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README.md</a>
<dd>
<p>Added link HowToReport bugs.</p>
</dd></dl>

<h3 id="label-Sun+Jul++5+10-3A51-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jul  5 10:51:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_sort_bang)
<dd>
<p>the original array may not be embedded even if a substitution array is
embedded, as it is embedded when the original array is short enough but not
embedded.  [ruby-dev:49166] [Bug #11332]</p>
</dd></dl>

<h3 id="label-Sun+Jul++5+09-3A31-3A40+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Jul  5 09:31:40 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb
<dd>
<p>test for fd=3 usability in child</p>
</dd></dl>

<h2 id="label-2015-07-04">2015-07-04</h2>

<h3 id="label-Sat+Jul++4+19-3A43-3A31+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Jul  4 19:43:31 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Jul++4+19-3A39-3A08+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Jul  4 19:39:08 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Sat+Jul++4+14-3A38-3A43+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul  4 14:38:43 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (zip_ary)
<dd>
<p>remove volatile, use RB_GC_GUARD</p>
</dd><dt>(zip_i)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Sat+Jul++4+10-3A42-3A57+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jul  4 10:42:57 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/test_case.rb (teardown)
<dd>
<p>do not delete features loaded from the original load paths, the same
libraries should be loaded again when the same features are required.
[ruby-dev:49031] [Bug #11222]</p>
</dd></dl>

<h3 id="label-Sat+Jul++4+09-3A38-3A52+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jul  4 09:38:52 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_mark)
<dd>
<p>reduce branches for always-set VM fields</p>
</dd><dt>(rb_vm_add_root_module)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-07-03">2015-07-03</h2>

<h3 id="label-Fri+Jul+03+20-3A05-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jul 03 20:05:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>introduce rb_callable_method_entry_t to remove rb_control_frame_t::klass.
[Bug #11278], [Bug #11279] rb_method_entry_t data belong to
modules/classes. rb_method_entry_t::owner points defined module or class.
module M def foo; end end In this case, owner is M.
rb_callable_method_entry_t data belong to only classes. For modules, MRI
creates corresponding T_ICLASS internally. rb_callable_method_entry_t can
also belong to T_ICLASS. rb_callable_method_entry_t::defined_class points
T_CLASS or T_ICLASS. rb_method_entry_t data for classes (not for modules)
are also rb_callable_method_entry_t data because it is completely same
data. In this case, rb_method_entry_t::owner ==
rb_method_entry_t::defined_class. For example, there are classes C and D,
and includes M, class C; include M; end class D; include M; end then, two
T_ICLASS objects for C&#39;s super class and D&#39;s super class will be
created. When C.new.foo is called, then M#foo is searched and
rb_callable_method_t data is used by VM to invoke M#foo. rb_method_entry_t
data is only one for M#foo. However, rb_callable_method_entry_t data are
two (and can be more). It is proportional to the number of including (and
prepending) classes (the number of T_ICLASS which point to the module).
Now, created rb_callable_method_entry_t are collected when the original
module M was modified. We can think it is a cache. We need to select what
kind of method entry data is needed. To operate definition, then you need
to use rb_method_entry_t. You can access them by the following functions. *
rb_method_entry(VALUE klass, ID id); *
rb_method_entry_with_refinements(VALUE klass, ID id); *
rb_method_entry_without_refinements(VALUE klass, ID id); *
rb_resolve_refined_method(VALUE refinements, const rb_method_entry_t *me);
To invoke methods, then you need to use rb_callable_method_entry_t which
you can get by the following APIs corresponding to the above listed
functions. * rb_callable_method_entry(VALUE klass, ID id); *
rb_callable_method_entry_with_refinements(VALUE klass, ID id); *
rb_callable_method_entry_without_refinements(VALUE klass, ID id); *
rb_resolve_refined_method_callable(VALUE refinements, const
rb_callable_method_entry_t *me); VM pushes rb_callable_method_entry_t, so
that rb_vm_frame_method_entry() returns rb_callable_method_entry_t. You can
check a super class of current method by
rb_callable_method_entry_t::defined_class.</p>
</dd><dt>method.h
<dd>
<p>renamed from rb_method_entry_t::klass to rb_method_entry_t::owner.</p>
</dd><dt>internal.h
<dd>
<p>add rb_classext_struct::callable_m_tbl to cache rb_callable_method_entry_t
data. We need to consider about this field again because it is only active
for T_ICLASS.</p>
</dd><dt>class.c (method_entry_i)
<dd>
<p>ditto.</p>
</dd><dt>class.c (rb_define_attr)
<dd>
<p>rb_method_entry() does not takes defined_class_ptr.</p>
</dd><dt>gc.c (mark_method_entry)
<dd>
<p>mark RCLASS_CALLABLE_M_TBL() for T_ICLASS.</p>
</dd><dt>cont.c (fiber_init)
<dd>
<p>rb_control_frame_t::klass is removed.</p>
</dd><dt>proc.c
<dd>
<p>fix `struct METHOD&#39; data structure because rb_callable_method_t has all
information.</p>
</dd><dt>vm_core.h
<dd>
<p>remove several fields. * rb_control_frame_t::klass. * rb_block_t::klass.
And catch up changes.</p>
</dd><dt>eval.c
<dd>
<p>catch up changes.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>insns.def
<dd>
<p>ditto.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd><dt>vm_backtrace.c
<dd>
<p>ditto.</p>
</dd><dt>vm_dump.c
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jul++3+14-3A30-3A18+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul  3 14:30:18 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c
<dd>
<p>some mingw compilers need a tweek for the declarations of _wfreopen_s. 
[Bug #11320]</p>
</dd></dl>

<h3 id="label-Fri+Jul++3+12-3A25-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul  3 12:25:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (rb_econv_set_replacement)
<dd>
<p>target encoding name can be empty now.  [ruby-core:69841] [Bug #11324]</p>
</dd></dl>

<h3 id="label-Fri+Jul++3+07-3A21-3A06+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jul  3 07:21:06 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_io_nonblock_noex.rb
<dd>
<p>new benchmark</p>
</dd><dt>ext/openssl/ossl_ssl.c (no_exception_p)
<dd>
<p>new function</p>
</dd><dt>(ossl_start_ssl)
<dd>
<p>adjust for no_exception_p</p>
</dd><dt>(ossl_ssl_connect)
<dd>
<p>adjust ossl_start_ssl call</p>
</dd><dt>(ossl_ssl_connect_nonblock)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_accept)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_read_internal)
<dd>
<p>adjust for no_exception_p</p>
</dd><dt>(ossl_ssl_write_internal)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_write)
<dd>
<p>adjust ossl_write_internal call</p>
</dd><dt>(ossl_ssl_write_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/stringio/stringio.c (strio_read_nonblock)
<dd>
<p>delay exception check</p>
</dd><dt>io.c (no_exception_p)
<dd>
<p>new function</p>
</dd><dt>(io_getpartial)
<dd>
<p>call no_exception_p</p>
</dd><dt>(io_readpartial)
<dd>
<p>adjust for io_getpartial</p>
</dd><dt>(get_kwargs_exception)
<dd>
<p>remove</p>
</dd><dt>(io_read_nonblock)
<dd>
<p>adjust for io_getpartial, check no_exception_p on EOF</p>
</dd><dt>(io_write_nonblock)
<dd>
<p>call no_exception_p</p>
</dd><dt>(rb_io_write_nonblock)
<dd>
<p>do not check `exception: false&#39;</p>
</dd><dt>(argf_getpartial)
<dd>
<p>adjust for io_getpartial [ruby-core:69778] [Feature #11318]</p>
</dd></dl>

<h3 id="label-Fri+Jul++3+07-3A13-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jul  3 07:13:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>Win32 API does not set errno, get the last error by GetLastError() and map
to errno.  [Bug #10015]</p>
</dd></dl>

<h2 id="label-2015-07-02">2015-07-02</h2>

<h3 id="label-Thu+Jul++2+21-3A32-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 21:32:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>show warnings at errors. [Bug #10015]</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+18-3A39-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul  2 18:39:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove `#define RGENGC_OBJ_INFO 1&#39; line introduced to debug Bug #11244.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+18-3A34-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jul  2 18:34:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_raw_obj_info)
<dd>
<p>separated from rb_obj_info(). Fill internal object information into passed
buffer.</p>
</dd><dt>gc.h
<dd>
<p>declare rb_raw_obj_info().</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+16-3A15-3A04+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 16:15:04 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>update path type by the target attributes if possible, to improve the
performance.  [Bug #10015]</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+14-3A45-3A53+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jul  2 14:45:53 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c
<dd>
<p>get rid of VC++&#39;s warnings of C4700 (uninitialized local variable
used).  I think that these are wrong, but should shut them up.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+14-3A15-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 14:15:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb (Gem.load_path_insert_index)
<dd>
<p>search @gem_prelude_index first.</p>
</dd><dt>lib/rubygems/test_case.rb (Gem::TestCase#setup)
<dd>
<p>keep already expanded paths to preserve instance variables.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+14-3A12-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 14:12:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby.c (process_options)
<dd>
<p>also copy initial load path marks at setting load paths encoding.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+12-3A26-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 12:26:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_server.rb (process_based_port)
<dd>
<p>use dynamically chosen port numbers to get rid of conflicts.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+11-3A58-3A59+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jul  2 11:58:59 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_specification.rb
<dd>
<p>skip tests which the platform does not permit the filename of its test
file.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+11-3A36-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jul  2 11:36:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_resolver_git_specification.rb
<dd>
<p>require rubygems/installer.rb before <a
href="../classes/Gem/TestCase.html#method-i-setup">Gem::TestCase#setup</a>
runs, otherwise as <a
href="../classes/Gem/TestCase.html#method-i-teardown">Gem::TestCase#teardown</a>
restores $LOADED_FEATURES to the state at that time, the requiring the file
in GitSpecification#install method causes a lot of constant redefinitions.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+10-3A43-3A36+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jul  2 10:43:36 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/rubysocket.h
<dd>
<p>flags for common socket families</p>
</dd><dt>(rsock_getfamily)
<dd>
<p>update signature</p>
</dd><dt>include/ruby/io.h
<dd>
<p>comment socket FMODE flags</p>
</dd><dt>ext/socket/init.c (rsock_getfamily)
<dd>
<p>memoize family</p>
</dd><dt>ext/socket/basicsocket.c
<dd>
<p>adjust rsock_getfamily calls</p>
</dd><dt>ext/socket/ancdata.c
<dd>
<p>ditto [ruby-core:69713] [Feature #11298]</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+10-3A30-3A01+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jul  2 10:30:01 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/resolver.rb
<dd>
<p>fixed <a href="../classes/NameError.html">NameError</a> of
Gem::Util::NULL_DEVICE.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+09-3A51-3A44+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jul  2 09:51:44 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/resolver.rb
<dd>
<p>fix error of null device reference with DOSISH platform.</p>
</dd></dl>

<h3 id="label-Thu+Jul++2+06-3A49-3A44+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jul  2 06:49:44 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems HEAD(c202db2). this version contains many enhancements
see <a href="http://git.io/vtNwF">git.io/vtNwF</a></p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-07-01">2015-07-01</h2>

<h3 id="label-Wed+Jul++1+23-3A50-3A34+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jul  1 23:50:34 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_httpresponse.rb (HTTPResponseTest#test_read_body_content_encoding_deflate_uppercase)
<dd>
<p>fix a failure without zlib.</p>
</dd></dl>

<h3 id="label-Wed+Jul++1+10-3A54-3A56+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jul  1 10:54:56 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h3 id="label-Wed+Jul++1+09-3A30-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  1 09:30:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (struct_set_members)
<dd>
<p>hide internal back_members object, and members object does not need to be
duped as it should be frozen and hidden.</p>
</dd></dl>

<h3 id="label-Wed+Jul++1+09-3A28-3A47+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jul  1 09:28:47 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (struct_member_pos)
<dd>
<p>revert r51080 to fix other implicit conversions but cast the return value
to fix the previous implicit conversion.</p>
</dd></dl>

<h3 id="label-Wed+Jul++1+08-3A47-3A24+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Jul  1 08:47:24 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (struct_member_pos)
<dd>
<p>avoid implicit conversion loses integer precision: &#39;long&#39; to
&#39;int&#39;.</p>
</dd></dl>

<h3 id="label-Wed+Jul++1+05-3A57-3A03+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul  1 05:57:03 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_add_method_iseq)
<dd>
<p>add RB_GC_GUARD</p>
</dd><dt>class.c (clone_method)
<dd>
<p>remove RB_GC_GUARD</p>
</dd><dt>struct.c (define_aref_method)
<dd>
<p>ditto</p>
</dd><dt>(define_aset_method)
<dd>
<p>ditto</p>
</dd><dt>vm.c (vm_define_method)
<dd>
<p></p>
</dd><dt>iseq.c (rb_iseq_clone)
<dd>
<p>add RB_GC_GUARD</p>
</dd></dl>

<h3 id="label-Wed+Jul++1+05-3A43-3A58+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jul  1 05:43:58 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (AREF_HASH_THRESHOLD)
<dd>
<p>new macro</p>
</dd><dt>(id_back_members)
<dd>
<p>new ID</p>
</dd><dt>(struct_member_pos_ideal)
<dd>
<p>new function</p>
</dd><dt>(struct_member_pos_probe)
<dd>
<p>ditto</p>
</dd><dt>(struct_set_members)
<dd>
<p>ditto</p>
</dd><dt>(struct_member_pos)
<dd>
<p>ditto</p>
</dd><dt>(rb_struct_getmember)
<dd>
<p>use struct_member_pos for O(1) access</p>
</dd><dt>(rb_struct_aref_sym)
<dd>
<p>ditto</p>
</dd><dt>(rb_struct_aset_sym)
<dd>
<p>ditto</p>
</dd><dt>(setup_struct)
<dd>
<p>call struct_set_members</p>
</dd><dt>(struct_define_without_accessor)
<dd>
<p>ditto</p>
</dd><dt>(Init_Struct)
<dd>
<p>initialize <em>members_back</em> [ruby-core:66851] [ruby-core:69705]
[ruby-core:69821]</p>
</dd></dl>

<h2 id="label-2015-06-30">2015-06-30</h2>

<h3 id="label-Tue+Jun+30+23-3A12-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 30 23:12:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_reopen)
<dd>
<p>FilePathValue() ensures the path NUL-terminated and frozen, so it is
unnecessary to make it shared.</p>
</dd></dl>

<h3 id="label-Tue+Jun+30+23-3A11-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 30 23:11:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (check_dirname)
<dd>
<p>ensure path name NUL-terminated for SHARABLE_MIDDLE_SUBSTRING.</p>
</dd><dt>io.c (rb_sysopen)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun+30+18-3A38-3A16+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jun 30 18:38:16 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_freopen)
<dd>
<p>need to terminate by NUL.</p>
</dd></dl>

<h3 id="label-Tue+Jun+30+17-3A28-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 30 17:28:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_reopen)
<dd>
<p>freopen(3) with OS encoding path. [ruby-core:69780] [Bug #11320]</p>
</dd><dt>win32/file.c (rb_freopen)
<dd>
<p>wrapper of wchar version freopen(3). use _wfreopen_s() if available.</p>
</dd></dl>

<h3 id="label-Tue+Jun+30+08-3A24-3A08+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 30 08:24:08 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_oflags_modestr)
<dd>
<p>handle O_TRUNC correctly</p>
</dd><dt>test/ruby/test_io.rb (test_reopen_stdio)
<dd>
<p>new test Patch-by: cremno phobia &lt;cremno@mail.ru&gt; [ruby-core:69779]
[Bug #11319]</p>
</dd></dl>

<h3 id="label-Tue+Jun+30+02-3A47-3A02+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 30 02:47:02 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/st.h (struct st_table)
<dd>
<p>hide struct list_head</p>
</dd><dt>st.c (struct st_table_entry)
<dd>
<p>adjust struct</p>
</dd><dt>(head, tail)
<dd>
<p>remove shortcut macros</p>
</dd><dt>(st_head)
<dd>
<p>new wrapper function</p>
</dd><dt>(st_init_table_with_size)
<dd>
<p>adjust to new struct and API</p>
</dd><dt>(st_clear)
<dd>
<p>ditto</p>
</dd><dt>(add_direct)
<dd>
<p>ditto</p>
</dd><dt>(unpack_entries)
<dd>
<p>ditto</p>
</dd><dt>(rehash)
<dd>
<p>ditto</p>
</dd><dt>(st_copy)
<dd>
<p>ditto</p>
</dd><dt>(remove_entry)
<dd>
<p>ditto</p>
</dd><dt>(st_shift)
<dd>
<p>ditto</p>
</dd><dt>(st_foreach_check)
<dd>
<p>ditto</p>
</dd><dt>(st_foreach)
<dd>
<p>ditto</p>
</dd><dt>(get_keys)
<dd>
<p>ditto</p>
</dd><dt>(get_values)
<dd>
<p>ditto</p>
</dd><dt>(st_values_check)
<dd>
<p>ditto</p>
</dd><dt>(st_reverse_foreach_check)
<dd>
<p>ditto (unused)</p>
</dd><dt>(st_reverse_foreach)
<dd>
<p>ditto (unused) [ruby-core:69726] [Misc #10278]</p>
</dd></dl>

<h2 id="label-2015-06-29">2015-06-29</h2>

<h3 id="label-Mon+Jun+29+17-3A38-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 29 17:38:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defineclass)
<dd>
<p>do not quote unprintable characters at raising an exception.</p>
</dd></dl>

<h3 id="label-Mon+Jun+29+16-3A01-3A24+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jun 29 16:01:24 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/response.rb (inflater)
<dd>
<p>CONTENT_ENCODING can be upper case. [ruby-core:69670] [Bug #11285] patched
by Andy Chu</p>
</dd></dl>

<h3 id="label-Mon+Jun+29+14-3A50-3A08+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon Jun 29 14:50:08 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (add_activated_refinement)
<dd>
<p>should not include the original class.</p>
</dd></dl>

<h3 id="label-Mon+Jun+29+12-3A09-3A10+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Jun 29 12:09:10 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README.md</a>
<dd>
<p>tweak styles. [fix GH-945][ci skip] Patch by @bryndyment</p>
</dd></dl>

<h3 id="label-Mon+Jun+29+07-3A23-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 29 07:23:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/sizes.c.tmpl
<dd>
<p>extract RUBY_DEFINT to define sizes of types checked by configure.in, and
fix size of intptr_t in universal binary.</p>
</dd></dl>

<h3 id="label-Mon+Jun+29+02-3A10-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun 29 02:10:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defineclass)
<dd>
<p>preserve encoding of name in error messages for super class mismatch.</p>
</dd><dt>insns.def (defineclass)
<dd>
<p>preserve encoding of name in error messages for non-class super.</p>
</dd><dt>insns.def (defineclass)
<dd>
<p>preserve encoding of name in error messages when already defined but type
mismatch.</p>
</dd></dl>

<h2 id="label-2015-06-28">2015-06-28</h2>

<h3 id="label-Sun+Jun+28+12-3A07-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun 28 12:07:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_define_class_id_under)
<dd>
<p>raise <a href="../classes/TypeError.html">TypeError</a> exception same as
ruby level class definition when superclass mismatch.</p>
</dd></dl>

<h2 id="label-2015-06-26">2015-06-26</h2>

<h3 id="label-Fri+Jun+26+12-3A48-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 26 12:48:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>transcode.c (load_transcoder_entry)
<dd>
<p>fix transcoder loading race condition, by waiting in require. 
[ruby-dev:49106] [Bug #11277]</p>
</dd></dl>

<h3 id="label-Fri+Jun+26+07-3A53-3A56+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun 26 07:53:56 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_minmax)
<dd>
<p>simplify return value creation</p>
</dd><dt>test/ruby/test_enum.rb
<dd>
<p>test behavior on empty</p>
</dd><dt>hash.c (rb_hash_fetch_m)
<dd>
<p>remove unnecessary volatile since r41597</p>
</dd><dt>(env_reject_bang)
<dd>
<p>trade volatile for <a href="../classes/GC.html">GC</a> guard</p>
</dd><dt>(env_select)
<dd>
<p>ditto</p>
</dd><dt>(env_select_bang)
<dd>
<p>ditto</p>
</dd><dt>(env_keep_if)
<dd>
<p>ditto</p>
</dd><dt>(rb_env_clear)
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-06-25">2015-06-25</h2>

<h3 id="label-Thu+Jun+25+21-3A24-3A28+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jun 25 21:24:28 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/popen_deadlock/test_popen_deadlock.rb
<dd>
<p>test [Bug #11265]</p>
</dd><dt>ext/-test-/popen_deadlock/infinite_loop_dlsym.c
<dd>
<p>new ext to call dlsym(3) infinitely without GVL, used in the above test.</p>
</dd><dt>ext/-test-/popen_deadlock/extconf.rb
<dd>
<p>extconf.rb for the above ext. Currently, only enabled on Solaris (main
target) and Linux</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Jun+25+19-3A24-3A25+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jun 25 19:24:25 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>not to use vfork on Solaris to avoid deadlock occurred in vfork(2) with
multi-threading and dynamic linker on Solaris. [Bug #11265]
[ruby-dev:49089]</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+18-3A25-3A41+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Jun 25 18:25:41 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb (Test::Unit::Assertions#assert_no_memory_leak)
<dd>
<p>NO_MEMORY_LEAK_ENVS is moved to Memory::NO_MEMORY_LEAK_ENVS to reduce child
executions during test-all on Solaris.</p>
</dd><dt>test/lib/memory_status.rb (Memory::NO_MEMORY_LEAK_ENVS)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+17-3A32-3A33+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 17:32:33 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_create)
<dd>
<p>need to call method_definition_reset() if def is given. Actually, `me&#39;
is a new object, so we don&#39;t need to call it. It is just to make sure.</p>
</dd><dt>vm_method.c (method_definition_reset)
<dd>
<p>remove duplicated insertion.</p>
</dd><dt>vm_method.c (rb_method_entry_clone)
<dd>
<p>assign dst-&gt;def here, not in method_definition_reset().</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+16-3A44-3A54+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 16:44:54 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>make a rb_method_definition_t data (def) <strong>after</strong> making a
rb_method_entry_t data (me). Normally, `me&#39; points `def&#39;. Some Ruby
objects pointed from `def&#39; and objects are marked by `me&#39;
(mark_method_entry() in gc.c). However, `def&#39; is built before making a
`me&#39;, then nobody can mark objects pointed from `def&#39; before making
(and pointing from) `me&#39;. I hope this patch solve #11244.</p>
</dd><dt>vm_method.c
<dd>
<p>remove `rb_&#39; prefix from some static functions.</p>
</dd><dt>method.h (rb_method_entry_create)
<dd>
<p>constify</p>
</dd><dt>gc.c (mark_method_entry)
<dd>
<p>add checking `def&#39; and `def-&gt;body.iseq.iseqptr&#39; availability
because they can be NULL.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+14-3A14-3A16+2015++takiy33++-3Ctakiy33-40gmail.com-3E">Thu Jun 25 14:14:16 2015  takiy33  &lt;takiy33@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_prime.rb (test_eratosthenes_works_fine_after_timeout)
<dd>
<p>use spaces instead of TABs in ruby codes.  [Fix GH-944]</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+07-3A08-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 07:08:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info, method_type_name)
<dd>
<p>show method type name in a string instead of a number.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+06-3A49-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 06:49:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>show more details for T_IMEMO/imemo_ment.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+06-3A40-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 06:40:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_definition_reset)
<dd>
<p>need a WB for VM_METHOD_TYPE_ATTRSET.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+03-3A33-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 25 03:33:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RGENGC_OBJ_INFO, obj_info)
<dd>
<p>add a macro to enable/disable rich obj_info() output. At the default, the
value of RGENGC_OBJ_INFO is</p>
</dd><dd>
<p></p>
</dd><dt>gc.c (RGENGC_OBJ_INFO)
<dd>
<p>force enable it to debug #11244.</p>
</dd><dt>gc.c (gc_mark_ptr)
<dd>
<p>print more details with obj_info().</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>remove useless debug prints.</p>
</dd></dl>

<h3 id="label-Thu+Jun+25+02-3A40-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun 25 02:40:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_read_internal)
<dd>
<p>do not process kwargs in blocking mode</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>test sysread</p>
</dd></dl>

<h2 id="label-2015-06-24">2015-06-24</h2>

<h3 id="label-Wed+Jun+24+16-3A54-3A11+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 24 16:54:11 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>add additional debug code for #11244.</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+16-3A05-3A42+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jun 24 16:05:42 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_justify)
<dd>
<p>use RB_GC_GUARD</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+14-3A25-3A17+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 24 14:25:17 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_ptr)
<dd>
<p>add a check code for #11244. It should be removed later. But we can remain
this check because it is only a branch.</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+12-3A49-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 24 12:49:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_fstring_cstr)
<dd>
<p>new function to make a fstring from a string literal.</p>
</dd><dt>internal.h (rb_fstring_lit)
<dd>
<p>new macro to make a fstring from a string literal.</p>
</dd><dt>include/ruby/intern.h (rb_strlen_lit)
<dd>
<p>new macro to get the length of a string literal, borrowed from e4afd53 at
mruby/mruby.</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+12-3A21-3A16+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jun 24 12:21:16 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c
<dd>
<p>Update documentation for <a href="../classes/Regexp.html">Regexp</a> class.
[fix GH-937][ci skip] Patch by @davydovanton</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+09-3A23-3A03+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jun 24 09:23:03 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (generic_ivar_set)
<dd>
<p>remove FL_ABLE check</p>
</dd><dt>(gen_ivar_copy)
<dd>
<p>ditto [ruby-core:69715]</p>
</dd></dl>

<h3 id="label-Wed+Jun+24+08-3A28-3A15+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Jun 24 08:28:15 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p>reduce stack use [ruby-core:69595] [Feature #11263]</p>
</dd></dl>

<h2 id="label-2015-06-23">2015-06-23</h2>

<h3 id="label-Tue+Jun+23+14-3A32-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jun 23 14:32:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (name_err_receiver)
<dd>
<p>raise <a href="../classes/ArgumentError.html">ArgumentError</a> if no
receiver is available on this exception object.  [Feature #10881]</p>
</dd></dl>

<h3 id="label-Tue+Jun+23+09-3A48-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 23 09:48:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (check_dirname)
<dd>
<p>avoid volatile, use return value</p>
</dd><dt>(dir_s_chroot, dir_s_mkdir, dir_s_rmdir)
<dd>
<p>adjust callers</p>
</dd></dl>

<h3 id="label-Tue+Jun+23+06-3A37-3A10+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 23 06:37:10 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>struct.c (struct_ivar_get)
<dd>
<p>cache member definition in a subclass Thanks to Sokolov Yura aka
funny_falcon &lt;funny.falcon@gmail.com&gt; in <a
href="https://bugs.ruby-lang.org/issues/10585">bugs.ruby-lang.org/issues/10585</a></p>
</dd></dl>

<h3 id="label-Tue+Jun+23+04-3A58-3A06+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 23 04:58:06 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_vm2_struct_big_href_hi.rb
<dd>
<p>new benchmark</p>
</dd><dt>benchmark/bm_vm2_struct_big_href_lo.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_big_hset.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_small_href.rb
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_vm2_struct_small_hset.rb
<dd>
<p>ditto Thanks to Sokolov Yura aka funny_falcon
&lt;funny.falcon@gmail.com&gt; in <a
href="https://bugs.ruby-lang.org/issues/10585">bugs.ruby-lang.org/issues/10585</a></p>
</dd></dl>

<h2 id="label-2015-06-22">2015-06-22</h2>

<h3 id="label-Mon+Jun+22+18-3A08-3A48+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Mon Jun 22 18:08:48 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit.rb (Test::Unit::Parallel#start_watchdog)
<dd>
<p>removed because it has been meaningless since r36385. [Bug #11288]</p>
</dd><dt>test/lib/test/unit.rb (Test::Unit::Parallel#_run_parallel)
<dd>
<p>delete lines related to the removed start_watchdog method</p>
</dd></dl>

<h2 id="label-2015-06-21">2015-06-21</h2>

<h3 id="label-Sun+Jun+21+23-3A52-3A46+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sun Jun 21 23:52:46 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>mention about <a
href="../classes/Array.html#method-i-bsearch_index">Array#bsearch_index</a>
and <a
href="../classes/Hash.html#method-i-fetch_values">Hash#fetch_values</a>.</p>
</dd></dl>

<h3 id="label-Sun+Jun+21+23-3A46-3A27+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sun Jun 21 23:46:27 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add a reference to a ticket.</p>
</dd></dl>

<h3 id="label-Sun+Jun+21+20-3A28-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun 21 20:28:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (roomof)
<dd>
<p>extract from type_roomof, and move from bignum.c.</p>
</dd></dl>

<h3 id="label-Sun+Jun+21+18-3A32-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun 21 18:32:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ruby_atomic.h (ATOMIC_PTR_CAS)
<dd>
<p>define by generic CAS macro, not via size_t, to suppress a warning by mingw
gcc.</p>
</dd></dl>

<h3 id="label-Sun+Jun+21+05-3A31-3A41+2015++Shota+Fukumori++-3Cher-40sorah.jp-3E">Sun Jun 21 05:31:41 2015  Shota Fukumori  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace_dump.c(dump_object)
<dd>
<p>Return empty <a href="../classes/JSON.html">JSON</a> object when passed
object is a special const, instead of SEGV. Based patch by Kohei Suzuki
(eagletmt). [ruby-core:69692] [Bug #11291]</p>
</dd><dt>test/objspace/test_objspace.rb(test_dump_special_consts)
<dd>
<p><a href="../classes/Test.html">Test</a> for above fix.</p>
</dd></dl>

<h2 id="label-2015-06-20">2015-06-20</h2>

<h3 id="label-Sat+Jun+20+03-3A56-3A58+2015++Yusuke+Endoh++-3Cmame-40ruby-lang.org-3E">Sat Jun 20 03:56:58 2015  Yusuke Endoh  &lt;mame@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/make_encmake.rb
<dd>
<p>the list of encoding extension libraries must not include encinit.c itself.
It caused “undefined reference to Init_encinit”.</p>
</dd></dl>

<h3 id="label-Sat+Jun+20+02-3A03-3A53+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Jun 20 02:03:53 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_execarg_parent_start1)
<dd>
<p>new macro ALWAYS_NEED_ENVP to generate envp_str anytime on Solaris 10 (or
earlier version of Solaris) to avoid calling execv() which is async-signal
unsafe on Solaris 10. [Bug #11265] [ruby-dev:49089]</p>
</dd><dt>process.c (exec_with_sh, proc_exec_cmd)
<dd>
<p>On Solaris 10, because ALWAYS_NEED_ENVP is 1 and envp_str is always
generated, execv() in exec_with_sh() and proc_exec_cmd() are never called.
To guarantee this, execv() is replaced by a macro to print out error
message on Solaris 10.</p>
</dd><dt>process.c (proc_exec_sh)
<dd>
<p>Because proc_exec_sh() may be called by rb_proc_exec() with envp_str =
Qfalse, execl() is replaced by a macro that calls execle() with “extern
char **environ” traditional global variable on Solaris 10. TODO: This may
be unsafe and should be changed in the future. Although rb_proc_exec() is
not used from inside current version of ruby, it may be called by
third-party extensions.</p>
</dd></dl>

<h3 id="label-Sat+Jun+20+01-3A10-3A13+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Sat Jun 20 01:10:13 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>mention about $SAFE.</p>
</dd></dl>

<h2 id="label-2015-06-19">2015-06-19</h2>

<h3 id="label-Fri+Jun+19+14-3A53-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 19 14:53:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>now requires a block direct to this method call.  [ruby-core:69655] [Bug
#11283]</p>
</dd></dl>

<h3 id="label-Fri+Jun+19+13-3A54-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 19 13:54:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_mod_define_method)
<dd>
<p>get rid of inadvertent ID creations at error.</p>
</dd></dl>

<h3 id="label-Fri+Jun+19+07-3A58-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jun 19 07:58:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>if no with-ext option is given, default to enable everything. 
[ruby-dev:49108] [Bug #11280]</p>
</dd></dl>

<h3 id="label-Fri+Jun+19+06-3A30-3A07+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun 19 06:30:07 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>bootstraptest/test_method.rb
<dd>
<p>remove a test because $SAFE=2 was obsolete. Please check btest, too.</p>
</dd></dl>

<h2 id="label-2015-06-18">2015-06-18</h2>

<h3 id="label-Thu+Jun+18+23-3A51-3A51+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu Jun 18 23:51:51 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bin/erb
<dd>
<p>$SAFE=3 is obsolete.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+23-3A45-3A11+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Thu Jun 18 23:45:11 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c
<dd>
<p>removed needless doc related $SAFE=2</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+23-3A38-3A07+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jun 18 23:38:07 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_safe_level)
<dd>
<p>fix document.  $SAFE=3 is obsolete. [ci skip]</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+23-3A25-3A51+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 18 23:25:51 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/extmk.rb
<dd>
<p>configure intersection of with-ext and not without-ext, as withouts is no
longer true by default if with-ext option is given.  [ruby-dev:49108] [Bug
#11280]</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+23-3A20-3A46+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 18 23:20:46 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>$SAFE=2 is now obsolete.</p>
</dd><dt>dir.c, ext/fiddle/handle.c, ext/socket/basicsocket.c, file.c gc.c, io.c, process.c, safe.c, signal.c, win32/file.c
<dd>
<p>removed code for $SAFE=2</p>
</dd><dt>test/erb/test_erb.rb, test/fiddle/test_handle.rb test/ruby/test_env.rb
<dd>
<p>removed tests for $SAFE=2.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+22-3A50-3A07+2015++Yusuke+Endoh++-3Cmame-40ruby-lang.org-3E">Thu Jun 18 22:50:07 2015  Yusuke Endoh  &lt;mame@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/make_encmake.rb
<dd>
<p>added –transes and –no-transes options.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+18-3A24-3A12+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun 18 18:24:12 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_unix.rb
<dd>
<p>replace sleep with select</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+17-3A59-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 18 17:59:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (rb_vm_control_frame_id_and_class)
<dd>
<p>remove useless codes. `me&#39; knows ID and owner class.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+16-3A58-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 18 16:58:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>constify rb_method_alias_struct::original_me and
rb_method_refined_struct::orig_me.</p>
</dd><dt>class.c (move_refined_method)
<dd>
<p>use RB_OBJ_WRITE() for me-&gt;def-&gt;body.refined.orig_me.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+14-3A35-3A28+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 18 14:35:28 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (count_imemo_objects)
<dd>
<p>support imemo_ment.</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+13-3A32-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 18 13:32:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>error.c (name_err_receiver)
<dd>
<p>add <a
href="../classes/NameError.html#method-i-receiver">NameError#receiver</a>
method. [Feature #10881]</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+10-3A00-3A06+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 18 10:00:06 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c
<dd>
<p>removed needless doc related $SAFE=3</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+09-3A59-3A23+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 18 09:59:23 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c
<dd>
<p>rename old method name for $SAFE=3</p>
</dd></dl>

<h3 id="label-Thu+Jun+18+06-3A02-3A42+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun 18 06:02:42 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (get_exception_sym2type, iseq_build_from_ary_body)
<dd>
<p>rely on %+PRIsVALUE instead of calling rb_inspect directly</p>
</dd></dl>

<h2 id="label-2015-06-17">2015-06-17</h2>

<h3 id="label-Wed+Jun+17+20-3A59-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 17 20:59:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ENC_MK)
<dd>
<p>needs fake.rb if cross compilation. [ruby-dev:49098] [Bug #11272]</p>
</dd></dl>

<h3 id="label-Wed+Jun+17+20-3A23-3A29+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun 17 20:23:29 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/rbconfig/sizeof/extconf.rb
<dd>
<p>Check __float80.</p>
</dd></dl>

<h3 id="label-Wed+Jun+17+15-3A15-3A53+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Jun 17 15:15:53 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>safe.c (safe_setter)
<dd>
<p>of course, don&#39;t have to warn the limitation of $SAFE=3 after it&#39;s
removed.</p>
</dd></dl>

<h3 id="label-Wed+Jun+17+14-3A29-3A43+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jun 17 14:29:43 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>$SAFE=3 is now obsolete.</p>
</dd><dt>ext/socket/init.c, ext/socket/socket.c, ext/socket/tcpsocket.c ext/socket/udpsocket.c, gc.c, object.c, re.c, safe.c
<dd>
<p>removed code for $SAFE=3</p>
</dd><dt>bootstraptest/test_method.rb, test/erb/test_erb.rb, test/ruby/test_dir.rb test/ruby/test_file.rb, test/ruby/test_method.rb, test/ruby/test_regexp.rb test/ruby/test_thread.rb
<dd>
<p>remove tests for $SAFE=3</p>
</dd></dl>

<h3 id="label-Wed+Jun+17+12-3A13-3A33+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jun 17 12:13:33 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>added contributor name.</p>
</dd></dl>

<h3 id="label-Wed+Jun+17+10-3A57-3A28+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Jun 17 10:57:28 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/csv.rb
<dd>
<p>accept to use <a href="../classes/Range.html">Range</a> object for row
selection. contributed by Mitsutaka Mimura. [Feature #<a
href="ruby-dev:49091">11267]</a></p>
</dd></dl>

<h3 id="label-Wed+Jun+17+09-3A50-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 17 09:50:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/servlet.rb (documentation_search, root_search)
<dd>
<p>requires json for <a
href="../classes/JSON.html#method-i-dump">JSON#dump</a> and fix sporadic
failures due to the loading order.</p>
</dd></dl>

<h2 id="label-2015-06-16">2015-06-16</h2>

<h3 id="label-Tue+Jun+16+19-3A19-3A53+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jun 16 19:19:53 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/rbconfig/sizeof/extconf.rb
<dd>
<p>Check several types defined in C99 and x86_64 ABI.</p>
</dd><dt>template/sizes.c.tmpl
<dd>
<p>Relax a pattern for types.</p>
</dd></dl>

<h3 id="label-Tue+Jun+16+17-3A37-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun 16 17:37:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb
<dd>
<p>relax pattern because uncollectible flag and marked flag can be false at
major <a href="../classes/GC.html">GC</a>. [Bug #10852]</p>
</dd></dl>

<h3 id="label-Tue+Jun+16+04-3A50-3A44+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 16 04:50:44 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/basicsocket.c (bsock_recv)
<dd>
<p>document outbuf</p>
</dd><dt>ext/socket/unixsocket.c (unix_recvfrom)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/init.c (rsock_strbuf, recvfrom_locktmp)
<dd>
<p>new functions</p>
</dd><dt>(rsock_s_recvfrom)
<dd>
<p>support destination buffer as 3rd arg</p>
</dd><dt>(rsock_s_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>string.c (rb_str_locktmp_ensure)
<dd>
<p>export for internal ext</p>
</dd><dt>test/socket/test_nonblock.rb
<dd>
<p>test recv_nonblock</p>
</dd><dt>test/socket/test_unix.rb
<dd>
<p>test recv [ruby-core:69543] [Feature #11242]</p>
</dd></dl>

<h3 id="label-Tue+Jun+16+04-3A38-3A02+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun 16 04:38:02 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal, bsock_recvmsg_internal)
<dd>
<p>support “exception: false” kwarg</p>
</dd><dt>ext/socket/init.c (rsock_s_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/init.c (rsock_s_recvfrom_nonblock)
<dd>
<p>use rsock_opt_false_p</p>
</dd><dt>ext/socket/socket.c (sock_connect_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/rubysocket.h (rsock_opt_false_p)
<dd>
<p>new function</p>
</dd><dt>ext/socket/basicsocket.c (bsock_recv_nonblock)
<dd>
<p>update rdoc</p>
</dd><dt>ext/socket/udpsocket.c (udp_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_nonblock.rb
<dd>
<p>new tests [ruby-core:69542] [Feature #11229]</p>
</dd></dl>

<h2 id="label-2015-06-15">2015-06-15</h2>

<h3 id="label-Mon+Jun+15+14-3A33-3A02+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jun 15 14:33:02 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb
<dd>
<p>Make <a href="../classes/Set.html#method-i-each">Set#each</a> and <a
href="../classes/Set.html#method-i-each">Set#each</a> generate a sized
enumerator. [GH-931] by kachick (Kenichi Kamiya)</p>
</dd><dt>test/test_set.rb
<dd>
<p>Import tests from <a href="../classes/Set.html">Set</a> into <a
href="../classes/SortedSet.html">SortedSet</a>. [GH-931] by kachick
(Kenichi Kamiya)</p>
</dd></dl>

<h3 id="label-Mon+Jun+15+02-3A26-3A34+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Jun 15 02:26:34 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (Net::HTTP#connect)
<dd>
<p>use connect_nonblock and io/wait to eliminate timeout use. fix GH-899</p>
</dd></dl>

<h3 id="label-Mon+Jun+15+00-3A14-3A33+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Jun 15 00:14:33 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb (descend)
<dd>
<p>Blockless form supported.</p>
</dd><dt>(ascend)
<dd>
<p>Ditto. [ruby-core:68820] [Feature #11052] Patch by Piotr Szotkowski.</p>
</dd></dl>

<h2 id="label-2015-06-14">2015-06-14</h2>

<h3 id="label-Sun+Jun+14+19-3A02-3A03+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 19:02:03 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (makeport)
<dd>
<p>close the <a href="../classes/TCPServer.html">TCPServer</a> when sending
the port fails.</p>
</dd><dt>test/net/ftp/test_ftp.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+20-3A09-3A25+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 14 20:09:25 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_getlocaltime)
<dd>
<p>[DOC] Add examples of valid utc_offset formats. [ruby-core:68306] [Misc
#10905] Patch by Charles Korn.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+18-3A49-3A56+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 14 18:49:56 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (parse_numeric_port)
<dd>
<p>Detect port overflow.</p>
</dd><dt>(numeric_getaddrinfo)
<dd>
<p>Use parse_numeric_port. numeric_getaddrinfo fails if port is too big now.
This makes rb_getaddrinfo invokes the real getaddrinfo() on such condition.
This change is related to [ruby-core:69355] [Bug #11179].</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+17-3A26-3A03+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Jun 14 17:26:03 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_chunk_while)
<dd>
<p>New method <a
href="../classes/Enumerable.html#method-i-chunk_while">Enumerable#chunk_while</a>.
[ruby-core:67738] [Feature #10769] proposed by Tsuyoshi Sawada.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+17-3A20-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jun 14 17:20:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_load_ok)
<dd>
<p>try opening file without gvl not to lock entire process.  [Bug #11060]</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+10-3A43-3A50+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Jun 14 10:43:50 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/runruby.rb
<dd>
<p>just remove the lines of RUBY_VERSION check and raise instead of replacing
the check to `true`, for getting rid of a warning `possibly useless use of
true in void context`.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+10-3A13-3A55+2015++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jun 14 10:13:55 2015  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/source.rb (REXML::IOSource#scan)
<dd>
<p>Fix a typo in document. [fix GH-934] Patch by Anton Davydov. Thanks!!!</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+10-3A09-3A48+2015++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Jun 14 10:09:48 2015  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rexml/attlistdecl.rb (REXML::AttlistDecl)
<dd>
<p>Fix a typo in document. [fix GH-934] Patch by Anton Davydov. Thanks!!!</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+06-3A24-3A57+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 06:24:57 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>add test for <a href="../classes/IO.html#method-c-binread">IO.binread</a>
fd leak. See r50881.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+05-3A23-3A51+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 05:23:51 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_s_binread)
<dd>
<p>close fd if seek offset is invalid.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+04-3A40-3A32+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 04:40:32 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/leakchecker.rb (check)
<dd>
<p>refactor.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+04-3A34-3A14+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 04:34:14 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/leakchecker.rb
<dd>
<p>Return false for no leaks. Otherwise the <a
href="../classes/GC.html">GC</a> could run for nothing.</p>
</dd></dl>

<h3 id="label-Sun+Jun+14+04-3A15-3A40+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Sun Jun 14 04:15:40 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>[DOC] Update <a href="../classes/SimpleDelegator.html">SimpleDelegator</a>
example. [ci skip]</p>
</dd></dl>

<h2 id="label-2015-06-13">2015-06-13</h2>

<h3 id="label-Sat+Jun+13+07-3A21-3A18+2015++KOSAKI+Motohiro++-3Ckosaki.motohiro-40gmail.com-3E">Sat Jun 13 07:21:18 2015  KOSAKI Motohiro  &lt;kosaki.motohiro@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_start_func_2)
<dd>
<p>don&#39;t interrupt when last thread exit unless main thread is already
exited. Otherwise main thread could be wrongly interrupted when it uses
rb_thread_call_without_gvl(). Patch by Takehiro Kubo. [Bug #<a
href="ruby-dev:49044">11237]</a>[GH-898]</p>
</dd><dt>test/-ext-/gvl/test_last_thread.rb
<dd>
<p>new test for the above fix.</p>
</dd><dt>ext/-test-/gvl/call_without_gvl/call_without_gvl.c
<dd>
<p>new ext for the above test.</p>
</dd><dt>ext/-test-/gvl/call_without_gvl/extconf.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+20-3A28-3A14+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jun 13 20:28:14 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_stat_ino)
<dd>
<p>get inode from the interval of struct st.</p>
</dd><dt>win32/win32.c (stati64_set_inode)
<dd>
<p>get nFileIndexHigh/Low, and set it to the interval of struct st as inode.
[Feature #11216]</p>
</dd><dt>win32/win32.c (stati64_set_inode_handle)
<dd>
<p>call stati64_set_inode.</p>
</dd><dt>win32/win32.c (rb_w32_fstati64)
<dd>
<p>call stati64_set_inode_handle.</p>
</dd><dt>win32/win32.c (stati64_handle)
<dd>
<p>call stati64_set_inode.</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+19-3A44-3A53+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Jun 13 19:44:53 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/depend (.list.chksum)
<dd>
<p>revert a part of r50859, because it was not mentioned at its commit log and
it caused a build error on Windows ($(MAKE) is already quoted).</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+17-3A35-3A11+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Jun 13 17:35:11 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_thread_t)
<dd>
<p>add th-&gt;name.</p>
</dd><dt>vm.c (th_init)
<dd>
<p>initialize th-&gt;name.</p>
</dd><dt>thread.c (Init_Thread)
<dd>
<p>add <a href="../classes/Thread.html#method-i-name">Thread#name</a> and
name=. [Feature #11251]</p>
</dd><dt>thread.c (rb_thread_inspect)
<dd>
<p>show thread&#39;s name if set.</p>
</dd><dt>thread.c (rb_thread_getname)
<dd>
<p>defined.</p>
</dd><dt>thread.c (rb_thread_setname)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+11-3A39-3A43+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Jun 13 11:39:43 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>Fix typo. [fix GH-933] Patch by @Zorbash</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+11-3A38-3A00+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Jun 13 11:38:00 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ocsp.c
<dd>
<p>fix documentation on ocsp response cert status. [fix GH-932] Patch by
@chrisholmes</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+11-3A35-3A19+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat Jun 13 11:35:19 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.gemspec
<dd>
<p>Fix require paths for released gem. [fix GH-929] Patch by @voxik</p>
</dd><dt>ext/io/console/io-console.gemspec
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-06-12">2015-06-12</h2>

<h3 id="label-Fri+Jun+12+22-3A21-3A12+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Fri Jun 12 22:21:12 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_extlibs.rb (TestExtLibs::check_existence)
<dd>
<p>fix error. [Bug #11255] [ruby-dev:49079]</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+21-3A17-3A46+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jun 12 21:17:46 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>pack.c (pack_{un,}pack)
<dd>
<p>new template character `j` and `J`, pointer with signed and unsigned
integers.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>mention about this feature. [Feature #11215] [ruby-dev:49015]</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+21-3A01-3A44+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Jun 12 21:01:44 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (File::SHARE_DELETE)
<dd>
<p>new flag to be able to delete opened file on Windows.</p>
</dd><dt>include/win32/win32.c (O_SHARE_DELETE)
<dd>
<p>new pseudo file mode flag.</p>
</dd><dt>win32/win32.c (rb_w32_{w,}open)
<dd>
<p>support above flag.  [EXPERIMENTAL]</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>mention about this feature. [Feature #11218] [ruby-dev:49022]</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+18-3A21-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Jun 12 18:21:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="ChangeLog.html">ChangeLog</a>
<dd>
<p>added missing commit message.</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+18-3A20-3A37+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri Jun 12 18:20:37 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>sample/exyacc.rb
<dd>
<p>Fix some typos. [fix GH-927] Patch by @davydovanton</p>
</dd><dt>sample/list.rb
<dd>
<p>ditto.</p>
</dd><dt>sample/trick2013/kinaba/remarks.markdown
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+17-3A34-3A14+2015++Wojciech+Mach++-3Cwojtek-40wojtekmach.pl-3E">Fri Jun 12 17:34:14 2015  Wojciech Mach  &lt;wojtek@wojtekmach.pl&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_hash_fetch_values)
<dd>
<p>add `Hash#fetch_values`. [Feature #10017] [Fix GH-776]</p>
</dd></dl>

<h3 id="label-Fri+Jun+12+16-3A28-3A17+2015++Radan+Skoric++-3Cradan.skoric-40gmail.com-3E">Fri Jun 12 16:28:17 2015  Radan Skoric  &lt;radan.skoric@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_bsearch_index)
<dd>
<p>Implement <a
href="../classes/Array.html#method-i-bsearch_index">Array#bsearch_index</a>
method, which is similar to bsearch and returns the index or nil.  [Feature
#10730]</p>
</dd></dl>

<h2 id="label-2015-06-11">2015-06-11</h2>

<h3 id="label-Thu+Jun+11+19-3A11-3A22+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 11 19:11:22 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c
<dd>
<p>Fix indentation for rdoc. [Bug #<a href="ruby-core:69465">11221]</a></p>
</dd></dl>

<h3 id="label-Thu+Jun+11+16-3A23-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 16:23:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h (METHOD_ENTRY_BASIC_SET)
<dd>
<p>fix last commit (unbalanced parens).</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+15-3A14-3A16+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu Jun 11 15:14:16 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>define SET_THREAD_NAME if it has pthread_set_name_np for FreeBSD, and
don&#39;t define it if both pthread_setname_np and pthread_set_name_np
don&#39;t exist.</p>
</dd><dt>thread_pthread.c (SET_THREAD_NAME)
<dd>
<p>don&#39;t define if they don&#39;t exist.</p>
</dd><dt>thread_pthread.c (native_set_thread_name)
<dd>
<p>run if SET_THREAD_NAME is defined.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+15-3A53-3A31+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 15:53:31 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h (METHOD_ENTRY_BASIC_SET)
<dd>
<p>should clear last bit.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+14-3A34-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 11 14:34:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>bump version to 2.4.7 and 2.4.8. these versions fixed CVE-2015-3900.</p>
</dd><dt>lib/rubygems/remote_fetcher.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_remote_fetcher.rb
<dd>
<p>added testcase for CVE-2015-3900</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+14-3A18-3A51+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun 11 14:18:51 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems.rb
<dd>
<p>bump version to 2.4.6. It&#39;s missing change at r49774.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+13-3A50-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 11 13:50:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (ary_ensure_room_for_push)
<dd>
<p>check if array size will exceed maximum size to get rid of buffer overflow.
[ruby-dev:49043] [Bug #11235]</p>
</dd><dt>array.c (ary_ensure_room_for_unshift, rb_ary_splice)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+13-3A17-3A34+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jun 11 13:17:34 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_cmath.rb (TestCMath#test_trigonometric_functions)
<dd>
<p>should not compare float values (in complex values) by `==`.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+08-3A52-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 08:52:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>embed rb_method_entry_t::attr::flags (5 bits) into rb_method_entry_t::flags
to make one word spare space. Add some macros to access these flags.</p>
</dd><dt>vm_method.c
<dd>
<p>use these macros.</p>
</dd><dt>internal.h
<dd>
<p>define IMEMO_FL_USHIFT and <a href="0-4">IMEMO_FL_USER</a> for T_IMEMO
local flags.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+08-3A27-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 08:27:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>use VM_ASSERT instead of assert().</p>
</dd><dt>vm_args.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+08-3A16-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 08:16:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>define VM_ASSERT() for assertion enabled only when (VM_CHECK_MODE &gt; 0).</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>move definition VM_CHECK_MODE from vm_insnhelper.c to vm_core.h.</p>
</dd><dt>vm.c
<dd>
<p>remove &lt;assert.h&gt;</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+06-3A46-3A07+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun 11 06:46:07 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (check_frame)
<dd>
<p>check type of cref_or_me first.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+04-3A34-3A39+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Thu Jun 11 04:34:39 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_cmath.rb
<dd>
<p>Add some assertions.</p>
</dd></dl>

<h3 id="label-Thu+Jun+11+00-3A34-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun 11 00:34:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/fake.rb.in
<dd>
<p>expanded macro result may have spaces between tokens.  [ruby-dev:49047]
[Bug #11243]</p>
</dd></dl>

<h2 id="label-2015-06-10">2015-06-10</h2>

<h3 id="label-Wed+Jun+10+22-3A27-3A32+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Wed Jun 10 22:27:32 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb
<dd>
<p>revert r50804 because of build failure when specifying LDFLAGS during
configure, observed on Solaris with GCC 4.6. [Bug #11245]</p>
</dd></dl>

<h3 id="label-Wed+Jun+10+21-3A59-3A51+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Wed Jun 10 21:59:51 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>README.ja.md
<dd>
<p>fix markup miss.</p>
</dd></dl>

<h3 id="label-Wed+Jun+10+11-3A06-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jun 10 11:06:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/fake.rb.in
<dd>
<p>turn into erb template from autoconf template to fake more accurately.</p>
</dd><dt>common.mk (fake.rb)
<dd>
<p>needs preprocessed file now.</p>
</dd><dt>version.c (Init_version)
<dd>
<p>add dummy expression to RUBY_ENGINE_VERSION.</p>
</dd></dl>

<h2 id="label-2015-06-08">2015-06-08</h2>

<h3 id="label-Mon+Jun++8+05-3A09-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  8 05:09:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>print method id for T_IMEMO/ment.</p>
</dd></dl>

<h2 id="label-2015-06-07">2015-06-07</h2>

<h3 id="label-Sun+Jun++7+07-3A05-3A43+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Sun Jun  7 07:05:43 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd></dl>

<h2 id="label-2015-06-06">2015-06-06</h2>

<h3 id="label-Sat+Jun++6+18-3A23-3A41+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun  6 18:23:41 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>back to share rb_method_definition_t by rb_method_entry_t. r50728 changed
sharing `def&#39;s to isolating `def&#39;s on alias and so on. However,
this change conflicts future improvement plan. So I change back to sharing
approach.</p>
</dd><dt>method.h
<dd>
<p>move rb_method_definition_t::flags to rb_method_entry_t::attr::flags.
rb_method_entry_t::attr is union with VALUE because this field should have
same size of VALUE. rb_method_entry_t is T_IMEMO). And also add the
following access macros to it&#39;s fields. * METHOD_ENTRY_VISI(me) *
METHOD_ENTRY_BASIC(me) * METHOD_ENTRY_SAFE(me)</p>
</dd><dt>vm_method.c (rb_method_definition_addref)
<dd>
<p>added instead of rb_method_definition_clone(). Do not create new
definition, but increment alias_count.</p>
</dd><dt>class.c (clone_method)
<dd>
<p>catch up this fix.</p>
</dd><dt>class.c (method_entry_i)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (mnew_internal)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (mnew_missing)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+15-3A59-3A38+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun  6 15:59:38 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>ins_methods_push() needs rb_method_visibility_t type on 2nd arg.</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+15-3A05-3A47+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun  6 15:05:47 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (ins_methods_push)
<dd>
<p>Change type and name of parameters to make more clear.</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+08-3A52-3A13+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jun  6 08:52:13 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_nonblock.rb
<dd>
<p>try to avoid EMSGSIZE [ruby-core:69466]</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+07-3A58-3A30+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sat Jun  6 07:58:30 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>remove struct mark_tbl_arg and pass objspace directly to avoid indirect
access overhead.</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+07-3A08-3A45+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Jun  6 07:08:45 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>drop redundant assignment</p>
</dd></dl>

<h3 id="label-Sat+Jun++6+01-3A00-3A06+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Sat Jun  6 01:00:06 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>all arguments are parsed even on systems without
HAVE_STRUCT_MSGHDR_MSG_CONTROL to prevent SEGV caused by passing Qnil to
RARRAY_LENINT and to preserve behavior before r50776. [Bug #11224]
[ruby-core:69468] [Bug #11225] [ruby-core:69469]</p>
</dd></dl>

<h2 id="label-2015-06-05">2015-06-05</h2>

<h3 id="label-Fri+Jun++5+22-3A37-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 22:37:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (ins_methods_push)
<dd>
<p>change 3rd parameter&#39;s type from long to rb_method_visibility_t.</p>
</dd><dt>class.c (ins_methods_i)
<dd>
<p>catch up this fix.</p>
</dd><dt>class.c (method_entry_i)
<dd>
<p>cast to st_data_t instead of `long&#39;.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+20-3A37-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 20:37:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>move definition of rb_cref_t to method.h.</p>
</dd><dt>eval_intern.h
<dd>
<p>move definition of rb_scope_visibility_t to method.h.</p>
</dd><dt>method.h
<dd>
<p>change rb_cref_t::scope_visi from VALUE to rb_scope_visibility_t. [Bug
#11219]</p>
</dd><dt>vm.c (vm_cref_new)
<dd>
<p>accept rb_method_visibility_t directly.</p>
</dd><dt>vm_insnhelper.c (rb_vm_rewrite_cref)
<dd>
<p>don&#39;t use 0, but METHOD_VISI_UNDEF.</p>
</dd><dt>vm_method.c (rb_scope_visibility_set)
<dd>
<p>don&#39;t need to use cast.</p>
</dd><dt>vm_method.c (rb_scope_module_func_set)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+17-3A27-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun  5 17:27:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>avoid msg_control ptr if msg_controllen is zero to fix portability
problems.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+09-3A17-3A45+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun  5 09:17:45 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>fix build error from r50776</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+07-3A05-3A58+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun  5 07:05:58 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (sym_wait_readable, sym_wait_writable)
<dd>
<p>declare</p>
</dd><dt>(io_getpartial)
<dd>
<p>use sym_wait_readable</p>
</dd><dt>(io_write_nonblock)
<dd>
<p>use sym_wait_writable</p>
</dd><dt>(Init_IO)
<dd>
<p>initialize sym_wait_*able</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+06-3A43-3A00+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun  5 06:43:00 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/extension_rdoc.html">doc/extension.rdoc</a>
<dd>
<p>note rb_get_kwargs changes keywords_hash [ruby-core:68507]</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+05-3A50-3A29+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jun  5 05:50:29 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal)
<dd>
<p>use rb_scan_args [ruby-core:69439] [Feature #11207]</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+02-3A20-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 02:20:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb (assert_no_memory_leak)
<dd>
<p>change default value of limit from 1.5 to 2.0. It is ad-hoc fix to solve
test failure in travis-ci.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+01-3A17-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 01:17:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_defined)
<dd>
<p>no need to use cast.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+01-3A14-3A02+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 01:14:02 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_defined)
<dd>
<p>show additional messages on rb_bug().</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+01-3A06-3A02+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 01:06:02 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_add_method_iseq)
<dd>
<p>use intermediate struct to avoid initializing struct with variables. [Bug
#11217]</p>
</dd><dt>method.h
<dd>
<p>add a comment about it.</p>
</dd></dl>

<h3 id="label-Fri+Jun++5+00-3A55-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jun  5 00:55:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>constify rb_method_refined_t::orig_me. Also constify the following
functions. * rb_resolve_refined_method() *
rb_method_entry_with_refinements() * rb_method_entry_without_refinements()
* rb_method_entry_copy()&#39;s parameter.</p>
</dd><dt>class.c
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-06-04">2015-06-04</h2>

<h3 id="label-Thu+Jun++4+12-3A47-3A54+SGT+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun  4 12:47:54 SGT 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Revert r50763. because “reentered” is not typo.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+11-3A12-3A29+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun  4 11:12:29 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c
<dd>
<p>fix a typo. Patch by @davydovanton [fix GH-923]</p>
</dd><dt>include/ruby/st.h
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/util.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+10-3A54-3A30+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Jun  4 10:54:30 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>fix a typo. Patch by @manish-shrivastava [fix GH-922]</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+09-3A52-3A02+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun  4 09:52:02 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb
<dd>
<p>use io/nonblock instead of fcntl [ruby-core:69382] [Feature #11190]</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+07-3A22-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  4 07:22:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>introduce rb_method_refined_t for refined method entry.</p>
</dd><dt>class.c (move_refined_method)
<dd>
<p>catch up this fix.</p>
</dd><dt>gc.c (mark_method_entry)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (vm_call0_body)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+07-3A12-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jun  4 07:12:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dirent_match)
<dd>
<p>match short names only when FNM_SHORTNAME flag is given, for the backward
compatibility, and the new behavior is often dangerous.  [ruby-core:69435]
[Bug #11206]</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+05-3A44-3A01+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jun  4 05:44:01 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (special_generic_ivar)
<dd>
<p>remove flag</p>
</dd><dt>(givar_i, rb_mark_generic_ivar_tbl)
<dd>
<p>remove functions</p>
</dd><dt>(rb_free_generic_ivar, rb_ivar_lookup, rb_ivar_delete, generic_ivar_set, rb_ivar_set, rb_ivar_defined, rb_copy_generic_ivar, rb_ivar_foreach, rb_ivar_count, rb_obj_remove_instance_variable)
<dd>
<p>adjust for lack of ivar support in special constants</p>
</dd><dt>test/ruby/test_variable.rb
<dd>
<p>test ivars for special consts</p>
</dd><dt>internal.h
<dd>
<p>remove rb_mark_generic_ivar_tbl decl</p>
</dd><dt>gc.c (gc_mark_roots)
<dd>
<p>remove rb_mark_generic_ivar_tbl call [ruby-core:69441] [Feature #11208]</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+05-3A13-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  4 05:13:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (def_iseq_ptr)
<dd>
<p>`iseqval&#39; is not available any more.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+04-3A50-3A12+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  4 04:50:12 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (method_entry_i)
<dd>
<p>mtbl should not have `me&#39; as NULL.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+04-3A28-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  4 04:28:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (clone_method)
<dd>
<p>do not use me-&gt;klass, but use explicitly passed argument.</p>
</dd></dl>

<h3 id="label-Thu+Jun++4+04-3A10-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Jun  4 04:10:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_vm_rewrite_cref_stack)
<dd>
<p>rename to rb_vm_rewrite_cref().</p>
</dd><dt>class.c (clone_method)
<dd>
<p>use renamed name.</p>
</dd><dt>vm_insnhelper.c (rb_vm_rewrite_cref)
<dd>
<p>do not use `node&#39; in variable names.</p>
</dd></dl>

<h2 id="label-2015-06-03">2015-06-03</h2>

<h3 id="label-Wed+Jun++3+23-3A03-3A50+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 23:03:50 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>rename `rb_frame_…&#39; to `rb_scope_…&#39;.</p>
</dd><dt>eval_intern.h
<dd>
<p>move decl. of rb_scope_visibility_set() to method.h.</p>
</dd><dt>load.c
<dd>
<p>catch up this fix.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+21-3A14-3A20+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  3 21:14:20 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/rbconfig/sizeof/extconf.rb
<dd>
<p>Check C99 standard integer types.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+21-3A00-3A47+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jun  3 21:00:47 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>Don&#39;t check __int128.</p>
</dd><dt>ext/rbconfig/sizeof/extconf.rb
<dd>
<p>Check __int128.</p>
</dd><dt>ext/rbconfig/sizeof/depend
<dd>
<p>sizes.c depends on ext/rbconfig/sizeof/extconf.rb.</p>
</dd><dt>template/sizes.c.tmpl
<dd>
<p>Detect check_sizeof.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+20-3A07-3A07+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 20:07:07 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (clone_method)
<dd>
<p>remove redundant check for me-&gt;def != NULL. Now, all `me` have
`me-&gt;def`.</p>
</dd><dt>proc.c (rb_method_entry_location)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (rb_vm_check_redefinition_opt_method)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (add_opt_method)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (vm_call0_body)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+19-3A24-3A12+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 19:24:12 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>rename enum missing_reason to enum method_missing_reason.</p>
</dd><dt>vm_core.h
<dd>
<p>use enum method_missing_reason for rb_thread_t::method_missing_reason.</p>
</dd><dt>vm_eval.c
<dd>
<p>catch up this fix.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+16-3A17-3A21+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Wed Jun  3 16:17:21 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c
<dd>
<p>eagerly allocate `loading_table`.  This eliminates the need to do NULL
checks when looking up the `loading_table` hash. <a
href="https://github.com/ruby/ruby/pull/918">github.com/ruby/ruby/pull/918</a></p>
</dd><dt>load.c
<dd>
<p>remove various NULL checks</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+11-3A47-3A15+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 11:47:15 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>change fields order to gather frequent access fields.</p>
</dd><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>add LIKELY().</p>
</dd></dl>

<h3 id="label-Wed+Jun+03+10-3A35-3A45+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun 03 10:35:45 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>split rb_method_definition_t::flag to several flags. `flag&#39; contains
several categories of attributes and it makes us confusion (at least, I had
confused). * rb_method_visibility_t (flags::visi) * NOEX_UNDEF     -&gt;
METHOD_VISI_UNDEF     = 0 * NOEX_PUBLIC    -&gt; METHOD_VISI_PUBLIC    = 1
* NOEX_PRIVATE   -&gt; METHOD_VISI_PRIVATE   = 2 * NOEX_PROTECTED -&gt;
METHOD_VISI_PROTECTED = 3 * NOEX_SAFE(flag)  -&gt; safe (flags::safe, 3
bits) * NOEX_BASIC       -&gt; basic (flags::basic, 1 bit) * NOEX_MODFUNC  
-&gt; rb_scope_visibility_t in CREF * NOEX_SUPER       -&gt; MISSING_SUPER
(enum missing_reason) * NOEX_VCALL       -&gt; MISSING_VCALL (enum
missing_reason) * NOEX_RESPONDS    -&gt; BOUND_RESPONDS (macro) Now,
NOEX_NOREDEF is not supported (I&#39;m not sure it is needed). Background:
I did not know what “NOEX” stands for. I asked Matz (who made this name)
and his answer was “Nothing”. “At first, it meant NO EXport (private), but
the original meaning was gone.” This is why I remove the mysterious word
“NOEX” from MRI.</p>
</dd><dt>vm_core.h
<dd>
<p>introduce `enum missing_reason&#39; to represent method_missing
(NoMethodError) reason.</p>
</dd><dt>eval_intern.h
<dd>
<p>introduce rb_scope_visibility_t to represent scope visibility. It has 3
method visibilities (public/private/protected) and `module_function`.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+08-3A06-3A30+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Jun  3 08:06:30 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gem/bundled_gems
<dd>
<p>updated to test-unit 3.1.1 and minitest 5.7.0.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+04-3A48-3A05+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 04:48:05 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_defined)
<dd>
<p>check respond_to_missing? at defined?(func()). [Bug #11212]</p>
</dd><dt>test/ruby/test_defined.rb
<dd>
<p>add a test for this fix.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+04-3A34-3A39+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 04:34:39 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_defined)
<dd>
<p>skip respond_to_missing? when a method is available. [Bug #11211]</p>
</dd><dt>test/ruby/test_defined.rb
<dd>
<p>add a test for this fix.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+04-3A14-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 04:14:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>insns.def (defined), vm_insnhelper.c (vm_defined)
<dd>
<p>move instruction body to the vm_defined() function.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+02-3A29-3A25+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Wed Jun  3 02:29:25 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb
<dd>
<p>Do not assume class variable order. Patch by @enebo.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+01-3A10-3A38+2015++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Wed Jun  3 01:10:38 2015  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_definition_set)
<dd>
<p>remove a double assignment. Coverity Scan found this bug.</p>
</dd></dl>

<h3 id="label-Wed+Jun++3+00-3A04-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Jun  3 00:04:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_alias)
<dd>
<p>rename parameter names.</p>
</dd></dl>

<h2 id="label-2015-06-02">2015-06-02</h2>

<h3 id="label-Tue+Jun++2+23-3A27-3A18+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  2 23:27:18 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>remove rb_method_iseq_t::iseqval. While making a r50728, iseqval is needed
(to mark correctly), but now just iseqptr is enough.</p>
</dd><dt>class.c
<dd>
<p>catch up this fix.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Jun++2+21-3A29-3A28+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  2 21:29:28 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_curry)
<dd>
<p>remove a debug line.</p>
</dd></dl>

<h3 id="label-Tue+Jun++2+12-3A43-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jun  2 12:43:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>make rb_method_entry_t a VALUE. Motivation and new data structure are
described in [Bug #11203]. This patch also solve the following issues. *
[Bug #11200] Memory leak of method entries * [Bug #11046] __callee__
returns incorrect method name in orphan proc</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add a test for [Bug #11046].</p>
</dd><dt>vm_core.h
<dd>
<p>remove rb_control_frame_t::me. me is located at value stack.</p>
</dd><dt>vm_core.h, gc.c, vm_method.c
<dd>
<p>remove unlinked_method… codes because method entries are simple VALUEs.</p>
</dd><dt>method.h
<dd>
<p>Now, all method entries has own independent method definitions. Strictly
speaking, this change is not essential, but for future changes. *
rb_method_entry_t::flag is move to rb_method_definition_t::flag. *
rb_method_definition_t::alias_count is now
rb_method_definition_t::alias_count_ptr, a pointer to the counter.</p>
</dd><dd>
<p></p>
</dd><dt>vm_insnhelper.c (VM_CHECK_MODE)
<dd>
<p>introduced to enable/disable assertions.</p>
</dd></dl>

<h3 id="label-Tue+Jun++2+10-3A46-3A36+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun  2 10:46:36 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/socket/test_nonblock.rb
<dd>
<p>new test for sendmsg_nonblock</p>
</dd></dl>

<h3 id="label-Tue+Jun++2+09-3A04-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Jun  2 09:04:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>just use Process::CLOCK_MONOTONIC [ruby-core:69390]</p>
</dd></dl>

<h2 id="label-2015-06-01">2015-06-01</h2>

<h3 id="label-Mon+Jun++1+22-3A01-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jun  1 22:01:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (pkg_config)
<dd>
<p>split –libs if –libs-only-l option is not available.  patch in
[ruby-core:69428] by Hans Mackowiak. [ruby-core:69421] [Bug #11201]</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+21-3A18-3A24+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 21:18:24 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>remove a garbage character introduced at the last commit.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+19-3A24-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 19:24:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry_make)
<dd>
<p>do not show warning message when method_entry is an alias.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+15-3A47-3A16+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 15:47:16 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>move class related definitions.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+15-3A43-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 15:43:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c
<dd>
<p>remove needless include pragma for method.h.</p>
</dd><dt>struct.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+05-3A42-3A00+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 05:42:00 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h, vm_method.c
<dd>
<p>move macros to functions. * SCOPE_TEST(f)  -&gt;
rb_frame_visibility_test(flag). * SCOPE_CHECK(f) -&gt;
rb_frame_visibility_check(flag). * SCOPE_SET(f)   -&gt;
rb_frame_visibility_set(flag).</p>
</dd><dt>load.c (load_ext)
<dd>
<p>use it.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+04-3A47-3A37+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Mon Jun  1 04:47:37 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/date_core.c
<dd>
<p>[DOC] Add comparison of <a href="../classes/Time.html">Time</a> and <a
href="../classes/DateTime.html">DateTime</a> Patch provided by @pixeltrix</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+04-3A22-3A09+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 04:22:09 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (VM_FRAME_MAGIC_DUMMY)
<dd>
<p>introduce new frame type to recognize dummy frame.</p>
</dd><dt>vm.c (th_init)
<dd>
<p>use new frame type.</p>
</dd><dt>vm_args.c (raise_argument_error)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+04-3A15-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 04:15:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_class_has_methods)
<dd>
<p>added to reduce dependency to internal class data structure.</p>
</dd><dt>internal.h
<dd>
<p>ditto.</p>
</dd><dt>hash.c (has_extra_methods)
<dd>
<p>use added function.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+04-3A11-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 04:11:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c , gc.h (rb_obj_info)
<dd>
<p>export obj_info(VALUE) for debugging.</p>
</dd></dl>

<h3 id="label-Mon+Jun++1+03-3A52-3A55+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Jun  1 03:52:55 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_gc.rb
<dd>
<p>increase timeout seconds for <a href="../classes/GC.html">GC</a> stressful
debugging.</p>
</dd></dl>

<h2 id="label-2015-05-31">2015-05-31</h2>

<h3 id="label-Sun+May+31+04-3A18-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 31 04:18:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>fix typo of comments.</p>
</dd></dl>

<h3 id="label-Sun+May+31+03-3A36-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 31 03:36:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>add VM_METHOD_TYPE_ALIAS rb_method_definition_t::type to fix [Bug #11173].
Now, inter class/method alias creates new method entry
VM_METHOD_TYPE_ALIAS, which has an original method entry.</p>
</dd><dt>vm_insnhelper.c (find_defined_class_by_owner)
<dd>
<p>added. Search corresponding defined_class from owner class/module.</p>
</dd><dt>vm_method.c (rb_method_entry_get_without_cache)
<dd>
<p>return me-&gt;klass directly for defined_class. Now, no need to check
me-&gt;klass any more.</p>
</dd><dt>vm_method.c (method_entry_set0)
<dd>
<p>separated from method_entry_set().</p>
</dd><dt>vm_method.c (rb_alias)
<dd>
<p>make method entry has VM_METHOD_TYPE_ALIAS.</p>
</dd><dt>vm_method.c (release_method_definition)
<dd>
<p>support VM_METHOD_TYPE_ALIAS.</p>
</dd><dt>vm_method.c (rb_hash_method_definition)
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c (rb_method_definition_eq)
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c (release_method_definition)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (vm_method_cfunc_entry)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (vm_call0_body)
<dd>
<p>ditto.</p>
</dd><dt>gc.c (mark_method_entry)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (method_def_iseq)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (method_cref)
<dd>
<p>ditto.</p>
</dd><dt>proc.c (rb_method_entry_min_max_arity)
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_alias.rb
<dd>
<p>add tests.</p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>fix a test to catch up current behavior.</p>
</dd></dl>

<h3 id="label-Sun+May+31+03-3A34-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 31 03:34:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_unlink_method_entry)
<dd>
<p>make it static.</p>
</dd></dl>

<h3 id="label-Sun+May+31+03-3A26-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 31 03:26:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h, vm_method.c (rb_free_method_entry)
<dd>
<p>constify a parameter.</p>
</dd><dt>vm_core.h
<dd>
<p>remove useless declaration about rb_unlink_method_entry().</p>
</dd></dl>

<h2 id="label-2015-05-30">2015-05-30</h2>

<h3 id="label-Sat+May+30+18-3A05-3A02+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat May 30 18:05:02 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Remover#call)
<dd>
<p>fixed wrong condition.  introduced at r50682.</p>
</dd></dl>

<h3 id="label-Sat+May+30+16-3A12-3A35+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat May 30 16:12:35 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c
<dd>
<p>use RB_GC_GUARD instead of volatile [ruby-core:69419] [Feature #11198]</p>
</dd></dl>

<h3 id="label-Sat+May+30+15-3A59-3A10+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat May 30 15:59:10 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb (Tempfile#initialize)
<dd>
<p>initialize @unlinked to fix test failures introduced at r50682.  I hope
that check the results of tests before committing, at least the tests about
the changed feature.</p>
</dd></dl>

<h3 id="label-Sat+May+30+10-3A26-3A09+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sat May 30 10:26:09 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>refactoring. * use warn instead of STDERR.print * remove @tmpname and use
@tmpfile.path * introduce @unlinked flag * Remover takes only @tmpfile *
mode will be modified just before file reopen</p>
</dd></dl>

<h3 id="label-Sat+May+30+09-3A02-3A51+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat May 30 09:02:51 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_generic_ivar_table)
<dd>
<p>deprecate</p>
</dd><dt>internal.h (rb_attr_delete)
<dd>
<p>declare</p>
</dd><dt>marshal.c (has_ivars)
<dd>
<p>use rb_ivar_foreach</p>
</dd><dt>(w_ivar)
<dd>
<p>ditto</p>
</dd><dt>(w_object)
<dd>
<p>update for new interface</p>
</dd><dt>time.c (time_mload)
<dd>
<p>use rb_attr_delete</p>
</dd><dt>variable.c (generic_ivar_delete)
<dd>
<p>implement</p>
</dd><dt>(rb_ivar_delete)
<dd>
<p>ditto</p>
</dd><dt>(rb_attr_delete)
<dd>
<p>ditto [ruby-core:69323] [Feature #11170]</p>
</dd></dl>

<h3 id="label-Sat+May+30+09-3A14-3A28+2015++Scott+Francis++-3Cscott.francis-40shopify.com-3E">Sat May 30 09:14:28 2015  Scott Francis  &lt;scott.francis@shopify.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>cont.c (cont_free)
<dd>
<p>check if ruby_current_thread is still valid. [Fix GH-914]</p>
</dd></dl>

<h3 id="label-Sat+May+30+08-3A36-3A04+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat May 30 08:36:04 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (static int special_generic_ivar)
<dd>
<p>move</p>
</dd><dt>(rb_generic_ivar_table)
<dd>
<p>rewrite for compatibility</p>
</dd><dt>(gen_ivtbl_bytes)
<dd>
<p>new function</p>
</dd><dt>(generic_ivar_get)
<dd>
<p>update to use ivar index</p>
</dd><dt>(generic_ivar_update)
<dd>
<p>ditto</p>
</dd><dt>(generic_ivar_set)
<dd>
<p>ditto</p>
</dd><dt>(generic_ivar_defined)
<dd>
<p>ditto</p>
</dd><dt>(generic_ivar_remove)
<dd>
<p>ditto</p>
</dd><dt>(rb_mark_generic_ivar)
<dd>
<p>ditto</p>
</dd><dt>(givar_i)
<dd>
<p>ditto</p>
</dd><dt>(rb_free_generic_ivar)
<dd>
<p>ditto</p>
</dd><dt>(rb_mark_generic_ivar_tbl)
<dd>
<p>ditto</p>
</dd><dt>(rb_generic_ivar_memsize)
<dd>
<p>ditto</p>
</dd><dt>(rb_copy_generic_ivar)
<dd>
<p>ditto</p>
</dd><dt>(rb_ivar_set)
<dd>
<p>ditto</p>
</dd><dt>(rb_ivar_foreach)
<dd>
<p>ditto</p>
</dd><dt>(rb_ivar_count)
<dd>
<p>ditto</p>
</dd><dt>(givar_mark_i)
<dd>
<p>remove</p>
</dd><dt>(gen_ivtbl_mark)
<dd>
<p>new function</p>
</dd><dt>(gen_ivar_each)
<dd>
<p>ditto</p>
</dd><dt>(iv_index_tbl_extend)
<dd>
<p>update for struct ivar_update</p>
</dd><dt>(iv_index_tbl_newsize)
<dd>
<p>ditto [ruby-core:69323] [Feature #11170]</p>
</dd></dl>

<h3 id="label-Sat+May+30+08-3A10-3A46+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat May 30 08:10:46 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (iv_index_tbl_make)
<dd>
<p>extract from rb_ivar_set</p>
</dd><dt>(iv_index_tbl_extend)
<dd>
<p>ditto</p>
</dd><dt>(iv_index_tbl_newsize)
<dd>
<p>ditto</p>
</dd><dt>(rb_ivar_set)
<dd>
<p>use extracted functions [ruby-core:69323] (Part 1)</p>
</dd></dl>

<h2 id="label-2015-05-29">2015-05-29</h2>

<h3 id="label-Fri+May+29+17-3A39-3A14+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 29 17:39:14 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make_hgraph.rb
<dd>
<p>added.</p>
</dd></dl>

<h3 id="label-Fri+May+29+14-3A39-3A00+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 29 14:39:00 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>out of range NTH_REF is always nil.</p>
</dd><dt>parse.y (parse_numvar)
<dd>
<p>check overflow of NTH_REF and range. [ruby-core:69393] [Bug #11192]</p>
</dd><dt>util.c (ruby_scan_digits)
<dd>
<p>make public and add length parameter.</p>
</dd></dl>

<h3 id="label-Fri+May+29+11-3A18-3A58+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri May 29 11:18:58 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_sendmsg_internal, bsock_recvmsg_internal)
<dd>
<p>avoid redundant fcntl on Linux [ruby-core:69154] [Feature #11145]</p>
</dd><dt>ext/socket/init.c (rsock_s_recvfrom_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/rubysocket.h (MSG_DONTWAIT_RELIABLE)
<dd>
<p>new macro</p>
</dd></dl>

<h3 id="label-Fri+May+29+10-3A30-3A34+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri May 29 10:30:34 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/resolv.rb (request)
<dd>
<p>use monotonic clock</p>
</dd><dt>lib/net/http.rb (begin_transport, end_transport)
<dd>
<p>ditto [ruby-core:69384] [Feature #11124]</p>
</dd></dl>

<h3 id="label-Fri+May+29+04-3A37-3A38+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri May 29 04:37:38 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>add two methods to debug internals. * <a
href="../classes/ObjectSpace.html#method-c-internal_class_of">ObjectSpace.internal_class_of</a>:
return RBASIC_CLASS(obj). * <a
href="../classes/ObjectSpace.html#method-c-internal_super_of">ObjectSpace.internal_super_of</a>:
return RCLASS_SUPER(cls).</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>add information about both methods.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add tests for both methods.</p>
</dd></dl>

<h2 id="label-2015-05-28">2015-05-28</h2>

<h3 id="label-Thu+May+28+06-3A55-3A53+2015++Anton+Davydov++-3Cantondavydov.o-40gmail.com-3E">Thu May 28 06:55:53 2015  Anton Davydov  &lt;antondavydov.o@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/sample/figmemo_sample.rb (open_file), ext/tk/sample/tktextio.rb (TkTextIO)
<dd>
<p>fix typo in messages. [Fix GH-916]</p>
</dd></dl>

<h2 id="label-2015-05-27">2015-05-27</h2>

<h3 id="label-Wed+May+27+09-3A50-3A51+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed May 27 09:50:51 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_asn1.c (ossl_asn1_traverse, ossl_asn1_decode, ossl_asn1_decode_all)
<dd>
<p>use RB_GC_GUARD instead of volatile [ruby-core:69371] [Bug #11185]</p>
</dd></dl>

<h3 id="label-Wed+May+27+09-3A27-3A30+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed May 27 09:27:30 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb (set_sockopt)
<dd>
<p>remove redundant fcntl call</p>
</dd><dt>lib/drb/unix.rb (set_sockopt)
<dd>
<p>ditto [ruby-core:69128] [Feature #11137]</p>
</dd></dl>

<h2 id="label-2015-05-26">2015-05-26</h2>

<h3 id="label-Tue+May+26+22-3A10-3A43+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue May 26 22:10:43 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_alias)
<dd>
<p>should resolve refined methods. [ruby-core:69360] [Bug #11182]</p>
</dd></dl>

<h3 id="label-Tue+May+26+21-3A35-3A13+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Tue May 26 21:35:13 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/defines.h (RUBY_ATTR_ALLOC_SIZE)
<dd>
<p>fix condition.</p>
</dd></dl>

<h2 id="label-2015-05-25">2015-05-25</h2>

<h3 id="label-Mon+May+25+22-3A35-3A58+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon May 25 22:35:58 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (rel)
<dd>
<p>after the relations is changed, @changesets is no longer right.</p>
</dd></dl>

<h3 id="label-Mon+May+25+11-3A27-3A14+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon May 25 11:27:14 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (setup_overlapped)
<dd>
<p>seek to the file end only when writing (mode:a), not reading (mode:a+,
read).</p>
</dd></dl>

<h3 id="label-Mon+May+25+00-3A27-3A37+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon May 25 00:27:37 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (Numeric#negative?)
<dd>
<p>[DOC] Fix call-seq. Patch by @yui-knk. [Fixes GH-908]</p>
</dd></dl>

<h2 id="label-2015-05-24">2015-05-24</h2>

<h3 id="label-Sun+May+24+01-3A35-3A22+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun May 24 01:35:22 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>debug.c (ruby_debug_print_id)
<dd>
<p>use rb_id2name() for fprintf().</p>
</dd></dl>

<h2 id="label-2015-05-23">2015-05-23</h2>

<h3 id="label-Sat+May+23+18-3A38-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 23 18:38:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>man/*.1
<dd>
<p>updated dates in man pages. [ruby-dev:48988] [Bug #11171]</p>
</dd></dl>

<h3 id="label-Sat+May+23+03-3A10-3A58+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat May 23 03:10:58 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_write_console)
<dd>
<p>should return the count of actually eaten characters, include escape
sequences.</p>
</dd></dl>

<h2 id="label-2015-05-22">2015-05-22</h2>

<h3 id="label-Fri+May+22+21-3A13-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 22 21:13:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_sym_count)
<dd>
<p>move `rb_sym_all_symbols` to a symbol.c specific section.  a part of patch
by Lourens Naude.</p>
</dd></dl>

<h3 id="label-Fri+May+22+20-3A56-3A33+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri May 22 20:56:33 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c (f_complex_polar)
<dd>
<p>simple bug reproduced only when y is a float but x is not a float.</p>
</dd></dl>

<h3 id="label-Fri+May+22+19-3A42-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 22 19:42:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_spawn_process)
<dd>
<p>do not discard global escape status.  [ruby-core:69304] [Bug #11166]</p>
</dd><dt>process.c (rb_execarg_spawn)
<dd>
<p>extract the start procedure in a parent process with ensuring the end
procedure.</p>
</dd></dl>

<h3 id="label-Fri+May+22+16-3A48-3A32+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri May 22 16:48:32 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>added news for net-telnet and rake</p>
</dd></dl>

<h2 id="label-2015-05-21">2015-05-21</h2>

<h3 id="label-Thu+May+21+20-3A27-3A07+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May 21 20:27:07 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_DTRACE_POSTPROCESS)
<dd>
<p>cmp -b is GNU extension. darwin uses GNU cmp, and FreeBSD and Solaris are
not. Note that accidentally equals to expected result.</p>
</dd></dl>

<h3 id="label-Thu+May+21+18-3A00-3A19+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 18:00:19 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c
<dd>
<p>constify.</p>
</dd><dt>iseq.h
<dd>
<p>ditto.</p>
</dd><dt>method.h
<dd>
<p>ditto.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm_method.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+May+21+17-3A44-3A53+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 17:44:53 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>fix issues caused by binding created from <a
href="../classes/Method.html#method-i-to_proc">Method#to_proc</a>. [Bug
#11163]</p>
</dd><dt>vm.c (vm_cref_new_toplevel)
<dd>
<p>export as rb_vm_cref_new_toplevel().</p>
</dd><dt>test/ruby/test_method.rb
<dd>
<p>add some assertions.</p>
</dd></dl>

<h3 id="label-Thu+May+21+17-3A29-3A26+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu May 21 17:29:26 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>added documentation for Matrix#empty and Matrix#/ [Feature #<a
href="ruby-dev:48433">10070]</a> Patch by @gogotanaka</p>
</dd></dl>

<h3 id="label-Thu+May+21+17-3A02-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 17:02:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>rename functions. * method_get_def() -&gt; method_def() * method_get_iseq()
-&gt; method_def_iseq() * method_get_cref() -&gt; method_cref()</p>
</dd></dl>

<h3 id="label-Thu+May+21+16-3A52-3A44+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 16:52:44 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_method_get_iseq)
<dd>
<p>rename to rb_method_iseq.</p>
</dd><dt>iseq.c
<dd>
<p>catch up this fix.</p>
</dd><dt>iseq.h
<dd>
<p>commit ditto.</p>
</dd></dl>

<h3 id="label-Thu+May+21+15-3A41-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu May 21 15:41:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/telnet.rb
<dd>
<p>gemify net-telnet. [Feature #11083]</p>
</dd><dt>gems/bundled_gems
<dd>
<p>added net-telnet to bundled gems.</p>
</dd></dl>

<h3 id="label-Thu+May+21+15-3A37-3A32+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Thu May 21 15:37:32 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c
<dd>
<p>Remove private attribute warning [Bug #10967] Patch by @spastorino [Fixes
GH-849] <a
href="https://github.com/ruby/ruby/pull/849">github.com/ruby/ruby/pull/849</a></p>
</dd><dt>test/ruby/test_module.rb
<dd>
<p>Update test for changes</p>
</dd></dl>

<h3 id="label-Thu+May+21+10-3A59-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 10:59:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (method_proc)
<dd>
<p>rename to method_to_proc.</p>
</dd></dl>

<h3 id="label-Thu+May+21+10-3A51-3A54+2015++Jake+Worth++-3Cjakeworth82-40gmail.com-3E">Thu May 21 10:51:54 2015  Jake Worth  &lt;jakeworth82@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_f_select)
<dd>
<p>[DOC] Fixes for grammar and style. [Fix GH-906]</p>
</dd></dl>

<h3 id="label-Thu+May+21+08-3A25-3A19+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu May 21 08:25:19 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (Init_var_tables)
<dd>
<p>init generic_iv_tbl</p>
</dd><dt>(rb_generic_ivar_table, generic_ivar_get, generic_ivar_set, generic_ivar_defined, generic_ivar_remove, rb_mark_generic_ivar, givar_i, rb_mark_generic_ivar_tbl, rb_free_generic_ivar, rb_copy_generic_ivar, rb_ivar_foreach, rb_ivar_count)
<dd>
<p>remove checks for uninitialize generic_iv_tbl [ruby-core:69155] [Feature
#11146]</p>
</dd></dl>

<h3 id="label-Thu+May+21+04-3A11-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu May 21 04:11:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (exception_type2symbol)
<dd>
<p>show correct bug message.</p>
</dd></dl>

<h2 id="label-2015-05-20">2015-05-20</h2>

<h3 id="label-Wed+May+20+23-3A19-3A05+2015++Yusuke+Endoh++-3Cmame-40ruby-lang.org-3E">Wed May 20 23:19:05 2015  Yusuke Endoh  &lt;mame@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/base64.rb
<dd>
<p>Fix rdoc-formatting for padding argument. [fix GH-905][ci skip] Patch by
@davydovanton</p>
</dd></dl>

<h3 id="label-Wed+May+20+13-3A16-3A23+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 20 13:16:23 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (DEPRECATED_BY)
<dd>
<p>deprecate warning with preferable alternative.</p>
</dd><dt>configure.in (RUBY_FUNC_ATTRIBUTE)
<dd>
<p>allow attribute arguments in the macro.</p>
</dd></dl>

<h3 id="label-Wed+May+20+11-3A23-3A24+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed May 20 11:23:24 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_print_backtrace)
<dd>
<p>return value of libexec&#39;s backtrace is size_t, so simply cast as int.</p>
</dd></dl>

<h2 id="label-2015-05-19">2015-05-19</h2>

<h3 id="label-Tue+May+19+18-3A54-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 19 18:54:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (rb_iseq_compile_with_option)
<dd>
<p>check source type, must be an <a href="../classes/IO.html">IO</a> or a
String.  [ruby-core:69219] [Bug #11159]</p>
</dd></dl>

<h3 id="label-Tue+May+19+17-3A15-3A03+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue May 19 17:15:03 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/benchmark.rb
<dd>
<p>Update <a href="../classes/Benchmark.html">Benchmark</a> documentation and
formatting. [fix GH-903][ci skip] Patch by @davydovanton</p>
</dd></dl>

<h3 id="label-Tue+May+19+13-3A10-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 19 13:10:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_positive_p)
<dd>
<p>should false on <a href="../classes/Bignum.html">Bignum</a> 0. <a
href="http://twitter.com/rafaelfranca/status/600509783427391488">twitter.com/rafaelfranca/status/600509783427391488</a>
[ruby-core:69173] [Feature #11151]</p>
</dd></dl>

<h3 id="label-Tue+May+19+11-3A22-3A28+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue May 19 11:22:28 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/rfc2396_parser.rb (initialize_pattern)
<dd>
<p><a href="../classes/URI/Generic.html#method-c-build">URI::Generic.build</a>
should accept port as a string. <a href=":PORT">pattern</a> is not defined
for long. by Dave Slutzkin &lt;daveslutzkin@fastmail.fm&gt; <a
href="https://github.com/ruby/ruby/pull/804">github.com/ruby/ruby/pull/804</a>
fix GH-804</p>
</dd></dl>

<h3 id="label-Tue+May+19+11-3A18-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 19 11:18:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (rb_data_typed_object_alloc), (rb_data_object_alloc)
<dd>
<p>add old names for source level backward compatibilities.</p>
</dd><dt>gc.c (rb_data_object_alloc, rb_data_typed_object_alloc)
<dd>
<p>add aliases for binary level backward compatibilities.</p>
</dd></dl>

<h3 id="label-Tue+May+19+09-3A54-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 19 09:54:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (Data_Make_Struct0)
<dd>
<p>needs function pointer casts to fix function overloading in C++.</p>
</dd></dl>

<h3 id="label-Tue+May+19+09-3A43-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue May 19 09:43:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (Data_Make_Struct0, TypedData_Make_Struct0)
<dd>
<p>explicit cast from void* is necessary as implicit cast is disallowed in
C++.</p>
</dd></dl>

<h2 id="label-2015-05-18">2015-05-18</h2>

<h3 id="label-Mon+May+18+15-3A31-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 18 15:31:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_f_notimplement)
<dd>
<p>should not respond to not-implemented methods.  as the address inside a DLL
and the imported address are different on Windows, use an exported variable
to share the same address.</p>
</dd></dl>

<h3 id="label-Mon+May+18+13-3A55-3A01+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Mon May 18 13:55:01 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/monitor.rb (mon_try_enter, mon_enter)
<dd>
<p>should reset @mon_count just in case the previous owner thread dies without
mon_exit. [fix GH-874] Patch by @chrisberkhout</p>
</dd></dl>

<h2 id="label-2015-05-17">2015-05-17</h2>

<h3 id="label-Sun+May+17+17-3A21-3A29+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun May 17 17:21:29 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb (set_non_blocking)
<dd>
<p>use <a href="../classes/IO.html#method-i-nonblock-3D">IO#nonblock=</a></p>
</dd><dt>(set_close_on_exec)
<dd>
<p>use <a
href="../classes/IO.html#method-i-close_on_exec-3D">IO#close_on_exec=</a>
[Feature #11136]</p>
</dd></dl>

<h3 id="label-Sun+May+17+15-3A01-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 17 15:01:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (num_positive_p, num_negative_p)
<dd>
<p>add methods <a
href="../classes/Numeric.html#method-i-positive-3F">Numeric#positive?</a>
and <a
href="../classes/Numeric.html#method-i-negative-3F">Numeric#negative?</a>.
[ruby-core:69173] [Feature #11151]</p>
</dd><dt>numeric.c (flo_positive_p, flo_negative_p)
<dd>
<p>specialized functions for <a href="../classes/Float.html">Float</a>.</p>
</dd><dt>complex.c (Init_Complex)
<dd>
<p><a href="../classes/Complex.html">Complex</a> do not have positive? and
negative? methods</p>
</dd></dl>

<h3 id="label-Sun+May+17+14-3A57-3A42+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun May 17 14:57:42 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb (accept_client)
<dd>
<p>avoid redundant fcntl call [Feature #11137]</p>
</dd></dl>

<h3 id="label-Sun+May+17+12-3A13-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun May 17 12:13:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (cloexec_accept)
<dd>
<p>support nonblock flag and use SOCK_NONBLOCK if possible</p>
</dd><dt>ext/socket/init.c (rsock_s_accept_nonblock)
<dd>
<p>update cloexec_accept call</p>
</dd><dt>ext/socket/init.c (accept_blocking)
<dd>
<p>ditto for blocking</p>
</dd><dt>test/socket/test_nonblock.rb
<dd>
<p>check nonblock? on accepted socket [Feature #11138]</p>
</dd></dl>

<h3 id="label-Sun+May+17+03-3A58-3A59+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Sun May 17 03:58:59 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c (loaded_feature_path)
<dd>
<p>stop returning false negatives for filenames which are trailing substrings
of file extensions.  For example, &#39;b&#39;, which a trailing substring
of “.rb” should not return false. [Bug #<a
href="ruby-core:69206">11155]</a></p>
</dd><dt>test/ruby/test_autoload.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h2 id="label-2015-05-16">2015-05-16</h2>

<h3 id="label-Sat+May+16+21-3A41-3A24+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat May 16 21:41:24 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>added documentation for character sequence ' with <a
href="../classes/String.html#method-i-sub">String#sub</a> [Bug #<a
href="ruby-core:69121">11132]</a>[fix GH-900][ci skip] Patch by @shishir127</p>
</dd></dl>

<h3 id="label-Sat+May+16+21-3A38-3A05+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sat May 16 21:38:05 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>fix a sample code. Patch by @eagletmt [fix GH-901][ci skip]</p>
</dd></dl>

<h3 id="label-Sat+May+16+21-3A17-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat May 16 21:17:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_data_object_wrap, rb_data_typed_object_wrap)
<dd>
<p>rename alloc as wrap.  these functions do not allocate data pointers but
just wrap the given pointers.</p>
</dd></dl>

<h3 id="label-Sat+May+16+19-3A59-3A24+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat May 16 19:59:24 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_accept)
<dd>
<p>simplified.</p>
</dd></dl>

<h2 id="label-2015-05-15">2015-05-15</h2>

<h3 id="label-Fri+May+15+18-3A28-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May 15 18:28:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_assoc, rb_ary_rassoc)
<dd>
<p>[DOC] the result when key was found is the existing element, not a new
array.  reported by Giau Nguyen &lt;giaunv AT nustechnology.com&gt;.</p>
</dd></dl>

<h3 id="label-Fri+May+15+08-3A24-3A28+2015++Takeyuki+FUJIOKA++-3Cxibbar-40ruby-lang.org-3E">Fri May 15 08:24:28 2015  Takeyuki FUJIOKA  &lt;xibbar@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cgi/cookie.rb
<dd>
<p>Implement HttpOnly flag for cookies. [fix GH-887] Patch by @martinpovolny</p>
</dd></dl>

<h3 id="label-Fri+May+15+06-3A54-3A19+2015++Aaron+Patterson+-3Ctenderlove-40ruby-lang.org-3E">Fri May 15 06:54:19 2015  Aaron Patterson &lt;tenderlove@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c
<dd>
<p>Change autoload to call `require` through Ruby rather than directly calling
`rb_require_safe`.  This allows things like RubyGems to intercept file
loading done though `autoload`. [Feature #11140]</p>
</dd><dt>test/ruby/test_autoload.rb
<dd>
<p><a href="../classes/Test.html">Test</a> for change.</p>
</dd></dl>

<h2 id="label-2015-05-14">2015-05-14</h2>

<h3 id="label-Thu+May+14+15-3A54-3A13+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu May 14 15:54:13 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pathname/lib/pathname.rb
<dd>
<p>Remove condition of RUBY_VERSION &lt;= 1.9. [Feature #11082]</p>
</dd></dl>

<h2 id="label-2015-05-13">2015-05-13</h2>

<h3 id="label-Wed+May+13+17-3A10-3A37+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Wed May 13 17:10:37 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_to_a)
<dd>
<p>revert r50457. it requires recursion check. then, it doesn&#39;t make
performance improvement. [Bug #11130] [Feature #9118]</p>
</dd></dl>

<h3 id="label-Wed+May+13+11-3A13-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May 13 11:13:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (parse_gvar)
<dd>
<p>separate message for gvar without non-space characters from message for
invalid identifiers.</p>
</dd></dl>

<h2 id="label-2015-05-12">2015-05-12</h2>

<h3 id="label-Tue+May+12+22-3A18-3A27+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Tue May 12 22:18:27 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_to_a)
<dd>
<p>fix incompatibility introduced in r50457. [Bug #11130]</p>
</dd><dt>test/ruby/test_enum.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Tue+May+12+17-3A08-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue May 12 17:08:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>method.h
<dd>
<p>remove unused declaration.</p>
</dd></dl>

<h2 id="label-2015-05-11">2015-05-11</h2>

<h3 id="label-Mon+May+11+10-3A58-3A45+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon May 11 10:58:45 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>Update minitest-5.6.1 and power_assert-0.2.3.</p>
</dd></dl>

<h3 id="label-Mon+May+11+00-3A20-3A31+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon May 11 00:20:31 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h (Data_Make_Struct, TypedData_Make_Struct)
<dd>
<p>allocate wrapper data object before allocating DATA_PTR to get rid of
possible memory leak when the former failed.</p>
</dd></dl>

<h2 id="label-2015-05-10">2015-05-10</h2>

<h3 id="label-Sun+May+10+21-3A32-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May 10 21:32:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_children)
<dd>
<p>call dmark function for non-NULL pointers only, so that DATA_PTR can be
NULL safely now.</p>
</dd></dl>

<h3 id="label-Sun+May+10+16-3A23-3A58+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun May 10 16:23:58 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_binding)
<dd>
<p>fix segmentation fault on marking phase. envptr of newenvval should not be
NULL. You can reproduce by make test-all TESTS=&#39;–gc-stress -n
test_to_proc_binding ruby/test_method.rb&#39;</p>
</dd></dl>

<h3 id="label-Sun+May+10+12-3A41-3A18+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun May 10 12:41:18 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (rb_gzreader_external_encoding)
<dd>
<p>define GzipReader#external_encoding. [Bug #10900]</p>
</dd><dt>test/zlib/test_zlib.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Sun+May+10+11-3A57-3A48+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun May 10 11:57:48 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole_variant.c
<dd>
<p>fix typo “indicies”. the patch is from davydovanton &lt;antondavydov.o at
gmail.com&gt;. [fix GH-892]</p>
</dd><dt>lib/rubygems/indexer.rb
<dd>
<p>ditto.</p>
</dd><dt>test/rubygems/test_gem_indexer.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+May+10+11-3A44-3A37+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun May 10 11:44:37 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_crypt)
<dd>
<p>Raise <a href="../classes/ArgumentError.html">ArgumentError</a> when string
passed to <a href="../classes/String.html#method-i-crypt">String#crypt</a>
contains null. the patch is from jrusnack &lt;jrusnack at redhat.com&gt;.
[Bug #10988] [fix GH-853]</p>
</dd><dt>test/ruby/test_string.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Sun+May+10+11-3A23-3A03+2015++Masaki+Matsushita+-3Cglass.saga-40gmail.com-3E">Sun May 10 11:23:03 2015  Masaki Matsushita &lt;glass.saga@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_to_a)
<dd>
<p>Use size to set array capa when possible. the patch is from HonoreDB
&lt;aweiner at mdsol.com&gt;. [fix GH-444]</p>
</dd></dl>

<h2 id="label-2015-05-09">2015-05-09</h2>

<h3 id="label-Sat+May++9+06-3A48-3A36+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat May  9 06:48:36 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ancdata.c (bsock_recvmsg_internal)
<dd>
<p><a href="../classes/GC.html">GC</a> guard [Bug #11123]</p>
</dd></dl>

<h2 id="label-2015-05-08">2015-05-08</h2>

<h3 id="label-Fri+May++8+22-3A57-3A24+2015++takiy33++-3Ctakiy33-40gmail.com-3E">Fri May  8 22:57:24 2015  takiy33  &lt;takiy33@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/matrix/test_matrix.rb (test_determinant)
<dd>
<p>refactor test on <a
href="../classes/Matrix.html#method-i-determinant">Matrix#determinant</a>,
by merging with test_det for an alias method det.  [Fix GH-897]</p>
</dd></dl>

<h3 id="label-Fri+May++8+15-3A43-3A11+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Fri May  8 15:43:11 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (body_ext_mpart)
<dd>
<p>should work even if body-fld-dsp is omitted.  [ruby-core:69093] [Bug
#11128]</p>
</dd></dl>

<h3 id="label-Fri+May++8+15-3A05-3A57+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Fri May  8 15:05:57 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/control_expressions_rdoc.html">doc/syntax/control_expressions.rdoc</a>
<dd>
<p>fix a missing “a” [fix GH-888][ci skip] Patch by @riffraff</p>
</dd></dl>

<h3 id="label-Fri+May++8+12-3A11-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  8 12:11:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_method_call_status)
<dd>
<p>resolve refined method entry to check if undefined.  [ruby-core:69064] [Bug
#11117]</p>
</dd></dl>

<h2 id="label-2015-05-07">2015-05-07</h2>

<h3 id="label-Thu+May++7+22-3A22-3A59+2015++Sho+Hashimoto++-3Csho-h-40ruby-lang.org-3E">Thu May  7 22:22:59 2015  Sho Hashimoto  &lt;sho-h@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>[DOC] fix <a
href="../classes/Binding.html#method-i-local_variable_set">Binding#local_variable_set</a>
example. [ci skip]</p>
</dd></dl>

<h3 id="label-Thu+May++7+11-3A32-3A57+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Thu May  7 11:32:57 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (rbconfig.rb)
<dd>
<p>add rule to make.</p>
</dd></dl>

<h3 id="label-Thu+May++7+05-3A14-3A39+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu May  7 05:14:39 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb (connect_nonblock)
<dd>
<p>use <a
href="../classes/IO.html#method-i-wait_writable">IO#wait_writable</a></p>
</dd><dt>lib/drb/drb.rb (DRB::DRbTCPSocket#alive?)
<dd>
<p>use <a
href="../classes/IO.html#method-i-wait_readable">IO#wait_readable</a></p>
</dd><dt>lib/webrick/httpserver.rb (run)
<dd>
<p>ditto</p>
</dd><dt>lib/resolv.rb (request)
<dd>
<p>ditto for single socket case [ruby-core:68943] [Feature #11081]</p>
</dd></dl>

<h2 id="label-2015-05-06">2015-05-06</h2>

<h3 id="label-Wed+May++6+22-3A49-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed May  6 22:49:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_method_call_status)
<dd>
<p>undefined refined method is not callable unless using.  [ruby-core:69064]
[Bug #11117]</p>
</dd></dl>

<h2 id="label-2015-05-03">2015-05-03</h2>

<h3 id="label-Sun+May++3+22-3A40-3A06+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sun May  3 22:40:06 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/file/fs.c
<dd>
<p>need to include sys/statvfs.h to use statvfs().</p>
</dd><dt>ext/-test-/file/extconf.rb
<dd>
<p>check the existence of sys/statvfs.h</p>
</dd></dl>

<h3 id="label-Sun+May++3+21-3A59-3A48+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Sun May  3 21:59:48 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/yaml.rb
<dd>
<p>fix typo. [ci skip][fix GH-890] Patch by @miketheman</p>
</dd></dl>

<h3 id="label-Sun+May++3+10-3A02-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun May  3 10:02:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>range.c (linear_object_p, range_include)
<dd>
<p>test if covered for linear objects.  [ruby-core:69052] [Bug #11113]</p>
</dd></dl>

<h2 id="label-2015-05-01">2015-05-01</h2>

<h3 id="label-Fri+May++1+13-3A30-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri May  1 13:30:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln.c (dln_load)
<dd>
<p>check if a different libruby is loaded by the extension library, and then
bail out to get rid of very frequently reported stale bug reports.</p>
</dd></dl>

<h2 id="label-2015-04-30">2015-04-30</h2>

<h3 id="label-Thu+Apr+30+19-3A51-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 30 19:51:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (iseq_compile_each)
<dd>
<p>revert r46873 and r46875, not to allow to execute private readers by
pretending op assign. [ruby-core:68984] [Bug #11096]</p>
</dd></dl>

<h3 id="label-Thu+Apr+30+17-3A02-3A33+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Apr 30 17:02:33 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c
<dd>
<p>Added documentation for rational literal. [Bug #11075][fix GH-885][ci skip]
Patch by @shishir127</p>
</dd></dl>

<h3 id="label-Thu+Apr+30+16-3A39-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 30 16:39:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/ipsocket.c (init_inetsock_internal)
<dd>
<p>preserve errno before other library calls and use rb_syserr_fail.
[ruby-core:68531] [Bug #10975]</p>
</dd></dl>

<h3 id="label-Thu+Apr+30+16-3A22-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 30 16:22:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (lambda)
<dd>
<p>push and reset cmdarg_stack in lambda body. [ruby-core:69017] [Bug #11107]</p>
</dd></dl>

<h2 id="label-2015-04-26">2015-04-26</h2>

<h3 id="label-Sun+Apr+26+07-3A36-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Apr 26 07:36:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/utf_8.c (code_to_mbclen, code_to_mbc)
<dd>
<p>reject values larger than UTF-8 max codepoints.  [Feature #11094]</p>
</dd></dl>

<h2 id="label-2015-04-25">2015-04-25</h2>

<h3 id="label-Sat+Apr+25+14-3A26-3A19+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 25 14:26:19 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_buf_cat)
<dd>
<p>expand later so that the buffer can be larger for further use.  [Bug
#11080] [Bug #11095]</p>
</dd></dl>

<h2 id="label-2015-04-24">2015-04-24</h2>

<h3 id="label-Fri+Apr+24+23-3A48-3A45+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Fri Apr 24 23:48:45 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import version 2.2.3 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+10-3A40-3A02+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Apr 24 10:40:02 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_{getc,putc})
<dd>
<p>removed.  they are needed for old ruby (before 1.8), but not now.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+08-3A40-3A13+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 24 08:40:13 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c
<dd>
<p>remove bcc related code.</p>
</dd><dt>include/ruby/win32.h
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+08-3A21-3A07+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 24 08:21:07 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_acrt_lowio_lock_fh)
<dd>
<p>wrap _pioinfo(i)-&gt;lock.</p>
</dd><dt>win32/win32.c (rb_acrt_lowio_unlock_fh)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+06-3A47-3A19+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 24 06:47:19 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (_filbuf)
<dd>
<p>msvc14 doesn&#39;t have it, use _fgetc_nolock.</p>
</dd><dt>win32/win32.c (_flsbuf)
<dd>
<p>msvc14 doesn&#39;t have it, use _fputc_nolock.</p>
</dd><dt>win32/win32.c (vcruntime_file)
<dd>
<p>define vcruntime_file on msvc14 because it doesn&#39;t export FILE&#39;s
internal structure.</p>
</dd><dt>win32/win32.c (FILE_COUNT)
<dd>
<p>added to abstract FILE-&gt;_cnt.</p>
</dd><dt>win32/win32.c (FILE_READPTR)
<dd>
<p>added to abstract FILE-&gt;_ptr.</p>
</dd><dt>win32/win32.c (FILE_FILENO)
<dd>
<p>added to abstract FILE-&gt;_file.</p>
</dd><dt>win32/win32.c (init_stdhandle)
<dd>
<p>use FILE_FILENO.</p>
</dd><dt>win32/win32.c (rb_w32_getc)
<dd>
<p>use FILE_COUNT and FILE_READPTR.</p>
</dd><dt>win32/win32.c (rb_w32_putc)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+06-3A37-3A07+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 24 06:37:07 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (dupfd)
<dd>
<p>use _set_osfhnd.</p>
</dd><dt>win32/win32.c (rb_w32_wopen)
<dd>
<p>use _set_osflags.</p>
</dd></dl>

<h3 id="label-Thu+Apr+24+05-3A38-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Apr 24 05:38:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_mark_roots)
<dd>
<p>fox to work PRINT_ROOT_TICKS.</p>
</dd></dl>

<h3 id="label-Fri+Apr+24+04-3A49-3A05+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Apr 24 04:49:05 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/Makefile.sub
<dd>
<p>MSVC14 have struct timespec.</p>
</dd><dt>win32/rtname.cmd
<dd>
<p>support vcruntime140.dll.</p>
</dd><dt>time.c (localtime_with_gmtoff_zone)
<dd>
<p>MSVC14 doesn&#39;t have tzname and daylight but have _tzname and _daylight.</p>
</dd></dl>

<h2 id="label-2015-04-23">2015-04-23</h2>

<h3 id="label-Thu+Apr+23+11-3A35-3A55+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr 23 11:35:55 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_obj_instance_eval, rb_obj_instance_exec)
<dd>
<p>allow symbols to just instance_eval/exec, except for definition of
singletons.  [ruby-core:68961] [Bug #11086]</p>
</dd></dl>

<h3 id="label-Thu+Apr+23+10-3A01-3A36+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Thu Apr 23 10:01:36 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/delegate.rb
<dd>
<p>fix a typo. [fix GH-881][ci skip] Patch by @Zorbash</p>
</dd></dl>

<h2 id="label-2015-04-22">2015-04-22</h2>

<h3 id="label-Wed+Apr+22+18-3A36-3A50+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Apr 22 18:36:50 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/imap.rb (move, uid_move)
<dd>
<p>support the MOVE command defined in RFC6851.  Patch by ojab ojab.
[ruby-core:68960] [Feature #11077]</p>
</dd></dl>

<h3 id="label-Tue+Apr+22+12-3A42-3A12+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Apr 22 12:42:12 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_object.rb
<dd>
<p>add tests for Kernel#String and Kernel#Array. [fix GH-879][fix GH-880]
Patch by @yui-knk</p>
</dd></dl>

<h2 id="label-2015-04-21">2015-04-21</h2>

<h3 id="label-Tue+Apr+21+20-3A46-3A02+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Tue Apr 21 20:46:02 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_object.rb
<dd>
<p>renamed tests to explicitly class name. [fix GH-877] Patch by @yui-knk</p>
</dd></dl>

<h3 id="label-Tue+Apr+21+05-3A31-3A00+2015++Eric+Wong++-3Ce-4080x24.org-3E">Tue Apr 21 05:31:00 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/lib/socket.rb (connect_internal)
<dd>
<p>avoid common exceptions from connect_nonblock. [ruby-core:68909]</p>
</dd></dl>

<h2 id="label-2015-04-20">2015-04-20</h2>

<h3 id="label-Mon+Apr+20+23-3A46-3A53+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 23:46:53 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_wreadlink)
<dd>
<p>follow the official format of REPARSE_DATA_BUFFER structure.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+20-3A23-3A04+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 20:23:04 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk ($(arch)-fake.rb)
<dd>
<p>revert r50354 because bsdmake seems not to handle such substitution.</p>
</dd><dt>tool/expand-config.rb
<dd>
<p>convert path separators here.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+16-3A52-3A20+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 16:52:20 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/fake.rb
<dd>
<p>don&#39;t fake libdir.  use libdirname instead.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+16-3A49-3A52+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 16:49:52 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (MakeMakefile#configuration)
<dd>
<p>DESTDIR should never affect top_srcdir and builddir.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+16-3A18-3A17+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 16:18:17 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk ($(arch)-fake.rb)
<dd>
<p>fix the path separator up for Windows.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+15-3A02-3A47+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Apr 20 15:02:47 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_wreadlink)
<dd>
<p>fixed a bug that a junction misses its drive letter.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+12-3A54-3A56+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Apr 20 12:54:56 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/*
<dd>
<p>use license instead of licence. [fix GH-876][ci skip] Patch by
@davydovanton</p>
</dd><dt>lib/net/https.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+12-3A42-3A40+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Mon Apr 20 12:42:40 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_so_meteor_contest.rb
<dd>
<p>fix a typo. [fix GH-876][ci skip] Patch by @davydovanton</p>
</dd><dt>tool/bisect.sh
<dd>
<p>ditto.</p>
</dd><dt>tool/update-deps
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+20+11-3A10-3A46+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Apr 20 11:10:46 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c (sock_connect_nonblock)
<dd>
<p>do not raise EISCONN [ruby-core:68926] [Feature #11072]</p>
</dd><dt>test/socket/test_nonblock.rb
<dd>
<p>check non-EISCONN on 2nd connect</p>
</dd></dl>

<h2 id="label-2015-04-19">2015-04-19</h2>

<h3 id="label-Sun+Apr+19+12-3A19-3A17+2015++Chad+Brewbaker++-3Ccrb002-40gmail.com-3E">Sun Apr 19 12:19:17 2015  Chad Brewbaker  &lt;crb002@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/{etc,openssl,tk}
<dd>
<p>Adding parens and comparisons around assignments to get rid of Wparentheses
warnings.  [Fix GH-875]</p>
</dd></dl>

<h3 id="label-Sun+Apr+19+10-3A42-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Apr 19 10:42:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (get_env_cstr)
<dd>
<p>environment variables must be ASCII compatible, as dummy encodings and wide
char encodings are unsupported now.</p>
</dd></dl>

<h2 id="label-2015-04-18">2015-04-18</h2>

<h3 id="label-Sat+Apr+18+15-3A18-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 18 15:18:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/parser/parser.rl
<dd>
<p>raise with messages in UTF-8 encoding.  [ruby-core:67386] [Bug #10705]</p>
</dd></dl>

<h2 id="label-2015-04-17">2015-04-17</h2>

<h3 id="label-Fri+Apr+17+11-3A58-3A34+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 17 11:58:34 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (STR_SET_EMBED)
<dd>
<p>clear NOFREE flag at embedding as embedded strings no longer refer static
strings. [ruby-core:68436] [Bug #10942]</p>
</dd></dl>

<h2 id="label-2015-04-16">2015-04-16</h2>

<h3 id="label-Thu+Apr+16+05-3A15-3A50+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Apr 16 05:15:50 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>note <a
href="../classes/IO.html#method-i-wait_readable">IO#wait_readable</a>
change in r50263</p>
</dd></dl>

<h3 id="label-Thu+Apr+16+05-3A09-3A36+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Apr 16 05:09:36 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/protocol.rb (rbuf_fill)
<dd>
<p>use IO#wait_*able</p>
</dd><dt>lib/net/http/generic_request.rb (wait_for_continue)
<dd>
<p>ditto [ruby-core:68891] [Feature #11056]</p>
</dd></dl>

<h2 id="label-2015-04-15">2015-04-15</h2>

<h3 id="label-Wed+Apr+15+18-3A43-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr 15 18:43:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_tracepoint_new)
<dd>
<p>fix documentation. Commented by @emilsoman.</p>
</dd></dl>

<h3 id="label-Wed+Apr+15+17-3A36-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr 15 17:36:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_trace.c (rb_tracepoint_new)
<dd>
<p>Add documentation for rb_tracepoint_new C level API [ci skip] Provided by
@emilsoman. [fix GH-869]</p>
</dd></dl>

<h3 id="label-Wed+Apr+15+10-3A37-3A40+2015++SHIBATA+Hiroshi++-3Chsbt-40ruby-lang.org-3E">Wed Apr 15 10:37:40 2015  SHIBATA Hiroshi  &lt;hsbt@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributors_rdoc.html">doc/contributors.rdoc</a>
<dd>
<p>fix a typo. Patch by @davydovanton [fix GH-872][ci skip]</p>
</dd><dt><a href="doc/syntax/methods_rdoc.html">doc/syntax/methods.rdoc</a>
<dd>
<p>ditto.</p>
</dd><dt>ext/digest/sha2/sha2.c
<dd>
<p>ditto.</p>
</dd><dt>ext/socket/ipsocket.c
<dd>
<p>ditto.</p>
</dd><dt>ext/tk/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Apr+15+07-3A51-3A23+2015++Yuki+Yugui+Sonoda++-3Cyugui-40yugui.jp-3E">Wed Apr 15 07:51:23 2015  Yuki Yugui Sonoda  &lt;yugui@yugui.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/extension_ja_rdoc.html">doc/extension.ja.rdoc</a>
<dd>
<p>Added description of TypedData_XXX. Deprecated the old DATA_XXX. Reviewed
by ko1 and nobu. Fixes [ruby-dev:40881] #3064</p>
</dd><dt><a href="doc/extension_rdoc.html">doc/extension.rdoc</a>
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Apr+15+07-3A34-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr 15 07:34:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (reserve_stack)
<dd>
<p>keep sp safe zone to get rid of crash by -fstack-check.  [ruby-core:68740]
[Bug #11030]</p>
</dd></dl>

<h2 id="label-2015-04-14">2015-04-14</h2>

<h3 id="label-Tue+Apr+14+16-3A03-3A49+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Apr 14 16:03:49 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/merger.rb (versionup)
<dd>
<p>should also increment revision when changing teeny.</p>
</dd></dl>

<h3 id="label-Tue+Apr+14+11-3A24-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Apr 14 11:24:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/printf/printf.c (uint_to_str)
<dd>
<p>renamed to get rid of conflict on cygwin.  [ruby-core:68877] [Bug #11065]</p>
</dd></dl>

<h3 id="label-Tue+Apr+14+08-3A59-3A04+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Apr 14 08:59:04 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>[DOC] Improve documentation for <a
href="../classes/ObjectSpace.html#method-c-count_objects">ObjectSpace.count_objects</a>
with regards to `:TOTAL` key, with patch by @schneems [Fixes GH-871] <a
href="https://github.com/ruby/ruby/pull/871">github.com/ruby/ruby/pull/871</a>
[Bug #11067]</p>
</dd></dl>

<h2 id="label-2015-04-13">2015-04-13</h2>

<h3 id="label-Mon+Apr+13+22-3A44-3A07+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr 13 22:44:07 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb (File.mkfifo)
<dd>
<p>Defined using mkfifo command.</p>
</dd><dt>test/ruby/test_io.rb
<dd>
<p>Use <a href="../classes/File.html#method-c-mkfifo">File.mkfifo</a>.</p>
</dd><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p>Ditto.</p>
</dd><dt>test/ruby/test_process.rb
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr+13+21-3A20-3A20+2015++CHIKANAGA+Tomoyuki++-3Cnagachika-40ruby-lang.org-3E">Mon Apr 13 21:20:20 2015  CHIKANAGA Tomoyuki  &lt;nagachika@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/lib/openssl/ssl.rb
<dd>
<p>stricter hostname verification following RFC 6125. with the patch provided
by Tony Arcieri and Hiroshi Nakamura [ruby-core:61545] [Bug #9644]</p>
</dd><dt>test/openssl/test_ssl.rb
<dd>
<p>add tests for above.</p>
</dd></dl>

<h2 id="label-2015-04-12">2015-04-12</h2>

<h3 id="label-Sun+Apr+12+18-3A40-3A04+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 18:40:04 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/json.gemspec
<dd>
<p>bump version to 1.8.2.</p>
</dd><dt>ext/json/lib/json/version.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+18-3A12-3A07+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 18:12:07 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/json.gemspec, <a href="lib/rdoc/rdoc_gemspec.html">lib/rdoc/rdoc.gemspec</a>
<dd>
<p>added gemspec directly.</p>
</dd><dt>defs/default_gems, tool/rbinstall.rb
<dd>
<p>removed default_gems definition. it make simple installation for default
gems.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+17-3A35-3A17+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 17:35:17 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/*, test/json/*
<dd>
<p>Reverted r50231.  Because it&#39;s not working with cross-compile
environment.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+15-3A34-3A59+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Apr 12 15:34:59 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (arg)
<dd>
<p>fix segfault by null caused by syntax error. [ruby-core:68851] [Bug #10957]</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+15-3A11-3A16+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 15:11:16 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/test_case.rb
<dd>
<p>use explicitly exception class and reverted to require <a
href="../classes/JSON.html">JSON</a> library for rubygems tests with Ruby
2.2.0 or earlier.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+15-3A10-3A18+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Apr 12 15:10:18 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/wait/wait.c (io_wait_readable)
<dd>
<p>simply returns that <a href="../classes/IO.html">IO</a> is readable without
blocking, but no longer returns EOF.</p>
</dd><dt>ext/io/wait/wait.c (io_ready_p, io_wait_readable)
<dd>
<p>try polling first and check FIONREAD optionally to see if EOF.
[ruby-core:36805] [Feature #4849]</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+14-3A53-3A23+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 14:53:23 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems/test_case.rb
<dd>
<p>fixed json load error for rubygems tests.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+14-3A13-3A28+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 14:13:28 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>Document require name for <a
href="../classes/ObjectSpace.html">ObjectSpace</a> methods. [ci skip][fix
GH-860] Patch by @schneems</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+13-3A54-3A05+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 13:54:05 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>New test that open(fifo) doesn&#39;t block other threads.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+13-3A52-3A18+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr 12 13:52:18 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/coverage/coverage.c
<dd>
<p>Remove extension from require argument. [ci skip][fix GH-870] Patch by
@yui-knk</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+10-3A29-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sun Apr 12 10:29:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c (ossl_ssl_connect_nonblock)
<dd>
<p>support `exception: false&#39;</p>
</dd><dt>(get_no_exception)
<dd>
<p>move function location</p>
</dd><dt>ext/socket/socket.c (sock_connect_nonblock)
<dd>
<p>support `exception: false&#39;</p>
</dd><dt>test/openssl/test_pair.rb (test_connect_accept_nonblock_no_exception)
<dd>
<p>test `exception: false&#39; on connect, rename from
`test_accept_nonblock_no_exception&#39;</p>
</dd><dt>test/socket/test_nonblock.rb (test_connect_nonblock_no_exception)
<dd>
<p>new test</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+09-3A57-3A16+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 09:57:16 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> a block device on GNU/Linux.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+09-3A24-3A03+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 09:24:03 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> a file not owned.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+09-3A05-3A44+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 09:05:44 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/depend
<dd>
<p>Fix “Wrong mix of special targets” error with OpenBSD make.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+09-3A04-3A37+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Apr 12 09:04:37 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p>Windows doesn&#39;t support Unix file modes.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+08-3A56-3A44+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 08:56:44 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/file/fs.c
<dd>
<p>OpenBSD needs sys/param.h before sys/mount.h.</p>
</dd></dl>

<h3 id="label-Sun+Apr+12+08-3A52-3A01+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Apr 12 08:52:01 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> suid, sgid and sticky file.</p>
</dd></dl>

<h2 id="label-2015-04-11">2015-04-11</h2>

<h3 id="label-Sat+Apr+11+23-3A48-3A30+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr 11 23:48:30 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>template/fake.rb.in
<dd>
<p>Don&#39;t assign baseruby, Because it&#39;s affect to Makefile of native
gem like json on bundled gems.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+23-3A33-3A22+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 11 23:33:22 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_f_test)
<dd>
<p>Consider nsec for “=”, “&lt;” and “&gt;” for “test” method.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+23-3A26-3A05+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr 11 23:26:05 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>support destdir for native extension gem.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+21-3A02-3A06+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Apr 11 21:02:06 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb (TestFileExhaustive#test_stat_socket_p)
<dd>
<p>r50226 accidentally missed the guard for non-unix environments.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+20-3A14-3A21+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr 11 20:14:21 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/*, test/json/*, defs/default_gems
<dd>
<p>Gemify <a href="../classes/JSON.html">JSON</a> library. [fix
GH-867][Feature #11057]</p>
</dd><dt>test/ruby/test_extlibs.rb
<dd>
<p>removed json gem from existence extensions.</p>
</dd><dt>gems/bundled_gems
<dd>
<p>added json gem into bundled gem.</p>
</dd><dt>lib/rdoc/rubygems_hook.rb
<dd>
<p>ignored no json environment.</p>
</dd><dt>lib/rubygems/test_case.rb, test/rubygems/*
<dd>
<p>ditto.</p>
</dd><dt>lib/rdoc/test_case.rb, test/rdoc/*
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+15-3A56-3A58+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 11 15:56:58 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p>Create sample files lazily.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+14-3A03-3A47+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Apr 11 14:03:47 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> character device using /dev/null.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+10-3A59-3A58+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr 11 10:59:58 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (append_cppflags, append_cflags, append_ldflags)
<dd>
<p>utility methods to append compiler options.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+08-3A22-3A24+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr 11 08:22:24 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/text.rb
<dd>
<p>removed duplicated code.</p>
</dd></dl>

<h3 id="label-Sat+Apr+11+04-3A46-3A42+2015++Eric+Wong++-3Ce-4080x24.org-3E">Sat Apr 11 04:46:42 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/protocol.rb (rbuf_fill)
<dd>
<p>avoid exception with read_nonblock [ruby-core:68787] [Feature #11044]</p>
</dd></dl>

<h2 id="label-2015-04-10">2015-04-10</h2>

<h3 id="label-Fri+Apr+10+23-3A57-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 10 23:57:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (need_normalization)
<dd>
<p>use getattrlist() if fgetattrlist() is unavailable, on OSX 10.5. 
[ruby-core:68829] [Bug #11054]</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+22-3A29-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 10 22:29:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (try_compile)
<dd>
<p>pass the given werror flag to try_do to check if stderr is empty.</p>
</dd><dt>lib/mkmf.rb (try_cflags, try_ldflags)
<dd>
<p>default werror to true.</p>
</dd><dt>win32/Makefile.sub (WERRORFLAG)
<dd>
<p>remove useless option.  VC does not make warnings of unknown command option
an error.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A34-3A24+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 19:34:24 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> socket.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A38-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 10 19:38:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb
<dd>
<p>remove debug prints.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A35-3A51+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 10 19:35:51 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c
<dd>
<p>add <a
href="../classes/ObjectSpace.html#method-c-count_imemo_objects">ObjectSpace.count_imemo_objects</a>
method to count imemo objects for each type.</p>
</dd><dt>test/objspace/test_objspace.rb
<dd>
<p>add a test.</p>
</dd><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>describe about this addition.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A34-3A24+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 19:34:24 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> anonymous pipe.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A31-3A56+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 19:31:56 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_file_exhaustive.rb
<dd>
<p><a href="../classes/Test.html">Test</a> named pipe.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+19-3A10-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 10 19:10:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/objspace/objspace.c (setup_hash)
<dd>
<p>unify common routine.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+18-3A29-3A49+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 18:29:49 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (rb_execarg_parent_start1)
<dd>
<p>Handle EINTR.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+17-3A27-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Apr 10 17:27:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm.c (vm_exec)
<dd>
<p>check other events when RETURN is thrown. [Bug #10724]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+11-3A44-3A09+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr 10 11:44:09 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/extconf.rb
<dd>
<p>check warnings.</p>
</dd><dt>lib/mkmf.rb (try_cflags)
<dd>
<p>pass options to try_compile.</p>
</dd><dt>win32/Makefile.sub (WERRORFLAG)
<dd>
<p>make unknown command line options an error.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+08-3A00-3A17+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Apr 10 08:00:17 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb
<dd>
<p>unfortunately, windows is not POSIX… cygwin has mkfifo command, but it does
not affect system-wide.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+02-3A18-3A53+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 02:18:53 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_process.rb
<dd>
<p>Use mkfifo command instead of mknod command to create a named pipe.  mkfifo
command is defined by POSIX.</p>
</dd></dl>

<h3 id="label-Fri+Apr+10+01-3A29-3A05+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Apr 10 01:29:05 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Release GVL when opening a file in spawn() to avoid whole process blocking
when opening a named pipe.</p>
</dd><dt>(open_func)
<dd>
<p>New function.</p>
</dd><dt>(rb_execarg_parent_start1)
<dd>
<p>Extracted from rb_execarg_parent_start and use rb_thread_call_without_gvl2
to release GVL when opening a file.</p>
</dd><dt>(rb_execarg_parent_start)
<dd>
<p>Invoke rb_execarg_parent_start1 via rb_protect and invoke
rb_execarg_parent_end when error.</p>
</dd></dl>

<h2 id="label-2015-04-09">2015-04-09</h2>

<h3 id="label-Thu+Apr++9+22-3A19-3A19+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  9 22:19:19 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (redirect_open)
<dd>
<p>Removed.</p>
</dd></dl>

<h3 id="label-Thu+Apr++9+21-3A38-3A20+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  9 21:38:20 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_execarg_parent_end)
<dd>
<p>Declared.</p>
</dd><dt>process.c
<dd>
<p>“spawn” opens files in the parent process.</p>
</dd><dt>(check_exec_redirect)
<dd>
<p>Add an placeholder for fd in parameters for fd_open.</p>
</dd><dt>(check_exec_fds_1)
<dd>
<p>Delete fd_open condition.</p>
</dd><dt>(check_exec_fds)
<dd>
<p>Don&#39;t call check_exec_fds_1 with fd_open.</p>
</dd><dt>(rb_execarg_parent_start)
<dd>
<p>Open files specified as “spawn” options and add “dup2” options.</p>
</dd><dt>(rb_execarg_parent_end)
<dd>
<p>New function to close opened fds.</p>
</dd><dt>(run_exec_open)
<dd>
<p>Removed.</p>
</dd><dt>(rb_execarg_run_options)
<dd>
<p>Don&#39;t call run_exec_open.</p>
</dd><dt>(rb_spawn_internal)
<dd>
<p>Call rb_execarg_parent_end.</p>
</dd><dt>io.c (pipe_open)
<dd>
<p>Call rb_execarg_parent_end.</p>
</dd><dt>ext/pty/pty.c (establishShell)
<dd>
<p>Call rb_execarg_parent_end.</p>
</dd></dl>

<h3 id="label-Thu+Apr++9+20-3A52-3A31+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  9 20:52:31 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (rb_execarg_parent_start)
<dd>
<p>Renamed from rb_execarg_fixup.</p>
</dd><dt>process.c
<dd>
<p>Follows the above change.</p>
</dd><dt>io.c
<dd>
<p>Ditto.</p>
</dd><dt>ext/pty/pty.c
<dd>
<p>Ditto.</p>
</dd></dl>

<h3 id="label-Thu+Apr++9+20-3A35-3A12+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Apr  9 20:35:12 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c (fd_clear_cloexec)
<dd>
<p>Extracted from run_exec_dup2.</p>
</dd></dl>

<h3 id="label-Thu+Apr++9+09-3A26-3A47+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Apr  9 09:26:47 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ccan/list/list.h
<dd>
<p>sync with ccan upstream [ccan commit
c2fbfe5282ba264f3485586e7efa8a5967f2d386]</p>
</dd></dl>

<h3 id="label-Thu+Apr++9+08-3A24-3A03+2015++Masahiro+Tomita++-3Ctommy-40tmtm.org-3E">Thu Apr  9 08:24:03 2015  Masahiro Tomita  &lt;tommy@tmtm.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/raddrinfo.c (addrinfo_mload)
<dd>
<p>fix memory leak of addrinfo.  [ruby-dev:48923] [Bug #11051]</p>
</dd></dl>

<h2 id="label-2015-04-08">2015-04-08</h2>

<h3 id="label-Wed+Apr++8+19-3A18-3A02+2015++Shota+Fukumori+-28sora_h-29++-3Cher-40sorah.jp-3E">Wed Apr  8 19:18:02 2015  Shota Fukumori (sora_h)  &lt;her@sorah.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_grep_v, grep_i, grep_iter_i, Init_enum)
<dd>
<p>Implement <a
href="../classes/Enumerable.html#method-i-grep_v">Enumerable#grep_v</a>.
[Feature #11049]</p>
</dd></dl>

<h3 id="label-Wed+Apr++8+17-3A45-3A02+2015++Shannon+Skipper++-3Cshannonskipper-40gmail.com-3E">Wed Apr  8 17:45:02 2015  Shannon Skipper  &lt;shannonskipper@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>version.c (Init_version)
<dd>
<p>the version of the engine or interpreter.  [Fix GH-858]</p>
</dd></dl>

<h3 id="label-Wed+Apr++8+16-3A15-3A30+2015++Kenta+Murata++-3Cmrkn-40cookpad.com-3E">Wed Apr  8 16:15:30 2015  Kenta Murata  &lt;mrkn@cookpad.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>bigdecimal
<dd>
<p>conform to ruby&#39;s license.  [ruby-core:68466] [Bug #10952]</p>
</dd></dl>

<h3 id="label-Wed+Apr++8+14-3A57-3A06+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Apr  8 14:57:06 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (rb_w32_wreadlink)
<dd>
<p>should treat junctions like as symlinks.</p>
</dd></dl>

<h3 id="label-Wed+Apr++8+14-3A03-3A47+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Apr  8 14:03:47 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_symbol.rb
<dd>
<p>fix syntax error.</p>
</dd></dl>

<h3 id="label-Wed+Apr++8+13-3A01-3A06+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  8 13:01:06 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_any_hash)
<dd>
<p>Symbols are compared by the identities always.  [ruby-core:68767] [Bug
#11035]</p>
</dd></dl>

<h2 id="label-2015-04-07">2015-04-07</h2>

<h3 id="label-Tue+Apr++7+10-3A22-3A51+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Apr  7 10:22:51 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>fix typo. Patch by @sferik [fix GH-865]</p>
</dd></dl>

<h2 id="label-2015-04-06">2015-04-06</h2>

<h3 id="label-Mon+Apr++6+22-3A52-3A35+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Mon Apr  6 22:52:35 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p><a href="../classes/Enumerable.html#method-i-chunk">Enumerable#chunk</a>
and <a
href="../classes/Enumerable.html#method-i-slice_before">Enumerable#slice_before</a>
no longer takes the initial_state argument.  [Feature #10958]</p>
</dd></dl>

<h3 id="label-Mon+Apr++6+16-3A09-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Apr  6 16:09:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c
<dd>
<p>protect value stack from calling other methods during complex parameter
setting process (splat, kw, and so on). [Bug #11027]</p>
</dd><dt>vm_core.h
<dd>
<p>remove rb_thread_t::mark_stack_len. With this modification, we don&#39;t
need to use th-&gt;mark_stack_len.</p>
</dd><dt>test/ruby/test_keyword.rb
<dd>
<p>add a test.</p>
</dd><dt>cont.c (cont_capture)
<dd>
<p>catch up this fix.</p>
</dd><dt>vm.c (rb_thread_mark)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Mon+Apr++6+11-3A26-3A42+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Mon Apr  6 11:26:42 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb (http_options)
<dd>
<p>prevent content auto decoding because this is a downloader.</p>
</dd></dl>

<h2 id="label-2015-04-05">2015-04-05</h2>

<h3 id="label-Sun+Apr++5+09-3A55-3A18+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sun Apr  5 09:55:18 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>update Maintainers list.</p>
</dd></dl>

<h3 id="label-Sun+Apr++5+09-3A11-3A00+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr  5 09:11:00 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>fix bin script permission of bundled gems.</p>
</dd></dl>

<h3 id="label-Sun+Apr++5+08-3A46-3A08+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Apr  5 08:46:08 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>support –program-suffix option.</p>
</dd></dl>

<h2 id="label-2015-04-04">2015-04-04</h2>

<h3 id="label-Sat+Apr++4+21-3A31-3A18+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Apr  4 21:31:18 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake/*
<dd>
<p>Gemify rake [fix GH-862][Feature #11025]</p>
</dd><dt>test/rake/*
<dd>
<p>ditto.</p>
</dd><dt>tool/rbinstall.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Apr++4+11-3A30-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Apr  4 11:30:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_setbyte)
<dd>
<p>check the argument first not to discard shared string and code range
unnecessarily until actually changing the contents.  pointed out by
headius.</p>
</dd></dl>

<h3 id="label-Sat+Apr++4+08-3A16-3A43+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Apr  4 08:16:43 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (edit_path)
<dd>
<p>use path which is absolute ftp url on using ftp_proxy.</p>
</dd></dl>

<h2 id="label-2015-04-03">2015-04-03</h2>

<h3 id="label-Fri+Apr++3+11-3A43-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Apr  3 11:43:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call0_cfunc)
<dd>
<p>update invoker arguments.</p>
</dd><dt>vm_insnhelper.c (vm_call_cfunc_latter)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c (rb_vm_call_cfunc_push_frame)
<dd>
<p>ditto, and prefix with rb_.</p>
</dd></dl>

<h2 id="label-2015-04-02">2015-04-02</h2>

<h3 id="label-Thu+Apr++2+16-3A26-3A59+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Apr  2 16:26:59 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk, tool/mkconfig.rb
<dd>
<p>check the running ruby version in rbconfig.rb with the program version, as
RUBY_VERSION has never been affected by –with-ruby-version option.
[ruby-core:68639] [Bug #11002]</p>
</dd><dt>configure.in (LIBRUBY_DLDFLAGS)
<dd>
<p>compatibility_version must be valid version numbers, not an arbitrary
string.</p>
</dd></dl>

<h2 id="label-2015-04-01">2015-04-01</h2>

<h3 id="label-Wed+Apr++1+11-3A09-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  1 11:09:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (push_glob)
<dd>
<p>remove indirect links of arguments for trampoline.</p>
</dd></dl>

<h3 id="label-Wed+Apr++1+09-3A59-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Apr  1 09:59:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/fileutils.rb (FileUtils#mv)
<dd>
<p>show the exact target path in the error message instead of the destination
parent directory name.  patched by Joao Britto &lt;jabcalves AT
gmail.com&gt; at [ruby-core:68706].  [Bug #11021]</p>
</dd></dl>

<h2 id="label-2015-03-31">2015-03-31</h2>

<h3 id="label-Tue+Mar+31+15-3A25-3A07+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Mar 31 15:25:07 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/ChangeLog-0_06_to_0_52.html">doc/ChangeLog-0.06_to_0.52</a>
<dd>
<p>added archived Changelog. [ruby-list:50105]</p>
</dd><dt><a href="doc/ChangeLog-0_50_to_0_60.html">doc/ChangeLog-0.50_to_0.60</a>
<dd>
<p>ditto.</p>
</dd><dt><a href="doc/ChangeLog-0_60_to_1_1.html">doc/ChangeLog-0.60_to_1.1</a>
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-03-30">2015-03-30</h2>

<h3 id="label-Mon+Mar+30+22-3A02-3A55+2015++Kazuhiro+NISHIYAMA++-3Czn-40mbf.nifty.com-3E">Mon Mar 30 22:02:55 2015  Kazuhiro NISHIYAMA  &lt;zn@mbf.nifty.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README</a>.EXT.ja
<dd>
<p>add redirect [ruby-core:68631]</p>
</dd></dl>

<h3 id="label-Mon+Mar+30+14-3A42-3A41+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 30 14:42:41 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (fileattr_to_unixmode, winnt_lstat)
<dd>
<p>deal with symbolic link than directory, and set executable bits.</p>
</dd></dl>

<h3 id="label-Mon+Mar+30+11-3A27-3A54+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 30 11:27:54 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (copy_stream_body)
<dd>
<p>use the arguments without conversion if having read, readpartial, and write
methods, than conversion by to_path method.  [ruby-core:68676] [Bug #11015]</p>
</dd></dl>

<h2 id="label-2015-03-29">2015-03-29</h2>

<h3 id="label-Sun+Mar+29+21-3A08-3A37+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Mar 29 21:08:37 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (objspace_allrefs_destruct_i)
<dd>
<p>fix a typo. [Bug #11013]</p>
</dd></dl>

<h3 id="label-Sun+Mar+29+11-3A51-3A32+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 29 11:51:32 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_binding)
<dd>
<p>replicate env from method object, and allocate the local variable area for
the iseq local table. [ruby-core:68673] [Bug #11012]</p>
</dd></dl>

<h2 id="label-2015-03-28">2015-03-28</h2>

<h3 id="label-Sat+Mar+28+09-3A19-3A41+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Sat Mar 28 09:19:41 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/date/extconf.rb
<dd>
<p>try_cflags(“-std=iso9899:1999”) [Bug #10906] ruby itself (including
numeric.c) is built with strict compile options including
-std=iso9899:1999, but ext/date is not. By the way -std=iso9899:1999 is not
only a warning option but also changes behavior like MACRO definitions for
example INFINITY. gcc on Solaris affect this.</p>
</dd></dl>

<h2 id="label-2015-03-27">2015-03-27</h2>

<h3 id="label-Fri+Mar+27+16-3A34-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 27 16:34:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>revert using BOOTSTRAPRUBY for enc.mk, as enc/depend uses CONFIG. 
[ruby-core:68647] [Bug #11004]</p>
</dd></dl>

<h2 id="label-2015-03-26">2015-03-26</h2>

<h3 id="label-Thu+Mar+26+10-3A05-3A13+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Mar 26 10:05:13 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_observer.rb
<dd>
<p>add tests for <a href="../classes/Observable.html">Observable</a> module.
[fix GH-859] Patch by @brightbits</p>
</dd></dl>

<h3 id="label-Thu+Mar+26+06-3A35-3A10+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Mar 26 06:35:10 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="README_md.html">README</a>.EXT
<dd>
<p>add redirect [ruby-core:68631]</p>
</dd></dl>

<h2 id="label-2015-03-25">2015-03-25</h2>

<h3 id="label-Wed+Mar+25+16-3A46-3A49+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Mar 25 16:46:49 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/extconf.rb
<dd>
<p>Solaris 11 has struct tcp_info.tcpi_ca_state, but it is a dummy.</p>
</dd><dt>ext/socket/option.c
<dd>
<p>Solaris 11 doesn&#39;t have u_intN_t.</p>
</dd><dt>ext/socket/option.c
<dd>
<p>Solaris 11 needs inspect_tcpi_msec.</p>
</dd><dt>ext/socket/raddrinfo.c
<dd>
<p>Solaris 11 has AF_PACKET but doesn&#39;t have related macros.</p>
</dd></dl>

<h3 id="label-Wed+Mar+25+17-3A03-3A08+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 25 17:03:08 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/file/fs.c (get_fsname)
<dd>
<p>try magic number only if f_type is included.  [ruby-dev:48913] [Bug #11000]</p>
</dd></dl>

<h3 id="label-Wed+Mar+25+11-3A20-3A40+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 25 11:20:40 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_hash_aref_flo.rb
<dd>
<p>make more realistic data. [ruby-core:68632] [[Bug #10999]</p>
</dd></dl>

<h3 id="label-Wed+Mar+25+10-3A39-3A06+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Mar 25 10:39:06 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.document
<dd>
<p>removed needless entries.</p>
</dd></dl>

<h3 id="label-Wed+Mar+25+08-3A07-3A28+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Mar 25 08:07:28 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/extension_rdoc.html">doc/extension.rdoc</a>
<dd>
<p>fix spelling of filename</p>
</dd><dt><a href="doc/extension_ja_rdoc.html">doc/extension.ja.rdoc</a>
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+25+06-3A55-3A43+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Mar 25 06:55:43 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c (k_inexact_p, k_exact_zero_p)
<dd>
<p>use k_exact_zero_p macro to remove k_inexact_p macro.</p>
</dd><dt>complex.c (k_exact_one_p)
<dd>
<p>remove unused macro k_exact_one_p.</p>
</dd></dl>

<h2 id="label-2015-03-24">2015-03-24</h2>

<h3 id="label-Tue+Mar+24+22-3A23-3A33+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Mar 24 22:23:33 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/extention.rdoc
<dd>
<p>move from toplevel document and added extname.</p>
</dd><dt>doc/extention.ja.rdoc
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+22-3A06-3A58+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Mar 24 22:06:58 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/standard_library_rdoc.html">doc/standard_library.rdoc</a>
<dd>
<p>strip.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+22-3A06-3A27+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Mar 24 22:06:27 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/standard_library_rdoc.html">doc/standard_library.rdoc</a>
<dd>
<p>move <a href="../classes/Thread.html">Thread</a> to Extensions.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+21-3A59-3A10+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Mar 24 21:59:10 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/contributing_rdoc.html">doc/contributing.rdoc</a>
<dd>
<p>update Maintainers list.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+19-3A10-3A24+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Mar 24 19:10:24 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_writebarrier_generational)
<dd>
<p>fix messages for rb_bug(). Remove `rb_&#39; prefix.</p>
</dd><dt>gc.c (gc_writebarrier_incremental)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+17-3A34-3A01+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Mar 24 17:34:01 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>README.ja.md
<dd>
<p>should be chunibyo.</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+17-3A30-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 24 17:30:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/-test-/file/fs.c (get_fsname)
<dd>
<p>return filesystem name by statfs/statvfs.  [ruby-core:68624] [Bug #10998]</p>
</dd></dl>

<h3 id="label-Tue+Mar+24+16-3A46-3A02+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar 24 16:46:02 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>now doesn&#39;t required spaces just after `!`.</p>
</dd></dl>

<h2 id="label-2015-03-23">2015-03-23</h2>

<h3 id="label-Mon+Mar+23+23-3A18-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 23 23:18:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_close)
<dd>
<p>don&#39;t raise on double close for consistent to <a
href="../classes/IO.html#method-i-close">IO#close</a>.  [Feature #10950]</p>
</dd></dl>

<h3 id="label-Mon+Mar+23+21-3A22-3A07+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 23 21:22:07 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_readlink)
<dd>
<p>move from file.c for better buffer allocation and the result encoding.</p>
</dd><dt>win32/win32.c (wreadlink, rb_w32_ureadlink)
<dd>
<p>implement readlink().</p>
</dd></dl>

<h3 id="label-Mon+Mar+23+14-3A40-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 23 14:40:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (winnt_stat)
<dd>
<p>stat with following symbolic links.</p>
</dd><dt>win32/win32.c (winnt_lstat)
<dd>
<p>rename old winnt_stat, which does not follow symbolic links.</p>
</dd></dl>

<h3 id="label-Mon+Mar+23+01-3A44-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar 23 01:44:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (r_symreal)
<dd>
<p>register symbol names as strings first so that r_symlink always returns
valid names. [ruby-core:68587] [Bug #10991]</p>
</dd><dt>marshal.c (r_ivar, r_object0)
<dd>
<p>now need to intern symbol names.</p>
</dd><dt>marshal.c (r_object0)
<dd>
<p>compare with symbol names.</p>
</dd></dl>

<h2 id="label-2015-03-22">2015-03-22</h2>

<h3 id="label-Sun+Mar+22+22-3A07-3A40+2015++Kouhei+Sutou++-3Ckou-40cozmixng.org-3E">Sun Mar 22 22:07:40 2015  Kouhei Sutou  &lt;kou@cozmixng.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>doc/etc.rd.ja
<dd>
<p>Fix wrong coding for Emacs.</p>
</dd></dl>

<h3 id="label-Sun+Mar+22+09-3A53-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 22 09:53:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot (package)
<dd>
<p>add default CONFIGURE name to follow r50039.</p>
</dd><dt>tool/make-snapshot (package)
<dd>
<p>substitute configuration variables in Makefile.in instead of passing by the
command line, and make temporary Makefile instead of a pipe.</p>
</dd></dl>

<h3 id="label-Sun+Mar+22+08-3A09-3A47+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar 22 08:09:47 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ext/ripper/ripper.c, ext/rbconfig/sizeof/sizes.c)
<dd>
<p>strip autogenerated dependencies which have invalid syntax in other than
nmake.</p>
</dd></dl>

<h2 id="label-2015-03-21">2015-03-21</h2>

<h3 id="label-Sat+Mar+21+15-3A01-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 21 15:01:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c (console_set_winsize)
<dd>
<p>use handle for writing.  GetConsoleScreenBufferInfo seems failing on a
handle for reading.</p>
</dd><dt>io.c
<dd>
<p>[DOC] update the example of <a
href="../classes/IO.html#method-i-winsize">IO#winsize</a> to use $stdout
instead of $stdin, which does not work on Windows.  a patch by Jan Lelis
&lt;mail AT janlelis.de&gt; at [ruby-core:68574]. [Bug #10986]</p>
</dd></dl>

<h2 id="label-2015-03-20">2015-03-20</h2>

<h3 id="label-Fri+Mar+20+18-3A41-3A03+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 20 18:41:03 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (respond_to_missing_p)
<dd>
<p>check if the receiver responds to the given method by respond_to_missing?.</p>
</dd><dt>proc.c (mnew_missing)
<dd>
<p>create <a href="../classes/Method.html">Method</a> object for
method_missing. [ruby-core:68564] [Bug #10985]</p>
</dd></dl>

<h3 id="label-Fri+Mar+20+17-3A43-3A18+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Mar 20 17:43:18 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>enabled email notification.</p>
</dd></dl>

<h3 id="label-Fri+Mar+20+17-3A39-3A52+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Mar 20 17:39:52 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>removed Ruby 1.9.3 build on Travis CI</p>
</dd></dl>

<h3 id="label-Fri+Mar+20+12-3A38-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar 20 12:38:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>obj_info() can receive internal objects.</p>
</dd><dt>gc.c (check_rvalue_consistency)
<dd>
<p>obj_info() returns const char *.</p>
</dd></dl>

<h3 id="label-Fri+Mar+20+12-3A14-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar 20 12:14:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>show class name and T_DATA type_name.</p>
</dd></dl>

<h2 id="label-2015-03-19">2015-03-19</h2>

<h3 id="label-Thu+Mar+19+22-3A12-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 22:12:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_copy_wb_protected_attribute)
<dd>
<p>`dest&#39; can be WB unprotected.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+21-3A25-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 21:25:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_copy_wb_protected_attribute)
<dd>
<p>demote `dest&#39; object.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+16-3A18-3A00+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 16:18:00 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c, internal.h
<dd>
<p>export rb_gc_verify_internal_consistency().</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+16-3A15-3A24+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 16:15:24 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>show allocation site if GC_DEBUG is not 0.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+16-3A12-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 16:12:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (newobj_of)
<dd>
<p>fix RGENGC_OLD_NEWOBJ_CHECK logics. * skip on incremental marking because
not sure what happen :p * rb_gc_writebarrier_remember() is enough to mark
children.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+16-3A08-3A42+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 16:08:42 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_copy_wb_protected_attribute)
<dd>
<p>need demote for old objects.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+10-3A31-3A00+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Mar 19 10:31:00 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (fill_random_bytes)
<dd>
<p>release the handle in the static variable, not a local variable.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+06-3A30-3A35+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 06:30:35 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>object.c (rb_obj_clone)
<dd>
<p>do not touch age (<a href="01">FL_PROMOTED</a>) because rb_obj_alloc() can
return old object in debug.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+06-3A29-3A28+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 06:29:28 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/objspace/test_objspace.rb
<dd>
<p>flag name was changed</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Mar+19+05-3A30-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 05:30:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>iseq.c (iseq_mark)
<dd>
<p>skip some marking if iseq-&gt;orig is available.</p>
</dd><dt>iseq.c (rb_iseq_clone)
<dd>
<p>need WB for iseq1-&gt;klass = iseq0-&gt;klass</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Mar+19+04-3A55-3A53+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 04:55:53 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h (IMEMO_DEBUG)
<dd>
<p>added.</p>
</dd><dt>internal.h
<dd>
<p>remove unused <a href="0-3">FL_IMEMO_MARK_V</a>.</p>
</dd><dt>gc.c (rb_imemo_new_debug)
<dd>
<p>added.</p>
</dd><dt>gc.c (obj_info)
<dd>
<p>show imemo type name.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+04-3A52-3A26+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 04:52:26 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RGENGC_OLD_NEWOBJ_CHECK)
<dd>
<p>add check mechanism. If RGENGC_OLD_NEWOBJ_CHECK &gt; 0, then create old
objects</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Thu+Mar+19+04-3A46-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 04:46:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_sort_by)
<dd>
<p>add WBs.</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+03-3A37-3A52+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 03:37:52 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (check_rvalue_consistency)
<dd>
<p>refactoring. * not inline on RGENGC_CHECK_MODE &gt; 0. * check
SPECIAL_CONST_P(obj) first. * add a check that remembered_bit is only TRUE
when old (age == 3).</p>
</dd><dt>gc.c (RVALUE_DEMOTE)
<dd>
<p>should clear RVALUE_REMEMBERED bit. remembered_bit should be TRUE only for
old (age == 3) objects. Actually there are no effect because demoted
objects will be uncollectible WB unprotected objects (marked at the
beginning of every minor <a href="../classes/GC.html">GC</a>).</p>
</dd></dl>

<h3 id="label-Thu+Mar+19+02-3A52-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 19 02:52:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>rename terminologies. * long_lived -&gt; uncollectible: because this bitmap
does not mean “long lived objects in past”, but means “prohibit collection
these objects until next major GC”. Uncollectible objects consist of two
types objects, one is old objects (WB protected objects which age == 3) and
another is uncollectible WB unprotected objects which are referred from old
objects * remembered_wb_unprotected_objects -&gt;
uncollectible_wb_unprotected_objects: because uncollectible objects does
not mean remembered objects.</p>
</dd></dl>

<h2 id="label-2015-03-18">2015-03-18</h2>

<h3 id="label-Wed+Mar+18+17-3A21-3A12+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 17:21:12 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (gc_writebarrier_generational)
<dd>
<p>add an alternative write barrier (WB) implementation. When finding
reference from [Old obj] to [New obj] by WB, current implementation marks
[Old obj] as remembered old objects and marks children of [Old obj] at the
beginning of marking. Added (but disabled) code changes current behaviour.
This fix promote [New obj] to old and marks as a remembered old object. We
can assume “new objects referred from old objects are maybe long-lived old
objects”. Disadvantage of added algorithm is we may promote unwilling
short-lived objects. For example, consider many new objects push and pop to
an old stack object. All of new objects (short-lived objects) promote to
old objects unexpectedly. To compare these behaviour, I add this new code
(but disabled it).</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+17-3A14-3A39+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 17:14:39 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (RVALUE_PROMOTE_RAW)
<dd>
<p>rename to RVALUE_OLD_LONG_LIVED_SET() to make clear.</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+17-3A10-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 17:10:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (check_rvalue_consistency)
<dd>
<p>do not need to check is_sweeping().</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+14-3A13-3A22+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 14:13:22 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_vm1_gc_wb_ary.rb
<dd>
<p>run <a href="../classes/GC.html">GC</a> to finish “marking” phase.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_obj.rb
<dd>
<p>ditto.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_ary_promoted.rb
<dd>
<p>add parameter full_mark: false to invoke only minor <a
href="../classes/GC.html">GC</a>.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_obj_promoted.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+12-3A07-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 12:07:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>add a comment about RSTRING_FSTR.</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+12-3A01-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 18 12:01:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c (rb_any_hash)
<dd>
<p>use same hash values with <a
href="../classes/Float.html#method-i-hash">Float#hash</a> so that -0.0 and
+0.0 will be identical. [ruby-core:68541] [Bug #10979]</p>
</dd></dl>

<h3 id="label-Wed+Mar+18+05-3A34-3A32+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 18 05:34:32 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>introduce STR_FAKESTR to show string is FAKESTR or not.</p>
</dd><dt>string.c (STR_SET_SHARED)
<dd>
<p>ignore FAKESTR because only Ruby objects can use write barrier.</p>
</dd></dl>

<h2 id="label-2015-03-17">2015-03-17</h2>

<h3 id="label-Tue+Mar+17+18-3A59-3A16+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Mar 17 18:59:16 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>use rb_gc_writebrrier() simply. For incremental <a
href="../classes/GC.html">GC</a>, we need to get a pointer to the objspace.
We can share this pointer for the following WB process. And considering
icache hit ratio, process in the <a href="../classes/GC.html">GC</a>.</p>
</dd><dt>gc.c (rb_gc_writebarrier)
<dd>
<p>added.</p>
</dd><dt>gc.c (gc_writebarrier_generational, gc_writebarrier_incremental)
<dd>
<p>make them NOINLINE because inlining them into rb_gc_writebarrier() makes a
prologue code of rb_gc_writebarrier() longer (storing callee save
registers). This patch improve the performance of WB on micro-benchmarks.
name                   ruby 2.1   trunk   modified vm1_gc_wb_ary*          
0.511   0.632      0.532 vm1_gc_wb_ary_promoted*   0.578   0.701      0.674
vm1_gc_wb_obj*            0.419   0.575      0.492 vm1_gc_wb_obj_promoted* 
0.537   0.664      0.618</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Mar+17+18-3A51-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Mar 17 18:51:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_vm1_gc_wb_ary(_promoted).rb
<dd>
<p>separate fastpath and slowpath for WB. Before this change
bm_vm1_gc_wb_ary.rb tried to check the performance for WB slowpath (making
a reference from oldobj to newobj). However, from Ruby 2.2, 3 GCs are
needed to promote new objects because only 3 age objects are promoted
objects. To compare fastpath and slowpath, introduce new “promoted” version
benchmark. bm_vm1_gc_wb_ary.rb is for fastpath and
bm_vm1_gc_wb_ary_promoted.rb is for slowpath.</p>
</dd><dt>benchmark/bm_vm1_gc_wb_obj(_promoted).rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Tue+Mar+17+17-3A23-3A11+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Mar 17 17:23:11 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>distinguish not-yet-stated and DT_UNKNOWN by readdir, and traverse
recursively for the former.  Linux readdir returns DT_UNKNOWN on some
filesystems, e.g., smbfs, iso9660.</p>
</dd></dl>

<h2 id="label-2015-03-16">2015-03-16</h2>

<h3 id="label-Mon+Mar+16+17-3A43-3A21+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Mar 16 17:43:21 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Fix regression bug in WEBrick&#39;s :DoNotReverseLookup config option
implementation. [fix GH-731] Patch by @vais</p>
</dd><dt>test/webrick/test_do_not_reverse_lookup.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-03-14">2015-03-14</h2>

<h3 id="label-Sat+Mar+14+20-3A05-3A23+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Sat Mar 14 20:05:23 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_gamma)
<dd>
<p>optimization for passed small integer.</p>
</dd></dl>

<h3 id="label-Sat+Mar+14+18-3A07-3A23+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Sat Mar 14 18:07:23 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>[DOC] Fixes <a
href="../classes/Enumerable.html#method-i-member-3F">Enumerable#member?</a>
documentation [fix GH-756][ci skip] Patch by @shamanime</p>
</dd></dl>

<h3 id="label-Sat+Mar+14+12-3A23-3A53+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 14 12:23:53 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>use d_type to reduce lstat system calls.</p>
</dd><dt>win32/dir.h (struct direct)
<dd>
<p>add d_type instead of d_isdir and d_isrep.  SYMLINKD is unreliable, since
the target can be replaced after a link was created.</p>
</dd><dt>win32/win32.c (readdir_internal)
<dd>
<p>set d_type.</p>
</dd></dl>

<h3 id="label-Sat+Mar+14+02-3A14-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Mar 14 02:14:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (primary)
<dd>
<p>empty parentheses at cmdarg can be null. [ruby-core:68477] [Bug #10957]</p>
</dd></dl>

<h2 id="label-2015-03-13">2015-03-13</h2>

<h3 id="label-Fri+Mar+13+15-3A04-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 13 15:04:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_close)
<dd>
<p>don&#39;t raise on double close for consistent to <a
href="../classes/IO.html#method-i-close">IO#close</a>.</p>
</dd></dl>

<h3 id="label-Fri+Mar+13+15-3A03-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 13 15:03:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_close_read, rb_io_close_write)
<dd>
<p>don&#39;t raise after close same as <a
href="../classes/IO.html#method-i-close">IO#close</a>.</p>
</dd></dl>

<h3 id="label-Fri+Mar+13+12-3A29-3A07+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Mar 13 12:29:07 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/readline/test_readline.rb
<dd>
<p>Restore environment variables: COLUMNS LINES</p>
</dd></dl>

<h3 id="label-Fri+Mar+13+11-3A37-3A46+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar 13 11:37:46 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>needs –enable-shared when linked to libruby or fiddle.so.  since
–with-static-linked-ext does no longer link extensions to ruby program with
–enable-shared, the only combination needs –enable-static is
–disable-shared and –with-static-linked-ext.  [ruby-dev:48901] [Bug #10960]</p>
</dd></dl>

<h3 id="label-Fri+Mar+13+07-3A02-3A20+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Mar 13 07:02:20 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_s_accept_nonblock)
<dd>
<p>use rb_hash_lookup2</p>
</dd><dt>ext/openssl/ossl_ssl.c (get_no_exception)
<dd>
<p>new function</p>
</dd><dt>(ossl_ssl_accept_nonblock)
<dd>
<p>use get_no_exception</p>
</dd><dt>(ossl_ssl_read_internal)
<dd>
<p>ditto</p>
</dd><dt>(ossl_ssl_write_nonblock)
<dd>
<p>ditto [ruby-core:68511]</p>
</dd></dl>

<h3 id="label-Fri+Mar+13+07-3A01-3A38+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Mar 13 07:01:38 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_ssl.c
<dd>
<p>predefine wait_*able symbols</p>
</dd></dl>

<h2 id="label-2015-03-12">2015-03-12</h2>

<h3 id="label-Thu+Mar+12+22-3A59-3A53+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Mar 12 22:59:53 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/leakchecker.rb
<dd>
<p>Check environment variables.</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+05-3A54-3A27+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Mar 12 05:54:27 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/init.c (rsock_s_accept_nonblock)
<dd>
<p>support exception: false [ruby-core:66385] [Feature #10532]</p>
</dd><dt>ext/socket/init.c (rsock_init_socket_init)
<dd>
<p>define new symbols</p>
</dd><dt>ext/socket/rubysocket.h
<dd>
<p>adjust prototype</p>
</dd><dt>ext/socket/socket.c (sock_accept_nonblock)
<dd>
<p>support exception: false</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/socket.c (Init_socket)
<dd>
<p>adjust accept_nonblock definition</p>
</dd><dt>ext/openssl/ossl_ssl.c (Init_ossl_ssl)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/tcpserver.c (rsock_init_tcpserver)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/unixserver.c (rsock_init_unixserver)
<dd>
<p>ditto</p>
</dd><dt>ext/socket/tcpserver.c (tcp_accept_nonblock)
<dd>
<p>adjust rsock_s_accept_nonblock call</p>
</dd><dt>ext/socket/unixserver.c (unix_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_start_ssl)
<dd>
<p>support no_exception</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_connect)
<dd>
<p>adjust ossl_start_ssl call</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_connect_nonblock)
<dd>
<p>ditto</p>
</dd><dt>ext/openssl/ossl_ssl.c (ossl_ssl_accept)
<dd>
<p>ditto</p>
</dd><dt>test/socket/test_nonblock.rb (test_accept_nonblock)
<dd>
<p>test for “exception :false”</p>
</dd><dt>test/socket/test_tcp.rb (test_accept_nonblock)
<dd>
<p>new test</p>
</dd><dt>test/socket/test_unix.rb (test_accept_nonblock)
<dd>
<p>ditto</p>
</dd><dt>test/openssl/test_pair.rb (test_accept_nonblock_no_exception)
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+10-3A53-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 12 10:53:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h, node.h
<dd>
<p>move a definition of `struct rb_global_entry&#39; and related functions
from node.h to internal.h.</p>
</dd><dt>variable.c
<dd>
<p>remove unused include pragma.</p>
</dd><dt>common.mk
<dd>
<p>remove unused dependency.</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+10-3A32-3A39+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 12 10:32:39 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>remove unused dependency.</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+08-3A20-3A14+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 12 08:20:14 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>load.c
<dd>
<p>removed unused header file “node.h”.</p>
</dd><dt>method.h
<dd>
<p>ditto.</p>
</dd><dt>symbol.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+08-3A14-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 12 08:14:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>RGENGC_CHECK_MODE should be 0.</p>
</dd></dl>

<h3 id="label-Thu+Mar+12+07-3A44-3A17+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Thu Mar 12 07:44:17 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>use T_IMEMO to represent `struct MEMO&#39; value. memo-&gt;v1 and
memo-&gt;v2 is WB protected values. So use MEMO_V1/V2_SET() macros to set
these values. memo-&gt;u3 is ambiguous (sometimes a VALUE, sometimes an
integer value), so use gc_mark_maybe() in gc.c to mark it. Rename
NEW_MEMO() to MEMO_NEW(). Move MEMO_FOR and NEW_MEMO_FOR macros from
node.h. Export a rb_imemo_new() function for ext/ripper.</p>
</dd><dt>node.h
<dd>
<p>remove NODE_MEMO.</p>
</dd><dt>enum.c
<dd>
<p>catch up these change.</p>
</dd><dt>enumerator.c
<dd>
<p>ditto.</p>
</dd><dt>load.c
<dd>
<p>ditto.</p>
</dd><dt>ext/objspace/objspace.c (count_nodes)
<dd>
<p>ditto.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>mark imemo_memo type.</p>
</dd><dt>parse.y (new_args_gen)
<dd>
<p>use T_IMEMO.</p>
</dd><dd>
<p></p>
</dd></dl>

<h2 id="label-2015-03-11">2015-03-11</h2>

<h3 id="label-Wed+Mar+11+22-3A36-3A34+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 22:36:34 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (frame_called_id)
<dd>
<p>it should use vm_ifunc type.</p>
</dd><dt>eval.c (frame_func_id)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+22-3A27-3A05+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 22:27:05 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>node.h
<dd>
<p>remove NODE_IFUNC, NEW_IFUNC.</p>
</dd><dt>internal.h
<dd>
<p>use T_IMEMO for IFUNC. rename `struct IFUNC&#39; to `struct vm_ifunc&#39;
and move the definition from vm_insnhelper.h. Add imemo_ifunc.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>mark imemo_ifunc type T_IMEMO object.</p>
</dd><dt>compile.c
<dd>
<p>catch up these changes.</p>
</dd><dt>proc.c
<dd>
<p>ditto.</p>
</dd><dt>vm_core.h (RUBY_VM_IFUNC_P)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c (rb_iterate)
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+21-3A53-3A43+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 21:53:43 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h, eval_intern.h
<dd>
<p>move CREF accessors. List IMEMO supported types in internal.h.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+21-3A45-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 21:45:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h
<dd>
<p>use T_IMEMO to create THROW_DATA. Add THROW_DATA_NEW().</p>
</dd><dt>internal.h
<dd>
<p>move definition of `struct THROW_DATA&#39; from vm_insnhelper.h to
internal.h. Rename `THROW_DATA&#39; to `vm_throw_data&#39;.</p>
</dd><dt>eval_intern.h (THROW_DATA_P)
<dd>
<p>move to internal.h. THROW_DATA is no longer T_NODE, so check T_IMEMO.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>mark THROW_DATA.</p>
</dd><dt>vm.c
<dd>
<p>catch up these changes.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+21-3A21-3A56+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 21:21:56 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>use T_IMEMO to create SVAR.</p>
</dd><dt>internal.h, vm_insnhelper.h
<dd>
<p>move definition `struct SVAR&#39; from vm_insnhelper.h to internal.h. And
rename it to struct vm_svar. new imemo_type imemo_svar is added.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>mark imemo_svar.</p>
</dd><dt>node.c (rb_gc_mark_node)
<dd>
<p>remove useless marking.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+19-3A35-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 19:35:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/ruby.h
<dd>
<p>introduce new type T_IMEMO. T_IMEMO is Internal Memo type, internal use
only. T_IMEMO has same purpose of NODE_MEMO. To insert T_IMEMO, type
numbers are modified a little.</p>
</dd><dt>internal.h
<dd>
<p>define struct RIMemo. Each RIMemo objects has imemo_type. We can observe it
by the imemo_type() function.</p>
</dd><dt>gc.c (rb_imemo_new)
<dd>
<p>added.</p>
</dd><dt>node.h
<dd>
<p>remove NODE_CREF and NEW_CREF().</p>
</dd><dt>node.c (rb_gc_mark_node)
<dd>
<p>ditto.</p>
</dd><dt>vm.c (vm_cref_new)
<dd>
<p>use rb_imem_new().</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>use RIMemo objects for CREF.</p>
</dd><dt>ext/objspace/objspace.c
<dd>
<p>support T_IMEMO.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+17-3A03-3A20+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 17:03:20 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c
<dd>
<p>fix memory leak by prepend method. It is easy to reproduce with such
script: module M; def bar; end; end loop{ <a
href="../classes/Class.html#method-i-new">Class#new</a> do def foo; end
prepend M end }</p>
</dd><dt>gc.c (obj_free)
<dd>
<p>free T_ICLASS::m_tbl if it is created by prepend. To recognize it, check
RICLASS_IS_ORIGIN flag.</p>
</dd><dt>gc.c (gc_mark_children)
<dd>
<p>T_ICLASS objects only need to mark T_ICLASS::m_tbl if RICLASS_IS_ORIGIN is
set.</p>
</dd><dt>gc.c (obj_memsize_of)
<dd>
<p>count T_ICLASS if RICLASS_IS_ORIGIN is set.</p>
</dd><dt>internal.h (RCLASS_SET_ORIGIN)
<dd>
<p>add to set RCLASS_SET_ORIGIN. TODO: The word `origin&#39; seems not good
name. We need to invent another good name.</p>
</dd><dt>class.c
<dd>
<p>use RCLASS_SET_ORIGIN().</p>
</dd><dt>class.c (class_alloc)
<dd>
<p>zero clear rb_classext_t.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+13-3A28-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar 11 13:28:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>check also procstat_getvmmap, which is not available on FreeBSD 9. 
[ruby-core:68468] [Bug #10954]</p>
</dd><dt>vm_dump.c (procstat_vm)
<dd>
<p>use kinfo_getvmmap instead if procstat_getvmmap is not available.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+09-3A15-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 09:15:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>define struct MEMO.</p>
</dd><dt>enum.c
<dd>
<p>use MEMO.</p>
</dd><dt>enumerator.c
<dd>
<p>ditto.</p>
</dd><dt>load.c
<dd>
<p>ditto.</p>
</dd><dt>node.h
<dd>
<p>return (struct MEMO *) pointer.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+06-3A26-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 06:26:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h (THROW_DATA_STATE)
<dd>
<p>return int, not VALUE.</p>
</dd><dt>vm_insnhelper.h (THROW_DATA_STATE_SET)
<dd>
<p>accept int value.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+05-3A06-3A46+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 05:06:46 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (rb_catch_protect)
<dd>
<p>use THROW_DATA_VAL().</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+04-3A56-3A04+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 04:56:04 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h
<dd>
<p>define struct IFUNC.</p>
</dd><dt>vm_eval.c (rb_iterate)
<dd>
<p>use it.</p>
</dd><dt>vm_insnhelper.c (vm_yield_with_cfunc)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+03-3A52-3A12+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 03:52:12 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h (THROW_DATA_P)
<dd>
<p>use RB_TYPE_P() instead of BUILTIN_TYPE().</p>
</dd><dt>thread.c (thread_join)
<dd>
<p>use THROW_DATA_P().</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+03-3A48-3A01+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 03:48:01 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c
<dd>
<p>use RUBY_VM_IFUNC_P() to recognize IFUNC or not.</p>
</dd><dt>vm.c
<dd>
<p>ditto.</p>
</dd><dt>vm_dump.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd><dt>vm_core.h (RUBY_VM_IFUNC_P)
<dd>
<p>use RB_TYPE_P() instead of BUILTIN_TYPE().</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+03-3A21-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Wed Mar 11 03:21:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h
<dd>
<p>define struct THROW_DATA to represent throwing data. Also define accessor
functions.</p>
</dd><dt>eval_intern.h
<dd>
<p>move related changes into vm_insnhelper.h. Now these MACROs (functions) are
only used in vm*.c. There is only THROW_DATA_P(err) to check this data type
or not.</p>
</dd><dt>vm.c
<dd>
<p>catch up these changes.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar+11+00-3A57-3A00+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Wed Mar 11 00:57:00 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/rubygems/test_gem_security_trust_dir.rb
<dd>
<p>The return value of <a
href="../classes/File/Stat.html#method-i-mode">File::Stat#mode</a> is OS
dependent. In AIX, 0200000 is set.</p>
</dd></dl>

<h2 id="label-2015-03-10">2015-03-10</h2>

<h3 id="label-Tue+Mar+10+20-3A03-3A41+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Mar 10 20:03:41 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/server.rb
<dd>
<p>Invoke setup_shutdown_pipe in start method instead of listen method.
[ruby-core:68476] [Bug #10956] Reported by Shintaro Kojima.</p>
</dd></dl>

<h3 id="label-Tue+Mar+10+17-3A27-3A27+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Mar 10 17:27:27 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (thread_join)
<dd>
<p><a href="../classes/Fixnum.html">Fixnum</a> (except TAG_FATAL) and NODE
should not be reached here.</p>
</dd></dl>

<h2 id="label-2015-03-09">2015-03-09</h2>

<h3 id="label-Mon+Mar++9+21-3A42-3A10+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar  9 21:42:10 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (ep_cref)
<dd>
<p>rename to lep_cref() because it should be local ep.</p>
</dd></dl>

<h3 id="label-Mon+Mar++9+16-3A34-3A36+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  9 16:34:36 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/stringio/stringio.c (strio_close)
<dd>
<p>don&#39;t raise on double close for consistent to <a
href="../classes/IO.html#method-i-close">IO#close</a>.</p>
</dd></dl>

<h3 id="label-Mon+Mar+09+06-3A44-3A48+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar 09 06:44:48 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h
<dd>
<p>define struct SVAR for SVAR. This data type is also same layout of NODE
(NODE_IF).</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>catch up this change.</p>
</dd></dl>

<h3 id="label-Mon+Mar++9+06-3A43-3A21+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar  9 06:43:21 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (lep_svar_set)
<dd>
<p>add WBs.</p>
</dd></dl>

<h3 id="label-Mon+Mar++9+06-3A19-3A06+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar  9 06:19:06 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>define rb_cref_t and change to use it. rb_cref_t is data type of CREF. Now,
the body is still NODE. It is easy to understand what is CREF and what is
pure NODE.</p>
</dd></dl>

<h3 id="label-Mon+Mar++9+06-3A00-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar  9 06:00:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.h (COPY_CREF_OMOD)
<dd>
<p>fix translation miss.</p>
</dd></dl>

<h3 id="label-Mon+Mar++9+04-3A47-3A58+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Mon Mar  9 04:47:58 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>define CREF accessor macros. * CREF_CLASS(cref) * CREF_NEXT(cref) *
CREF_VISI(cref) * CREF_VISI_SET(cref, v) * CREF_REFINEMENTS(cref) *
CREF_PUSHED_BY_EVAL(cref) * CREF_PUSHED_BY_EVAL_SET(cref) *
CREF_OMOD_SHARED(cref) * CREF_OMOD_SHARED_SET(cref) *
CREF_OMOD_SHARED_UNSET(cref) This is process to change CREF data type from
NODE.</p>
</dd></dl>

<h2 id="label-2015-03-08">2015-03-08</h2>

<h3 id="label-Sun+Mar++8+22-3A50-3A57+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Mar  8 22:50:57 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c (rb_gzfile_close)
<dd>
<p>Don&#39;t raise on double close for consistent to <a
href="../classes/IO.html#method-i-close">IO#close</a>.</p>
</dd></dl>

<h3 id="label-Sun+Mar++8+16-3A57-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  8 16:57:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>match patterns against legacy short names too, not only ordinary names. 
[ruby-core:67954] [Bug #10819]</p>
</dd><dt>win32/dir.h (struct direct)
<dd>
<p>add short name members.</p>
</dd><dt>win32/win32.c (opendir_internal, readdir_internal)
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-03-07">2015-03-07</h2>

<h3 id="label-Sat+Mar++7+09-3A36-3A05+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Mar  7 09:36:05 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>document that first element is kept when using <a
href="../classes/Array.html#method-i-uniq">Array#uniq</a> and uniq! [fix
GH-845][ci skip] Patch by @riffraff</p>
</dd></dl>

<h3 id="label-Sat+Mar++7+09-3A28-3A02+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Mar  7 09:28:02 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Mutex#owned? is no longer experimental since 2.1.0 [fix GH-839][ci skip]
Patch by @takiy33</p>
</dd></dl>

<h3 id="label-Sat+Mar++7+09-3A18-3A42+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Mar  7 09:18:42 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/merger.rb
<dd>
<p>Added documentation to version method. [fix GH-847][ci skip] Patch by
@magikid</p>
</dd></dl>

<h2 id="label-2015-03-06">2015-03-06</h2>

<h3 id="label-Fri+Mar++6+22-3A50-3A36+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 22:50:36 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_prepend_module)
<dd>
<p>need a WB for klass -&gt; origin.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+20-3A18-3A38+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 20:18:38 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dd>
<p></p>
</dd><dt>vm_core.h, method.h
<dd>
<p>remove rb_iseq_t::cref_stack. CREF is stored to
rb_method_definition_t::body.iseq_body.cref.</p>
</dd><dt>vm_insnhelper.c
<dd>
<p>modify SVAR usage. When calling ISEQ type method, push CREF information
onto method frame, SVAR located place. Before this fix, SVAR is simply nil.
After this patch, CREF (or NULL == Qfalse for not iseq methods) is stored
at the method invocation. When SVAR is required, then put NODE_IF onto SVAR
location, and NDOE_IF::nd_reserved points CREF itself.</p>
</dd><dt>vm.c (vm_cref_new, vm_cref_dump, vm_cref_new_toplevel)
<dd>
<p>added.</p>
</dd><dt>vm_insnhelper.c (vm_push_frame)
<dd>
<p>accept CREF.</p>
</dd><dt>method.h, vm_method.c (rb_add_method_iseq)
<dd>
<p>added. This function accepts iseq and CREF.</p>
</dd><dt>class.c (clone_method)
<dd>
<p>use rb_add_method_iseq().</p>
</dd><dt>gc.c (mark_method_entry)
<dd>
<p>mark method_entry::body.iseq_body.cref.</p>
</dd><dt>iseq.c
<dd>
<p>remove CREF related codes.</p>
</dd><dt>insns.def (getinlinecache/setinlinecache)
<dd>
<p>CREF should be cache key because a different CREF has a different
namespace.</p>
</dd><dt>node.c (rb_gc_mark_node)
<dd>
<p>mark NODE_IF::nd_reserved for SVAR.</p>
</dd><dt>proc.c
<dd>
<p>catch up changes.</p>
</dd><dt>struct.c
<dd>
<p>ditto.</p>
</dd><dt>insns.def
<dd>
<p>ditto.</p>
</dd><dt>vm_args.c (raise_argument_error)
<dd>
<p>ditto.</p>
</dd><dt>vm_eval.c
<dd>
<p>ditto.</p>
</dd><dt>test/ruby/test_class.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+18-3A19-3A13+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 18:19:13 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_filehandler.rb
<dd>
<p>on vboxsf (on VirtualBox on Windows 7), file name and permissions are
strange (can access by short file name and so on). Simply skip on such
tests on such FS. To detect strange FS, this patch use a part of code
`File.executable?(__FILE__)`. Please correct them if there are better ways.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+17-3A31-3A29+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 17:31:29 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_beginendblock.rb
<dd>
<p>do not change directory. Run system command in the directory mounted by
vboxsf on Windows 7 and get warning like that “warning: Insecure world
writable dir…”.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+10-3A31-3A00+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Mar  6 10:31:00 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (vm_call_super)
<dd>
<p>search next super class from the original class, to get rid of infinite
recursion with prepending.  a patch by Seiei Higa &lt;hanachin AT
gmail.com&gt; at [ruby-core:68434].  [ruby-core:68093] [Bug #10847]</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+07-3A33-3A03+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 07:33:03 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (obj_info)
<dd>
<p>show node name too.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+07-3A00-3A44+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Mar  6 07:00:44 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>internal.h
<dd>
<p>remove struct method_table_wrapper. struct method_table_wrapper was
introduced to avoid duplicate marking for method tables. For example,
`module M1; def foo; end; end` make one method table</p>
</dd><dd>
<p></p>
</dd><dt>class.c
<dd>
<p>ditto.</p>
</dd><dt>eval.c (rb_using_refinement)
<dd>
<p>ditto.</p>
</dd><dt>gc.c
<dd>
<p>ditto.</p>
</dd><dt>include/ruby/ruby.h
<dd>
<p>define m_tbl directly. The definition of struct RClass should be moved to
(srcdir)/internal.h.</p>
</dd><dt>method.h
<dd>
<p>remove decl of rb_free_m_tbl_wrapper().</p>
</dd><dt>object.c
<dd>
<p>use RCLASS_M_TBL() directly.</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+02-3A50-3A12+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Mar  6 02:50:12 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>need to check the return value of GLOB_REALLOC().</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+02-3A26-3A03+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Mar  6 02:26:03 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (replace_real_basename)
<dd>
<p>shouldn&#39;t create Ruby object before the object system is loaded.
[ruby-core:68430] [Bug #10941]</p>
</dd></dl>

<h2 id="label-2015-03-05">2015-03-05</h2>

<h3 id="label-Wed+Mar++5+16-3A58-3A43+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Wed Mar  5 16:58:43 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>[DOC] delete method actually returns nil, if the key is not found. [fix
GH-844][ci skip] Patch by @ivdma</p>
</dd></dl>

<h3 id="label-Wed+Mar++5+12-3A22-3A23+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Wed Mar  5 12:22:23 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c
<dd>
<p>refactoring: remove unnecessary variable d0 to unify code appearance.</p>
</dd></dl>

<h3 id="label-Thu+Mar++5+11-3A50-3A54+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Mar  5 11:50:54 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (eval_string_with_cref)
<dd>
<p>A binding should keep refinements activation information and the
refinements should be activated in subsequent eval calls with the binding.
[ruby-core:67945] [Bug #10818]</p>
</dd></dl>

<h3 id="label-Thu+Mar++5+11-3A16-3A55+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Mar  5 11:16:55 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_refinement.rb
<dd>
<p>There is no need anymore to suppress warnings.</p>
</dd></dl>

<h3 id="label-Thu+Mar++5+08-3A31-3A02+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Thu Mar  5 08:31:02 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (random_raw_seed)
<dd>
<p>Avoid calling fill_random_bytes() if the requested size is 0. AIX returns
-1 for 0-byte read from /dev/urandom, while other UNIX returns 0. With this
change, <a
href="../classes/Random.html#method-c-raw_seed">Random.raw_seed</a>
consistently returns “” in any UNIX.</p>
</dd></dl>

<h2 id="label-2015-03-04">2015-03-04</h2>

<h3 id="label-Wed+Mar++4+12-3A43-3A32+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Wed Mar  4 12:43:32 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_math.rb (assert_float_and_int)
<dd>
<p>Refactor test cases by introducing assert_float_and_int. [misc #10810]</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+11-3A52-3A30+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar  4 11:52:30 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (Init_sym)
<dd>
<p>make dsym_fstrs a hash compared by identity as the keys are unique
fstrings, to get rid of running hash and compare methods and causing new
object allocation during garbage collection phase.  [ruby-dev:48891] [Bug
#10933]</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+10-3A16-3A57+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Mar  4 10:16:57 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c
<dd>
<p>Fix typo in slice_after&#39;s exception message. [fix GH-842][ci skip]
Patch by @jsyeo</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+10-3A15-3A37+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Mar  4 10:15:37 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/methods_rdoc.html">doc/syntax/methods.rdoc</a>
<dd>
<p>add some missing spaces and fix a grammatical error in method docs. [fix
GH-843][ci skip] Patch by @nikolas</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+02-3A13-3A06+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Mar  4 02:13:06 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (backport_command_string)
<dd>
<p>pick up only when the revision exists in trunk.</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+00-3A44-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Mar  4 00:44:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_io_blocking_region)
<dd>
<p>assigned variables inside EXEC_TAG() should be volatile.</p>
</dd><dt>thread.c (rb_thread_s_handle_interrupt)
<dd>
<p>ditto.</p>
</dd><dt>thread.c (exec_recursive)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Wed+Mar++4+00-3A29-3A18+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Mar  4 00:29:18 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>now can specify shorten form of commands.</p>
</dd></dl>

<h2 id="label-2015-03-03">2015-03-03</h2>

<h3 id="label-Tue+Mar++3+23-3A41-3A42+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar  3 23:41:42 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (Readline.readline)
<dd>
<p>drop untreated control characters.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+22-3A25-3A24+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar  3 22:25:24 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/envutil.rb (EnvUtil.invoke_ruby)
<dd>
<p>need to rescue because <a
href="../classes/Signal.html#method-c-signame">Signal.signame</a> may raise
exception.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+16-3A57-3A39+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar  3 16:57:39 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>use &#39;b&#39; instead of &#39;s&#39; for showing Backport options for
merger.rb.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+16-3A55-3A23+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Mar  3 16:55:23 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>show selected ticket number at prompt.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+14-3A47-3A30+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Mar  3 14:47:30 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (num2dbl_with_to_f)
<dd>
<p>direct casting from <a href="../classes/Rational.html">Rational</a> to
double. [Feature #10909]</p>
</dd><dt>test/ruby/test_math.rb
<dd>
<p>add tests for the above change.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+07-3A52-3A20+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Tue Mar  3 07:52:20 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_symbol.rb
<dd>
<p>avoid a false positive in AIX.</p>
</dd></dl>

<h3 id="label-Tue+Mar++3+00-3A59-3A39+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Mar  3 00:59:39 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>set PRELOADENV in Solaris to avoid “wrong ELF class” error. [Bug #10926]
[ruby-dev:48888]</p>
</dd><dt>configure.in
<dd>
<p>set LIBPATHENV for 32-bit compile in Solaris in addition to 64-bit.</p>
</dd></dl>

<h2 id="label-2015-03-02">2015-03-02</h2>

<h3 id="label-Mon+Mar++2+15-3A36-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  2 15:36:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>do not check _setjmp unless _longjmp is available, so that configure
results will not be changed by cache.</p>
</dd></dl>

<h3 id="label-Mon+Mar++2+14-3A44-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  2 14:44:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_REPLACE_TYPE)
<dd>
<p>restore unsigned type from cached variable only if the target type is not
available.</p>
</dd></dl>

<h3 id="label-Mon+Mar++2+13-3A04-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  2 13:04:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (sig_signame)
<dd>
<p>return nil if the argument is a valid signal number.</p>
</dd></dl>

<h3 id="label-Mon+Mar++2+12-3A05-3A04+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Mon Mar  2 12:05:04 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/ftp/test_ftp.rb (create_ftp_server)
<dd>
<p>set SO_OOBINLINE for receiving OOB data which is sent with MSG_OOB flag in
portable way. [Bug #10915] [ruby-dev:48885]</p>
</dd><dt>test/net/ftp/test_ftp.rb (test_abort, test_status)
<dd>
<p>use gets for receiving OOB data in portable way.</p>
</dd></dl>

<h3 id="label-Mon+Mar++2+11-3A43-3A07+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Mar  2 11:43:07 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_REPLACE_TYPE)
<dd>
<p>restore unsigned type from cached variable.</p>
</dd></dl>

<h3 id="label-Mon+Mar++2+06-3A01-3A41+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Mar  2 06:01:41 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/wait/wait.c (io_nread)
<dd>
<p>wrap return value with INT2FIX Thanks to Yura Sokolov
&lt;funny.falcon@gmail.com&gt; [ruby-core:68369] [Bug#10923]</p>
</dd><dt>test/io/wait/test_io_wait.rb (test_nread_buffered)
<dd>
<p>fix broken test</p>
</dd></dl>

<h2 id="label-2015-03-01">2015-03-01</h2>

<h3 id="label-Sat+Dec+19+10-3A33-3A33+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Sat Dec 19 10:33:33 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/iso_8859_2.c, enc/windows_1250.c
<dd>
<p>separate Windows-1250 from ISO-8859-2 to fix 0x80..0x9e range (from
Kimihito Matsui)</p>
</dd></dl>

<h3 id="label-Wed+Dec+16+12-3A24-3A59+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Wed Dec 16 12:24:59 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>test_struct.rb
<dd>
<p><a href="../classes/Test.html">Test</a> that initialize is overridable
[#11708]</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+18-3A04-3A04+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Dec 15 18:04:04 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>added news about EBCDIC encoding</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+17-3A57-3A57+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Dec 15 17:57:57 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/ebcdic.h, enc/trans/ebcdic.trans, test/ruby/test_transcode.rb
<dd>
<p>Fixed encoding name to the correct one in the IANA registry (IBM037) and
added an alias (ebcdic-cp-us)</p>
</dd></dl>

<h3 id="label-Tue+Dec+15+09-3A14-3A14+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Dec 15 09:14:14 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/transcode_tablegen.rb
<dd>
<p>detailed documentation for transcode_tblgen function [ci skip]</p>
</dd></dl>

<h3 id="label-Mon+Dec+14+22-3A11-3A11+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Mon Dec 14 22:11:11 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/ebcdic.h
<dd>
<p>new dummy encoding EBCDIC-US</p>
</dd><dt>enc/trans/ebcdic.trans
<dd>
<p>transcodings between EBCDIC-US and iso-8859-1 [with code from Andrea
Ribuoli]</p>
</dd><dt>test/ruby/test_transcode.rb
<dd>
<p>tests for above</p>
</dd><dt>tool/transcode_tablegen.rb
<dd>
<p>additional argument for method transcode_tblgen</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+10-3A44-3A44+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Sun Dec 13 10:44:44 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>KNOWNBUGS.rb
<dd>
<p>Fixed typo, made more explicit [ci skip]</p>
</dd></dl>

<h3 id="label-Sun+Dec+13+06-3A40-3A30+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sun Dec 13 06:40:30 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/ostruct.rb
<dd>
<p>Have <a href="../classes/OpenStruct.html#method-i-dig">OpenStruct#dig</a>
raise if argument is not a symbol nor a string. See [#11762]</p>
</dd></dl>

<h3 id="label-Tue+Dec++8+17-3A36-3A36+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Dec  8 17:36:36 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>removed unused variable</p>
</dd></dl>

<h3 id="label-Mon+Dec++7+15-3A50-3A50+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Mon Dec  7 15:50:50 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>added cygruby*.def for Cygwin</p>
</dd></dl>

<h3 id="label-Fri+Dec++4+19-3A52-3A52+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Fri Dec  4 19:52:52 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/iso_8859_13.c
<dd>
<p>Added three missing lower/upper-case character pairs (from Kimihito Matsui)</p>
</dd></dl>

<h3 id="label-Fri+Dec++4+18-3A57-3A57+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Fri Dec  4 18:57:57 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/iso_8859_4.c
<dd>
<p>Added missing lower/upper-case character pair (U+014A and U+014B, LATIN
CAPITAL/SMALL LETTER ENG)</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Tue+Nov+17+15-3A34-3A34+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Nov 17 15:34:34 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Added update from Unicode 7.0.0 to 8.0.0 [ci skip]</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+15-3A30-3A30+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Nov 17 15:30:30 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>enc/unicode/casefold.h, name2ctype.h
<dd>
<p>Change Unicode Version for regular expressions from 7.0.0 to 8.0.0 (with
help from Kimihito Matsui) [Feature #11563]</p>
</dd></dl>

<h3 id="label-Tue+Nov+17+11-3A22-3A22+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Nov 17 11:22:22 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>Small grammatical fix [ci skip]</p>
</dd></dl>

<h3 id="label-Sat+Oct+24+12-3A47-3A47+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Sat Oct 24 12:47:47 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>improved error message for “wrong number of arguments”, distinguishing
given and expected argument numbers clearly. [Feature #9025]</p>
</dd></dl>

<h3 id="label-Tue+Oct+20+12-3A17-3A56+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Tue Oct 20 12:17:56 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Add basic argument checking to <a
href="../classes/Prime.html#method-i-prime-3F">Prime#prime?</a> [Bug
#11606]</p>
</dd></dl>

<h3 id="label-Tue+Oct+20+12-3A17-3A50+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Tue Oct 20 12:17:50 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Optimize <a
href="../classes/Integer.html#method-i-prime-3F">Integer#prime?</a> Patch
by Nick Slocum [Bug #10354]</p>
</dd></dl>

<h3 id="label-Fri+Oct++2+09-3A20-3A20+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Fri Oct  2 09:20:20 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk, lib/unicode_normalize/tables.rb
<dd>
<p>Change Unicode Version for character normalization data from 7.0.0 to
8.0.0.</p>
</dd></dl>

<h3 id="label-Tue+Sep+29+16-3A53-3A53+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Tue Sep 29 16:53:53 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/unicode_norm_gen.tmpl, lib/unicode_normalize/tables.rb
<dd>
<p>get rid of many .freeze commands by using frozen_string_literal pragma.</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+00-3A45-3A08+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Jun 13 00:45:08 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Return sized enumerators. Patch by Kenichi Kamiya [GH-931]</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+00-3A45-3A06+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Jun 13 00:45:06 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Fix with_object with no block given</p>
</dd></dl>

<h3 id="label-Sat+Jun+13+00-3A44-3A59+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Sat Jun 13 00:44:59 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Have with_index accept an offset parameter. Based on patch by T Yamada.
[#11007]</p>
</dd></dl>

<h3 id="label-Tue+Jun++9+12-3A31-3A25+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Tue Jun  9 12:31:25 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Simplify and optimize EratosthenesSieve</p>
</dd></dl>

<h3 id="label-Tue+Jun++9+11-3A45-3A00+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Tue Jun  9 11:45:00 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Simplify and optimize EratosthenesSieve based on patch by Ajay Kumar.
[Fixes GH-921]</p>
</dd></dl>

<h3 id="label-Sat+May+30+11-3A02-3A55+2015++Martin+Englund+-3Cmartin-40englund.nu-3E">Sat May 30 11:02:55 2015  Martin Englund &lt;martin@englund.nu&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/dtrace_probes_rdoc.html">doc/dtrace_probes.rdoc</a>
<dd>
<p>change lingering dtrace probe documentation from function- to method-</p>
</dd></dl>

<h3 id="label-Fri+May+22+22-3A36-3A14+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri May 22 22:36:14 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/prime.rb
<dd>
<p>Remove obsolete <a
href="../classes/BasicObject.html#method-c-new">BasicObject.new</a> patch
by Ajay Kumar. [Fixes GH-891]</p>
</dd></dl>

<h3 id="label-Fri+Mar++6+08-3A45-3A26+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Fri Mar  6 08:45:26 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/matrix.rb
<dd>
<p>Add <a href="../classes/Vector.html#method-i-round">Vector#round</a>. Patch
by Jordan Stephens. [Fixes GH-802]</p>
</dd></dl>

<h3 id="label-Sun+Mar++1+20-3A21-3A16+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  1 20:21:16 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_REPLACE_TYPE)
<dd>
<p>restore convertible type from cached variable, so that configured results
will be stable.</p>
</dd></dl>

<h3 id="label-Sun+Mar++1+18-3A10-3A34+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  1 18:10:34 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (rb_cv_broken_memmem)
<dd>
<p>check before adding the result HAVE_MEMMEM macro to confdefs.h, so that
configured results will be stable.</p>
</dd></dl>

<h3 id="label-Sun+Mar++1+11-3A17-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Mar  1 11:17:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (id2ref)
<dd>
<p>prohibit from accessing internal objects. [ruby-core:68348] [Bug #10918]</p>
</dd></dl>

<h3 id="label-Sun+Mar++1+09-3A06-3A11+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sun Mar  1 09:06:11 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/time.rb (strptime)
<dd>
<p>Support %s.%N. [ruby-core:68301] [Bug #10904] Patch by Sadayuki Furuhashi.</p>
</dd></dl>

<h3 id="label-Thu+Feb++5+03-3A59-3A33+2015++Marc-Andre+Lafortune++-3Cruby-core-40marc-andre.ca-3E">Thu Feb  5 03:59:33 2015  Marc-Andre Lafortune  &lt;ruby-core@marc-andre.ca&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c
<dd>
<p>Fix symbol leak with <code>send</code> [Bug #10828]</p>
</dd></dl>

<h3 id="label-Wed+Jan+14+18-3A06-3A06+2015++Martin+Duerst++-3Cduerst-40it.aoyama.ac.jp-3E">Wed Jan 14 18:06:06 2015  Martin Duerst  &lt;duerst@it.aoyama.ac.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/mailto.rb
<dd>
<p>raising <a
href="../classes/URI/InvalidComponentError.html">URI::InvalidComponentError</a>
instead of failing with undefined method `split&#39; for nil:NilClass for
mailto: URIs without opaque part. [Bug #10738]</p>
</dd><dt>test/uri/testuri.rb
<dd>
<p><a href="../classes/Test.html">Test</a> for above</p>
</dd></dl>

<h2 id="label-2015-02-28">2015-02-28</h2>

<h3 id="label-Sat+Feb+28+17-3A18-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 28 17:18:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>enum.c (enum_each_slice, enum_each_cons)
<dd>
<p>limit elements size by the enumerator size.  suggested by Hans Mackowiak
&lt;hanmac AT gmx.de&gt; at [ruby-core:68335]</p>
</dd></dl>

<h3 id="label-Sat+Feb+28+15-3A44-3A20+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 28 15:44:20 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_vm_bugreport)
<dd>
<p>get rid of making new strings inside signal context.</p>
</dd><dt>variable.c (rb_tmp_class_path)
<dd>
<p>defer making temporary class path string.</p>
</dd><dt>variable.c (rb_search_class_path)
<dd>
<p>search class path or return Qnil or Qfalse if unnamed, not creating a
temporary path.</p>
</dd></dl>

<h3 id="label-Sat+Feb+28+15-3A02-3A02+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 28 15:02:02 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>variable.c (rb_tmp_class_path)
<dd>
<p>preserve name encoding of an anonymous instance of module/class subclass.</p>
</dd></dl>

<h3 id="label-Sat+Feb+28+08-3A24-3A30+2015++Rei+Odaira++-3CRei.Odaira-40gmail.com-3E">Sat Feb 28 08:24:30 2015  Rei Odaira  &lt;Rei.Odaira@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/pty/pty.c
<dd>
<p>AIX supports autopush. Patch by Perry Smith [ruby-core:58539] [Bug #9144]</p>
</dd></dl>

<h2 id="label-2015-02-27">2015-02-27</h2>

<h3 id="label-Fri+Feb+27+22-3A00-3A05+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Feb 27 22:00:05 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems 2.4.6 and HEAD(800f2e6). Fixed #1159, #1171, #1173 on
rubygems/rubygems</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+27+20-3A55-3A42+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Feb 27 20:55:42 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rake
<dd>
<p>Update to rake (9237e74), typo fix and remove needless private syntax.</p>
</dd><dt>test/rake
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Feb+27+17-3A06-3A44+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Feb 27 17:06:44 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h
<dd>
<p>define vm_svar_index.</p>
</dd><dt>vm_insnhelper.c, vm.c, compile.c
<dd>
<p>use vm_svar_index names.</p>
</dd><dt>iseq.h
<dd>
<p>remove DEFAULT_SPECIAL_VAR_COUNT. use VM_SVAR_FLIPFLOP_START instead.</p>
</dd></dl>

<h3 id="label-Fri+Feb+27+13-3A57-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 27 13:57:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (setup_narg)
<dd>
<p>wipe away expanded part of buffer to get rid of revealing uncleaned data. 
reported by Dongkwan Kim &lt;dkay AT kaist.ac.kr&gt;.</p>
</dd></dl>

<h2 id="label-2015-02-25">2015-02-25</h2>

<h3 id="label-Wed+Feb+25+22-3A25-3A07+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Feb 25 22:25:07 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>spec/default.mspec
<dd>
<p>use default configuration file name. <a
href="https://github.com/ruby/rubyspec/commit/cc69f337b06362e5607ffa3e3ad40ef7494960cf">github.com/ruby/rubyspec/commit/cc69f337b06362e5607ffa3e3ad40ef7494960cf</a></p>
</dd></dl>

<h3 id="label-Wed+Feb+25+22-3A21-3A56+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Feb 25 22:21:56 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>spec/default.mspec
<dd>
<p>remove specific version number. <a
href="https://github.com/ruby/rubyspec/commit/7a909e925c1baa9c700bd44af9241aef6e596714">github.com/ruby/rubyspec/commit/7a909e925c1baa9c700bd44af9241aef6e596714</a></p>
</dd></dl>

<h3 id="label-Wed+Feb+25+22-3A04-3A04+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Wed Feb 25 22:04:04 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/Win32API.rb (initialize)
<dd>
<p>accept both a string and an array for the arguments of the imported
function. reported by Aaron Stone [ruby-core:68208] [Bug #10876] [Fixes
GH-835]</p>
</dd></dl>

<h3 id="label-Wed+Feb+25+18-3A12-3A11+2015++Eric+Wong++-3Ce-4080x24.org-3E">Wed Feb 25 18:12:11 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>signal.c (sighandler)
<dd>
<p>preserve errno Patch by Steven Stewart-Gallus
&lt;sstewartgallus00@mylangara.bc.ca&gt; [ruby-core:68172] [Bug #10866]</p>
</dd></dl>

<h3 id="label-Wed+Feb+25+15-3A59-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 25 15:59:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (push_pattern, push_glob)
<dd>
<p>make globbed file names same encoding to the given pattern.</p>
</dd></dl>

<h3 id="label-Wed+Feb+25+15-3A27-3A16+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Wed Feb 25 15:27:16 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/merger.rb
<dd>
<p>support 2.1+ versioning scheme.</p>
</dd></dl>

<h3 id="label-Tue+Feb+25+08-3A49-3A12+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Feb 25 08:49:12 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/cmath.rb (log)
<dd>
<p>raise <a href="../classes/ArgumentError.html">ArgumentError</a> when more
than 2 arguments are passed. [ruby-core:66143] [Bug #10487]</p>
</dd></dl>

<h3 id="label-Tue+Feb+25+02-3A15-3A17+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Feb 25 02:15:17 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_math.rb
<dd>
<p>Use assert_infinity instead of assert_equal(1.0/0, …).</p>
</dd><dt>test/ruby/test_math.rb
<dd>
<p>Add tests for overriding Integer#to_f. [ruby-core:67919] [Misc #10809]</p>
</dd></dl>

<h2 id="label-2015-02-24">2015-02-24</h2>

<h3 id="label-Tue+Feb+24+22-3A58-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 24 22:58:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c (nucomp_mul)
<dd>
<p>calculate as rotation in complex plane if matrix calculation resulted in
NaN.</p>
</dd></dl>

<h3 id="label-Tue+Feb+24+21-3A45-3A39+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Tue Feb 24 21:45:39 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_math.rb(test_cbrt)
<dd>
<p>Add an assertion for <a
href="../classes/Math.html#method-c-cbrt">Math.cbrt</a> and move test_cbrt
to more proper place.</p>
</dd></dl>

<h3 id="label-Tue+Feb+24+19-3A09-3A25+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Feb 24 19:09:25 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (lep_svar_place, lep_svar_get)
<dd>
<p>do not create additional T_NODE object (svars holder) when only getting
svars.</p>
</dd></dl>

<h3 id="label-Tue+Feb+24+11-3A49-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 24 11:49:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (time_zone_name)
<dd>
<p>should be US-ASCII only if all 7-bits, otherwise locale encoding. 
[ruby-core:68230] [Bug #10887]</p>
</dd></dl>

<h3 id="label-Tue+Feb+24+09-3A47-3A07+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 24 09:47:07 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (chompped_length)
<dd>
<p>enable smart chomp for all non-dummy encoding strings, not only default_rs.
[ruby-core:68258] [Bug #10893]</p>
</dd></dl>

<h2 id="label-2015-02-23">2015-02-23</h2>

<h3 id="label-Mon+Feb+23+23-3A19-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 23 23:19:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb (IO.popen)
<dd>
<p>support :chdir option.</p>
</dd><dt>tool/vcs.rb (VCS::GIT.get_revisions)
<dd>
<p>use :chdir option instead of -C option which is not supported by older git.
[ruby-dev:48880] [Bug #10890]</p>
</dd></dl>

<h3 id="label-Mon+Feb+23+15-3A26-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 23 15:26:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (rb_str_split_m)
<dd>
<p>raise <a href="../classes/ArgumentError.html">ArgumentError</a> at broken
string not <a href="../classes/RegexpError.html">RegexpError</a>, as <a
href="../classes/Regexp.html">Regexp</a> is not involved in.
[ruby-core:68229] [Bug #10886]</p>
</dd></dl>

<h3 id="label-Mon+Feb+23+07-3A25-3A29+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Mon Feb 23 07:25:29 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c
<dd>
<p>Zone encoding should be US-ASCII if all 7-bits. Fix r46907.</p>
</dd><dt>test/ruby/test_time.rb, test/ruby/test_time_tz.rb
<dd>
<p>Update tests.</p>
</dd></dl>

<h2 id="label-2015-02-22">2015-02-22</h2>

<h3 id="label-Sun+Feb+22+18-3A33-3A42+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb 22 18:33:42 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk
<dd>
<p>use ruby organization for rubyspec.</p>
</dd></dl>

<h3 id="label-Sun+Feb+22+15-3A56-3A06+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Sun Feb 22 15:56:06 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (rb_vm_rewrite_cref_stack)
<dd>
<p>copy nd_refinements of original crefs. It fixes segmentation fault when
calling refined method in duplicate module. [ruby-dev:48878] [Bug #10885]</p>
</dd><dt>vm_core.h, class.c
<dd>
<p>change accordingly.</p>
</dd><dt>test/ruby/test_refinement.rb
<dd>
<p>add a test for above.</p>
</dd></dl>

<h3 id="label-Sun+Feb+22+10-3A43-3A37+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Sun Feb 22 10:43:37 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_call_finalizer)
<dd>
<p>control <a href="../classes/GC.html">GC</a> execution during force
firnalizations at the end of interpreter process. [Bug #10768] 1) Prohibit
incremental <a href="../classes/GC.html">GC</a> while running Ruby-level
finalizers to avoid any danger. 2) Prohibit <a
href="../classes/GC.html">GC</a> while invoking T_DATA/T_FILE data
structure because these operations break object relations consistency. This
patch can introduce another memory consuming issue because Ruby-level
finalizers can run after (2), <a href="../classes/GC.html">GC</a> is
disabled. However, basically object consistency was broken at (2) as I
described above. So that running Ruby-level finalizers contains danger
originally. Because of this point, I need to suggest to remove these 3
lines (invoking remaining finalizers). And add a rule to add that
finalizers should not add new finalizers, or say there is no guarantee to
invoke finalizers that added by another finalizer.</p>
</dd></dl>

<h3 id="label-Sun+Feb+22+04-3A07-3A05+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Sun Feb 22 04:07:05 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl_asn1.c
<dd>
<p>[DOC] <a href="../classes/RDoc.html">RDoc</a> formatting fixes for
ASN1::ObjectId with patch from @vbatts [Fixes GH-834]</p>
</dd><dt>ext/openssl/ossl_bn.c
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-02-21">2015-02-21</h2>

<h3 id="label-Sat+Feb+21+19-3A51-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 21 19:51:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (match_aref)
<dd>
<p>RMatch::regexp is Qnil after matching by a string since r45451. 
[ruby-core:68209] [Bug #10877]</p>
</dd></dl>

<h3 id="label-Sat+Feb+21+16-3A18-3A42+2015++Stefan+Schuler++-3Cmail-40stefanschuessler.de-3E">Sat Feb 21 16:18:42 2015  Stefan Schuler  &lt;mail@stefanschuessler.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (Init_Comparable)
<dd>
<p>[DOC] Replace camelcase variable name. [Fix GH-833]</p>
</dd></dl>

<h2 id="label-2015-02-20">2015-02-20</h2>

<h3 id="label-Fri+Feb+20+17-3A27-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 20 17:27:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c (rb_file_identical_p)
<dd>
<p>fix handle leak, ensure to close the handle of the first argument.</p>
</dd></dl>

<h3 id="label-Fri+Feb+20+17-3A19-3A23+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb 20 17:19:23 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (different_device_p)
<dd>
<p>compare by volume serial numbers, not by path names.  [ruby-core:68162]
[Bug #10865]</p>
</dd></dl>

<h2 id="label-2015-02-19">2015-02-19</h2>

<h3 id="label-Thu+Feb+19+01-3A58-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb 19 01:58:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>neither the drive of base directory nor the current drive are involved in
the result if different than the drive of path. [ruby-core:68130] [Bug
#10858]</p>
</dd></dl>

<h2 id="label-2015-02-18">2015-02-18</h2>

<h3 id="label-Wed+Feb+18+10-3A48-3A56+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 18 10:48:56 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/win32.c (wrename)
<dd>
<p>return EXDEV if moving a directory to another drive, since MoveFileExW does
not set proper error code. [ruby-core:68162] [Bug #10865]</p>
</dd></dl>

<h3 id="label-Wed+Feb+18+03-3A13-3A52+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Wed Feb 18 03:13:52 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bump psych version.</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd><dt>ext/psych/yaml/scanner.c
<dd>
<p>add latest libyaml change.</p>
</dd><dt>test/psych/helper.rb
<dd>
<p>support newer minitest</p>
</dd><dt>test/psych/test_to_yaml_properties.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-02-17">2015-02-17</h2>

<h3 id="label-Tue+Feb+17+11-3A47-3A17+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 17 11:47:17 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Resource#==, hash)
<dd>
<p>elements returned by Kernel#instance_variables are Symbols now.
[ruby-core:68128] [Bug #10857]</p>
</dd></dl>

<h3 id="label-Tue+Feb+17+10-3A59-3A10+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Feb 17 10:59:10 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/calling_methods_rdoc.html">doc/syntax/calling_methods.rdoc</a>
<dd>
<p>Fix documentation for “calling_methods” Patch by @sos4nt [fix GH-830][ci
skip]</p>
</dd></dl>

<h3 id="label-Tue+Feb+17+10-3A53-3A29+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb 17 10:53:29 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>do not make invalid</p>
</dd><dt>(or ADS) path if the path has a drive letter, the result also should have be under it.  [ruby-core
<dd>
<p>68130] [Bug #10858]</p>
</dd></dl>

<h3 id="label-Tue+Feb+17+10-3A47-3A20+2015++Iain+Beeston++-3Ciain.beeston-40gmail.com-3E">Tue Feb 17 10:47:20 2015  Iain Beeston  &lt;iain.beeston@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>Added docs to explain that include? and member? do not check member
equality</p>
</dd><dt>lib/set.rb
<dd>
<p>ditto</p>
</dd></dl>

<h2 id="label-2015-02-16">2015-02-16</h2>

<h3 id="label-Mon+Feb+16+20-3A58-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb 16 20:58:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>compile.c (compile_massign)
<dd>
<p>optimization for special case, assignments by aset or attrset. <a
href="http://kokizzu.blogspot.jp/2015/02/c-java-hhvm-ruby-nodejsrhinojscspidermo.html">kokizzu.blogspot.jp/2015/02/c-java-hhvm-ruby-nodejsrhinojscspidermo.html</a>
<a
href="http://www.atdot.net/~ko1/diary/201502.html#d16">www.atdot.net/~ko1/diary/201502.html#d16</a></p>
</dd></dl>

<h2 id="label-2015-02-15">2015-02-15</h2>

<h3 id="label-Sun+Feb+15+10-3A41-3A23+2015++Sho+Hashimoto++-3Csho-h-40ruby-lang.org-3E">Sun Feb 15 10:41:23 2015  Sho Hashimoto  &lt;sho-h@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/standard_library_rdoc.html">doc/standard_library.rdoc</a>
<dd>
<p>[DOC] delete removed libraries. [misc #10843] [ci skip]</p>
</dd></dl>

<h2 id="label-2015-02-14">2015-02-14</h2>

<h3 id="label-Sat+Feb+14+12-3A20-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 14 12:20:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (rand_random_number)
<dd>
<p>add a method to return a random number like <a
href="../classes/SecureRandom.html">SecureRandom</a> to <a
href="../classes/Random/Formatter.html">Random::Formatter</a>.</p>
</dd><dt>lib/securerandom.rb (random_bytes)
<dd>
<p>move to <a href="../classes/Random/Formatter.html">Random::Formatter</a>,
the base method of the module.</p>
</dd></dl>

<h3 id="label-Sat+Feb+14+12-3A01-3A32+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb 14 12:01:32 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>random.c (random_raw_seed)
<dd>
<p>extract platform dependent random seed initialization function as a new
method <a
href="../classes/Random.html#method-c-raw_seed">Random.raw_seed</a>.</p>
</dd><dt>lib/securerandom.rb (SecureRandom)
<dd>
<p>use <a href="../classes/Random.html#method-c-raw_seed">Random.raw_seed</a>.</p>
</dd></dl>

<h3 id="label-Sat+Feb+14+00-3A49-3A37+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Sat Feb 14 00:49:37 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/coverage/coverage.c
<dd>
<p>Add <a
href="../classes/Coverage.html#method-c-peek_result">Coverage.peek_result</a>.
Allows you to capture coverage information without stopping the coverage
tool. [ruby-core:67940] [Feature #10816]</p>
</dd><dt>test/coverage/test_coverage.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h2 id="label-2015-02-13">2015-02-13</h2>

<h3 id="label-Fri+Feb+13+21-3A52-3A05+2015++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Fri Feb 13 21:52:05 2015  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_discard)
<dd>
<p>does not free for STR_NOFREE string. [Bug #<a
href="ruby-core:68110">10853]</a></p>
</dd><dt>bootstraptest/test_string.rb
<dd>
<p>test for above.</p>
</dd></dl>

<h3 id="label-Fri+Feb+13+21-3A16-3A00+2015++Yusuke+Endoh++-3Cmame-40tsg.ne.jp-3E">Fri Feb 13 21:16:00 2015  Yusuke Endoh  &lt;mame@tsg.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/base64.rb
<dd>
<p>make urlsafe mode user-friendly.</p>
</dd><dt>lib/base64.rb (Base64.urlsafe_encode64)
<dd>
<p>a new option “padding” to suppress the padding character (“=”).</p>
</dd><dt>lib/base64.rb (Base64.urlsafe_decode64)
<dd>
<p>now it accepts not only correctly-padded input but also unpadded input.
[Feature #<a href="ruby-core:67570">10740]</a></p>
</dd><dt>test/base64/test_base64.rb
<dd>
<p><a href="../classes/Test.html">Test</a> for above</p>
</dd></dl>

<h3 id="label-Fri+Feb+13+14-3A19-3A06+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Feb 13 14:19:06 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json
<dd>
<p>merge upstream from flori/json change usage of TypedData. [Feature #<a
href="ruby-core:67564">10739]</a></p>
</dd></dl>

<h2 id="label-2015-02-12">2015-02-12</h2>

<h3 id="label-Thu+Feb+12+18-3A34-3A01+2015++multisnow++-3Cinfinity.blick.winkel-40gmail.com-3E">Thu Feb 12 18:34:01 2015  multisnow  &lt;infinity.blick.winkel@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/extconf.rb
<dd>
<p>check RAND_edg to support libressl.</p>
</dd><dt>ext/openssl/ossl_rand.c (ossl_rand_egd)
<dd>
<p>define only if RAND_edg is available.  [Fix GH-829]</p>
</dd></dl>

<h3 id="label-Thu+Feb+12+10-3A46-3A14+2015++Eric+Hodel++-3Cdrbrain-40segment7.net-3E">Thu Feb 12 10:46:14 2015  Eric Hodel  &lt;drbrain@segment7.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (proc_call)
<dd>
<p>Improve Proc#call documentation.  Patch by Hsing-Hui Hsu.  [fix GH-761]</p>
</dd></dl>

<h3 id="label-Thu+Feb+12+04-3A33-3A02+2015++Benoit+Daloze++-3Ceregontp-40gmail.com-3E">Thu Feb 12 04:33:02 2015  Benoit Daloze  &lt;eregontp@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>compar.c (cmp_equal)
<dd>
<p>no more error hiding for Comparable#==. It now behaves as other <a
href="../classes/Comparable.html">Comparable</a> methods. See #7688.</p>
</dd><dt>test/ruby/test_comparable.rb
<dd>
<p>update related test.</p>
</dd></dl>

<h3 id="label-Thu+Feb+12+03-3A28-3A05+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Feb 12 03:28:05 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/set.rb (initialize)
<dd>
<p>internal hash defaults to false</p>
</dd><dt>lib/set.rb (include?)
<dd>
<p>use <a href="../classes/Hash.html#method-i-5B-5D">Hash#[]</a> for optimized
dispatch. Patch by Ismael Abreu &lt;ismaelga@gmail.com&gt;
[ruby-core:67664] [Misc #10754]</p>
</dd></dl>

<h2 id="label-2015-02-11">2015-02-11</h2>

<h3 id="label-Wed+Feb+11+11-3A09-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 11 11:09:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/digest/digest_conf.rb (digest_conf)
<dd>
<p>check for CommonDigest.</p>
</dd><dt>ext/digest/*/*cc.h
<dd>
<p>for Apple CommonCrypto/CommonDigest.h.</p>
</dd><dt>ext/digest/digest.h (DEFINE_FINISH_FUNC_FROM_FINAL)
<dd>
<p>macro for finish functions, by inverting arguments order.</p>
</dd><dt>ext/digest/digest_conf.rb (digest_conf)
<dd>
<p>extract common configurations.</p>
</dd></dl>

<h3 id="label-Wed+Feb+11+11-3A01-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb 11 11:01:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/generator/generator.c (generate_json)
<dd>
<p>get rid of unnecessary recursive calls which can cause infinite recursion.
T_STRING may not have rb_cString.</p>
</dd></dl>

<h3 id="label-Wed+Feb+11+07-3A53-3A35+2015++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Feb 11 07:53:35 2015  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_word.rb
<dd>
<p>use skip method to skip test.</p>
</dd></dl>

<h2 id="label-2015-02-10">2015-02-10</h2>

<h3 id="label-Tue+Feb+10+11-3A38-3A28+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Feb 10 11:38:28 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_call_method)
<dd>
<p>stop method search when a method is not found in a refinement, to support
undef in refinements. [ruby-core:66741] [Bug #10578]</p>
</dd></dl>

<h3 id="label-Tue+Feb+10+11-3A19-3A11+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Feb 10 11:19:11 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/ftp.rb (chdir, delete, gettextfile, mdtm, mkdir, nlst, putbinaryfile, puttextfile, rename, rmdir, size)
<dd>
<p>support <a href="../classes/Pathname.html">Pathname</a>. Patch by Joe
Rafaniello. [fix GH-828]</p>
</dd></dl>

<h2 id="label-2015-02-09">2015-02-09</h2>

<h3 id="label-Mon+Feb++9+16-3A36-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Feb  9 16:36:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot (package)
<dd>
<p>get rid of loading unbundled and unexpected libraries.  [ruby-core:67977]
[Bug #10822]</p>
</dd></dl>

<h2 id="label-2015-02-08">2015-02-08</h2>

<h3 id="label-Sun+Feb++8+20-3A09-3A37+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Feb  8 20:09:37 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http/header.rb
<dd>
<p>pass header names as symbols. Patch by @DamirSvrtan [fix GH-805]</p>
</dd><dt>test/net/http/test_httpheader.rb
<dd>
<p>added test.</p>
</dd></dl>

<h3 id="label-Sun+Feb++8+13-3A04-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb  8 13:04:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/getaddrinfo.c (get_addr)
<dd>
<p>reject too long hostname to get rid of GHOST vulnerability on very old
platforms.</p>
</dd><dt>ext/socket/raddrinfo.c (make_hostent_internal)
<dd>
<p>ditto, paranoic check for the canonical name.</p>
</dd></dl>

<h3 id="label-Sun+Feb++8+12-3A48-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb  8 12:48:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32/lib/win32/registry.rb (Win32::Registry::API)
<dd>
<p>use wide versions of RegDeleteValue and RegDeleteKey. [ruby-core:67958]
[Bug #10820]</p>
</dd></dl>

<h2 id="label-2015-02-07">2015-02-07</h2>

<h3 id="label-Sat+Feb++7+22-3A13-3A08+2015++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Feb  7 22:13:08 2015  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_record.rb
<dd>
<p>remove test using .NET Framework 3.5 because it is not included in Windows
8/8.1.</p>
</dd></dl>

<h3 id="label-Sat+Feb++7+19-3A25-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Feb  7 19:25:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (has_magic)
<dd>
<p>always get long path name on Windows even if no tilde is there. 
[ruby-core:68011] [Bug #10819]</p>
</dd><dt>dir.c (replace_real_basename)
<dd>
<p>FindFirstFile ignore redirection character, check if exists before call it.
cf. [Bug #8597]</p>
</dd></dl>

<h3 id="label-Sat+Feb++7+13-3A30-3A11+2015++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sat Feb  7 13:30:11 2015  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/win32ole/test_win32ole_record.rb (test_ole_instance_variable_get)
<dd>
<p>correct VT_RECORD type and instance variables.</p>
</dd></dl>

<h2 id="label-2015-02-06">2015-02-06</h2>

<h3 id="label-Fri+Feb++6+17-3A47-3A05+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Feb  6 17:47:05 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>register nodes when dumping objects with custom coders. [ruby-core:66215]
[Bug #10496]</p>
</dd><dt>test/psych/test_coder.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h3 id="label-Fri+Feb++6+16-3A58-3A31+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Feb  6 16:58:31 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>fix support for regular expressions with newlines. tenderlove/psych#222</p>
</dd><dt>test/psych/test_yaml.rb
<dd>
<p>test for change.</p>
</dd></dl>

<h3 id="label-Fri+Feb++6+10-3A31-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Feb  6 10:31:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_call_info_kw_arg_struct)
<dd>
<p>make keywords a symbols list to get rid of inadvertent creation by variable
keyword arguments.  [ruby-core:68031] [Bug #10831]</p>
</dd></dl>

<h2 id="label-2015-02-05">2015-02-05</h2>

<h3 id="label-Thu+Feb++5+22-3A42-3A34+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Feb  5 22:42:34 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems HEAD(5c3b6f3). Fixed #1156, #1142, #1115, #1142, #1139
on rubygems/rubygems</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Thu+Feb++5+13-3A41-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Feb  5 13:41:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_eval.c (send_internal), vm_insnhelper.c (vm_call_opt_send)
<dd>
<p>convert String method name into a <a
href="../classes/Symbol.html">Symbol</a>, as method_missing method expects
its first argument to be a <a href="../classes/Symbol.html">Symbol</a>. 
[Bug #10828]</p>
</dd><dt>vm_insnhelper.c (ci_missing_reason)
<dd>
<p>return the reason of method missing in call info.</p>
</dd><dt>vm_insnhelper.c (vm_call_opt_send)
<dd>
<p>re-apply r49500 with the proper missing reason.  [Bug #10828]</p>
</dd></dl>

<h3 id="label-Thu+Feb++5+10-3A31-3A46+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Thu Feb  5 10:31:46 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (rb_obj_singleton_methods)
<dd>
<p>should use RTEST() to convert VALUE to int.</p>
</dd></dl>

<h2 id="label-2015-02-04">2015-02-04</h2>

<h3 id="label-Wed+Feb++4+20-3A26-3A54+2015++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Wed Feb  4 20:26:54 2015  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (Init_win32ole)
<dd>
<p>should not use atexit to free allocated hash table to avoid error on
Cygwin.</p>
</dd></dl>

<h3 id="label-Wed+Feb++4+15-3A34-3A25+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Wed Feb  4 15:34:25 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (method_entry_i, class_instance_method_list, rb_obj_singleton_methods)
<dd>
<p>should not include methods of superclasses if recur is false.
[ruby-dev:48854] [Bug #10826]</p>
</dd></dl>

<h3 id="label-Wed+Feb++4+16-3A32-3A40+2015++Matt+Hoyle++-3Cmatt-40deployable.co-3E">Wed Feb  4 16:32:40 2015  Matt Hoyle  &lt;matt@deployable.co&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (VpSetPTR)
<dd>
<p>fix a typo, &#39;expoennt&#39; to &#39;exponent&#39;.  [ruby-core:67980]
[Bug #10823] [Fix GH-825]</p>
</dd></dl>

<h3 id="label-Wed+Feb++4+15-3A55-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb  4 15:55:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/sdbm/_sdbm.c
<dd>
<p>include ruby/ruby.h for PRIdPTRDIFF when a macro `DEBUG` is defined.  based
on the patch by Owen Rodley in [ruby-core:67987]. [Bug #10825]</p>
</dd></dl>

<h3 id="label-Wed+Feb++4+11-3A12-3A43+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Feb  4 11:12:43 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (probes.stamp)
<dd>
<p>rebuild dtrace dependent objects only when `dtrace -G` modifies its input
files.</p>
</dd></dl>

<h2 id="label-2015-02-03">2015-02-03</h2>

<h3 id="label-Tue+Feb++3+19-3A27-3A16+2015++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Tue Feb  3 19:27:16 2015  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (ruby-glommed.o)
<dd>
<p>dependency on $(OBJ) should be written in common.mk (in which OBJ is
defined) because of Makefile include and parse order. This partly reverts
r49419. [ruby-dev:48849] [Bug #10808]</p>
</dd><dt>Makefile.in (ruby-glommed.o)
<dd>
<p>ditto.</p>
</dd><dt>Makefile.in (ruby-glommed.o)
<dd>
<p>remove excess $(DTRACE_OBJ) because it is included in $(OBJS) since r49451.</p>
</dd><dt>Makefile.in (probes.o)
<dd>
<p>should depend on $(DTRACE_DEPENDENT_OBJS)</p>
</dd></dl>

<h3 id="label-Tue+Feb++3+17-3A15-3A45+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  3 17:15:45 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (try_cppflags, try_cflags, try_ldflags)
<dd>
<p>get rid of interference by modifying global variables in have_devel?
method. [ruby-core:67962] [Bug #10821]</p>
</dd></dl>

<h3 id="label-Tue+Feb++3+15-3A23-3A58+2015++Shugo+Maeda++-3Cshugo-40ruby-lang.org-3E">Tue Feb  3 15:23:58 2015  Shugo Maeda  &lt;shugo@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (remove_method)
<dd>
<p>When remove refined method, raise a <a
href="../classes/NameError.html">NameError</a> if the method is not defined
in refined class. But if the method is defined in refined class, it should
keep refined method and remove original method. Patch by Seiei Higa.
[ruby-core:67722] [Bug #10765]</p>
</dd></dl>

<h3 id="label-Tue+Feb++3+14-3A04-3A47+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Feb  3 14:04:47 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>obtain real name with FindFirstFile API instead of matching all entries, on
Windows. [ruby-core:67954] [Bug #10819]</p>
</dd></dl>

<h3 id="label-Tue+Feb++3+12-3A26-3A35+2015++Katsuhiko+Nishimra++-3Cktns.87-40gmail.com-3E">Tue Feb  3 12:26:35 2015  Katsuhiko Nishimra  &lt;ktns.87@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/mkmf.rb (configuration)
<dd>
<p>set the default cxxflags, which is referred from the default CXXFLAGS, for
extension libraries. [Fix GH-823]</p>
</dd></dl>

<h3 id="label-Tue+Feb++3+05-3A52-3A00+2015++Aman+Gupta+-3Cruby-40tmm1.net-3E">Tue Feb  3 05:52:00 2015  Aman Gupta &lt;ruby@tmm1.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (rb_objspace_free)
<dd>
<p>cause rb_bug if lazy sweep is in progress during rb_objspace_free. Adds
extra protection for r46340. Patch by Vicent Marti. [Bug #10768]
[ruby-core:67734]</p>
</dd><dt>gc.c (rb_objspace_call_finalizer)
<dd>
<p>Ensure <a href="../classes/GC.html">GC</a> is completed after finalizers
have run. We already call gc_rest() before invoking finalizers, but
finalizer can allocate new objects and start new <a
href="../classes/GC.html">GC</a> cycle, so we call gc_rest() again after
finalizers are complete.</p>
</dd></dl>

<h2 id="label-2015-02-02">2015-02-02</h2>

<h3 id="label-Mon+Feb++2+10-3A51-3A34+2015++Ari+Pollak++-3Cajp-40aripollak.com-3E">Mon Feb  2 10:51:34 2015  Ari Pollak  &lt;ajp@aripollak.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/security_rdoc.html">doc/security.rdoc</a> (Symbols)
<dd>
<p>update about <a href="../classes/Symbol.html">Symbol</a> <a
href="../classes/GC.html">GC</a>.  Symbols explicitly converted from
Strings now can be collected, but reflection/metaprogramming still can
cause memory flooding. [Fix GH-725]</p>
</dd></dl>

<h2 id="label-2015-02-01">2015-02-01</h2>

<h3 id="label-Sun+Feb++1+13-3A46-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Feb  1 13:46:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (bin-comm)
<dd>
<p>drop batch file installation. Windows 95 support has not been supported
already. [Feature #10806]</p>
</dd></dl>

<h2 id="label-2015-01-31">2015-01-31</h2>

<h3 id="label-Sat+Jan+31+12-3A06-3A23+2015++Scott+Francis++-3Cscott.francis-40shopify.com-3E">Sat Jan 31 12:06:23 2015  Scott Francis  &lt;scott.francis@shopify.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread_pthread.c (reserve_stack)
<dd>
<p>fix intermittent SIGBUS on Linux, by reserving the stack virtual address
space at process start up so that it will not clash with the heap space.
[Fix GH-822]</p>
</dd></dl>

<h2 id="label-2015-01-30">2015-01-30</h2>

<h3 id="label-Fri+Jan+30+17-3A28-3A29+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Fri Jan 30 17:28:29 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (num2dbl_with_to_f)
<dd>
<p>make faster when <a href="../classes/Bignum.html">Bignum</a> passed by
direct conversion using rb_big2dbl().  [Feature #10800]</p>
</dd></dl>

<h2 id="label-2015-01-29">2015-01-29</h2>

<h3 id="label-Thu+Jan+29+23-3A30-3A00+2015++Kenta+Murata++-3Cmrkn-40mrkn.jp-3E">Thu Jan 29 23:30:00 2015  Kenta Murata  &lt;mrkn@mrkn.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c (rb_rational_num)
<dd>
<p>add fallback function for rubies lower than 2.2.0.</p>
</dd><dt>ext/bigdecimal/bigdecimal.c (rb_rational_den)
<dd>
<p>ditto.</p>
</dd><dt>ext/bigdecimal/extconf.rb
<dd>
<p>check the existences of struct RRational, rb_rational_num, and
rb_rational_den.</p>
</dd><dt>ext/bigdecimal/bigdecimal.bundle
<dd>
<p>bump version.</p>
</dd></dl>

<h3 id="label-Thu+Jan+29+20-3A28-3A25+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jan 29 20:28:25 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>removed md5 digest with package information</p>
</dd></dl>

<h3 id="label-Thu+Jan+29+10-3A41-3A52+2015++Kazuki+Tanaka++-3Cgogotanaka-40ruby-lang.org-3E">Thu Jan 29 10:41:52 2015  Kazuki Tanaka  &lt;gogotanaka@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (Get_Double)
<dd>
<p>direct casting from <a href="../classes/Fixnum.html">Fixnum</a> to double.
[Feature #10785]</p>
</dd></dl>

<h3 id="label-Thu+Jan+29+02-3A34-3A27+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Thu Jan 29 02:34:27 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>fix parsing hashes with instance variables when it is referenced multiple
times.</p>
</dd><dt>ext/psych/lib/psych.rb
<dd>
<p>bump version</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>bump version</p>
</dd><dt>test/psych/test_hash.rb
<dd>
<p>test for fix</p>
</dd></dl>

<h3 id="label-Thu+Jan+29+02-3A06-3A09+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jan 29 02:06:09 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (struct join_arg)
<dd>
<p>restructure and make smaller</p>
</dd><dt>(thread_join_sleep)
<dd>
<p>avoid timeofday() call if forever</p>
</dd><dt>(thread_join)
<dd>
<p>pass join_arg.delay directly</p>
</dd><dt>(rb_thread_inspect_msg)
<dd>
<p>remove, inline into rb_thread_inspect</p>
</dd><dt>(rb_thread_inspect)
<dd>
<p>reduce branching and string creation</p>
</dd><dt>thread_pthread.c (native_set_thread_name)
<dd>
<p>create string directly to avoid reparsing. [Misc #10723]</p>
</dd></dl>

<h2 id="label-2015-01-28">2015-01-28</h2>

<h3 id="label-Wed+Jan+28+21-3A32-3A24+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Wed Jan 28 21:32:24 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c
<dd>
<p>Improve documentation for <a
href="../classes/Thread.html#method-i-value">Thread#value</a> [Bug #<a
href="ruby-core:67324">10694]</a>[ci skip]</p>
</dd></dl>

<h2 id="label-2015-01-27">2015-01-27</h2>

<h3 id="label-Tue+Jan+27+16-3A04-3A19+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jan 27 16:04:19 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>added `!` command.</p>
</dd></dl>

<h3 id="label-Tue+Jan+27+15-3A58-3A23+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jan 27 15:58:23 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>added history feature for platforms which lack readline.</p>
</dd></dl>

<h2 id="label-2015-01-26">2015-01-26</h2>

<h3 id="label-Mon+Jan+26+22-3A09-3A35+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan 26 22:09:35 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.gitignore
<dd>
<p>ignored temporary file with git.</p>
</dd></dl>

<h3 id="label-Mon+Jan+26+18-3A06-3A03+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Mon Jan 26 18:06:03 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import version 2.2.2 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>.</p>
</dd></dl>

<h3 id="label-Mon+Jan+26+11-3A37-3A49+2015++Dave+Stevens++-3Cdave-40crowdlab.com-3E">Mon Jan 26 11:37:49 2015  Dave Stevens  &lt;dave@crowdlab.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c (str_make_independent_expand)
<dd>
<p>terminate String when moved from heap to embedded.  [Fix GH-821].</p>
</dd></dl>

<h2 id="label-2015-01-25">2015-01-25</h2>

<h3 id="label-Sun+Jan+25+12-3A04-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 25 12:04:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (flatten)
<dd>
<p>no need to call to_ary method on elements beyond the given level. 
[ruby-core:67637] [Bug #10748]</p>
</dd></dl>

<h3 id="label-Sun+Jan+25+00-3A42-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 25 00:42:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/win32/libffi.mk.tmpl
<dd>
<p>assemble without directory prefix. workaround of a bug of VC12 ml, by unak
at [ruby-core:67792]. [ruby-core:67789] [Bug #10780]</p>
</dd></dl>

<h2 id="label-2015-01-24">2015-01-24</h2>

<h3 id="label-Sat+Jan+24+19-3A56-3A25+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 24 19:56:25 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dln_find.c (dln_find_1)
<dd>
<p>search regular files only.  based on the patch by Alex Coomans in
[ruby-core:67766].  [Bug #10776]</p>
</dd></dl>

<h2 id="label-2015-01-23">2015-01-23</h2>

<h3 id="label-Fri+Jan+23+23-3A57-3A05+2015++Misumi+Rize++-3Cr-40ayase-e.li-3E">Fri Jan 23 23:57:05 2015  Misumi Rize  &lt;r@ayase-e.li&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_insnhelper.c (vm_throw_start)
<dd>
<p>search the target to break from a block with nested rescue, from the nested
blocks. [ruby-core:67765] [Bug #10775] [Fix GH-820]</p>
</dd></dl>

<h3 id="label-Fri+Jan+23+20-3A00-3A59+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jan 23 20:00:59 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_object, marshal_dump)
<dd>
<p>use identity tables for arbitrary VALUE keys, because of performance of
FLONUM. [Bug #10761]</p>
</dd><dt>marshal.c (obj_alloc_by_klass, marshal_load)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jan+23+17-3A12-3A33+2015++Eric+Wong++-3Ce-4080x24.org-3E">Fri Jan 23 17:12:33 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>benchmark/bm_marshal_dump_flo.rb
<dd>
<p>new benchmark for [Bug #10761]</p>
</dd></dl>

<h2 id="label-2015-01-22">2015-01-22</h2>

<h3 id="label-Thu+Jan+22+18-3A03-3A19+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Jan 22 18:03:19 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (find_svn_log)
<dd>
<p>use double quotes instead of single quotes because cmd.exe doesn&#39;t
handle them.</p>
</dd><dt>tool/redmine-backporter.rb (done)
<dd>
<p>the 2nd element of matched data is the offset of the end of matched string,
not length.</p>
</dd></dl>

<h3 id="label-Thu+Jan+22+16-3A45-3A24+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jan 22 16:45:24 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>st.c (st_numhash)
<dd>
<p>mix float value for flonum</p>
</dd><dt>hash.c (rb_any_hash)
<dd>
<p>ditto</p>
</dd><dt>benchmark/bm_hash_aref_flo.rb
<dd>
<p>new benchmark</p>
</dd><dt>benchmark/bm_hash_ident_flo.rb
<dd>
<p>ditto [Bug #10761]</p>
</dd></dl>

<h2 id="label-2015-01-21">2015-01-21</h2>

<h3 id="label-Wed+Jan+21+22-3A33-3A51+2015++Akinori+MUSHA++-3Cknu-40iDaemons.org-3E">Wed Jan 21 22:33:51 2015  Akinori MUSHA  &lt;knu@iDaemons.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>misc/ruby-electric.el
<dd>
<p>Import version 2.2.1 from <a
href="https://github.com/knu/ruby-electric.el">github.com/knu/ruby-electric.el</a>.
Improve compatibility with and optimize for Emacs 24.4.</p>
</dd></dl>

<h3 id="label-Wed+Jan+21+09-3A40-3A52+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Wed Jan 21 09:40:52 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p>Document other cases of missing birthtime on OS with patch provided by
@sho-h similar to GH-817. [ci skip] [DOC]</p>
</dd></dl>

<h3 id="label-Wed+Jan+21+09-3A09-3A19+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Jan 21 09:09:19 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>References to tickets added. [ruby-core:67701] [Bug #10760] Suggested by
Zachary Scott.</p>
</dd></dl>

<h2 id="label-2015-01-20">2015-01-20</h2>

<h3 id="label-Tue+Jan+20+22-3A59-3A54+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jan 20 22:59:54 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/vcs.rb
<dd>
<p>fix the exception given remote-url of svn.</p>
</dd></dl>

<h3 id="label-Tue+Jan+20+12-3A58-3A33+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jan 20 12:58:33 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>now can change the page of `ls`.</p>
</dd></dl>

<h3 id="label-Tue+Jan+20+12-3A28-3A37+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jan 20 12:28:37 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (readline)
<dd>
<p>fallback to normal gets on Windows because <a
href="../classes/IO.html#method-c-console">IO.console</a>.getch is not
always do as expected.</p>
</dd></dl>

<h3 id="label-Tue+Jan+20+11-3A31-3A07+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Tue Jan 20 11:31:07 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>update usage.</p>
</dd></dl>

<h3 id="label-Tue+Jan+20+11-3A23-3A47+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Tue Jan 20 11:23:47 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb (mygets)
<dd>
<p>to support Backspace implement gets by itself.</p>
</dd></dl>

<h3 id="label-Tue+Jan+20+02-3A54-3A11+2015++Zachary+Scott++-3Ce-40zzak.io-3E">Tue Jan 20 02:54:11 2015  Zachary Scott  &lt;e@zzak.io&gt;</h3>
<dl class="rdoc-list note-list"><dt>file.c
<dd>
<p><a href="../classes/NotImplementedError.html">NotImplementedError</a> is
raised if birthtime is unavailable. Patch by @y-yagi san and [Fixes GH-817]
[ci skip] [DOC]</p>
</dd><dt>ext/pathname/pathname.c
<dd>
<p>ditto.</p>
</dd></dl>

<h2 id="label-2015-01-19">2015-01-19</h2>

<h3 id="label-Mon+Jan+19+22-3A08-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jan 19 22:08:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>class.c (include_modules_at)
<dd>
<p>allow prepend each modules upto once for each classes.  [EXPERIMENTAL]</p>
</dd></dl>

<h2 id="label-2015-01-18">2015-01-18</h2>

<h3 id="label-Sun+Jan+18+18-3A32-3A20+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jan 18 18:32:20 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_atan2)
<dd>
<p>revive documentation before r49220. <a
href="http://d.hatena.ne.jp/nagachika/20150112/ruby_trunk_changes_49213_49226">d.hatena.ne.jp/nagachika/20150112/ruby_trunk_changes_49213_49226</a></p>
</dd></dl>

<h3 id="label-Sun+Jan+18+15-3A57-3A32+2015++Seiei+Higa++-3Chanachin-40gmail.com-3E">Sun Jan 18 15:57:32 2015  Seiei Higa  &lt;hanachin@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (check_definition)
<dd>
<p><a
href="../classes/Module.html#method-i-public_method_defined-3F">Module#public_method_defined?</a>,
<a
href="../classes/Module.html#method-i-private_method_defined-3F">Module#private_method_defined?</a>,
<a
href="../classes/Module.html#method-i-protected_method_defined-3F">Module#protected_method_defined?</a>
should not use refinements. [ruby-core:67656] [Bug #10753]</p>
</dd></dl>

<h3 id="label-Sun+Jan+18+15-3A50-3A39+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 18 15:50:39 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_dump.c (rb_vm_bugreport)
<dd>
<p>check by configured result instead of system name for old FreeBSD.  based
on a patch by Steve Wills at [ruby-core:67655].  [Bug #10752]</p>
</dd></dl>

<h3 id="label-Sun+Jan+18+12-3A56-3A49+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 18 12:56:49 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>Makefile.in (VPATH, NEWLINE_C), common.mk (common-srcs)
<dd>
<p>make and use newline.c under enc/trans directory, not toplevel.  no longer
search enc directory implicitly.</p>
</dd><dt>configure.in, enc/Makefile.in (BUILTIN_ENCS, BUILTIN_TRANSES)
<dd>
<p>prefix respective directory names to builtin encodings and transcoder
source names.</p>
</dd></dl>

<h3 id="label-Sun+Jan+18+11-3A49-3A46+2015++Masaki+Suketa+-3Cmasaki.suketa-40nifty.ne.jp-3E">Sun Jan 18 11:49:46 2015  Masaki Suketa &lt;masaki.suketa@nifty.ne.jp&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/win32ole/win32ole.c (ole_invoke)
<dd>
<p>avoid SEGV when VT_RECORD variable is passed by reference. [ruby-dev:48803]
[Bug #10697]</p>
</dd></dl>

<h2 id="label-2015-01-17">2015-01-17</h2>

<h3 id="label-Sat+Jan+17+23-3A59-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 17 23:59:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb (visit_String)
<dd>
<p>anchors like `Z` are not valid inside character class.  use
negative-lookahead instead. Fixes: <a
href="https://github.com/tenderlove/psych/issues/221">github.com/tenderlove/psych/issues/221</a></p>
</dd></dl>

<h3 id="label-Sat+Jan+17+23-3A42-3A27+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 17 23:42:27 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in
<dd>
<p>get rid of pattern substitution, which is not supported by ash, and ash on
NetBSD parses whole source first and fails to start.  [ruby-dev:48823] [Bug
#10750]</p>
</dd></dl>

<h2 id="label-2015-01-16">2015-01-16</h2>

<h3 id="label-Fri+Jan+16+18-3A42-3A58+2015++NARUSE-2C+Yui++-3Cnaruse-40ruby-lang.org-3E">Fri Jan 16 18:42:58 2015  NARUSE, Yui  &lt;naruse@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/redmine-backporter.rb
<dd>
<p>support adding related revisions to issues.</p>
</dd></dl>

<h3 id="label-Fri+Jan+16+17-3A20-3A33+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Fri Jan 16 17:20:33 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"></dl>

<h3 id="label-Fri+Jan+16+15-3A41-3A21+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan 16 15:41:21 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bump version</p>
</dd><dt>ext/psych/psych.gemspec
<dd>
<p>ditto</p>
</dd></dl>

<h3 id="label-Fri+Jan+16+15-3A37-3A49+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan 16 15:37:49 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>only dump hash subclasses. Thanks Joe Eli McIlvain
&lt;joe.eli.mac@gmail.com&gt;</p>
</dd><dt>test/psych/test_hash.rb
<dd>
<p>test for change</p>
</dd></dl>

<h3 id="label-Fri+Jan+16+15-3A35-3A21+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan 16 15:35:21 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych.rb
<dd>
<p>bump version</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>fix line width wrapping for long strings.  Thanks Jakub Jirutka
&lt;jakub@jirutka.cz&gt;</p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for change</p>
</dd></dl>

<h3 id="label-Fri+Jan+16+11-3A44-3A44+2015++Kazuki+Tsujimoto++-3Ckazuki-40callcc.net-3E">Fri Jan 16 11:44:44 2015  Kazuki Tsujimoto  &lt;kazuki@callcc.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_intern.h, vm.c, vm_eval.c, vm_insnhelper.c
<dd>
<p>change throw mechanism (not save target ep, but save target cfp). It fixes
`unexpected break&#39; bug that occurs when <a
href="../classes/TracePoint.html#method-i-binding">TracePoint#binding</a>
is called. [ruby-dev:48797] [Bug #10689]</p>
</dd><dt>test/ruby/test_settracefunc.rb
<dd>
<p>add a test.</p>
</dd></dl>

<h2 id="label-2015-01-15">2015-01-15</h2>

<h3 id="label-Thu+Jan+15+23-3A55-3A15+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jan 15 23:55:15 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_io_close_m)
<dd>
<p>Don&#39;t raise when the <a href="../classes/IO.html">IO</a> object is
closed. [ruby-core:67444] [Feature #10718]</p>
</dd></dl>

<h3 id="label-Thu+Jan+15+21-3A34-3A57+2015++Seiei+Higa++-3Chanachin-40gmail.com-3E">Thu Jan 15 21:34:57 2015  Seiei Higa  &lt;hanachin@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>proc.c (rb_obj_singleton_method)
<dd>
<p>Kernel#singleton_method should not use refinements, as well as
Kernel#method. [ruby-core:67603] [Bug #10744]</p>
</dd></dl>

<h3 id="label-Thu+Jan+15+10-3A45-3A04+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan 15 10:45:04 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_select_bang, ary_reject_bang)
<dd>
<p>linear performance.  [ruby-core:67418] [Feature #10714]</p>
</dd></dl>

<h2 id="label-2015-01-14">2015-01-14</h2>

<h3 id="label-Wed+Jan+14+16-3A45-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 14 16:45:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb (RubyGems.download)
<dd>
<p>verify downloaded gem packages.  LowSecurity to allow untrusted
certificates now.</p>
</dd></dl>

<h3 id="label-Wed+Jan+14+15-3A43-3A48+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan 14 15:43:48 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/readline/readline.c (readline_s_refresh_line)
<dd>
<p>initialize before rl_refresh_line(), as some function make the internal
state non-clean but rl_refresh_line() does not re-initialize it.
[ruby-core:43957] [Bug #6232]</p>
</dd></dl>

<h2 id="label-2015-01-13">2015-01-13</h2>

<h3 id="label-Tue+Jan+13+21-3A59-3A24+2015++Michal+Papis++-3Cmpapis-40gmail.com-3E">Tue Jan 13 21:59:24 2015  Michal Papis  &lt;mpapis@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb (gem)
<dd>
<p>fix changing permissions of installed bundled gems.  [Fix GH-812]</p>
</dd></dl>

<h3 id="label-Tue+Jan+13+21-3A57-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 13 21:57:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>common.mk (distclean-local)
<dd>
<p>remove autom4te.cache generated by autoconf.</p>
</dd><dt>common.mk (realclean-local)
<dd>
<p>remove id sources and dummy header for dtrace.  [ruby-core:67562] [Bug
#10737]</p>
</dd></dl>

<h3 id="label-Tue+Jan+13+21-3A08-3A22+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Jan 13 21:08:22 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json, test/json
<dd>
<p>merge <a href="../classes/JSON.html">JSON</a> HEAD(259dee6) separate
implementation of Typed_Data macro. <a
href="https://github.com/flori/json/compare/v1.8.1...v1.8.2">github.com/flori/json/compare/v1.8.1…v1.8.2</a></p>
</dd></dl>

<h3 id="label-Tue+Jan+13+14-3A16-3A35+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan 13 14:16:35 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_http.rb
<dd>
<p>get rid of accessing DNS actually for some servers returning wrong results.
[ruby-core:67454] [Bug #10721]</p>
</dd></dl>

<h2 id="label-2015-01-12">2015-01-12</h2>

<h3 id="label-Mon+Jan+12+23-3A21-3A57+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Mon Jan 12 23:21:57 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>gems/bundled_gems
<dd>
<p>update test-unit to 3.0.9.</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+18-3A35-3A44+2015++Eric+Wong++-3Ce-4080x24.org-3E">Mon Jan 12 18:35:44 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>numeric.c (bit_coerce)
<dd>
<p>use original value for error message [ruby-core:67405] [Bug #10711]</p>
</dd><dt>test/ruby/test_numeric.rb (test_coerce)
<dd>
<p>check error message</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+18-3A01-3A24+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Jan 12 18:01:24 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rdoc/text.rb (expand_tabs)
<dd>
<p>get rid of infinite loop with CR.  should check if substitution occurred
too. [ruby-dev:48813] [Bug #10732]</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+16-3A45-3A46+2015++Seiei+Higa++-3Chanachin-40gmail.com-3E">Mon Jan 12 16:45:46 2015  Seiei Higa  &lt;hanachin@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_alias)
<dd>
<p>raise a <a href="../classes/NameError.html">NameError</a> when creating
alias to a refined method if the original method of the refined method is
not defined.  [ruby-core:67523] [Bug #10731]</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+13-3A53-3A17+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan 12 13:53:17 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>math.c (math_atan2)
<dd>
<p>improve documentation. [Feature #<a href="ruby-core:65400">10323]</a>[ci
skip]</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+13-3A50-3A49+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan 12 13:50:49 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/bigdecimal/bigdecimal.c
<dd>
<p>fixes documentation like labeled lists, code examples etc.
[ruby-core:66730][Bug #10576][ci skip]</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+13-3A36-3A44+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan 12 13:36:44 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/optparse.rb
<dd>
<p>improvements for <a href="../classes/OptionParser.html">OptionParser</a>
documentation. [misc #<a href="ruby-core:66901">10608]</a>[ci skip]</p>
</dd></dl>

<h3 id="label-Mon+Jan+12+13-3A33-3A52+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan 12 13:33:52 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_each)
<dd>
<p>documented return value. [misc #<a href="ruby-core:66063">10469]</a></p>
</dd></dl>

<h2 id="label-2015-01-11">2015-01-11</h2>

<h3 id="label-Sun+Jan+11+15-3A11-3A38+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan 11 15:11:38 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/webrick/test_utils.rb (test_create_listeners)
<dd>
<p>use dynamically chosen port number, not hardcoded port number.
[ruby-core:67508]</p>
</dd></dl>

<h2 id="label-2015-01-10">2015-01-10</h2>

<h3 id="label-Sat+Jan+10+12-3A57-3A12+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan 10 12:57:12 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/zlib/zlib.c
<dd>
<p>fix document of method signatures. [Bug #<a
href="ruby-core:67186">10668]</a>[ci skip]</p>
</dd></dl>

<h3 id="label-Sat+Jan+10+12-3A32-3A44+2015++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Sat Jan 10 12:32:44 2015  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval_error.c (error_print)
<dd>
<p>pos and len parameters of rb_str_substr() are counted by characters, not
bytes.  use rb_str_subseq() instead. [Bug #10727] [ruby-core:67473]</p>
</dd></dl>

<h3 id="label-Sat+Jan+10+10-3A58-3A55+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan 10 10:58:55 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>complex.c
<dd>
<p>removed commented-out code.</p>
</dd></dl>

<h3 id="label-Sat+Jan+10+10-3A57-3A19+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan 10 10:57:19 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>rational.c
<dd>
<p>removed commented-out code. [Feature #<a href="ruby-core:65643">10376]</a></p>
</dd></dl>

<h3 id="label-Sat+Jan+10+10-3A12-3A15+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan 10 10:12:15 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c (rb_ary_select_bang)
<dd>
<p>keep the array consistent by removing unselected values soon. 
[ruby-dev:48805] [Bug #10722]</p>
</dd></dl>

<h2 id="label-2015-01-09">2015-01-09</h2>

<h3 id="label-Fri+Jan++9+23-3A20-3A04+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  9 23:20:04 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/rubygems
<dd>
<p>Update to RubyGems HEAD(e53c54a).</p>
</dd><dt>test/rubygems
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Fri+Jan++9+11-3A13-3A01+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Jan  9 11:13:01 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (assocs, assoc)
<dd>
<p>eliminate splatting empty literal hashes.  [ruby-core:67446] [Bug #10719]</p>
</dd><dt>compile.c (compile_array_)
<dd>
<p>support splatted hash in hash type.</p>
</dd></dl>

<h3 id="label-Fri+Jan++9+10-3A57-3A09+2015++Vit+Ondruch++-3Cvondruch-40redhat.com-3E">Fri Jan  9 10:57:09 2015  Vit Ondruch  &lt;vondruch@redhat.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (RUBY_SETJMP_TYPE)
<dd>
<p>Remove superfluous semicolon which causes a syntax error with autoconf
2.63. [ruby-core:67429] [Bug #10716]</p>
</dd></dl>

<h3 id="label-Fri+Jan++9+07-3A23-3A32+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan  9 07:23:32 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>correctly quote non-ascii letters. Thanks @jirutka for the patch.</p>
</dd><dt>test/psych/test_string.rb
<dd>
<p>test for change</p>
</dd></dl>

<h3 id="label-Fri+Jan++9+07-3A13-3A55+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan  9 07:13:55 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>call `allocate` on hash subclasses.  Fixes
github.com/tenderlove/psych/issues/196</p>
</dd><dt>test/psych/test_hash.rb
<dd>
<p>test for change</p>
</dd></dl>

<h3 id="label-Fri+Jan++9+06-3A58-3A43+2015++Aaron+Patterson+-3Caaron-40tenderlovemaking.com-3E">Fri Jan  9 06:58:43 2015  Aaron Patterson &lt;aaron@tenderlovemaking.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/psych/lib/psych/visitors/to_ruby.rb
<dd>
<p>revive hashes with ivars</p>
</dd><dt>ext/psych/lib/psych/visitors/yaml_tree.rb
<dd>
<p>dump hashes with ivars. Fixes github.com/psych/issues/43</p>
</dd><dt>test/psych/test_hash.rb
<dd>
<p>test for change</p>
</dd></dl>

<h2 id="label-2015-01-08">2015-01-08</h2>

<h3 id="label-Thu+Jan++8+17-3A05-3A00+2015++Seiei+Higa++-3Chanachin-40gmail.com-3E">Thu Jan  8 17:05:00 2015  Seiei Higa  &lt;hanachin@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_method_entry)
<dd>
<p>if no super class, no original method entry.  [ruby-core:67389] [Bug
#10707]</p>
</dd></dl>

<h3 id="label-Thu+Jan++8+16-3A31-3A43+2015++Seiei+Higa++-3Chanachin-40gmail.com-3E">Thu Jan  8 16:31:43 2015  Seiei Higa  &lt;hanachin@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_method.c (rb_export_method)
<dd>
<p>bail out if the original method is undefined when the method is refined.
[ruby-core:67387] [Bug #10706]</p>
</dd></dl>

<h3 id="label-Thu+Jan++8+12-3A53-3A44+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan  8 12:53:44 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (glob_helper)
<dd>
<p>match in case-folding only if the directory resides on a case-insensitive
file system, on OSX. [ruby-core:67364] [Bug #10700]</p>
</dd></dl>

<h3 id="label-Thu+Jan++8+11-3A39-3A18+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jan  8 11:39:18 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>.travis.yml
<dd>
<p>Remove redundant configuration option. [fix GH-809] Patch by @gxworld</p>
</dd></dl>

<h3 id="label-Thu+Jan++8+07-3A17-3A14+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jan  8 07:17:14 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb
<dd>
<p>consider ENETUNREACH as ResolvTimeout [ruby-core:67411] [Bug #10712]</p>
</dd></dl>

<h3 id="label-Thu+Jan++8+00-3A13-3A52+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Thu Jan  8 00:13:52 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/open3.rb
<dd>
<p><a href="../classes/Open3.html">Open3</a> properly passes non-keyword hash
args to spawn. Fixed by Josh Cheek.  [Fix GH-808] Related to
[ruby-core:67347] [Bug #10699]</p>
</dd></dl>

<h2 id="label-2015-01-07">2015-01-07</h2>

<h3 id="label-Wed+Jan++7+19-3A19-3A26+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  7 19:19:26 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (dir_initialize)
<dd>
<p>workaround of opendir failure at symlink directories on Windows via CIFS.</p>
</dd></dl>

<h3 id="label-Wed+Jan++7+18-3A52-3A50+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Jan  7 18:52:50 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>dir.c (need_normalization)
<dd>
<p>not only HFS+, CIFS (SMB) is also decomposed.  [Bug #10704]</p>
</dd><dt>dir.c (NORMALIZE_UTF8PATH)
<dd>
<p>Unicode decomposition seems to perform in an upper layer than file systems
on OSX, as all path names are always decomposed regardless of file system
types.</p>
</dd></dl>

<h2 id="label-2015-01-06">2015-01-06</h2>

<h3 id="label-Tue+Jan++6+21-3A41-3A04+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Tue Jan  6 21:41:04 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>time.c (timelocalw)
<dd>
<p><a href="../classes/Set.html">Set</a> tm_isdst field -1 if vtm-&gt;isdst is
VTM_ISDST_INITVAL.  This bug is introduced at packing struct vtm (r45155).
[ruby-core:67345] [Bug #10698] Reported by Boris Ruf.</p>
</dd></dl>

<h3 id="label-Tue+Jan++6+03-3A10-3A54+2015++Koichi+Sasada++-3Cko1-40atdot.net-3E">Tue Jan  6 03:10:54 2015  Koichi Sasada  &lt;ko1@atdot.net&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/test_handle.rb
<dd>
<p>fix syntax.</p>
</dd></dl>

<h3 id="label-Tue+Jan++6+00-3A16-3A10+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Jan  6 00:16:10 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/fiddle/test_handle.rb (test_NEXT)
<dd>
<p>use -test-/dln/empty which is always a shared object and is not used by
others. [ruby-dev:48629] [Bug #10384]</p>
</dd></dl>

<h2 id="label-2015-01-05">2015-01-05</h2>

<h3 id="label-Mon+Jan++5+14-3A58-3A01+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Jan  5 14:58:01 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_io.rb
<dd>
<p>added timeout for AIX environment. [ruby-core:62983][Bug #9917]</p>
</dd></dl>

<h2 id="label-2015-01-04">2015-01-04</h2>

<h3 id="label-Sun+Jan++4+22-3A33-3A33+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan  4 22:33:33 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit.rb (ExcludesOption)
<dd>
<p>add “excludes” support to test suite, for alternative implementations and
platforms. [Feature #10682]</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+22-3A32-3A42+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan  4 22:32:42 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit.rb (Test::Unit)
<dd>
<p>reorder modules and merge each modules.</p>
</dd><dt>test/lib/test/unit.rb (Test::Unit)
<dd>
<p>split the large class into each modules.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+21-3A32-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan  4 21:32:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (f_label)
<dd>
<p>return tLABEL value as it is. [ruby-core:67315] [Bug #10693]</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+14-3A02-3A37+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Jan  4 14:02:37 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/lib/test/unit/parallel.rb (run)
<dd>
<p>expand the file name to be loaded, so that relative paths work in parallel
mode.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+13-3A36-3A56+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun Jan  4 13:36:56 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/test_tempfile.rb
<dd>
<p>use assert_file for more descriptive message. following r49131.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+13-3A05-3A09+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun Jan  4 13:05:09 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>improve docs for String#&lt;=&gt;. [ruby-core:65399][Feature #10322] Patch
by gogo tanaka.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+12-3A42-3A24+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun Jan  4 12:42:24 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>improve docs for <a
href="../classes/Array.html#method-i-reject">Array#reject</a>.
[ruby-core:65324][misc #10307] Patched by Nebu Pookins.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+12-3A24-3A11+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun Jan  4 12:24:11 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>string.c
<dd>
<p>improve docs for <a
href="../classes/String.html#method-i-strip">String#strip</a> and
variations. [ruby-core:66081][Bug #10476]</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+09-3A21-3A04+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jan  4 09:21:04 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/drb/drb.rb
<dd>
<p>removed unused argument. Patch by @vipulnsward [fix GH-515]</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+09-3A18-3A31+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sun Jan  4 09:18:31 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/tempfile.rb
<dd>
<p>provide default basename parameter. [fix GH-523] Patch by @dissolved</p>
</dd><dt>test/test_tempfile.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sun+Jan++4+00-3A43-3A41+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sun Jan  4 00:43:41 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>README.ja.md
<dd>
<p>add guidance of mailing list and bugs.r-l.o.</p>
</dd></dl>

<h2 id="label-2015-01-03">2015-01-03</h2>

<h3 id="label-Sat+Jan++3+23-3A56-3A28+2015++Ayumu+AIZAWA++-3Cayumu.aizawa-40gmail.com-3E">Sat Jan  3 23:56:28 2015  Ayumu AIZAWA  &lt;ayumu.aizawa@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>hash.c
<dd>
<p>fix docs for <a
href="../classes/Hash.html#method-i-invert">Hash#invert</a>.
[ruby-core:66917] [Bug #10612]</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+19-3A52-3A12+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan  3 19:52:12 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>include/ruby/intern.h (rb_str_new_literal)
<dd>
<p>define on all platforms, not only gcc.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+18-3A53-3A28+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Jan  3 18:53:28 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/lib/fiddle/cparser.rb (parse_ctype)
<dd>
<p>limit split word number as the rest are not used.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+18-3A19-3A50+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 18:19:50 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/lib/fiddle/cparser.rb
<dd>
<p>r49110 broke Fiddle::Import with type_alias.</p>
</dd><dt>test/fiddle/test_cparser.rb
<dd>
<p>added type_alias test for parse_ctype and parse_struct_signature.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+11-3A50-3A16+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 11:50:16 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.h
<dd>
<p>avoid to build failure of Windows environment.</p>
</dd><dt>ext/openssl/ossl_ssl_session.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+11-3A27-3A46+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 11:27:46 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>array.c
<dd>
<p>Improve performance of <a
href="../classes/Array.html#method-i-shift">Array#shift</a>. use shared
instead of MEMMOVE if with arguments. Patch by @ksss [fix GH-537]</p>
</dd><dt>test/ruby/test_array.rb
<dd>
<p>ditto.</p>
</dd><dt>benchmark/bm_array_shift.rb
<dd>
<p>Added benchmark of GH-537 issue.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+10-3A38-3A52+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 10:38:52 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb
<dd>
<p>More descriptive error message when net/http fails to connect to a server.
Patch by @xaviershay [fix GH-700]</p>
</dd><dt>test/net/http/test_http.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+10-3A14-3A51+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 10:14:51 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/openssl/ossl.h
<dd>
<p>Make `SSL_SESSION_cmp` use `CRYPTO_memcmp` [fix GH-591] Patch by @PiPeep</p>
</dd><dt>ext/openssl/ossl_ssl_session.c
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+09-3A54-3A32+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 09:54:32 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/lib/fiddle/cparser.rb
<dd>
<p>Support for <a href="../classes/Fiddle/CParser.html">Fiddle::CParser</a> to
handle rich signatures including parameter names and function pointer
types. Patch by @theryan [fix GH-590]</p>
</dd><dt>test/fiddle/test_cparser.rb
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Jan++3+09-3A01-3A43+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Jan  3 09:01:43 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="NEWS.html">NEWS</a>
<dd>
<p>added compatibility entry of r49101.</p>
</dd></dl>

<h2 id="label-2015-01-02">2015-01-02</h2>

<h3 id="label-Fri+Jan++2+21-3A06-3A59+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 21:06:59 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/net/http.rb (Net::HTTP#send_request)
<dd>
<p>there is no response body with HEAD request. Patch by @rodrigosaito [fix
GH-520]</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+21-3A04-3A36+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 21:04:36 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/net/http/test_http.rb (_test_send_request__HEAD)
<dd>
<p>Added failing test for send_request with HEAD method.</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+18-3A41-3A20+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jan  2 18:41:20 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>eval.c (ruby_init)
<dd>
<p>Print ruby_setup() error only in debug mode. Unsuppressable error message
is not a good idea. Note that the message is printed sometimes with
following code (highly timing dependent, though): pid = spawn(“ruby -e
&#39;&#39;”); <a
href="../classes/Process.html#method-c-kill">Process.kill</a>(:TERM, pid)</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+16-3A18-3A44+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 16:18:44 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_module.rb
<dd>
<p>Refactor invalid testcase. [fix <a href="ruby-core:59035">GH-472]</a>[Bug
#9240]</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+15-3A53-3A00+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 15:53:00 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/webrick/utils.rb
<dd>
<p>removed unused argument variable. [fix GH-356] Patch by @vipulnsward</p>
</dd><dt>lib/webrick/server.rb
<dd>
<p>ditto.</p>
</dd><dt>lib/webrick/ssl.rb
<dd>
<p>ditto.</p>
</dd><dt>test/webrick/test_utils.rb
<dd>
<p>added test for WEBrick::Utils#create_listeners.</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+15-3A35-3A53+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 15:35:53 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/securerandom.rb
<dd>
<p>improve syntax and grammar of documentation. [fix GH-796][ci skip] Patch by
@Erol</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+15-3A10-3A01+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Fri Jan  2 15:10:01 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/openssl/test_ssl_session.rb (OpenSSL#test_ctx_client_session_cb)
<dd>
<p>fix test failure with <a href="../classes/OpenSSL.html">OpenSSL</a>
disabled SSLv3 protocol. [ruby-core:63772] [Bug #10046]</p>
</dd></dl>

<h3 id="label-Fri+Jan++2+09-3A08-3A31+2015++Tanaka+Akira++-3Cakr-40fsij.org-3E">Fri Jan  2 09:08:31 2015  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Label::Str#==)
<dd>
<p>Check class equality.</p>
</dd><dt>(Resolv::DNS::Name#initialize)
<dd>
<p>Normalize labels as Resolv::DNS::Label::Str objects.</p>
</dd></dl>

<h2 id="label-2015-01-01">2015-01-01</h2>

<h3 id="label-Thu+Jan++1+21-3A41-3A49+2015++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Thu Jan  1 21:41:49 2015  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/regexp_rdoc.html">doc/regexp.rdoc</a>
<dd>
<p>fix regexp docs for whitespace character. [ruby-dev:48765] [Bug #10624]</p>
</dd></dl>

<h3 id="label-Thu+Jan++1+17-3A50-3A52+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan  1 17:50:52 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_rubyoptions.rb
<dd>
<p>try locale encoding name. [ruby-core:67109] [Bug #10643]</p>
</dd></dl>

<h3 id="label-Thu+Jan++1+11-3A07-3A12+2015++Eric+Wong++-3Ce-4080x24.org-3E">Thu Jan  1 11:07:12 2015  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>symbol.c (rb_gc_free_dsymbol)
<dd>
<p>delete from global fstr hash</p>
</dd><dt>test/ruby/test_symbol.rb (test_symbol_fstr_leak)
<dd>
<p>test for bug [ruby-core:67268] [Bug #10686]</p>
</dd></dl>

<h3 id="label-Thu+Jan++1+09-3A14-3A21+2015++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Jan  1 09:14:21 2015  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_args.c (keyword_hash_p)
<dd>
<p>fix non-symbol keys hash. rb_extract_keywords() returns 0 not Qnil when no
symbol keys is included.  [ruby-core:67264] [Bug #10685]</p>
</dd></dl>

<h2 id="label-2014-12-31">2014-12-31</h2>

<h3 id="label-Wed+Dec+31+17-3A48-3A43+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Dec 31 17:48:43 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Label::Str#initialize)
<dd>
<p><a href="../classes/Set.html">Set</a> encoding ASCII-8BIT before downcase. 
case insensitivity of DNS labels doesn&#39;t apply non-ASCII characters. 
[RFC 4343]</p>
</dd></dl>

<h3 id="label-Wed+Dec+31+16-3A48-3A44+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Wed Dec 31 16:48:44 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (gettable_gen)
<dd>
<p>disable warnings of possible reference to a local variable defined in a
past scope. [ruby-core:67162] [Bug #10661]</p>
</dd></dl>

<h3 id="label-Wed+Dec+31+13-3A43-3A48+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Wed Dec 31 13:43:48 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Name#==)
<dd>
<p>Compare an array of Label:Str objects.  Label#Str#== is case-insensitive.</p>
</dd></dl>

<h2 id="label-2014-12-30">2014-12-30</h2>

<h3 id="label-Tue+Dec+30+16-3A16-3A12+2014++Ben+Miller++-3Cbmiller-40rackspace.com-3E">Tue Dec 30 16:16:12 2014  Ben Miller  &lt;bmiller@rackspace.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Name#==)
<dd>
<p>DNS is case-insensitive, so the comparison should be case-insensitive as
well. [ruby-core:66498] [Bug #10550]</p>
</dd></dl>

<h3 id="label-Tue+Dec+30+16-3A03-3A45+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Tue Dec 30 16:03:45 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/resolv.rb (Resolv::DNS::Name)
<dd>
<p>names with different dots should be different.</p>
</dd></dl>

<h3 id="label-Tue+Dec+30+09-3A29-3A26+2014++Bernhard+M.+Wiedemann++-3Cbernhard-2Bgit-40lsmod.de-3E">Tue Dec 30 09:29:26 2014  Bernhard M. Wiedemann  &lt;bernhard+git@lsmod.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/dbm/dbm.c (Init_dbm)
<dd>
<p>[DOC] as UNIX permissions are octal numbers, needs to be prefixed by 0. 
[Fix GH-800]</p>
</dd></dl>

<h3 id="label-Tue+Dec+30+08-3A57-3A39+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Tue Dec 30 08:57:39 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/unicode_normalize.rb
<dd>
<p>typo fix. [ci skip] [ruby-dev:48794][misc #10675]</p>
</dd></dl>

<h2 id="label-2014-12-29">2014-12-29</h2>

<h3 id="label-Mon+Dec+29+19-3A38-3A01+2014++Yukihiro+Matsumoto++-3Cmatz-40ruby-lang.org-3E">Mon Dec 29 19:38:01 2014  Yukihiro Matsumoto  &lt;matz@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>version.h (RUBY_VERSION)
<dd>
<p>2.3.0 development has started.</p>
</dd></dl>

<h3 id="label-Mon+Dec+29+18-3A58-3A46+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 29 18:58:46 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>re.c (unescape_nonascii)
<dd>
<p>append escape sequence as-is not unescaped character, to get rid of
unexpected meta-character. [ruby-core:67193] [Bug #10670]</p>
</dd></dl>

<h3 id="label-Mon+Dec+29+14-3A27-3A33+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 29 14:27:33 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt><a href="doc/syntax/literals_rdoc.html">doc/syntax/literals.rdoc</a> (Symbols)
<dd>
<p>now Symbols created by interpolation can be garbage collected.  patch by
Yihang Ho in [ruby-core:67194].  [Bug #10671]</p>
</dd></dl>

<h3 id="label-Mon+Dec+29+11-3A18-3A17+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Mon Dec 29 11:18:17 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>thread.c (rb_thread_variable_get)
<dd>
<p>fix dynamic symbol keys. rb_check_id() returns non-zero only for static
symbols, whereas thread local variable keys can be dynamic symbols.
[ruby-core:67185] [Bug #10667]</p>
</dd></dl>

<h3 id="label-Mon+Dec+29+10-3A37-3A27+2014++Thiago+Lewin++-3Cthiago_lewin-40yahoo.com.br-3E">Mon Dec 29 10:37:27 2014  Thiago Lewin  &lt;thiago_lewin@yahoo.com.br&gt;</h3>
<dl class="rdoc-list note-list"><dt>io.c (rb_f_select)
<dd>
<p>[DOC] workaround for YARD doc.  [Fix GH-799]</p>
</dd><dt>process.c (proc_detach)
<dd>
<p>[DOC] fix missing closing parenthesis. [Fix GH-799]</p>
</dd></dl>

<h3 id="label-Mon+Dec+29+07-3A27-3A23+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Mon Dec 29 07:27:23 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json, test/json
<dd>
<p>merge <a href="../classes/JSON.html">JSON</a> HEAD(17fe8e7) <a
href="https://github.com/flori/json/compare/v1.8.1...17fe8e7">github.com/flori/json/compare/v1.8.1…17fe8e7</a></p>
</dd></dl>

<h2 id="label-2014-12-28">2014-12-28</h2>

<h3 id="label-Sun+Dec+28+23-3A49-3A37+2014++Michal+Papis++-3Cmpapis-40gmail.com-3E">Sun Dec 28 23:49:37 2014  Michal Papis  &lt;mpapis@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>rbinstall.rb
<dd>
<p>fix target location for installing bundled gems. install to the prepared
directory instead of default <a
href="../classes/Gem.html#method-c-dir">Gem.dir</a>, not to be affected
GEM_HOME environment variable.  [Fix GH-798]</p>
</dd></dl>

<h3 id="label-Sun+Dec+28+18-3A19-3A28+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sun Dec 28 18:19:28 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/-ext-/iseq_load/test_iseq_load.rb (test_next_in_block_in_block)
<dd>
<p>test using ISeq#eval</p>
</dd><dt>(test_break_ensure)
<dd>
<p>ditto [ruby-core:66988]</p>
</dd></dl>

<h3 id="label-Sun+Dec+28+16-3A25-3A12+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 28 16:25:12 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>cygwin/GNUmakefile.in (EXTOBJS)
<dd>
<p>override to add resource files always.  [ruby-core:67153] [Bug #10657]</p>
</dd></dl>

<h3 id="label-Sun+Dec+28+13-3A54-3A26+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sun Dec 28 13:54:26 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>parse.y (f_kwrest, new_args_tail_gen)
<dd>
<p>unnamed rest keyword and keywords bits arguments should be unique.  since
internal IDs depend on the local variable index in the current scope, new
ID should be made before popping those vtables. [ruby-core:67157] [Bug
#10659]</p>
</dd></dl>

<h2 id="label-2014-12-27">2014-12-27</h2>

<h3 id="label-Sat+Dec+27+20-3A12-3A55+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Sat Dec 27 20:12:55 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/generator/generator.c (JSON_Generator_State_type)
<dd>
<p>add ifdef for backward compatibility.</p>
</dd><dt>ext/json/parser/parser.rl (JSON_Parser_type)
<dd>
<p>ditto.</p>
</dd><dt>ext/json/generator/generator.h (ZALLOC)
<dd>
<p>add fallback definition.</p>
</dd><dt>ext/json/parser/parser.h (ZALLOC)
<dd>
<p>ditto.</p>
</dd></dl>

<h3 id="label-Sat+Dec+27+16-3A54-3A05+2014++Tanaka+Akira++-3Cakr-40fsij.org-3E">Sat Dec 27 16:54:05 2014  Tanaka Akira  &lt;akr@fsij.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>process.c
<dd>
<p>Unused code removed. It seems waitpid() is universally available on POSIX
platforms.</p>
</dd></dl>

<h3 id="label-Sat+Dec+27+15-3A08-3A27+2014++Eric+Wong++-3Ce-4080x24.org-3E">Sat Dec 27 15:08:27 2014  Eric Wong  &lt;e@80x24.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>vm_core.h (rb_vm_living_threads_insert)
<dd>
<p>preserve order [Bug #10660] [ruby-core:67154] [ruby-core:67159]</p>
</dd></dl>

<h3 id="label-Sat+Dec+27+13-3A08-3A20+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Dec 27 13:08:20 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/socket/socket.c
<dd>
<p>improved document for YARD doc. [fix GH-795][ci skip] Patch by @tlewin</p>
</dd></dl>

<h3 id="label-Sat+Dec+27+10-3A11-3A21+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Dec 27 10:11:21 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/lib/tkextlib/tcllib/plotchart.rb
<dd>
<p>fix to invoke correct function of tcllib. Patch by @zalt50 [fix GH-787]</p>
</dd></dl>

<h3 id="label-Sat+Dec+27+10-3A03-3A41+2014++SHIBATA+Hiroshi++-3Cshibata.hiroshi-40gmail.com-3E">Sat Dec 27 10:03:41 2014  SHIBATA Hiroshi  &lt;shibata.hiroshi@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/make-snapshot
<dd>
<p>show sha1 digest when making packages. it&#39;s request from <a
href="https://github.com/ruby/www.ruby-lang.org/issues/921">github.com/ruby/www.ruby-lang.org/issues/921</a>
[fix GH-794]</p>
</dd></dl>

<h2 id="label-2014-12-26">2014-12-26</h2>

<h3 id="label-Fri+Dec+26+15-3A32-3A16+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 26 15:32:16 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tcltklib.c (ip_invoke_core)
<dd>
<p>remove probably duplicate dead code.</p>
</dd></dl>

<h3 id="label-Fri+Dec+26+15-3A28-3A27+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 26 15:28:27 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/tk/tcltklib.c (ip_ruby_cmd_receiver_const_get)
<dd>
<p>simply use rb_path2class() to get a class/module from its name.</p>
</dd></dl>

<h3 id="label-Fri+Dec+26+15-3A20-3A54+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 26 15:20:54 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>marshal.c (w_long)
<dd>
<p>append at once by w_nbyte() instead of appending byte by byte.</p>
</dd></dl>

<h3 id="label-Fri+Dec+26+15-3A13-3A13+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Fri Dec 26 15:13:13 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/json/parser/parser.rl (unescape_unicode)
<dd>
<p>check if valid before bit-or assignments. reported by Denis Denisov
&lt;denji0k AT gmail.com&gt;.</p>
</dd><dt>ext/nkf/nkf-utf8/nkf.c (nkf_iconv_t)
<dd>
<p>fix a missing semicolon. reported by Denis Denisov &lt;denji0k AT
gmail.com&gt;.</p>
</dd><dt>process.c (rb_spawn_process)
<dd>
<p>get rid of usage of uninitialized variable. reported by Denis Denisov
&lt;denji0k AT gmail.com&gt;.</p>
</dd><dt>regexec.c (match_at)
<dd>
<p>ditto.</p>
</dd><dt>ext/win32ole/win32ole.c (ole_wc2mb_alloc, ole_vstr2wc, ole_mb2wc)
<dd>
<p>ditto.</p>
</dd><dt>dir.c (ruby_glob0)
<dd>
<p>no need to check never-NULL pointer. reported by Denis Denisov &lt;denji0k
AT gmail.com&gt;.</p>
</dd><dt>win32/file.c (rb_file_expand_path_internal)
<dd>
<p>ditto.</p>
</dd><dt>win32/file.c (code_page_i)
<dd>
<p>handle realloc failure. reported by Denis Denisov &lt;denji0k AT
gmail.com&gt;.</p>
</dd><dt>win32/stub.c (stub_sysinit)
<dd>
<p>ditto.</p>
</dd><dd>
<p></p>
</dd></dl>

<h3 id="label-Fri+Dec+26+01-3A41-3A40+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Dec 26 01:41:40 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/rbinstall.rb
<dd>
<p>skip installing bundle gems if zlib is unavailable. [Bug #10647]
[ruby-dev:48787]</p>
</dd></dl>

<h3 id="label-Fri+Dec+26+01-3A24-3A42+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Dec 26 01:24:42 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>tool/downloader.rb
<dd>
<p>support old versions of ruby.</p>
</dd><dt>tool/downloader.rb
<dd>
<p>now can download gems by http if openssl is not available (this may be
danger!)</p>
</dd></dl>

<h3 id="label-Fri+Dec+26+00-3A13-3A48+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Fri Dec 26 00:13:48 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>test/ruby/test_extlibs.rb
<dd>
<p>check existence of extension libraries which not depend on outer libraries.
(experimental)</p>
</dd></dl>

<h2 id="label-2014-12-25">2014-12-25</h2>

<h3 id="label-Thu+Dec+25+21-3A58-3A15+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 21:58:15 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/extconf.rb
<dd>
<p>make PIC objects if it will be linked as a shared object eventually. 
[ruby-core:67128]</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+19-3A01-3A13+2014++NAKAMURA+Usaku++-3Cusa-40ruby-lang.org-3E">Thu Dec 25 19:01:13 2014  NAKAMURA Usaku  &lt;usa@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/fiddle/win32/libffi-3.2.1-mswin.patch
<dd>
<p>support mswin32.</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+17-3A30-3A40+2014++Naohisa+Goto++-3Cngotogenome-40gmail.com-3E">Thu Dec 25 17:30:40 2014  Naohisa Goto  &lt;ngotogenome@gmail.com&gt;</h3>
<dl class="rdoc-list note-list"><dt>gc.c (wmap_final_func)
<dd>
<p>fix memory size shortage when realloc wmap. Fix SEGV during finalize of <a
href="../classes/WeakRef.html">WeakRef</a> on Solaris (though the SEGV
could occur on all OS/platforms). [ruby-dev:48779] [Bug #10646]</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+17-3A27-3A06+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 17:27:06 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>configure.in (NET_LUID)
<dd>
<p>include winsock2.h instead of windows.h. patch by Jon Forums in
[ruby-core:67125].  [Bug #10640]</p>
</dd></dl>

<h3 id="label-Thu+Dec+25+16-3A14-3A10+2014++Nobuyoshi+Nakada++-3Cnobu-40ruby-lang.org-3E">Thu Dec 25 16:14:10 2014  Nobuyoshi Nakada  &lt;nobu@ruby-lang.org&gt;</h3>
<dl class="rdoc-list note-list"><dt>ext/io/console/console.c (console_dev)
<dd>
<p>send the given arguments to the opened console.  as a special case, do
nothing if :close is given.</p>
</dd><dt>test/lib/leakchecker.rb (LeakChecker#check_fd_leak)
<dd>
<p>close if console.</p>
</dd></dl>

<h2 id="label-2014-03-01">2014-03-01</h2>

<h3 id="label-Tue+Dec+30+13-3A16-3A56+2014++Martin+Duerst++-3Cbernhard-2Bgit-40lsmod.de-3E">Tue Dec 30 13:16:56 2014  Martin Duerst  &lt;bernhard+git@lsmod.de&gt;</h3>
<dl class="rdoc-list note-list"><dt>lib/uri/common.rb
<dd>
<p>Initialize HTML5ASCIIINCOMPAT to empty Array to avoid error during
bootstrap when encodings are not yet defined. [Bug #10678]</p>
</dd></dl>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>