<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Psych</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            Psych 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/ext/psych/lib/psych_rb.html">ext/psych/lib/psych.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/class_loader_rb.html">ext/psych/lib/psych/class_loader.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/coder_rb.html">ext/psych/lib/psych/coder.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/deprecated_rb.html">ext/psych/lib/psych/deprecated.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/exception_rb.html">ext/psych/lib/psych/exception.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/handler_rb.html">ext/psych/lib/psych/handler.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/handlers/document_stream_rb.html">ext/psych/lib/psych/handlers/document_stream.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/handlers/recorder_rb.html">ext/psych/lib/psych/handlers/recorder.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/json/ruby_events_rb.html">ext/psych/lib/psych/json/ruby_events.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/json/stream_rb.html">ext/psych/lib/psych/json/stream.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/json/tree_builder_rb.html">ext/psych/lib/psych/json/tree_builder.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/json/yaml_events_rb.html">ext/psych/lib/psych/json/yaml_events.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes_rb.html">ext/psych/lib/psych/nodes.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/alias_rb.html">ext/psych/lib/psych/nodes/alias.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/document_rb.html">ext/psych/lib/psych/nodes/document.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/mapping_rb.html">ext/psych/lib/psych/nodes/mapping.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/node_rb.html">ext/psych/lib/psych/nodes/node.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/scalar_rb.html">ext/psych/lib/psych/nodes/scalar.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/sequence_rb.html">ext/psych/lib/psych/nodes/sequence.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/nodes/stream_rb.html">ext/psych/lib/psych/nodes/stream.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/omap_rb.html">ext/psych/lib/psych/omap.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/parser_rb.html">ext/psych/lib/psych/parser.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/scalar_scanner_rb.html">ext/psych/lib/psych/scalar_scanner.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/set_rb.html">ext/psych/lib/psych/set.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/stream_rb.html">ext/psych/lib/psych/stream.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/streaming_rb.html">ext/psych/lib/psych/streaming.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/syntax_error_rb.html">ext/psych/lib/psych/syntax_error.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/tree_builder_rb.html">ext/psych/lib/psych/tree_builder.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/versions_rb.html">ext/psych/lib/psych/versions.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/depth_first_rb.html">ext/psych/lib/psych/visitors/depth_first.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/emitter_rb.html">ext/psych/lib/psych/visitors/emitter.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/json_tree_rb.html">ext/psych/lib/psych/visitors/json_tree.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/to_ruby_rb.html">ext/psych/lib/psych/visitors/to_ruby.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/visitor_rb.html">ext/psych/lib/psych/visitors/visitor.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych/visitors/yaml_tree_rb.html">ext/psych/lib/psych/visitors/yaml_tree.rb</a></li>
            
            <li><a href="../files/ext/psych/lib/psych_jars_rb.html">ext/psych/lib/psych_jars.rb</a></li>
            
            <li><a href="../files/ext/psych/psych_c.html">ext/psych/psych.c</a></li>
            
            <li><a href="../files/lib/rdoc/rdoc_rb.html">lib/rdoc/rdoc.rb</a></li>
            
            <li><a href="../files/lib/rubygems/config_file_rb.html">lib/rubygems/config_file.rb</a></li>
            
            <li><a href="../files/lib/rubygems/psych_additions_rb.html">lib/rubygems/psych_additions.rb</a></li>
            
            <li><a href="../files/lib/rubygems/psych_tree_rb.html">lib/rubygems/psych_tree.rb</a></li>
            
            <li><a href="../files/lib/rubygems/specification_rb.html">lib/rubygems/specification.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="module-Psych-label-Overview">Overview</h1>

<p><a href="Psych.html">Psych</a> is a YAML parser and emitter. <a
href="Psych.html">Psych</a> leverages libyaml [Home page: <a
href="http://pyyaml.org/wiki/LibYAML">pyyaml.org/wiki/LibYAML</a>] or [HG
repo: <a
href="https://bitbucket.org/xi/libyaml">bitbucket.org/xi/libyaml</a>] for
its YAML parsing and emitting capabilities. In addition to wrapping
libyaml, <a href="Psych.html">Psych</a> also knows how to serialize and
de-serialize most Ruby objects to and from the YAML format.</p>

<h1 id="module-Psych-label-I+NEED+TO+PARSE+OR+EMIT+YAML+RIGHT+NOW-21">I NEED TO PARSE OR EMIT YAML RIGHT NOW!</h1>

<pre><code># Parse some YAML
Psych.load(&quot;--- foo&quot;) # =&gt; &quot;foo&quot;

# Emit some YAML
Psych.dump(&quot;foo&quot;)     # =&gt; &quot;--- foo\n...\n&quot;
{ :a =&gt; &#39;b&#39;}.to_yaml  # =&gt; &quot;---\n:a: b\n&quot;
</code></pre>

<p>Got more time on your hands?  Keep on reading!</p>

<h2 id="module-Psych-label-YAML+Parsing">YAML Parsing</h2>

<p><a href="Psych.html">Psych</a> provides a range of interfaces for parsing a
YAML document ranging from low level to high level, depending on your
parsing needs.  At the lowest level, is an event based parser.  Mid level
is access to the raw YAML AST, and at the highest level is the ability to
unmarshal YAML to Ruby objects.</p>

<h2 id="module-Psych-label-YAML+Emitting">YAML Emitting</h2>

<p><a href="Psych.html">Psych</a> provides a range of interfaces ranging from
low to high level for producing YAML documents.  Very similar to the YAML
parsing interfaces, <a href="Psych.html">Psych</a> provides at the lowest
level, an event based system, mid-level is building a YAML AST, and the
highest level is converting a Ruby object straight to a YAML document.</p>

<h2 id="module-Psych-label-High-level+API">High-level API</h2>

<h3 id="module-Psych-label-Parsing">Parsing</h3>

<p>The high level YAML parser provided by <a href="Psych.html">Psych</a>
simply takes YAML as input and returns a Ruby data structure.  For
information on using the high level parser see <a
href="Psych.html#method-c-load">::load</a></p>

<h4 id="module-Psych-label-Reading+from+a+string">Reading from a string</h4>

<pre><code>Psych.load(&quot;--- a&quot;)             # =&gt; &#39;a&#39;
Psych.load(&quot;---\n - a\n - b&quot;)   # =&gt; [&#39;a&#39;, &#39;b&#39;]
</code></pre>

<h4 id="module-Psych-label-Reading+from+a+file">Reading from a file</h4>

<pre><code>Psych.load_file(&quot;database.yml&quot;)
</code></pre>

<h4 id="module-Psych-label-Exception+handling"><a href="Psych/Exception.html">Exception</a> handling</h4>

<pre><code>begin
  # The second argument changes only the exception contents
  Psych.parse(&quot;--- `&quot;, &quot;file.txt&quot;)
rescue Psych::SyntaxError =&gt; ex
  ex.file    # =&gt; &#39;file.txt&#39;
  ex.message # =&gt; &quot;(file.txt): found character that cannot start any token&quot;
end
</code></pre>

<h3 id="module-Psych-label-Emitting">Emitting</h3>

<p>The high level emitter has the easiest interface.  <a
href="Psych.html">Psych</a> simply takes a Ruby data structure and converts
it to a YAML document.  See <a href="Psych.html#method-c-dump">::dump</a>
for more information on dumping a Ruby data structure.</p>

<h4 id="module-Psych-label-Writing+to+a+string">Writing to a string</h4>

<pre><code># Dump an array, get back a YAML string
Psych.dump([&#39;a&#39;, &#39;b&#39;])  # =&gt; &quot;---\n- a\n- b\n&quot;

# Dump an array to an IO object
Psych.dump([&#39;a&#39;, &#39;b&#39;], StringIO.new)  # =&gt; #&lt;StringIO:0x000001009d0890&gt;

# Dump an array with indentation set
Psych.dump([&#39;a&#39;, [&#39;b&#39;]], :indentation =&gt; 3) # =&gt; &quot;---\n- a\n-  - b\n&quot;

# Dump an array to an IO with indentation set
Psych.dump([&#39;a&#39;, [&#39;b&#39;]], StringIO.new, :indentation =&gt; 3)
</code></pre>

<h4 id="module-Psych-label-Writing+to+a+file">Writing to a file</h4>

<p>Currently there is no direct API for dumping Ruby structure to file:</p>

<pre><code>File.open(&#39;database.yml&#39;, &#39;w&#39;) do |file|
  file.write(Psych.dump([&#39;a&#39;, &#39;b&#39;]))
end
</code></pre>

<h2 id="module-Psych-label-Mid-level+API">Mid-level API</h2>

<h3 id="module-Psych-label-Parsing">Parsing</h3>

<p><a href="Psych.html">Psych</a> provides access to an AST produced from
parsing a YAML document.  This tree is built using the <a
href="Psych/Parser.html">Psych::Parser</a> and <a
href="Psych/TreeBuilder.html">Psych::TreeBuilder</a>.  The AST can be
examined and manipulated freely.  Please see <a
href="Psych.html#method-c-parse_stream">::parse_stream</a>, <a
href="Psych/Nodes.html">Psych::Nodes</a>, and <a
href="Psych/Nodes/Node.html">Psych::Nodes::Node</a> for more information on
dealing with YAML syntax trees.</p>

<h4 id="module-Psych-label-Reading+from+a+string">Reading from a string</h4>

<pre><code># Returns Psych::Nodes::Stream
Psych.parse_stream(&quot;---\n - a\n - b&quot;)

# Returns Psych::Nodes::Document
Psych.parse(&quot;---\n - a\n - b&quot;)
</code></pre>

<h4 id="module-Psych-label-Reading+from+a+file">Reading from a file</h4>

<pre><code># Returns Psych::Nodes::Stream
Psych.parse_stream(File.read(&#39;database.yml&#39;))

# Returns Psych::Nodes::Document
Psych.parse_file(&#39;database.yml&#39;)
</code></pre>

<h4 id="module-Psych-label-Exception+handling"><a href="Psych/Exception.html">Exception</a> handling</h4>

<pre><code>begin
  # The second argument changes only the exception contents
  Psych.parse(&quot;--- `&quot;, &quot;file.txt&quot;)
rescue Psych::SyntaxError =&gt; ex
  ex.file    # =&gt; &#39;file.txt&#39;
  ex.message # =&gt; &quot;(file.txt): found character that cannot start any token&quot;
end
</code></pre>

<h3 id="module-Psych-label-Emitting">Emitting</h3>

<p>At the mid level is building an AST.  This AST is exactly the same as the
AST used when parsing a YAML document.  Users can build an AST by hand and
the AST knows how to emit itself as a YAML document.  See <a
href="Psych/Nodes.html">Psych::Nodes</a>, <a
href="Psych/Nodes/Node.html">Psych::Nodes::Node</a>, and <a
href="Psych/TreeBuilder.html">Psych::TreeBuilder</a> for more information
on building a YAML AST.</p>

<h4 id="module-Psych-label-Writing+to+a+string">Writing to a string</h4>

<pre><code># We need Psych::Nodes::Stream (not Psych::Nodes::Document)
stream = Psych.parse_stream(&quot;---\n - a\n - b&quot;)

stream.to_yaml # =&gt; &quot;---\n- a\n- b\n&quot;
</code></pre>

<h4 id="module-Psych-label-Writing+to+a+file">Writing to a file</h4>

<pre><code># We need Psych::Nodes::Stream (not Psych::Nodes::Document)
stream = Psych.parse_stream(File.read(&#39;database.yml&#39;))

File.open(&#39;database.yml&#39;, &#39;w&#39;) do |file|
  file.write(stream.to_yaml)
end
</code></pre>

<h2 id="module-Psych-label-Low-level+API">Low-level API</h2>

<h3 id="module-Psych-label-Parsing">Parsing</h3>

<p>The lowest level parser should be used when the YAML input is already
known, and the developer does not want to pay the price of building an AST
or automatic detection and conversion to Ruby objects.  See <a
href="Psych/Parser.html">Psych::Parser</a> for more information on using
the event based parser.</p>

<h4 id="module-Psych-label-Reading+to+Psych-3A-3ANodes-3A-3AStream+structure">Reading to <a href="Psych/Nodes/Stream.html">Psych::Nodes::Stream</a> structure</h4>

<pre><code>parser = Psych::Parser.new(TreeBuilder.new) # =&gt; #&lt;Psych::Parser&gt;
parser = Psych.parser                       # it&#39;s an alias for the above

parser.parse(&quot;---\n - a\n - b&quot;)             # =&gt; #&lt;Psych::Parser&gt;
parser.handler                              # =&gt; #&lt;Psych::TreeBuilder&gt;
parser.handler.root                         # =&gt; #&lt;Psych::Nodes::Stream&gt;
</code></pre>

<h4 id="module-Psych-label-Receiving+an+events+stream">Receiving an events stream</h4>

<pre><code>parser = Psych::Parser.new(Psych::Handlers::Recorder.new)

parser.parse(&quot;---\n - a\n - b&quot;)
parser.events # =&gt; [list of [event, args] lists]
              # event is one of: Psych::Handler::EVENTS
              # args are the arguments passed to the event
</code></pre>

<h3 id="module-Psych-label-Emitting">Emitting</h3>

<p>The lowest level emitter is an event based system.  Events are sent to a
Psych::Emitter object.  That object knows how to convert the events to a
YAML document.  This interface should be used when document format is known
in advance or speed is a concern.  See Psych::Emitter for more information.</p>

<h4 id="module-Psych-label-Writing+to+a+Ruby+structure">Writing to a Ruby structure</h4>

<pre><code>Psych.parser.parse(&quot;--- a&quot;)       # =&gt; #&lt;Psych::Parser&gt;

parser.handler.first              # =&gt; #&lt;Psych::Nodes::Stream&gt;
parser.handler.first.to_ruby      # =&gt; [&quot;a&quot;]

parser.handler.root.first         # =&gt; #&lt;Psych::Nodes::Document&gt;
parser.handler.root.first.to_ruby # =&gt; &quot;a&quot;

# You can instantiate an Emitter manually
Psych::Visitors::ToRuby.new.accept(parser.handler.root.first)
# =&gt; &quot;a&quot;
</code></pre>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

<p>frozen_string_literal: false</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Psych/Handlers.html">Psych::Handlers</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Psych/JSON.html">Psych::JSON</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Psych/Nodes.html">Psych::Nodes</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Psych/Streaming.html">Psych::Streaming</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Psych/Visitors.html">Psych::Visitors</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/BadAlias.html">Psych::BadAlias</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/ClassLoader.html">Psych::ClassLoader</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Coder.html">Psych::Coder</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/DisallowedClass.html">Psych::DisallowedClass</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Exception.html">Psych::Exception</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Handler.html">Psych::Handler</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Omap.html">Psych::Omap</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Parser.html">Psych::Parser</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/ScalarScanner.html">Psych::ScalarScanner</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Set.html">Psych::Set</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/Stream.html">Psych::Stream</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/SyntaxError.html">Psych::SyntaxError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Psych/TreeBuilder.html">Psych::TreeBuilder</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-add_private_type">add_private_type</a>,
              </li>
            
              
              <li>
                <a href="#method-c-add_ruby_type">add_ruby_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-detect_implicit">detect_implicit</a>,
              </li>
            
              
              <li>
                <a href="#method-c-dump">dump</a>,
              </li>
            
              
              <li>
                <a href="#method-c-dump_stream">dump_stream</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-libyaml_version">libyaml_version</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load">load</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_documents">load_documents</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_file">load_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-load_stream">load_stream</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-object_maker">object_maker</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse">parse</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_file">parse_file</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parse_stream">parse_stream</a>,
              </li>
            
              
              <li>
                <a href="#method-c-parser">parser</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-read_type_class">read_type_class</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-safe_load">safe_load</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-tagurize">tagurize</a>,
              </li>
            
              
              <li>
                <a href="#method-c-to_json">to_json</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&#39;2.0.17&#39;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>The version is <a href="Psych.html">Psych</a> you&#39;re using</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">LIBYAML_VERSION</td>
            <td>=</td>
            <td class="attr-value">Psych.libyaml_version.join &#39;.&#39;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>The version of libyaml <a href="Psych.html">Psych</a> is using</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DEPRECATED</td>
            <td>=</td>
            <td class="attr-value">__FILE__</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DEFAULT_SNAKEYAML_VERSION</td>
            <td>=</td>
            <td class="attr-value">&#39;1.14&#39;.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-add_private_type">
            
              <b>add_private_type</b>(type_tag, &amp;block)
            
            <a href="../classes/Psych.html#method-c-add_private_type" name="method-c-add_private_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-add_private_type_source')" id="l_method-c-add_private_type_source">show</a>
                
              </p>
              <div id="method-c-add_private_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">add_private_type</span> <span class="ruby-identifier">type_tag</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: add_private_type is deprecated, use add_domain_type&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-identifier">domain</span> = <span class="ruby-string">&#39;x-private&#39;</span>
  <span class="ruby-identifier">key</span> = [<span class="ruby-identifier">domain</span>, <span class="ruby-identifier">type_tag</span>].<span class="ruby-identifier">join</span> <span class="ruby-string">&#39;:&#39;</span>
  <span class="ruby-ivar">@domain_types</span>[<span class="ruby-identifier">key</span>] = [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">block</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-add_ruby_type">
            
              <b>add_ruby_type</b>(type_tag, &amp;block)
            
            <a href="../classes/Psych.html#method-c-add_ruby_type" name="method-c-add_ruby_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-add_ruby_type_source')" id="l_method-c-add_ruby_type_source">show</a>
                
              </p>
              <div id="method-c-add_ruby_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">add_ruby_type</span> <span class="ruby-identifier">type_tag</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: add_ruby_type is deprecated, use add_domain_type&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-identifier">domain</span> = <span class="ruby-string">&#39;ruby.yaml.org,2002&#39;</span>
  <span class="ruby-identifier">key</span> = [<span class="ruby-string">&#39;tag&#39;</span>, <span class="ruby-identifier">domain</span>, <span class="ruby-identifier">type_tag</span>].<span class="ruby-identifier">join</span> <span class="ruby-string">&#39;:&#39;</span>
  <span class="ruby-ivar">@domain_types</span>[<span class="ruby-identifier">key</span>] = [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">block</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-detect_implicit">
            
              <b>detect_implicit</b>(thing)
            
            <a href="../classes/Psych.html#method-c-detect_implicit" name="method-c-detect_implicit" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-detect_implicit_source')" id="l_method-c-detect_implicit_source">show</a>
                
              </p>
              <div id="method-c-detect_implicit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">detect_implicit</span> <span class="ruby-identifier">thing</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: detect_implicit is deprecated&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">thing</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;null&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">thing</span>
  <span class="ruby-identifier">ss</span> = <span class="ruby-constant">ScalarScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ClassLoader</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">thing</span>).<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-dump">
            
              <b>Psych.dump(o)               &rarr; string of yaml
Psych.dump(o, options)      &rarr; string of yaml
Psych.dump(o, io)           &rarr; io object passed in
Psych.dump(o, io, options)  &rarr; io object passed in
</b>
            
            <a href="../classes/Psych.html#method-c-dump" name="method-c-dump" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Dump Ruby object <code>o</code> to a YAML string.  Optional
<code>options</code> may be passed in to control the output format.  If an
<a href="IO.html">IO</a> object is passed in, the YAML will be dumped to
that <a href="IO.html">IO</a> object.</p>

<p>Example:</p>

<pre><code># Dump an array, get back a YAML string
Psych.dump([&#39;a&#39;, &#39;b&#39;])  # =&gt; &quot;---\n- a\n- b\n&quot;

# Dump an array to an IO object
Psych.dump([&#39;a&#39;, &#39;b&#39;], StringIO.new)  # =&gt; #&lt;StringIO:0x000001009d0890&gt;

# Dump an array with indentation set
Psych.dump([&#39;a&#39;, [&#39;b&#39;]], :indentation =&gt; 3) # =&gt; &quot;---\n- a\n-  - b\n&quot;

# Dump an array to an IO with indentation set
Psych.dump([&#39;a&#39;, [&#39;b&#39;]], StringIO.new, :indentation =&gt; 3)
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-dump_source')" id="l_method-c-dump_source">show</a>
                
              </p>
              <div id="method-c-dump_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 409</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">dump</span> <span class="ruby-identifier">o</span>, <span class="ruby-identifier">io</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">io</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">io</span>
    <span class="ruby-identifier">io</span>      = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">YAMLTree</span>.<span class="ruby-identifier">create</span> <span class="ruby-identifier">options</span>
  <span class="ruby-identifier">visitor</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">o</span>
  <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">tree</span>.<span class="ruby-identifier">yaml</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-dump_stream">
            
              <b>dump_stream</b>(*objects)
            
            <a href="../classes/Psych.html#method-c-dump_stream" name="method-c-dump_stream" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Dump a list of objects as separate documents to a document stream.</p>

<p>Example:</p>

<pre><code>Psych.dump_stream(&quot;foo\n  &quot;, {}) # =&gt; &quot;--- ! \&quot;foo\\n  \&quot;\n--- {}\n&quot;
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-dump_stream_source')" id="l_method-c-dump_stream_source">show</a>
                
              </p>
              <div id="method-c-dump_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">dump_stream</span> <span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>
  <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">YAMLTree</span>.<span class="ruby-identifier">create</span>({})
  <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">visitor</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">o</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">tree</span>.<span class="ruby-identifier">yaml</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-libyaml_version">
            
              <b>Psych.libyaml_version
</b>
            
            <a href="../classes/Psych.html#method-c-libyaml_version" name="method-c-libyaml_version" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the version of libyaml being used</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-libyaml_version_source')" id="l_method-c-libyaml_version_source">show</a>
                
              </p>
              <div id="method-c-libyaml_version_source" class="dyn-source">
                <pre>static VALUE libyaml_version(VALUE module)
{
    int major, minor, patch;
    VALUE list[3];

    yaml_get_version(&amp;major, &amp;minor, &amp;patch);

    list[0] = INT2NUM((long)major);
    list[1] = INT2NUM((long)minor);
    list[2] = INT2NUM((long)patch);

    return rb_ary_new4((long)3, list);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load">
            
              <b>load</b>(yaml, filename = nil)
            
            <a href="../classes/Psych.html#method-c-load" name="method-c-load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Load <code>yaml</code> in to a Ruby data structure.  If multiple documents
are provided, the object contained in the first document will be returned.
<code>filename</code> will be used in the exception message if any
exception is raised while parsing.</p>

<p>Raises a <a href="Psych/SyntaxError.html">Psych::SyntaxError</a> when a
YAML syntax error is detected.</p>

<p>Example:</p>

<pre><code>Psych.load(&quot;--- a&quot;)             # =&gt; &#39;a&#39;
Psych.load(&quot;---\n - a\n - b&quot;)   # =&gt; [&#39;a&#39;, &#39;b&#39;]

begin
  Psych.load(&quot;--- `&quot;, &quot;file.txt&quot;)
rescue Psych::SyntaxError =&gt; ex
  ex.file    # =&gt; &#39;file.txt&#39;
  ex.message # =&gt; &quot;(file.txt): found character that cannot start any token&quot;
end
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-load_source')" id="l_method-c-load_source">show</a>
                
              </p>
              <div id="method-c-load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>)
  <span class="ruby-identifier">result</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">to_ruby</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_documents">
            
              <b>load_documents</b>(yaml, &amp;block)
            
            <a href="../classes/Psych.html#method-c-load_documents" name="method-c-load_documents" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>This method is deprecated, use <a
href="Psych.html#method-c-load_stream">::load_stream</a> instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-load_documents_source')" id="l_method-c-load_documents_source">show</a>
                
              </p>
              <div id="method-c-load_documents_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_documents</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: load_documents is deprecated, use load_stream&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">load_stream</span> <span class="ruby-identifier">yaml</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">list</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_file">
            
              <b>load_file</b>(filename)
            
            <a href="../classes/Psych.html#method-c-load_file" name="method-c-load_file" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Load the document contained in <code>filename</code>.  Returns the yaml
contained in <code>filename</code> as a Ruby object</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-load_file_source')" id="l_method-c-load_file_source">show</a>
                
              </p>
              <div id="method-c-load_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 470</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_file</span> <span class="ruby-identifier">filename</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-string">&#39;r:bom|utf-8&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">f</span>, <span class="ruby-identifier">filename</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-load_stream">
            
              <b>load_stream</b>(yaml, filename = nil)
            
            <a href="../classes/Psych.html#method-c-load_stream" name="method-c-load_stream" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Load multiple documents given in <code>yaml</code>.  Returns the parsed
documents as a list.  If a block is given, each document will be converted
to Ruby and passed to the block during parsing</p>

<p>Example:</p>

<pre><code>Psych.load_stream(&quot;--- foo\n...\n--- bar\n...&quot;) # =&gt; [&#39;foo&#39;, &#39;bar&#39;]

list = []
Psych.load_stream(&quot;--- foo\n...\n--- bar\n...&quot;) do |ruby|
  list &lt;&lt; ruby
end
list # =&gt; [&#39;foo&#39;, &#39;bar&#39;]
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-load_stream_source')" id="l_method-c-load_stream_source">show</a>
                
              </p>
              <div id="method-c-load_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">load_stream</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">parse_stream</span>(<span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_ruby</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parse_stream</span>(<span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">to_ruby</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-object_maker">
            
              <b>object_maker</b>(klass, hash)
            
            <a href="../classes/Psych.html#method-c-object_maker" name="method-c-object_maker" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-object_maker_source')" id="l_method-c-object_maker_source">show</a>
                
              </p>
              <div id="method-c-object_maker_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">object_maker</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: object_maker is deprecated&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">allocate</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:&quot;@#{k}&quot;</span>, <span class="ruby-identifier">v</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse">
            
              <b>parse</b>(yaml, filename = nil)
            
            <a href="../classes/Psych.html#method-c-parse" name="method-c-parse" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parse a YAML string in <code>yaml</code>.  Returns the <a
href="Psych/Nodes/Document.html">Psych::Nodes::Document</a>.
<code>filename</code> is used in the exception message if a <a
href="Psych/SyntaxError.html">Psych::SyntaxError</a> is raised.</p>

<p>Raises a <a href="Psych/SyntaxError.html">Psych::SyntaxError</a> when a
YAML syntax error is detected.</p>

<p>Example:</p>

<pre><code>Psych.parse(&quot;---\n - a\n - b&quot;) # =&gt; #&lt;Psych::Nodes::Document:0x00&gt;

begin
  Psych.parse(&quot;--- `&quot;, &quot;file.txt&quot;)
rescue Psych::SyntaxError =&gt; ex
  ex.file    # =&gt; &#39;file.txt&#39;
  ex.message # =&gt; &quot;(file.txt): found character that cannot start any token&quot;
end
</code></pre>

<p>See <a href="Psych/Nodes.html">Psych::Nodes</a> for more information about
YAML AST.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-parse_source')" id="l_method-c-parse_source">show</a>
                
              </p>
              <div id="method-c-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">parse_stream</span>(<span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse_file">
            
              <b>parse_file</b>(filename)
            
            <a href="../classes/Psych.html#method-c-parse_file" name="method-c-parse_file" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parse a file at <code>filename</code>. Returns the <a
href="Psych/Nodes/Document.html">Psych::Nodes::Document</a>.</p>

<p>Raises a <a href="Psych/SyntaxError.html">Psych::SyntaxError</a> when a
YAML syntax error is detected.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-parse_file_source')" id="l_method-c-parse_file_source">show</a>
                
              </p>
              <div id="method-c-parse_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parse_file</span> <span class="ruby-identifier">filename</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">filename</span>, <span class="ruby-string">&#39;r:bom|utf-8&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">parse</span> <span class="ruby-identifier">f</span>, <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse_stream">
            
              <b>parse_stream</b>(yaml, filename = nil, &amp;block)
            
            <a href="../classes/Psych.html#method-c-parse_stream" name="method-c-parse_stream" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parse a YAML string in <code>yaml</code>.  Returns the <a
href="Psych/Nodes/Stream.html">Psych::Nodes::Stream</a>. This method can
handle multiple YAML documents contained in <code>yaml</code>.
<code>filename</code> is used in the exception message if a <a
href="Psych/SyntaxError.html">Psych::SyntaxError</a> is raised.</p>

<p>If a block is given, a <a
href="Psych/Nodes/Document.html">Psych::Nodes::Document</a> node will be
yielded to the block as it&#39;s being parsed.</p>

<p>Raises a <a href="Psych/SyntaxError.html">Psych::SyntaxError</a> when a
YAML syntax error is detected.</p>

<p>Example:</p>

<pre><code>Psych.parse_stream(&quot;---\n - a\n - b&quot;) # =&gt; #&lt;Psych::Nodes::Stream:0x00&gt;

Psych.parse_stream(&quot;--- a\n--- b&quot;) do |node|
  node # =&gt; #&lt;Psych::Nodes::Document:0x00&gt;
end

begin
  Psych.parse_stream(&quot;--- `&quot;, &quot;file.txt&quot;)
rescue Psych::SyntaxError =&gt; ex
  ex.file    # =&gt; &#39;file.txt&#39;
  ex.message # =&gt; &quot;(file.txt): found character that cannot start any token&quot;
end
</code></pre>

<p>See <a href="Psych/Nodes.html">Psych::Nodes</a> for more information about
YAML AST.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-parse_stream_source')" id="l_method-c-parse_stream_source">show</a>
                
              </p>
              <div id="method-c-parse_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 374</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parse_stream</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">parser</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Handlers</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentStream</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>))
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parser</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">parser</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">handler</span>.<span class="ruby-identifier">root</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parser">
            
              <b>parser</b>()
            
            <a href="../classes/Psych.html#method-c-parser" name="method-c-parser" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a default parser</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-parser_source')" id="l_method-c-parser_source">show</a>
                
              </p>
              <div id="method-c-parser_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 343</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">parser</span>
  <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">TreeBuilder</span>.<span class="ruby-identifier">new</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-read_type_class">
            
              <b>read_type_class</b>(type, reference)
            
            <a href="../classes/Psych.html#method-c-read_type_class" name="method-c-read_type_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-read_type_class_source')" id="l_method-c-read_type_class_source">show</a>
                
              </p>
              <div id="method-c-read_type_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">read_type_class</span> <span class="ruby-identifier">type</span>, <span class="ruby-identifier">reference</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: read_type_class is deprecated&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">_</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">type</span>.<span class="ruby-identifier">split</span> <span class="ruby-string">&#39;:&#39;</span>, <span class="ruby-number">4</span>

  <span class="ruby-identifier">reference</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;::&#39;</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">reference</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">k</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">n</span>.<span class="ruby-identifier">to_sym</span>)
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>
  [<span class="ruby-identifier">type</span>, <span class="ruby-identifier">reference</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-safe_load">
            
              <b>safe_load</b>(yaml, whitelist_classes = [], whitelist_symbols = [], aliases = false, filename = nil)
            
            <a href="../classes/Psych.html#method-c-safe_load" name="method-c-safe_load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Safely load the yaml string in <code>yaml</code>.  By default, only the
following classes are allowed to be deserialized:</p>
<ul><li>
<p><a href="TrueClass.html">TrueClass</a></p>
</li><li>
<p><a href="FalseClass.html">FalseClass</a></p>
</li><li>
<p><a href="NilClass.html">NilClass</a></p>
</li><li>
<p><a href="Numeric.html">Numeric</a></p>
</li><li>
<p>String</p>
</li><li>
<p>Array</p>
</li><li>
<p><a href="Hash.html">Hash</a></p>
</li></ul>

<p>Recursive data structures are not allowed by default.  Arbitrary classes
can be allowed by adding those classes to the <code>whitelist</code>.  They
are additive.  For example, to allow <a href="Date.html">Date</a>
deserialization:</p>

<pre><code>Psych.safe_load(yaml, [Date])
</code></pre>

<p>Now the <a href="Date.html">Date</a> class can be loaded in addition to the
classes listed above.</p>

<p>Aliases can be explicitly allowed by changing the <code>aliases</code>
parameter. For example:</p>

<pre><code>x = []
x &lt;&lt; x
yaml = Psych.dump x
Psych.safe_load yaml               # =&gt; raises an exception
Psych.safe_load yaml, [], [], true # =&gt; loads the aliases
</code></pre>

<p>A <a href="Psych/DisallowedClass.html">Psych::DisallowedClass</a> exception
will be raised if the yaml contains a class that isn&#39;t in the
whitelist.</p>

<p>A <a href="Psych/BadAlias.html">Psych::BadAlias</a> exception will be
raised if the yaml contains aliases but the <code>aliases</code> parameter
is set to false.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-safe_load_source')" id="l_method-c-safe_load_source">show</a>
                
              </p>
              <div id="method-c-safe_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">safe_load</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">whitelist_classes</span> = [], <span class="ruby-identifier">whitelist_symbols</span> = [], <span class="ruby-identifier">aliases</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">yaml</span>, <span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>

  <span class="ruby-identifier">class_loader</span> = <span class="ruby-constant">ClassLoader</span><span class="ruby-operator">::</span><span class="ruby-constant">Restricted</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">whitelist_classes</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>),
                                             <span class="ruby-identifier">whitelist_symbols</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>))
  <span class="ruby-identifier">scanner</span>      = <span class="ruby-constant">ScalarScanner</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">class_loader</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">aliases</span>
    <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">ToRuby</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">scanner</span>, <span class="ruby-identifier">class_loader</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">NoAliasRuby</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">scanner</span>, <span class="ruby-identifier">class_loader</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept</span> <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-tagurize">
            
              <b>tagurize</b>(thing)
            
            <a href="../classes/Psych.html#method-c-tagurize" name="method-c-tagurize" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-tagurize_source')" id="l_method-c-tagurize_source">show</a>
                
              </p>
              <div id="method-c-tagurize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych/deprecated.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">tagurize</span> <span class="ruby-identifier">thing</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: add_private_type is deprecated, use add_domain_type&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">thing</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">thing</span>
  <span class="ruby-node">&quot;tag:yaml.org,2002:#{thing}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-to_json">
            
              <b>to_json</b>(object)
            
            <a href="../classes/Psych.html#method-c-to_json" name="method-c-to_json" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Dump Ruby <code>object</code> to a <a href="Psych/JSON.html">JSON</a>
string.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-to_json_source')" id="l_method-c-to_json_source">show</a>
                
              </p>
              <div id="method-c-to_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/psych/lib/psych.rb, line 436</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">to_json</span> <span class="ruby-identifier">object</span>
  <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONTree</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">visitor</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">object</span>
  <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">tree</span>.<span class="ruby-identifier">yaml</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>    