<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Document</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            REXML::Document 
            
                <span class="parent">&lt; 
                    
                    Element
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/document_rb.html">lib/rexml/document.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents a full <a href="../XML.html">XML</a> document, including PIs, a
doctype, etc.  A <a href="Document.html">Document</a> has a single child
that can be accessed by root(). Note that if you want to have an <a
href="../XML.html">XML</a> declaration written for a document you create,
you must add one; <a href="../REXML.html">REXML</a> documents do not write
a default declaration for you.  See |DECLARATION| and |write|.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3C-3C">&lt;&lt;</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add">add</a>,
              </li>
            
              
              <li>
                <a href="#method-i-add_element">add_element</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-clone">clone</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-doctype">doctype</a>,
              </li>
            
              
              <li>
                <a href="#method-i-document">document</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-encoding">encoding</a>,
              </li>
            
              
              <li>
                <a href="#method-c-entity_expansion_limit">entity_expansion_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-c-entity_expansion_limit-3D">entity_expansion_limit=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-entity_expansion_text_limit">entity_expansion_text_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-c-entity_expansion_text_limit-3D">entity_expansion_text_limit=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-expanded_name">expanded_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-name">name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-node_type">node_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-parse_stream">parse_stream</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-record_entity_expansion">record_entity_expansion</a>,
              </li>
            
              
              <li>
                <a href="#method-i-root">root</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-stand_alone-3F">stand_alone?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-version">version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-write">write</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>X</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-xml_decl">xml_decl</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">DECLARATION</td>
            <td>=</td>
            <td class="attr-value">XMLDecl.default</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>A convenient default <a href="../XML.html">XML</a> declaration.  If you
want an <a href="../XML.html">XML</a> declaration, the easiest way to add
one is mydoc &lt;&lt; Document::DECLARATION <code>DEPRECATED</code> Use:
mydoc &lt;&lt; <a
href="XMLDecl.html#method-c-default">REXML::XMLDecl.default</a></p></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>entity_expansion_count</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-entity_expansion_limit">
            
              <b>entity_expansion_limit</b>()
            
            <a href="../../classes/REXML/Document.html#method-c-entity_expansion_limit" name="method-c-entity_expansion_limit" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Get the entity expansion limit. By default the limit is set to 10000.</p>

<p>Deprecated. Use <a
href="Security.html#method-c-entity_expansion_limit-3D">REXML::Security.entity_expansion_limit=</a>
instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-entity_expansion_limit_source')" id="l_method-c-entity_expansion_limit_source">show</a>
                
              </p>
              <div id="method-c-entity_expansion_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Security</span>.<span class="ruby-identifier">entity_expansion_limit</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-entity_expansion_limit-3D">
            
              <b>entity_expansion_limit=</b>( val )
            
            <a href="../../classes/REXML/Document.html#method-c-entity_expansion_limit-3D" name="method-c-entity_expansion_limit-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="../Set.html">Set</a> the entity expansion limit. By default the
limit is set to 10000.</p>

<p>Deprecated. Use <a
href="Security.html#method-c-entity_expansion_limit-3D">REXML::Security.entity_expansion_limit=</a>
instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-entity_expansion_limit-3D_source')" id="l_method-c-entity_expansion_limit-3D_source">show</a>
                
              </p>
              <div id="method-c-entity_expansion_limit-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit=</span>( <span class="ruby-identifier">val</span> )
  <span class="ruby-constant">Security</span>.<span class="ruby-identifier">entity_expansion_limit</span> = <span class="ruby-identifier">val</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-entity_expansion_text_limit">
            
              <b>entity_expansion_text_limit</b>()
            
            <a href="../../classes/REXML/Document.html#method-c-entity_expansion_text_limit" name="method-c-entity_expansion_text_limit" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Get the entity expansion limit. By default the limit is set to 10240.</p>

<p>Deprecated. Use <a
href="Security.html#method-c-entity_expansion_text_limit">REXML::Security.entity_expansion_text_limit</a>
instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-entity_expansion_text_limit_source')" id="l_method-c-entity_expansion_text_limit_source">show</a>
                
              </p>
              <div id="method-c-entity_expansion_text_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_text_limit</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Security</span>.<span class="ruby-identifier">entity_expansion_text_limit</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-entity_expansion_text_limit-3D">
            
              <b>entity_expansion_text_limit=</b>( val )
            
            <a href="../../classes/REXML/Document.html#method-c-entity_expansion_text_limit-3D" name="method-c-entity_expansion_text_limit-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="../Set.html">Set</a> the entity expansion limit. By default the
limit is set to 10240.</p>

<p>Deprecated. Use <a
href="Security.html#method-c-entity_expansion_text_limit-3D">REXML::Security.entity_expansion_text_limit=</a>
instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-entity_expansion_text_limit-3D_source')" id="l_method-c-entity_expansion_text_limit-3D_source">show</a>
                
              </p>
              <div id="method-c-entity_expansion_text_limit-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_text_limit=</span>( <span class="ruby-identifier">val</span> )
  <span class="ruby-constant">Security</span>.<span class="ruby-identifier">entity_expansion_text_limit</span> = <span class="ruby-identifier">val</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>( source = nil, context = {} )
            
            <a href="../../classes/REXML/Document.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, String, or <a href="../IO.html">IO</a>.
Documents have their context and <a href="Element.html">Element</a>
attributes cloned. Strings are expected to be valid <a
href="../XML.html">XML</a> documents.  IOs are expected to be sources of
valid <a href="../XML.html">XML</a> documents. @param context if supplied,
contains the context of the document; this should be a <a
href="../Hash.html">Hash</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>( <span class="ruby-identifier">source</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">context</span> = {} )
  <span class="ruby-ivar">@entity_expansion_count</span> = <span class="ruby-number">0</span>
  <span class="ruby-keyword">super</span>()
  <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
    <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">context</span>
    <span class="ruby-keyword">super</span> <span class="ruby-identifier">source</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">build</span>(  <span class="ruby-identifier">source</span> )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-parse_stream">
            
              <b>parse_stream</b>( source, listener )
            
            <a href="../../classes/REXML/Document.html#method-c-parse_stream" name="method-c-parse_stream" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-parse_stream_source')" id="l_method-c-parse_stream_source">show</a>
                
              </p>
              <div id="method-c-parse_stream_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_stream</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> )
  <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">StreamParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> ).<span class="ruby-identifier">parse</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3C-3C">
            
              <b>&lt;&lt;</b>( child )
            
            <a href="../../classes/REXML/Document.html#method-i-3C-3C" name="method-i-3C-3C" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="Document.html#method-i-add">add</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-add">
            
              <b>add</b>( child )
            
            <a href="../../classes/REXML/Document.html#method-i-add" name="method-i-add" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>We override this, because XMLDecls and DocTypes must go at the start of the
document</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Document.html#method-i-3C-3C">&lt;&lt;</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-add_source')" id="l_method-i-add_source">show</a>
                
              </p>
              <div id="method-i-add_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">add</span>( <span class="ruby-identifier">child</span> )
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@children</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
      <span class="ruby-ivar">@children</span>[<span class="ruby-number">0</span>] = <span class="ruby-identifier">child</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">child</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
    <span class="ruby-comment"># Find first Element or DocType node and insert the decl right</span>
    <span class="ruby-comment"># before it.  If there is no such node, just insert the child at the</span>
    <span class="ruby-comment"># end.  If there is a child and it is an DocType, then replace it.</span>
    <span class="ruby-identifier">insert_before_index</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Element</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">DocType</span>)
    }
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">insert_before_index</span> <span class="ruby-comment"># Not null = not end of list</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
        <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] = <span class="ruby-identifier">child</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span><span class="ruby-operator">-</span><span class="ruby-number">1</span>, <span class="ruby-number">0</span> ] = <span class="ruby-identifier">child</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>  <span class="ruby-comment"># Insert at end of list</span>
      <span class="ruby-ivar">@children</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rv</span> = <span class="ruby-keyword">super</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>
    <span class="ruby-identifier">rv</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-add_element">
            
              <b>add_element</b>(arg=nil, arg2=nil)
            
            <a href="../../classes/REXML/Document.html#method-i-add_element" name="method-i-add_element" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-add_element_source')" id="l_method-i-add_element_source">show</a>
                
              </p>
              <div id="method-i-add_element_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">add_element</span>(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">arg2</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">rv</span> = <span class="ruby-keyword">super</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>
  <span class="ruby-identifier">rv</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clone">
            
              <b>clone</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-clone" name="method-i-clone" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Should be obvious</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-clone_source')" id="l_method-i-clone_source">show</a>
                
              </p>
              <div id="method-i-clone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clone</span>
  <span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-doctype">
            
              <b>doctype</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-doctype" name="method-i-doctype" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the <a href="DocType.html">DocType</a> child of the document, if
one exists, and nil otherwise.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-doctype_source')" id="l_method-i-doctype_source">show</a>
                
              </p>
              <div id="method-i-doctype_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">doctype</span>
  <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-document">
            
              <b>document</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-document" name="method-i-document" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-document_source')" id="l_method-i-document_source">show</a>
                
              </p>
              <div id="method-i-document_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">document</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-encoding">
            
              <b>encoding</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-encoding" name="method-i-encoding" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the <a href="XMLDecl.html">XMLDecl</a> encoding of this document as
an <a href="Encoding.html">Encoding</a> object. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default encoding.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-encoding_source')" id="l_method-i-encoding_source">show</a>
                
              </p>
              <div id="method-i-encoding_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">encoding</span>
  <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">encoding</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-expanded_name">
            
              <b>expanded_name</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-expanded_name" name="method-i-expanded_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>According to the <a href="../XML.html">XML</a> spec, a root node has no
expanded name</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Document.html#method-i-name">name</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-expanded_name_source')" id="l_method-i-expanded_name_source">show</a>
                
              </p>
              <div id="method-i-expanded_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">expanded_name</span>
  <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-comment">#d = doc_type</span>
  <span class="ruby-comment">#d ? d.name : &quot;UNDEFINED&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-name">
            
              <b>name</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-name" name="method-i-name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="Document.html#method-i-expanded_name">expanded_name</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-node_type">
            
              <b>node_type</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-node_type" name="method-i-node_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-node_type_source')" id="l_method-i-node_type_source">show</a>
                
              </p>
              <div id="method-i-node_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">node_type</span>
  <span class="ruby-value">:document</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-record_entity_expansion">
            
              <b>record_entity_expansion</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-record_entity_expansion" name="method-i-record_entity_expansion" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-record_entity_expansion_source')" id="l_method-i-record_entity_expansion_source">show</a>
                
              </p>
              <div id="method-i-record_entity_expansion_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">record_entity_expansion</span>
  <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">Security</span>.<span class="ruby-identifier">entity_expansion_limit</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;number of entity expansions exceeded, processing aborted.&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-root">
            
              <b>root</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-root" name="method-i-root" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the root <a href="Element.html">Element</a> of the document, or nil
if this document has no children.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-root_source')" id="l_method-i-root_source">show</a>
                
              </p>
              <div id="method-i-root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">root</span>
  <span class="ruby-identifier">elements</span>[<span class="ruby-number">1</span>]
  <span class="ruby-comment">#self</span>
  <span class="ruby-comment">#@children.find { |item| item.kind_of? Element }</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-stand_alone-3F">
            
              <b>stand_alone?</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-stand_alone-3F" name="method-i-stand_alone-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the <a href="XMLDecl.html">XMLDecl</a> standalone value of this
document as a String. If no <a href="XMLDecl.html">XMLDecl</a> has been
set, returns the default setting.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-stand_alone-3F_source')" id="l_method-i-stand_alone-3F_source">show</a>
                
              </p>
              <div id="method-i-stand_alone-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">stand_alone?</span>
  <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">stand_alone?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-version">
            
              <b>version</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-version" name="method-i-version" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the <a href="XMLDecl.html">XMLDecl</a> version of this document as
a String. If no <a href="XMLDecl.html">XMLDecl</a> has been set, returns
the default version.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-version_source')" id="l_method-i-version_source">show</a>
                
              </p>
              <div id="method-i-version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">version</span>
  <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">version</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-write">
            
              <b>doc.write(output=$stdout, indent=-1, transtive=false, ie_hack=false, encoding=nil)
doc.write(options={:output => $stdout, :indent => -1, :transtive => false, :ie_hack => false, :encoding => nil})
</b>
            
            <a href="../../classes/REXML/Document.html#method-i-write" name="method-i-write" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Write the <a href="../XML.html">XML</a> tree out, optionally with indent. 
This writes out the entire <a href="../XML.html">XML</a> document,
including <a href="../XML.html">XML</a> declarations, doctype declarations,
and processing instructions (if any are given).</p>

<p>A controversial point is whether <a href="Document.html">Document</a>
should always write the <a href="../XML.html">XML</a> declaration (&lt;?xml
version=&#39;1.0&#39;?&gt;) whether or not one is given by the user (or
source document).  <a href="../REXML.html">REXML</a> does not write one if
one was not specified, because it adds unnecessary bandwidth to
applications such as XML-RPC.</p>

<p>Accept Nth argument style and options <a href="../Hash.html">Hash</a> style
as argument. The recommended style is options <a
href="../Hash.html">Hash</a> style for one or more arguments case.</p>

<p><em>Examples</em></p>

<pre><code>Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).write

output = &quot;&quot;
Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).write(output)

output = &quot;&quot;
Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).write(:output =&gt; output, :indent =&gt; 2)
</code></pre>

<p>See also the classes in the rexml/formatters package for the proper way to
change the default formatting of <a href="../XML.html">XML</a> output.</p>

<p><em>Examples</em></p>

<pre><code>output = &quot;&quot;
tr = Transitive.new
tr.write(Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;), output)
</code></pre>
<dl class="rdoc-list note-list"><dt>output
<dd>
<p>output an object which supports &#39;&lt;&lt; string&#39;; this is where
the document will be written.</p>
</dd><dt>indent
<dd>
<p>An integer.  If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount.  For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1</p>
</dd><dt>transitive
<dd>
<p>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <strong>value</strong> of the document – that is, it leaves the
value and number of <a href="Text.html">Text</a> nodes in the document
unchanged.</p>
</dd><dt>ie_hack
<dd>
<p>This hack inserts a space before the /&gt; on empty tags to address a
limitation of Internet Explorer.  Defaults to false</p>
</dd><dt>encoding
<dd>
<p><a href="Encoding.html">Encoding</a> name as String. Change output encoding
to specified encoding instead of encoding in <a href="../XML.html">XML</a>
declaration. Defaults to nil. It means encoding in <a
href="../XML.html">XML</a> declaration is used.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-write_source')" id="l_method-i-write_source">show</a>
                
              </p>
              <div id="method-i-write_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">write</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">arguments</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">arguments</span>[<span class="ruby-number">0</span>]

    <span class="ruby-identifier">output</span>     = <span class="ruby-identifier">options</span>[<span class="ruby-value">:output</span>]
    <span class="ruby-identifier">indent</span>     = <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent</span>]
    <span class="ruby-identifier">transitive</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:transitive</span>]
    <span class="ruby-identifier">ie_hack</span>    = <span class="ruby-identifier">options</span>[<span class="ruby-value">:ie_hack</span>]
    <span class="ruby-identifier">encoding</span>   = <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">output</span>, <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">transitive</span>, <span class="ruby-identifier">ie_hack</span>, <span class="ruby-identifier">encoding</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">output</span>   <span class="ruby-operator">||=</span> <span class="ruby-identifier">$stdout</span>
  <span class="ruby-identifier">indent</span>   <span class="ruby-operator">||=</span> <span class="ruby-number">-1</span>
  <span class="ruby-identifier">transitive</span> = <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">transitive</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">ie_hack</span>    = <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ie_hack</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">encoding</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;UTF-8&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Output</span>)
    <span class="ruby-identifier">output</span> = <span class="ruby-constant">Output</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">output</span>, <span class="ruby-identifier">encoding</span> )
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">-1</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">transitive</span>
        <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rexml/formatters/transitive&quot;</span>
        <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
      <span class="ruby-keyword">else</span>
        <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
    <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword">self</span>, <span class="ruby-identifier">output</span> )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-xml_decl">
            
              <b>xml_decl</b>()
            
            <a href="../../classes/REXML/Document.html#method-i-xml_decl" name="method-i-xml_decl" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>@return the <a href="XMLDecl.html">XMLDecl</a> of this document; if no <a
href="XMLDecl.html">XMLDecl</a> has been set, the default declaration is
returned.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-xml_decl_source')" id="l_method-i-xml_decl_source">show</a>
                
              </p>
              <div id="method-i-xml_decl_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/document.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">xml_decl</span>
  <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>[<span class="ruby-number">0</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rv</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
  <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-constant">XMLDecl</span>.<span class="ruby-identifier">default</span>)[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    