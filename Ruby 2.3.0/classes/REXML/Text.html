<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Text</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            REXML::Text 
            
                <span class="parent">&lt; 
                    
                    <a href="Child.html">REXML::Child</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/text_rb.html">lib/rexml/text.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents text nodes in an <a href="../XML.html">XML</a> document</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3C-3C">&lt;&lt;</a>,
              </li>
            
              
              <li>
                <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-check">check</a>,
              </li>
            
              
              <li>
                <a href="#method-i-clone">clone</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-doctype">doctype</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-empty-3F">empty?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-indent_text">indent_text</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-node_type">node_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-parent-3D">parent=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-value">value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-value-3D">value=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-wrap">wrap</a>,
              </li>
            
              
              <li>
                <a href="#method-i-write">write</a>,
              </li>
            
              
              <li>
                <a href="#method-i-write_with_substitution">write_with_substitution</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>X</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-xpath">xpath</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="../Comparable.html">
              Comparable
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">SPECIALS</td>
            <td>=</td>
            <td class="attr-value">[ /&amp;(?!#?[\w-]+;)/u, /&lt;/u, /&gt;/u, /&quot;/u, /&#39;/u, /\r/u ]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>The order in which the substitutions occur</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SUBSTITUTES</td>
            <td>=</td>
            <td class="attr-value">[&#39;&amp;amp;&#39;, &#39;&amp;lt;&#39;, &#39;&amp;gt;&#39;, &#39;&amp;quot;&#39;, &#39;&amp;apos;&#39;, &#39;&amp;#13;&#39;]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SLAICEPS</td>
            <td>=</td>
            <td class="attr-value">[ &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;&quot;&#39;, &quot;&#39;&quot;, &#39;&amp;&#39; ]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Characters which are substituted in written strings</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SETUTITSBUS</td>
            <td>=</td>
            <td class="attr-value">[ /&amp;lt;/u, /&amp;gt;/u, /&amp;quot;/u, /&amp;apos;/u, /&amp;amp;/u ]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NEEDS_A_SECOND_CHECK</td>
            <td>=</td>
            <td class="attr-value">/(&lt;|&amp;((#{Entity::NAME});|(#0*((?:\d+)|(?:x[a-fA-F0-9]+)));)?)/um</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NUMERICENTITY</td>
            <td>=</td>
            <td class="attr-value">/&amp;#0*((?:\d+)|(?:x[a-fA-F0-9]+));/</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VALID_CHAR</td>
            <td>=</td>
            <td class="attr-value">[
0x9, 0xA, 0xD,
(0x20..0xD7FF),
(0xE000..0xFFFD),
(0x10000..0x10FFFF)
]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VALID_XML_CHARS</td>
            <td>=</td>
            <td class="attr-value">Regexp.new(&#39;^[&#39;+
VALID_CHAR.map { |item|
case item
when Fixnum
[item].pack(&#39;U&#39;).force_encoding(&#39;utf-8&#39;)
when Range
[item.first, &#39;-&#39;.ord, item.last].pack(&#39;UUU&#39;).force_encoding(&#39;utf-8&#39;)
end
}.join +
&#39;]*$&#39;)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">REFERENCE</td>
            <td>=</td>
            <td class="attr-value">/#{Entity::REFERENCE}/</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">EREFERENCE</td>
            <td>=</td>
            <td class="attr-value">/&amp;(?!#{Entity::NAME};)/</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>raw</td>
            <td class='attr-desc'><p>If <code>raw</code> is true, then <a href="../REXML.html">REXML</a> leaves
the value alone</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-check">
            
              <b>check</b>(string, pattern, doctype)
            
            <a href="../../classes/REXML/Text.html#method-c-check" name="method-c-check" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>check for illegal characters</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-check_source')" id="l_method-c-check_source">show</a>
                
              </p>
              <div id="method-c-check_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">Text</span>.<span class="ruby-identifier">check</span> <span class="ruby-identifier">string</span>, <span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">doctype</span>

  <span class="ruby-comment"># illegal anywhere</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span> <span class="ruby-operator">!~</span> <span class="ruby-constant">VALID_XML_CHARS</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">String</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-value">:encode</span>
      <span class="ruby-identifier">string</span>.<span class="ruby-identifier">chars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">case</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">ord</span>
        <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">VALID_CHAR</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Illegal character #{c.inspect} in raw string \&quot;#{string}\&quot;&quot;</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">string</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/[\x00-\x7F]|[\x80-\xBF][\xC0-\xF0]*|[\xC0-\xF0]/n</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">case</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&#39;U&#39;</span>)
        <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">VALID_CHAR</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Illegal character #{c.inspect} in raw string \&quot;#{string}\&quot;&quot;</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># context sensitive</span>
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-node">$1</span>[<span class="ruby-number">-1</span>] <span class="ruby-operator">!=</span> <span class="ruby-value">?;</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Illegal character &#39;#{$1}&#39; in raw string \&quot;#{string}\&quot;&quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-node">$1</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?&amp;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-node">$5</span> <span class="ruby-keyword">and</span> <span class="ruby-node">$5</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?#</span>
        <span class="ruby-keyword">case</span> (<span class="ruby-node">$5</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?x</span> <span class="ruby-operator">?</span> <span class="ruby-node">$5</span>[<span class="ruby-number">2</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>].<span class="ruby-identifier">to_i</span>(<span class="ruby-number">16</span>) <span class="ruby-operator">:</span> <span class="ruby-node">$5</span>[<span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>].<span class="ruby-identifier">to_i</span>)
        <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">VALID_CHAR</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Illegal character &#39;#{$1}&#39; in raw string \&quot;#{string}\&quot;&quot;</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-comment"># FIXME: below can&#39;t work but this needs API change.</span>
      <span class="ruby-comment"># elsif @parent and $3 and !SUBSTITUTES.include?($1)</span>
      <span class="ruby-comment">#   if !doctype or !doctype.entities.has_key?($3)</span>
      <span class="ruby-comment">#     raise &quot;Undeclared entity &#39;#{$1}&#39; in raw string \&quot;#{string}\&quot;&quot;</span>
      <span class="ruby-comment">#   end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(arg, respect_whitespace=false, parent=nil, raw=nil, entity_filter=nil, illegal=NEEDS_A_SECOND_CHECK )
            
            <a href="../../classes/REXML/Text.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Constructor <code>arg</code> if a String, the content is set to the String.
If a <a href="Text.html">Text</a>, the object is shallowly cloned.</p>

<p><code>respect_whitespace</code> (boolean, false) if true, whitespace is
respected</p>

<p><code>parent</code> (nil) if this is a <a href="Parent.html">Parent</a>
object, the parent will be set to this.</p>

<p><code>raw</code> (nil) This argument can be given three values. If true,
then the value of used to construct this object is expected to contain no
unescaped <a href="../XML.html">XML</a> markup, and <a
href="../REXML.html">REXML</a> will not change the text. If this value is
false, the string may contain any characters, and <a
href="../REXML.html">REXML</a> will escape any and all defined entities
whose values are contained in the text.  If this value is nil (the
default), then the raw value of the parent will be used as the raw value
for this node.  If there is no raw value for the parent, and no value is
supplied, the default is false. Use this field if you have entities defined
for some text, and you don&#39;t want <a href="../REXML.html">REXML</a> to
escape that text in output.</p>

<pre><code>Text.new( &quot;&lt;&amp;&quot;, false, nil, false ) #-&gt; &quot;&amp;lt;&amp;amp;&quot;
Text.new( &quot;&amp;lt;&amp;amp;&quot;, false, nil, false ) #-&gt; &quot;&amp;amp;lt;&amp;amp;amp;&quot;
Text.new( &quot;&lt;&amp;&quot;, false, nil, true )  #-&gt; Parse exception
Text.new( &quot;&amp;lt;&amp;amp;&quot;, false, nil, true )  #-&gt; &quot;&amp;lt;&amp;amp;&quot;
# Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;
# and that the entity    &quot;r&quot; is defined to be &quot;russell&quot;
Text.new( &quot;sean russell&quot; )          #-&gt; &quot;&amp;s; &amp;r;&quot;
Text.new( &quot;sean russell&quot;, false, nil, true ) #-&gt; &quot;sean russell&quot;
</code></pre>

<p><code>entity_filter</code> (nil) This can be an array of entities to match
in the supplied text.  This argument is only useful if <code>raw</code> is
set to false.</p>

<pre><code>Text.new( &quot;sean russell&quot;, false, nil, false, [&quot;s&quot;] ) #-&gt; &quot;&amp;s; russell&quot;
Text.new( &quot;sean russell&quot;, false, nil, true, [&quot;s&quot;] ) #-&gt; &quot;sean russell&quot;
</code></pre>

<p>In the last example, the <code>entity_filter</code> argument is ignored.</p>

<p><code>illegal</code> INTERNAL USE ONLY</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">respect_whitespace</span>=<span class="ruby-keyword">false</span>, <span class="ruby-identifier">parent</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">raw</span>=<span class="ruby-keyword">nil</span>,
  <span class="ruby-identifier">entity_filter</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">illegal</span>=<span class="ruby-constant">NEEDS_A_SECOND_CHECK</span> )

  <span class="ruby-ivar">@raw</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@parent</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">parent</span>
    <span class="ruby-keyword">super</span>( <span class="ruby-identifier">parent</span> )
    <span class="ruby-ivar">@raw</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">raw</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@raw</span> = <span class="ruby-identifier">raw</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">raw</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@entity_filter</span> = <span class="ruby-identifier">entity_filter</span>
  <span class="ruby-identifier">clear_cache</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
    <span class="ruby-ivar">@string</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-ivar">@string</span>.<span class="ruby-identifier">squeeze!</span>(<span class="ruby-string">&quot; \n\t&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">respect_whitespace</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span>
    <span class="ruby-ivar">@string</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-ivar">@raw</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">raw</span>
  <span class="ruby-keyword">elsif</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Illegal argument of type #{arg.type} for Text constructor (#{arg})&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@string</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-regexp">/\r\n?/</span>, <span class="ruby-string">&quot;\n&quot;</span> )

  <span class="ruby-constant">Text</span>.<span class="ruby-identifier">check</span>(<span class="ruby-ivar">@string</span>, <span class="ruby-identifier">illegal</span>, <span class="ruby-identifier">doctype</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@raw</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3C-3C">
            
              <b>&lt;&lt;</b>( to_append )
            
            <a href="../../classes/REXML/Text.html#method-i-3C-3C" name="method-i-3C-3C" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Appends text to this text node.  The text is appended in the
<code>raw</code> mode of this text node.</p>

<p><code>returns</code> the text itself to enable method chain like &#39;text
&lt;&lt; “XXX” &lt;&lt; “YYY”&#39;.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3C-3C_source')" id="l_method-i-3C-3C_source">show</a>
                
              </p>
              <div id="method-i-3C-3C_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>( <span class="ruby-keyword ruby-title">to_append</span> )
  <span class="ruby-ivar">@string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">to_append</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp">/\r\n?/</span>, <span class="ruby-string">&quot;\n&quot;</span> )
  <span class="ruby-identifier">clear_cache</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-3C-3D-3E">
            
              <b>&lt;=&gt;</b>( other )
            
            <a href="../../classes/REXML/Text.html#method-i-3C-3D-3E" name="method-i-3C-3D-3E" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><code>other</code> a String or a <a href="Text.html">Text</a>
<code>returns</code> the result of (to_s &lt;=&gt; arg.to_s)</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3C-3D-3E_source')" id="l_method-i-3C-3D-3E_source">show</a>
                
              </p>
              <div id="method-i-3C-3D-3E_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 202</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span>( <span class="ruby-keyword ruby-title">other</span> )
  <span class="ruby-identifier">to_s</span>() <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clone">
            
              <b>clone</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-clone" name="method-i-clone" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-clone_source')" id="l_method-i-clone_source">show</a>
                
              </p>
              <div id="method-i-clone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clone</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-doctype">
            
              <b>doctype</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-doctype" name="method-i-doctype" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-doctype_source')" id="l_method-i-doctype_source">show</a>
                
              </p>
              <div id="method-i-doctype_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">doctype</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parent</span>
    <span class="ruby-identifier">doc</span> = <span class="ruby-ivar">@parent</span>.<span class="ruby-identifier">document</span>
    <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">doctype</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">doc</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-empty-3F">
            
              <b>empty?</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-empty-3F" name="method-i-empty-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-empty-3F_source')" id="l_method-i-empty-3F_source">show</a>
                
              </p>
              <div id="method-i-empty-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">empty?</span>
  <span class="ruby-ivar">@string</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">==</span><span class="ruby-number">0</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-indent_text">
            
              <b>indent_text</b>(string, level=1, style=&quot;\t&quot;, indentfirstline=true)
            
            <a href="../../classes/REXML/Text.html#method-i-indent_text" name="method-i-indent_text" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-indent_text_source')" id="l_method-i-indent_text_source">show</a>
                
              </p>
              <div id="method-i-indent_text_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">indent_text</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">level</span>=<span class="ruby-number">1</span>, <span class="ruby-identifier">style</span>=<span class="ruby-string">&quot;\t&quot;</span>, <span class="ruby-identifier">indentfirstline</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">level</span> <span class="ruby-operator">&lt;</span> <span class="ruby-number">0</span>
  <span class="ruby-identifier">new_string</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">each_line</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">indent_string</span> = <span class="ruby-identifier">style</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">level</span>
    <span class="ruby-identifier">new_line</span> = (<span class="ruby-identifier">indent_string</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">line</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/[\s]+$/</span>,<span class="ruby-string">&#39;&#39;</span>)
    <span class="ruby-identifier">new_string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_line</span>
  }
  <span class="ruby-identifier">new_string</span>.<span class="ruby-identifier">strip!</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">indentfirstline</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new_string</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-ivar">@string</span>.<span class="ruby-identifier">inspect</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-node_type">
            
              <b>node_type</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-node_type" name="method-i-node_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-node_type_source')" id="l_method-i-node_type_source">show</a>
                
              </p>
              <div id="method-i-node_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">node_type</span>
  <span class="ruby-value">:text</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parent-3D">
            
              <b>parent=</b>(parent)
            
            <a href="../../classes/REXML/Text.html#method-i-parent-3D" name="method-i-parent-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-parent-3D_source')" id="l_method-i-parent-3D_source">show</a>
                
              </p>
              <div id="method-i-parent-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">parent=</span> <span class="ruby-identifier">parent</span>
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">parent</span>)
  <span class="ruby-constant">Text</span>.<span class="ruby-identifier">check</span>(<span class="ruby-ivar">@string</span>, <span class="ruby-constant">NEEDS_A_SECOND_CHECK</span>, <span class="ruby-identifier">doctype</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@raw</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@parent</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the string value of this text node.  This string is always escaped,
meaning that it is a valid <a href="../XML.html">XML</a> text node string,
and all entities that can be escaped, have been inserted.  This method
respects the entity filter set in the constructor.</p>

<pre><code># Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;, and that the
# entity &quot;r&quot; is defined to be &quot;russell&quot;
t = Text.new( &quot;&lt; &amp; sean russell&quot;, false, nil, false, [&#39;s&#39;] )
t.to_s   #-&gt; &quot;&amp;lt; &amp;amp; &amp;s; russell&quot;
t = Text.new( &quot;&lt; &amp; &amp;s; russell&quot;, false, nil, false )
t.to_s   #-&gt; &quot;&amp;lt; &amp;amp; &amp;s; russell&quot;
u = Text.new( &quot;sean russell&quot;, false, nil, true )
u.to_s   #-&gt; &quot;sean russell&quot;
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_s</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@string</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@raw</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@normalized</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@normalized</span>

  <span class="ruby-ivar">@normalized</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-identifier">normalize</span>( <span class="ruby-ivar">@string</span>, <span class="ruby-identifier">doctype</span>, <span class="ruby-ivar">@entity_filter</span> )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-value">
            
              <b>value</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-value" name="method-i-value" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the string value of this text.  This is the text without entities,
as it might be used programmatically, or printed to the console.  This
ignores the &#39;raw&#39; attribute setting, and any entity_filter.</p>

<pre><code># Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;, and that the
# entity &quot;r&quot; is defined to be &quot;russell&quot;
t = Text.new( &quot;&lt; &amp; sean russell&quot;, false, nil, false, [&#39;s&#39;] )
t.value   #-&gt; &quot;&lt; &amp; sean russell&quot;
t = Text.new( &quot;&lt; &amp; &amp;s; russell&quot;, false, nil, false )
t.value   #-&gt; &quot;&lt; &amp; sean russell&quot;
u = Text.new( &quot;sean russell&quot;, false, nil, true )
u.value   #-&gt; &quot;sean russell&quot;
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-value_source')" id="l_method-i-value_source">show</a>
                
              </p>
              <div id="method-i-value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">value</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@unnormalized</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@unnormalized</span>
  <span class="ruby-ivar">@unnormalized</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-identifier">unnormalize</span>( <span class="ruby-ivar">@string</span>, <span class="ruby-identifier">doctype</span> )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-value-3D">
            
              <b>value=</b>( val )
            
            <a href="../../classes/REXML/Text.html#method-i-value-3D" name="method-i-value-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the contents of this text node.  This expects the text to be
unnormalized.  It returns self.</p>

<pre><code>e = Element.new( &quot;a&quot; )
e.add_text( &quot;foo&quot; )   # &lt;a&gt;foo&lt;/a&gt;
e[0].value = &quot;bar&quot;    # &lt;a&gt;bar&lt;/a&gt;
e[0].value = &quot;&lt;a&gt;&quot;    # &lt;a&gt;&amp;lt;a&amp;gt;&lt;/a&gt;
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-value-3D_source')" id="l_method-i-value-3D_source">show</a>
                
              </p>
              <div id="method-i-value-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">value=</span>( <span class="ruby-identifier">val</span> )
  <span class="ruby-ivar">@string</span> = <span class="ruby-identifier">val</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp">/\r\n?/</span>, <span class="ruby-string">&quot;\n&quot;</span> )
  <span class="ruby-identifier">clear_cache</span>
  <span class="ruby-ivar">@raw</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-wrap">
            
              <b>wrap</b>(string, width, addnewline=false)
            
            <a href="../../classes/REXML/Text.html#method-i-wrap" name="method-i-wrap" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-wrap_source')" id="l_method-i-wrap_source">show</a>
                
              </p>
              <div id="method-i-wrap_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">wrap</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">addnewline</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-comment"># Recursively wrap string at width.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">width</span>
  <span class="ruby-identifier">place</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-string">&#39; &#39;</span>, <span class="ruby-identifier">width</span>) <span class="ruby-comment"># Position in string with last &#39; &#39; before cutoff</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">addnewline</span> <span class="ruby-keyword">then</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">string</span>[<span class="ruby-number">0</span>,<span class="ruby-identifier">place</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">string</span>[<span class="ruby-identifier">place</span><span class="ruby-operator">+</span><span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>], <span class="ruby-identifier">width</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">string</span>[<span class="ruby-number">0</span>,<span class="ruby-identifier">place</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">string</span>[<span class="ruby-identifier">place</span><span class="ruby-operator">+</span><span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>], <span class="ruby-identifier">width</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-write">
            
              <b>write</b>( writer, indent=-1, transitive=false, ie_hack=false )
            
            <a href="../../classes/REXML/Text.html#method-i-write" name="method-i-write" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <h2 id="method-i-write-label-DEPRECATED">DEPRECATED</h2>

<p>See <a href="Formatters.html">REXML::Formatters</a></p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-write_source')" id="l_method-i-write_source">show</a>
                
              </p>
              <div id="method-i-write_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">write</span>( <span class="ruby-identifier">writer</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-number">-1</span>, <span class="ruby-identifier">transitive</span>=<span class="ruby-keyword">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword">false</span> )
  <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;#{self.class.name}.write is deprecated.  See REXML::Formatters&quot;</span>)
  <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">-1</span>
      <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span> )
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword">self</span>, <span class="ruby-identifier">writer</span> )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-write_with_substitution">
            
              <b>write_with_substitution</b>(out, input)
            
            <a href="../../classes/REXML/Text.html#method-i-write_with_substitution" name="method-i-write_with_substitution" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Writes out text, substituting special characters beforehand.
<code>out</code> A String, <a href="../IO.html">IO</a>, or any other object
supporting &lt;&lt;( String ) <code>input</code> the text to substitute and
the write out</p>

<pre><code>z=utf8.unpack(&quot;U*&quot;)
ascOut=&quot;&quot;
z.each{|r|
  if r &lt;  0x100
    ascOut.concat(r.chr)
  else
    ascOut.concat(sprintf(&quot;&amp;#x%x;&quot;, r))
  end
}
puts ascOut
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-write_with_substitution_source')" id="l_method-i-write_with_substitution_source">show</a>
                
              </p>
              <div id="method-i-write_with_substitution_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">write_with_substitution</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">input</span>
  <span class="ruby-identifier">copy</span> = <span class="ruby-identifier">input</span>.<span class="ruby-identifier">clone</span>
  <span class="ruby-comment"># Doing it like this rather than in a loop improves the speed</span>
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">0</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">0</span>] )
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">1</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">1</span>] )
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">2</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">2</span>] )
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">3</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">3</span>] )
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">4</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">4</span>] )
  <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-constant">SPECIALS</span>[<span class="ruby-number">5</span>], <span class="ruby-constant">SUBSTITUTES</span>[<span class="ruby-number">5</span>] )
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">copy</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-xpath">
            
              <b>xpath</b>()
            
            <a href="../../classes/REXML/Text.html#method-i-xpath" name="method-i-xpath" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>FIXME This probably won&#39;t work properly</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-xpath_source')" id="l_method-i-xpath_source">show</a>
                
              </p>
              <div id="method-i-xpath_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rexml/text.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">xpath</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-ivar">@parent</span>.<span class="ruby-identifier">xpath</span>
  <span class="ruby-identifier">path</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;/text()&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    