<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>OptParse</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            OptParse 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/optparse_rb.html">lib/optparse.rb</a></li>
            
            <li><a href="../files/lib/optparse/ac_rb.html">lib/optparse/ac.rb</a></li>
            
            <li><a href="../files/lib/optparse/date_rb.html">lib/optparse/date.rb</a></li>
            
            <li><a href="../files/lib/optparse/time_rb.html">lib/optparse/time.rb</a></li>
            
            <li><a href="../files/lib/rdoc/options_rb.html">lib/rdoc/options.rb</a></li>
            
            <li><a href="../files/lib/rdoc/ri/driver_rb.html">lib/rdoc/ri/driver.rb</a></li>
            
            <li><a href="../files/lib/rubygems/commands/cert_command_rb.html">lib/rubygems/commands/cert_command.rb</a></li>
            
            <li><a href="../files/lib/rubygems/commands/install_command_rb.html">lib/rubygems/commands/install_command.rb</a></li>
            
            <li><a href="../files/lib/rubygems/commands/server_command_rb.html">lib/rubygems/commands/server_command.rb</a></li>
            
            <li><a href="../files/lib/rubygems/commands/uninstall_command_rb.html">lib/rubygems/commands/uninstall_command.rb</a></li>
            
            <li><a href="../files/lib/rubygems/install_update_options_rb.html">lib/rubygems/install_update_options.rb</a></li>
            
            <li><a href="../files/lib/rubygems/local_remote_options_rb.html">lib/rubygems/local_remote_options.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="class-OptParse-label-OptionParser"><a href="OptionParser.html">OptionParser</a></h2>

<h3 id="class-OptParse-label-Introduction">Introduction</h3>

<p><a href="OptionParser.html">OptionParser</a> is a class for command-line
option analysis.  It is much more advanced, yet also easier to use, than <a
href="GetoptLong.html">GetoptLong</a>, and is a more Ruby-oriented
solution.</p>

<h3 id="class-OptParse-label-Features">Features</h3>
<ol><li>
<p>The argument specification and the code to handle it are written in the
same place.</p>
</li><li>
<p>It can output an option summary; you don&#39;t need to maintain this string
separately.</p>
</li><li>
<p>Optional and mandatory arguments are specified very gracefully.</p>
</li><li>
<p>Arguments can be automatically converted to a specified class.</p>
</li><li>
<p>Arguments can be restricted to a certain set.</p>
</li></ol>

<p>All of these features are demonstrated in the examples below.  See <a
href="OptionParser.html#method-i-make_switch">make_switch</a> for full
documentation.</p>

<h3 id="class-OptParse-label-Minimal+example">Minimal example</h3>

<pre><code>require &#39;optparse&#39;

options = {}
OptionParser.new do |opts|
  opts.banner = &quot;Usage: example.rb [options]&quot;

  opts.on(&quot;-v&quot;, &quot;--[no-]verbose&quot;, &quot;Run verbosely&quot;) do |v|
    options[:verbose] = v
  end
end.parse!

p options
p ARGV
</code></pre>

<h3 id="class-OptParse-label-Generating+Help">Generating Help</h3>

<p><a href="OptionParser.html">OptionParser</a> can be used to automatically
generate help for the commands you write:</p>

<pre><code>require &#39;optparse&#39;

Options = Struct.new(:name)

class Parser
  def self.parse(options)
    args = Options.new(&quot;world&quot;)

    opt_parser = OptionParser.new do |opts|
      opts.banner = &quot;Usage: example.rb [options]&quot;

      opts.on(&quot;-nNAME&quot;, &quot;--name=NAME&quot;, &quot;Name to say hello to&quot;) do |n|
        args.name = n
      end

      opts.on(&quot;-h&quot;, &quot;--help&quot;, &quot;Prints this help&quot;) do
        puts opts
        exit
      end
    end

    opt_parser.parse!(options)
    return args
  end
end
options = Parser.parse %w[--help]

#=&gt;
   # Usage: example.rb [options]
   #     -n, --name=NAME                  Name to say hello to
   #     -h, --help                       Prints this help
</code></pre>

<h3 id="class-OptParse-label-Required+Arguments">Required Arguments</h3>

<p>For options that require an argument, option specification strings may
include an option name in all caps. If an option is used without the
required argument, an exception will be raised.</p>

<pre><code>require &#39;optparse&#39;

options = {}
OptionParser.new do |parser|
  parser.on(&quot;-r&quot;, &quot;--require LIBRARY&quot;,
            &quot;Require the LIBRARY before executing your script&quot;) do |lib|
    puts &quot;You required #{lib}!&quot;
  end
end.parse!
</code></pre>

<p>Used:</p>

<pre><code>bash-3.2$ ruby optparse-test.rb -r
optparse-test.rb:9:in `&lt;main&gt;&#39;: missing argument: -r (OptionParser::MissingArgument)
bash-3.2$ ruby optparse-test.rb -r my-library
You required my-library!</code></pre>

<h3 id="class-OptParse-label-Type+Coercion">Type Coercion</h3>

<p><a href="OptionParser.html">OptionParser</a> supports the ability to coerce
command line arguments into objects for us.</p>

<p><a href="OptionParser.html">OptionParser</a> comes with a few ready-to-use
kinds of  type coercion. They are:</p>
<ul><li>
<p><a href="Date.html">Date</a>  – Anything accepted by
<code>Date.parse</code></p>
</li><li>
<p><a href="DateTime.html">DateTime</a> – Anything accepted by
<code>DateTime.parse</code></p>
</li><li>
<p><a href="Time.html">Time</a> – Anything accepted by
<code>Time.httpdate</code> or <code>Time.parse</code></p>
</li><li>
<p><a href="URI.html">URI</a>  – Anything accepted by <code>URI.parse</code></p>
</li><li>
<p><a href="Shellwords.html">Shellwords</a> – Anything accepted by
<code>Shellwords.shellwords</code></p>
</li><li>
<p>String – Any non-empty string</p>
</li><li>
<p><a href="Integer.html">Integer</a> – Any integer. Will convert octal. (e.g.
124, -3, 040)</p>
</li><li>
<p><a href="Float.html">Float</a> – Any float. (e.g. 10, 3.14, -100E+13)</p>
</li><li>
<p><a href="Numeric.html">Numeric</a> – Any integer, float, or rational (1,
3.4, 1/3)</p>
</li><li>
<p><a href="OptionParser.html#DecimalInteger">DecimalInteger</a> – Like
<code>Integer</code>, but no octal format.</p>
</li><li>
<p><a href="OptionParser.html#OctalInteger">OctalInteger</a> – Like
<code>Integer</code>, but no decimal format.</p>
</li><li>
<p><a href="OptionParser.html#DecimalNumeric">DecimalNumeric</a> – Decimal
integer or float.</p>
</li><li>
<p><a href="TrueClass.html">TrueClass</a> –  Accepts &#39;+, yes, true, -, no,
false&#39; and defaults as <code>true</code></p>
</li><li>
<p><a href="FalseClass.html">FalseClass</a> – Same as <code>TrueClass</code>,
but defaults to <code>false</code></p>
</li><li>
<p>Array – Strings separated by &#39;,&#39; (e.g. 1,2,3)</p>
</li><li>
<p><a href="Regexp.html">Regexp</a> – Regular expressions. Also includes
options.</p>
</li></ul>

<p>We can also add our own coercions, which we will cover soon.</p>

<h4 id="class-OptParse-label-Using+Built-in+Conversions">Using Built-in Conversions</h4>

<p>As an example, the built-in <code>Time</code> conversion is used. The other
built-in conversions behave in the same way. <a
href="OptionParser.html">OptionParser</a> will attempt to parse the
argument as a <code>Time</code>. If it succeeds, that time will be passed
to the handler block. Otherwise, an exception will be raised.</p>

<pre><code>require &#39;optparse&#39;
require &#39;optparse/time&#39;
OptionParser.new do |parser|
  parser.on(&quot;-t&quot;, &quot;--time [TIME]&quot;, Time, &quot;Begin execution at given time&quot;) do |time|
    p time
  end
end.parse!
</code></pre>

<p>Used:</p>

<pre><code>bash-3.2$ ruby optparse-test.rb  -t nonsense
... invalid argument: -t nonsense (OptionParser::InvalidArgument)
from ... time.rb:5:in `block in &lt;top (required)&gt;&#39;
from optparse-test.rb:31:in `&lt;main&gt;&#39;
bash-3.2$ ruby optparse-test.rb  -t 10-11-12
2010-11-12 00:00:00 -0500
bash-3.2$ ruby optparse-test.rb  -t 9:30
2014-08-13 09:30:00 -0400</code></pre>

<h4 id="class-OptParse-label-Creating+Custom+Conversions">Creating Custom Conversions</h4>

<p>The <code>accept</code> method on <a
href="OptionParser.html">OptionParser</a> may be used to create converters.
It specifies which conversion block to call whenever a class is specified.
The example below uses it to fetch a <code>User</code> object before the
<code>on</code> handler receives it.</p>

<pre><code>require &#39;optparse&#39;

User = Struct.new(:id, :name)

def find_user id
  not_found = -&gt;{ raise &quot;No User Found for id #{id}&quot; }
  [ User.new(1, &quot;Sam&quot;),
    User.new(2, &quot;Gandalf&quot;) ].find(not_found) do |u|
    u.id == id
  end
end

op = OptionParser.new
op.accept(User) do |user_id|
  find_user user_id.to_i
end

op.on(&quot;--user ID&quot;, User) do |user|
  puts user
end

op.parse!
</code></pre>

<p>output:</p>

<pre><code>bash-3.2$ ruby optparse-test.rb --user 1
#&lt;struct User id=1, name=&quot;Sam&quot;&gt;
bash-3.2$ ruby optparse-test.rb --user 2
#&lt;struct User id=2, name=&quot;Gandalf&quot;&gt;
bash-3.2$ ruby optparse-test.rb --user 3
optparse-test.rb:15:in `block in find_user&#39;: No User Found for id 3 (RuntimeError)</code></pre>

<h3 id="class-OptParse-label-Complete+example">Complete example</h3>

<p>The following example is a complete Ruby program.  You can run it and see
the effect of specifying various options.  This is probably the best way to
learn the features of <code>optparse</code>.</p>

<pre><code>require &#39;optparse&#39;
require &#39;optparse/time&#39;
require &#39;ostruct&#39;
require &#39;pp&#39;

class OptparseExample
  Version = &#39;1.0.0&#39;

  CODES = %w[iso-2022-jp shift_jis euc-jp utf8 binary]
  CODE_ALIASES = { &quot;jis&quot; =&gt; &quot;iso-2022-jp&quot;, &quot;sjis&quot; =&gt; &quot;shift_jis&quot; }

  class ScriptOptions
    attr_accessor :library, :inplace, :encoding, :transfer_type,
                  :verbose
    def initialize
      self.library = []
      self.inplace = false
      self.encoding = &quot;utf8&quot;
      self.transfer_type = :auto
      self.verbose = false
    end
  end

  #
  # Return a structure describing the options.
  #
  def self.parse(args)
    # The options specified on the command line will be collected in
    # *options*.

    @options = ScriptOptions.new
    option_parser.parse!(args)
    @options
  end

  attr_reader :parser, :options

  def option_parser
    @parser ||= OptionParser.new do |parser|
      parser.banner = &quot;Usage: example.rb [options]&quot;
      parser.separator &quot;&quot;
      parser.separator &quot;Specific options:&quot;

      # add additional options
      perform_inplace_option
      delay_execution_option
      execute_at_time_option
      specify_record_separator_option
      list_example_option
      specify_encoding_option
      optional_option_argument_with_keyword_completion_option
      boolean_verbose_option

      parser.separator &quot;&quot;
      parser.separator &quot;Common options:&quot;
      # No argument, shows at tail.  This will print an options summary.
      # Try it and see!
      parser.on_tail(&quot;-h&quot;, &quot;--help&quot;, &quot;Show this message&quot;) do
        puts parser
        exit
      end
      # Another typical switch to print the version.
      parser.on_tail(&quot;--version&quot;, &quot;Show version&quot;) do
        puts Version
        exit
      end
    end
  end

  def perform_inplace_option
    # Specifies an optional option argument
    parser.on(&quot;-i&quot;, &quot;--inplace [EXTENSION]&quot;,
            &quot;Edit ARGV files in place&quot;,
            &quot;  (make backup if EXTENSION supplied)&quot;) do |ext|
      options.inplace = true
      options.extension = ext || &#39;&#39;
      options.extension.sub!(/\A\.?(?=.)/, &quot;.&quot;)  # Ensure extension begins with dot.
    end
  end

  def delay_execution_option
    # Cast &#39;delay&#39; argument to a Float.
    parser.on(&quot;--delay N&quot;, Float, &quot;Delay N seconds before executing&quot;) do |n|
      options.delay = n
    end
  end

  def execute_at_time_option
    # Cast &#39;time&#39; argument to a Time object.
    parser.on(&quot;-t&quot;, &quot;--time [TIME]&quot;, Time, &quot;Begin execution at given time&quot;) do |time|
      options.time = time
    end
  end

  def specify_record_separator_option
    # Cast to octal integer.
    parser.on(&quot;-F&quot;, &quot;--irs [OCTAL]&quot;, OptionParser::OctalInteger,
            &quot;Specify record separator (default \\0)&quot;) do |rs|
      options.record_separator = rs
    end
  end

  def list_example_option
    # List of arguments.
    parser.on(&quot;--list x,y,z&quot;, Array, &quot;Example &#39;list&#39; of arguments&quot;) do |list|
      options.list = list
    end
  end

  def specify_encoding_option
    # Keyword completion.  We are specifying a specific set of arguments (CODES
    # and CODE_ALIASES - notice the latter is a Hash), and the user may provide
    # the shortest unambiguous text.
    code_list = (CODE_ALIASES.keys + CODES).join(&#39;,&#39;)
    parser.on(&quot;--code CODE&quot;, CODES, CODE_ALIASES, &quot;Select encoding&quot;,
            &quot;  (#{code_list})&quot;) do |encoding|
      options.encoding = encoding
    end
  end

  def optional_option_argument_with_keyword_completion_option
    # Optional &#39;--type&#39; option argument with keyword completion.
    parser.on(&quot;--type [TYPE]&quot;, [:text, :binary, :auto],
                  &quot;Select transfer type (text, binary, auto)&quot;) do |t|
      options.transfer_type = t
    end
  end

  def boolean_verbose_option
    # Boolean switch.
    parser.on(&quot;-v&quot;, &quot;--[no-]verbose&quot;, &quot;Run verbosely&quot;) do |v|
      options.verbose = v
    end
  end

end  # class OptparseExample
options = OptparseExample.parse(ARGV)
pp options
pp ARGV
</code></pre>

<h3 id="class-OptParse-label-Shell+Completion"><a href="Shell.html">Shell</a> Completion</h3>

<p>For modern shells (e.g. bash, zsh, etc.), you can use shell completion for
command line options.</p>

<h3 id="class-OptParse-label-Further+documentation">Further documentation</h3>

<p>The above examples should be enough to learn how to use this class.  If you
have any questions, file a ticket at <a
href="http://bugs.ruby-lang.org">bugs.ruby-lang.org</a>.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-abort">abort</a>,
              </li>
            
              
              <li>
                <a href="#method-i-accept">accept</a>,
              </li>
            
              
              <li>
                <a href="#method-c-accept">accept</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-banner">banner</a>,
              </li>
            
              
              <li>
                <a href="#method-i-base">base</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-candidate">candidate</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-def_head_option">def_head_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-def_option">def_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-def_tail_option">def_tail_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define">define</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define_head">define_head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define_tail">define_tail</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-each_const">each_const</a>,
              </li>
            
              
              <li>
                <a href="#method-i-environment">environment</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-getopts">getopts</a>,
              </li>
            
              
              <li>
                <a href="#method-c-getopts">getopts</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-help">help</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inc">inc</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inc">inc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-load">load</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-make_switch">make_switch</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-on">on</a>,
              </li>
            
              
              <li>
                <a href="#method-i-on_head">on_head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-on_tail">on_tail</a>,
              </li>
            
              
              <li>
                <a href="#method-i-order">order</a>,
              </li>
            
              
              <li>
                <a href="#method-i-order-21">order!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-parse">parse</a>,
              </li>
            
              
              <li>
                <a href="#method-i-parse-21">parse!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-permute">permute</a>,
              </li>
            
              
              <li>
                <a href="#method-i-permute-21">permute!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-program_name">program_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-release">release</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove">remove</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-search_const">search_const</a>,
              </li>
            
              
              <li>
                <a href="#method-i-separator">separator</a>,
              </li>
            
              
              <li>
                <a href="#method-c-show_version">show_version</a>,
              </li>
            
              
              <li>
                <a href="#method-i-summarize">summarize</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-terminate">terminate</a>,
              </li>
            
              
              <li>
                <a href="#method-c-terminate">terminate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-c-top">top</a>,
              </li>
            
              
              <li>
                <a href="#method-i-top">top</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-ver">ver</a>,
              </li>
            
              
              <li>
                <a href="#method-i-version">version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-warn">warn</a>,
              </li>
            
              
              <li>
                <a href="#method-c-with">with</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">SPLAT_PROC</td>
            <td>=</td>
            <td class="attr-value">proc {|*a| a.length &lt;= 1 ? a.first : a}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DecimalInteger</td>
            <td>=</td>
            <td class="attr-value">/\A[-+]?#{decimal}\z/io</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Decimal integer format, to be converted to <a
href="Integer.html">Integer</a>.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">OctalInteger</td>
            <td>=</td>
            <td class="attr-value">/\A[-+]?(?:[0-7]+(?:_[0-7]+)*|0(?:#{binary}|#{hex}))\z/io</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Ruby/C like octal/hexadecimal/binary integer format, to be converted to <a
href="Integer.html">Integer</a>.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DecimalNumeric</td>
            <td>=</td>
            <td class="attr-value">floatpat     # decimal integer is allowed as float also.</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>Decimal integer/float number format, to be converted to <a
href="Integer.html">Integer</a> for integer format, <a
href="Float.html">Float</a> for float format.</p></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>banner</td>
            <td class='attr-desc'><p>Heading banner preceding summary.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>default_argv</td>
            <td class='attr-desc'><p>Strings to be parsed in default.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>program_name</td>
            <td class='attr-desc'><p>Program name to be emitted in error message and default banner, defaults to
$0.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>release</td>
            <td class='attr-desc'><p>Release code</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>set_banner</td>
            <td class='attr-desc'><p>Heading banner preceding summary.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>set_program_name</td>
            <td class='attr-desc'><p>Program name to be emitted in error message and default banner, defaults to
$0.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>set_summary_indent</td>
            <td class='attr-desc'><p>Indentation for summary. Must be String (or have + String method).</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>set_summary_width</td>
            <td class='attr-desc'><p>Width for option list portion of summary. Must be <a
href="Numeric.html">Numeric</a>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>summary_indent</td>
            <td class='attr-desc'><p>Indentation for summary. Must be String (or have + String method).</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>summary_width</td>
            <td class='attr-desc'><p>Width for option list portion of summary. Must be <a
href="Numeric.html">Numeric</a>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>version</td>
            <td class='attr-desc'><p>Version</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-accept">
            
              <b>accept</b>(*args, &amp;blk)
            
            <a href="../classes/OptParse.html#method-c-accept" name="method-c-accept" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-accept">accept</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-accept_source')" id="l_method-c-accept_source">show</a>
                
              </p>
              <div id="method-c-accept_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1098</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-each_const">
            
              <b>each_const</b>(path, base = ::Object)
            
            <a href="../classes/OptParse.html#method-c-each_const" name="method-c-each_const" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-each_const_source')" id="l_method-c-each_const_source">show</a>
                
              </p>
              <div id="method-c-each_const_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse/version.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">each_const</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">base</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Object</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/::|\//</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">base</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-identifier">path</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">klass</span>
    <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/#{name}/i</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">c</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-getopts">
            
              <b>getopts</b>(*args)
            
            <a href="../classes/OptParse.html#method-c-getopts" name="method-c-getopts" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-getopts">getopts</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-getopts_source')" id="l_method-c-getopts_source">show</a>
                
              </p>
              <div id="method-c-getopts_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1684</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">getopts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">getopts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inc">
            
              <b>inc</b>(arg, default = nil)
            
            <a href="../classes/OptParse.html#method-c-inc" name="method-c-inc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an incremented value of <code>default</code> according to
<code>arg</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-inc_source')" id="l_method-c-inc_source">show</a>
                
              </p>
              <div id="method-c-inc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1034</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">inc</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">arg</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">nonzero?</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">default</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(banner = nil, width = 32, indent = &#39; &#39; * 4)
            
            <a href="../classes/OptParse.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Initializes the instance and yields itself if called with a block.</p>
<dl class="rdoc-list note-list"><dt>banner
<dd>
<p>Banner message.</p>
</dd><dt>width
<dd>
<p>Summary width.</p>
</dd><dt><code>indent</code>
<dd>
<p>Summary indent.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1053</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">banner</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">width</span> = <span class="ruby-number">32</span>, <span class="ruby-identifier">indent</span> = <span class="ruby-string">&#39; &#39;</span> <span class="ruby-operator">*</span> <span class="ruby-number">4</span>)
  <span class="ruby-ivar">@stack</span> = [<span class="ruby-constant">DefaultList</span>, <span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>]
  <span class="ruby-ivar">@program_name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@banner</span> = <span class="ruby-identifier">banner</span>
  <span class="ruby-ivar">@summary_width</span> = <span class="ruby-identifier">width</span>
  <span class="ruby-ivar">@summary_indent</span> = <span class="ruby-identifier">indent</span>
  <span class="ruby-ivar">@default_argv</span> = <span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">add_officious</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-reject">
            
              <b>reject</b>(*args, &amp;blk)
            
            <a href="../classes/OptParse.html#method-c-reject" name="method-c-reject" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-reject">reject</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-reject_source')" id="l_method-c-reject_source">show</a>
                
              </p>
              <div id="method-c-reject_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1111</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">reject</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">reject</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-search_const">
            
              <b>search_const</b>(klass, name)
            
            <a href="../classes/OptParse.html#method-c-search_const" name="method-c-search_const" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-search_const_source')" id="l_method-c-search_const_source">show</a>
                
              </p>
              <div id="method-c-search_const_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse/version.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">search_const</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">klasses</span> = [<span class="ruby-identifier">klass</span>]
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cname</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">cname</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">const</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">cname</span>)
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">const</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">cname</span>
      <span class="ruby-identifier">klasses</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">const</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">const</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">const</span> <span class="ruby-operator">!=</span> <span class="ruby-operator">::</span><span class="ruby-constant">Object</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-show_version">
            
              <b>show_version</b>(*pkgs)
            
            <a href="../classes/OptParse.html#method-c-show_version" name="method-c-show_version" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-show_version_source')" id="l_method-c-show_version_source">show</a>
                
              </p>
              <div id="method-c-show_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse/version.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">show_version</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">pkgs</span>)
  <span class="ruby-identifier">progname</span> = <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">program_name</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">show</span> = <span class="ruby-identifier">proc</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">version</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;#{progname}&quot;</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">Object</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">cname</span> <span class="ruby-operator">==</span> <span class="ruby-value">:VERSION</span>
      <span class="ruby-identifier">version</span> = <span class="ruby-identifier">version</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;.&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">version</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;: #{klass}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Object</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; version #{version}&quot;</span>
    <span class="ruby-keyword">end</span>
    [<span class="ruby-value">:Release</span>, <span class="ruby-value">:RELEASE</span>].<span class="ruby-identifier">find</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rel</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">rel</span>)
        <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{klass.const_get(rel)})&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-identifier">str</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pkgs</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">pkgs</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;all&quot;</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">search_const</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Object</span>, <span class="ruby-regexp">/\AV(?:ERSION|ersion)\z/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">version</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cname</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?e</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Version</span>)
        <span class="ruby-identifier">show</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>.<span class="ruby-identifier">intern</span>, <span class="ruby-identifier">version</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pkgs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pkg</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">pkg</span> = <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/::|\//</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Object</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">c</span>)}
        <span class="ruby-identifier">v</span> = <span class="ruby-keyword">case</span>
            <span class="ruby-keyword">when</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Version</span>)
              <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">n</span> = <span class="ruby-value">:Version</span>)
            <span class="ruby-keyword">when</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:VERSION</span>)
              <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">n</span> = <span class="ruby-value">:VERSION</span>)
            <span class="ruby-keyword">else</span>
              <span class="ruby-identifier">n</span> = <span class="ruby-keyword">nil</span>
              <span class="ruby-string">&quot;unknown&quot;</span>
            <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">show</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">pkg</span>, <span class="ruby-identifier">n</span>, <span class="ruby-identifier">v</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-terminate">
            
              <b>terminate</b>(arg = nil)
            
            <a href="../classes/OptParse.html#method-c-terminate" name="method-c-terminate" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-terminate_source')" id="l_method-c-terminate_source">show</a>
                
              </p>
              <div id="method-c-terminate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1078</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">terminate</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">throw</span> <span class="ruby-value">:terminate</span>, <span class="ruby-identifier">arg</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-top">
            
              <b>top</b>()
            
            <a href="../classes/OptParse.html#method-c-top" name="method-c-top" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-top_source')" id="l_method-c-top_source">show</a>
                
              </p>
              <div id="method-c-top_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1083</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">top</span>() <span class="ruby-constant">DefaultList</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with">
            
              <b>with</b>(*args, &amp;block)
            
            <a href="../classes/OptParse.html#method-c-with" name="method-c-with" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Initializes a new instance and evaluates the optional block in context of
the instance. Arguments <code>args</code> are passed to <a
href="OptionParser.html#method-i-new">new</a>, see there for description of
parameters.</p>

<p>This method is <strong>deprecated</strong>, its behavior corresponds to the
older <a href="OptionParser.html#method-i-new">new</a> method.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_source')" id="l_method-c-with_source">show</a>
                
              </p>
              <div id="method-c-with_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1025</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">with</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">opts</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-abort">
            
              <b>abort</b>(mesg = $!)
            
            <a href="../classes/OptParse.html#method-i-abort" name="method-i-abort" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-abort_source')" id="l_method-i-abort_source">show</a>
                
              </p>
              <div id="method-i-abort_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1192</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">abort</span>(<span class="ruby-identifier">mesg</span> = <span class="ruby-identifier">$!</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-node">&quot;#{program_name}: #{mesg}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-accept">
            
              <b>accept</b>(*args, &amp;blk)
            
            <a href="../classes/OptParse.html#method-i-accept" name="method-i-accept" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Directs to accept specified class <code>t</code>. The argument string is
passed to the block in which it should be converted to the desired class.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including <a
href="Class.html">Class</a>.</p>
</dd><dt><code>pat</code>
<dd>
<p>Pattern for argument, defaults to <code>t</code> if it responds to match.</p>
</dd></dl>

<pre><code>accept(t, pat, &amp;block)
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-accept_source')" id="l_method-i-accept_source">show</a>
                
              </p>
              <div id="method-i-accept_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1094</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">accept</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-banner">
            
              <b>banner</b>()
            
            <a href="../classes/OptParse.html#method-i-banner" name="method-i-banner" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Heading banner preceding summary.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-banner_source')" id="l_method-i-banner_source">show</a>
                
              </p>
              <div id="method-i-banner_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1136</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">banner</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@banner</span>
    <span class="ruby-ivar">@banner</span> = <span class="ruby-node">&quot;Usage: #{program_name} [options]&quot;</span>
    <span class="ruby-identifier">visit</span>(<span class="ruby-value">:add_banner</span>, <span class="ruby-ivar">@banner</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@banner</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-base">
            
              <b>base</b>()
            
            <a href="../classes/OptParse.html#method-i-base" name="method-i-base" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Subject of <a href="OptionParser.html#method-i-on_tail">on_tail</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-base_source')" id="l_method-i-base_source">show</a>
                
              </p>
              <div id="method-i-base_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">base</span>
  <span class="ruby-ivar">@stack</span>[<span class="ruby-number">1</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-candidate">
            
              <b>candidate</b>(word)
            
            <a href="../classes/OptParse.html#method-i-candidate" name="method-i-candidate" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-candidate_source')" id="l_method-i-candidate_source">show</a>
                
              </p>
              <div id="method-i-candidate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1731</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">candidate</span>(<span class="ruby-identifier">word</span>)
  <span class="ruby-identifier">list</span> = []
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">word</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A--/</span>
    <span class="ruby-identifier">word</span>, <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/=/</span>, <span class="ruby-number">2</span>)
    <span class="ruby-identifier">argpat</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">regexp</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">false</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">arg</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">long</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A-(!-)/</span>
    <span class="ruby-identifier">short</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A-/</span>
    <span class="ruby-identifier">long</span> = <span class="ruby-identifier">short</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">pat</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">regexp</span>(<span class="ruby-identifier">word</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-value">:each_option</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Switch</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">opt</span>
    <span class="ruby-identifier">opts</span> = (<span class="ruby-identifier">long</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">long</span> <span class="ruby-operator">:</span> []) <span class="ruby-operator">+</span> (<span class="ruby-identifier">short</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">short</span> <span class="ruby-operator">:</span> [])
    <span class="ruby-identifier">opts</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">candidate</span>(<span class="ruby-identifier">word</span>, <span class="ruby-keyword">true</span>, <span class="ruby-identifier">pat</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:each</span>)).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:first</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">pat</span>
    <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A=/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">arg</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">sw</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sw</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;=&quot;</span>}
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">CompletingHash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">pattern</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">candidate</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">false</span>, <span class="ruby-identifier">argpat</span>)
          <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">map!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:last</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">list</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">list</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_head_option">
            
              <b>def_head_option</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-def_head_option" name="method-i-def_head_option" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="OptionParser.html#method-i-define_head">define_head</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_option">
            
              <b>def_option</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-def_option" name="method-i-def_option" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="OptionParser.html#method-i-define">define</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_tail_option">
            
              <b>def_tail_option</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-def_tail_option" name="method-i-def_tail_option" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="OptionParser.html#method-i-define_tail">define_tail</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define">
            
              <b>define</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-define" name="method-i-define" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_option">def_option</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_source')" id="l_method-i-define_source">show</a>
                
              </p>
              <div id="method-i-define_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1455</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">append</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define_head">
            
              <b>define_head</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-define_head" name="method-i-define_head" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_head_option">def_head_option</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_head_source')" id="l_method-i-define_head_source">show</a>
                
              </p>
              <div id="method-i-define_head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1470</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define_head</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">prepend</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define_tail">
            
              <b>define_tail</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-define_tail" name="method-i-define_tail" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_tail_option">def_tail_option</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_tail_source')" id="l_method-i-define_tail_source">show</a>
                
              </p>
              <div id="method-i-define_tail_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1484</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define_tail</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">append</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-environment">
            
              <b>environment</b>(env = File.basename($0, &#39;.*&#39;))
            
            <a href="../classes/OptParse.html#method-i-environment" name="method-i-environment" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parses environment variable <code>env</code> or its uppercase with
splitting like a shell.</p>

<p><code>env</code> defaults to the basename of the program.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-environment_source')" id="l_method-i-environment_source">show</a>
                
              </p>
              <div id="method-i-environment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1788</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">environment</span>(<span class="ruby-identifier">env</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">&#39;.*&#39;</span>))
  <span class="ruby-identifier">env</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">env</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">env</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;shellwords&#39;</span>
  <span class="ruby-identifier">parse</span>(<span class="ruby-operator">*</span><span class="ruby-constant">Shellwords</span>.<span class="ruby-identifier">shellwords</span>(<span class="ruby-identifier">env</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getopts">
            
              <b>getopts</b>(*args)
            
            <a href="../classes/OptParse.html#method-i-getopts" name="method-i-getopts" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wrapper method for getopts.rb.</p>

<pre><code>params = ARGV.getopts(&quot;ab:&quot;, &quot;foo&quot;, &quot;bar:&quot;, &quot;zot:Z;zot option)
# params[:a] = true   # -a
# params[:b] = &quot;1&quot;    # -b1
# params[:foo] = &quot;1&quot;  # --foo
# params[:bar] = &quot;x&quot;  # --bar x
# params[:zot] = &quot;z&quot;  # --zot Z</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-getopts_source')" id="l_method-i-getopts_source">show</a>
                
              </p>
              <div id="method-i-getopts_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1649</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">getopts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">default_argv</span>
  <span class="ruby-identifier">single_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">long_options</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>

  <span class="ruby-identifier">result</span> = {}

  <span class="ruby-identifier">single_options</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/(.)(:)?/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span>, <span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;-#{opt} VAL&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;-#{opt}&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">single_options</span>

  <span class="ruby-identifier">long_options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">desc</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;;&#39;</span>, <span class="ruby-number">2</span>)
    <span class="ruby-identifier">opt</span>, <span class="ruby-identifier">val</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;:&#39;</span>, <span class="ruby-number">2</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-identifier">val</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;--#{opt}=#{result[opt] || &quot;VAL&quot;}&quot;</span>, <span class="ruby-operator">*</span>[<span class="ruby-identifier">desc</span>].<span class="ruby-identifier">compact</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;--#{opt}&quot;</span>, <span class="ruby-operator">*</span>[<span class="ruby-identifier">desc</span>].<span class="ruby-identifier">compact</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">parse_in_order</span>(<span class="ruby-identifier">argv</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:[]=</span>))
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-help">
            
              <b>help</b>()
            
            <a href="../classes/OptParse.html#method-i-help" name="method-i-help" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns option summary string.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-to_s">to_s</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-help_source')" id="l_method-i-help_source">show</a>
                
              </p>
              <div id="method-i-help_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1247</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help</span>; <span class="ruby-identifier">summarize</span>(<span class="ruby-node">&quot;#{banner}&quot;</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\n?\z/</span>, <span class="ruby-string">&quot;\n&quot;</span>)) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inc">
            
              <b>inc</b>(*args)
            
            <a href="../classes/OptParse.html#method-i-inc" name="method-i-inc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inc_source')" id="l_method-i-inc_source">show</a>
                
              </p>
              <div id="method-i-inc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1042</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inc</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">inc</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load">
            
              <b>load</b>(filename = nil)
            
            <a href="../classes/OptParse.html#method-i-load" name="method-i-load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Loads options from file names as <code>filename</code>. Does nothing when
the file is not present. Returns whether successfully loaded.</p>

<p><code>filename</code> defaults to basename of the program without suffix in
a directory ~/.options.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-load_source')" id="l_method-i-load_source">show</a>
                
              </p>
              <div id="method-i-load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1768</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load</span>(<span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">filename</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">&#39;.*&#39;</span>), <span class="ruby-string">&#39;~/.options&#39;</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parse</span>(<span class="ruby-operator">*</span><span class="ruby-constant">IO</span>.<span class="ruby-identifier">readlines</span>(<span class="ruby-identifier">filename</span>).<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">chomp!</span>})
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOTDIR</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-make_switch">
            
              <b>make_switch</b>(opts, block = nil)
            
            <a href="../classes/OptParse.html#method-i-make_switch" name="method-i-make_switch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates an <a href="OptionParser/Switch.html">OptionParser::Switch</a> from
the parameters. The parsed argument value is passed to the given block,
where it can be processed.</p>

<p>See at the beginning of <a href="OptionParser.html">OptionParser</a> for
some full examples.</p>

<p><code>opts</code> can include the following elements:</p>
<dl class="rdoc-list label-list"><dt>Argument style:
<dd>
<p>One of the following:</p>

<pre><code>:NONE, :REQUIRED, :OPTIONAL</code></pre>
</dd><dt>Argument pattern:
<dd>
<p>Acceptable option argument format, must be pre-defined with <a
href="OptionParser.html#method-i-accept">#accept</a> or <a
href="OptionParser.html#method-i-accept">#accept</a>, or <a
href="Regexp.html">Regexp</a>. This can appear once or assigned as String
if not present, otherwise causes an <a
href="ArgumentError.html">ArgumentError</a>. Examples:</p>

<pre><code>Float, Time, Array</code></pre>
</dd><dt>Possible argument values:
<dd>
<p><a href="Hash.html">Hash</a> or Array.</p>

<pre><code>[:text, :binary, :auto]
%w[iso-2022-jp shift_jis euc-jp utf8 binary]
{ &quot;jis&quot; =&gt; &quot;iso-2022-jp&quot;, &quot;sjis&quot; =&gt; &quot;shift_jis&quot; }
</code></pre>
</dd><dt>Long style switch:
<dd>
<p>Specifies a long style switch which takes a mandatory, optional or no
argument. It&#39;s a string of the following form:</p>

<pre><code>&quot;--switch=MANDATORY&quot; or &quot;--switch MANDATORY&quot;
&quot;--switch[=OPTIONAL]&quot;
&quot;--switch&quot;
</code></pre>
</dd><dt>Short style switch:
<dd>
<p>Specifies short style switch which takes a mandatory, optional or no
argument. It&#39;s a string of the following form:</p>

<pre><code>&quot;-xMANDATORY&quot;
&quot;-x[OPTIONAL]&quot;
&quot;-x&quot;
</code></pre>

<p>There is also a special form which matches character range (not full set of
regular expression):</p>

<pre><code>&quot;-[a-z]MANDATORY&quot;
&quot;-[a-z][OPTIONAL]&quot;
&quot;-[a-z]&quot;
</code></pre>
</dd><dt>Argument style and description:
<dd>
<p>Instead of specifying mandatory or optional arguments directly in the
switch parameter, this separate parameter can be used.</p>

<pre><code>&quot;=MANDATORY&quot;
&quot;=[OPTIONAL]&quot;
</code></pre>
</dd><dt>Description:
<dd>
<p>Description string for the option.</p>

<pre><code>&quot;Run verbosely&quot;
</code></pre>
</dd><dt>Handler:
<dd>
<p>Handler for the parsed argument value. Either give a block or pass a <a
href="Proc.html">Proc</a> or <a href="Method.html">Method</a> as an
argument.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-make_switch_source')" id="l_method-i-make_switch_source">show</a>
                
              </p>
              <div id="method-i-make_switch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1331</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-identifier">nolong</span>, <span class="ruby-identifier">style</span>, <span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span>, <span class="ruby-identifier">not_style</span> = [], [], []
  <span class="ruby-identifier">ldesc</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">arg</span> = [], [], []
  <span class="ruby-identifier">default_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
  <span class="ruby-identifier">default_pattern</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">klass</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># argument class</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">not_style</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">not_style</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
        <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># directly specified pattern(any object possible to match)</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span>(<span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Symbol</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">o</span>)) <span class="ruby-keyword">and</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:match</span>)
      <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">pattern</span>, <span class="ruby-string">&#39;pattern&#39;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert</span>)
        <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:convert</span>).<span class="ruby-identifier">to_proc</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">conv</span> = <span class="ruby-constant">SPLAT_PROC</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># anything others</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">o</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Proc</span>, <span class="ruby-constant">Method</span>
      <span class="ruby-identifier">block</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">block</span>, <span class="ruby-string">&#39;block&#39;</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>, <span class="ruby-constant">Hash</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-keyword">when</span> <span class="ruby-constant">CompletingHash</span>
      <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">pattern</span> = <span class="ruby-constant">CompletingHash</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:convert</span>).<span class="ruby-identifier">to_proc</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;argument pattern given twice&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">pat</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pattern</span>[<span class="ruby-identifier">pat</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-number">0</span>) {<span class="ruby-identifier">pat</span>}}
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Module</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unsupported argument type: #{o}&quot;</span>, <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-identifier">caller</span>(<span class="ruby-number">4</span>))
    <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">ArgumentStyle</span>.<span class="ruby-identifier">keys</span>
      <span class="ruby-identifier">style</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">ArgumentStyle</span>[<span class="ruby-identifier">o</span>], <span class="ruby-identifier">style</span>, <span class="ruby-string">&#39;style&#39;</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^--no-([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">a</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">:</span> <span class="ruby-constant">TrueClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
      <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">not_style</span>
      <span class="ruby-identifier">not_style</span> = (<span class="ruby-identifier">not_style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
      <span class="ruby-identifier">default_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
      <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">FalseClass</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--no-#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;no-&#39;</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">q</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
      <span class="ruby-identifier">nolong</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">q</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^--\[no-\]([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">a</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">:</span> <span class="ruby-constant">TrueClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--[no-]#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">o</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
      <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">FalseClass</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">not_style</span>
      <span class="ruby-identifier">not_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
      <span class="ruby-identifier">nolong</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;no-&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">o</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^--([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">NilClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">o</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^-(\[\^?\]?(?:[^\\]]|\.)*\])(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">Object</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">sdesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-#{q}&quot;</span>
      <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">q</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^-(.)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">NilClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">&#39;type&#39;</span>)
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">sdesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-#{q}&quot;</span>
      <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">q</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^=/</span>
      <span class="ruby-identifier">style</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">o</span>), <span class="ruby-identifier">style</span>, <span class="ruby-string">&#39;style&#39;</span>)
      <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">Object</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">o</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">short</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">empty?</span>)
    <span class="ruby-identifier">s</span> = (<span class="ruby-identifier">style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pattern</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_pattern</span>,
                                     <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">ldesc</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">style</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;no switch given&quot;</span>, <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-identifier">caller</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">s</span> = <span class="ruby-identifier">desc</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">pattern</span>
    <span class="ruby-identifier">s</span> = (<span class="ruby-identifier">style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pattern</span>,
                                     <span class="ruby-identifier">conv</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>,
    (<span class="ruby-identifier">not_style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">ldesc</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">not_style</span>),
    <span class="ruby-identifier">nolong</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new">
            
              <b>new</b>()
            
            <a href="../classes/OptParse.html#method-i-new" name="method-i-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Pushes a new List.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new_source')" id="l_method-i-new_source">show</a>
                
              </p>
              <div id="method-i-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1213</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new</span>
  <span class="ruby-ivar">@stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on">
            
              <b>on</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-on" name="method-i-on" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add option switch and handler. See <a
href="OptionParser.html#method-i-make_switch">make_switch</a> for an
explanation of parameters.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_source')" id="l_method-i-on_source">show</a>
                
              </p>
              <div id="method-i-on_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1464</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_head">
            
              <b>on_head</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-on_head" name="method-i-on_head" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add option switch like with <a href="OptionParser.html#method-i-on">on</a>,
but at head of summary.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_head_source')" id="l_method-i-on_head_source">show</a>
                
              </p>
              <div id="method-i-on_head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1478</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_head</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_head</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_tail">
            
              <b>on_tail</b>(*opts, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-on_tail" name="method-i-on_tail" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add option switch like with <a href="OptionParser.html#method-i-on">on</a>,
but at tail of summary.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_tail_source')" id="l_method-i-on_tail_source">show</a>
                
              </p>
              <div id="method-i-on_tail_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1492</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_tail</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_tail</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-order">
            
              <b>order</b>(*argv, &amp;block)
            
            <a href="../classes/OptParse.html#method-i-order" name="method-i-order" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in order. When a block is
given, each non-option argument is yielded.</p>

<p>Returns the rest of <code>argv</code> left unparsed.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-order_source')" id="l_method-i-order_source">show</a>
                
              </p>
              <div id="method-i-order_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1511</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">order</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">argv</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-order-21">
            
              <b>order!</b>(argv = default_argv, &amp;nonopt)
            
            <a href="../classes/OptParse.html#method-i-order-21" name="method-i-order-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-order">order</a>, but removes
switches destructively. Non-option arguments remain in <code>argv</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-order-21_source')" id="l_method-i-order-21_source">show</a>
                
              </p>
              <div id="method-i-order-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1520</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">order!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">nonopt</span>)
  <span class="ruby-identifier">parse_in_order</span>(<span class="ruby-identifier">argv</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">nonopt</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parse">
            
              <b>parse</b>(*argv)
            
            <a href="../classes/OptParse.html#method-i-parse" name="method-i-parse" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-parse_source')" id="l_method-i-parse_source">show</a>
                
              </p>
              <div id="method-i-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1622</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">parse</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">argv</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">argv</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parse-21">
            
              <b>parse!</b>(argv = default_argv)
            
            <a href="../classes/OptParse.html#method-i-parse-21" name="method-i-parse-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-parse">parse</a>, but removes
switches destructively. Non-option arguments remain in <code>argv</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-parse-21_source')" id="l_method-i-parse-21_source">show</a>
                
              </p>
              <div id="method-i-parse-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1631</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">parse!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;POSIXLY_CORRECT&#39;</span>)
    <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">permute!</span>(<span class="ruby-identifier">argv</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-permute">
            
              <b>permute</b>(*argv)
            
            <a href="../classes/OptParse.html#method-i-permute" name="method-i-permute" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in permutation mode and
returns list of non-option arguments.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-permute_source')" id="l_method-i-permute_source">show</a>
                
              </p>
              <div id="method-i-permute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1602</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">permute</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">argv</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">permute!</span>(<span class="ruby-identifier">argv</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-permute-21">
            
              <b>permute!</b>(argv = default_argv)
            
            <a href="../classes/OptParse.html#method-i-permute-21" name="method-i-permute-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-permute">permute</a>, but
removes switches destructively. Non-option arguments remain in
<code>argv</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-permute-21_source')" id="l_method-i-permute-21_source">show</a>
                
              </p>
              <div id="method-i-permute-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1611</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">permute!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>)
  <span class="ruby-identifier">nonopts</span> = []
  <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">nonopts</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:&lt;&lt;</span>))
  <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>, <span class="ruby-number">0</span>] = <span class="ruby-identifier">nonopts</span>
  <span class="ruby-identifier">argv</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-program_name">
            
              <b>program_name</b>()
            
            <a href="../classes/OptParse.html#method-i-program_name" name="method-i-program_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Program name to be emitted in error message and default banner, defaults to
$0.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-program_name_source')" id="l_method-i-program_name_source">show</a>
                
              </p>
              <div id="method-i-program_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1148</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">program_name</span>
  <span class="ruby-ivar">@program_name</span> <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">&#39;.*&#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reject">
            
              <b>reject</b>(*args, &amp;blk)
            
            <a href="../classes/OptParse.html#method-i-reject" name="method-i-reject" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Directs to reject specified class argument.</p>
<dl class="rdoc-list note-list"><dt>t
<dd>
<p>Argument class specifier, any object including <a
href="Class.html">Class</a>.</p>
</dd></dl>

<pre><code>reject(t)
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reject_source')" id="l_method-i-reject_source">show</a>
                
              </p>
              <div id="method-i-reject_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reject</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">reject</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-release">
            
              <b>release</b>()
            
            <a href="../classes/OptParse.html#method-i-release" name="method-i-release" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Release code</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-release_source')" id="l_method-i-release_source">show</a>
                
              </p>
              <div id="method-i-release_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1173</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">release</span>
  <span class="ruby-ivar">@release</span> <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Release</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Release</span>) <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RELEASE</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">RELEASE</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove">
            
              <b>remove</b>()
            
            <a href="../classes/OptParse.html#method-i-remove" name="method-i-remove" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes the last List.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_source')" id="l_method-i-remove_source">show</a>
                
              </p>
              <div id="method-i-remove_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1225</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove</span>
  <span class="ruby-ivar">@stack</span>.<span class="ruby-identifier">pop</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-separator">
            
              <b>separator</b>(string)
            
            <a href="../classes/OptParse.html#method-i-separator" name="method-i-separator" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add separator in summary.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-separator_source')" id="l_method-i-separator_source">show</a>
                
              </p>
              <div id="method-i-separator_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1501</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">separator</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">append</span>(<span class="ruby-identifier">string</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-summarize">
            
              <b>summarize</b>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)
            
            <a href="../classes/OptParse.html#method-i-summarize" name="method-i-summarize" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Puts option summary into <code>to</code> and returns <code>to</code>.
Yields each line if a block is given.</p>
<dl class="rdoc-list note-list"><dt>to
<dd>
<p>Output destination, which must have method &lt;&lt;. Defaults to [].</p>
</dd><dt><code>width</code>
<dd>
<p>Width of left side, defaults to @summary_width.</p>
</dd><dt><code>max</code>
<dd>
<p>Maximum length allowed for left side, defaults to <code>width</code> - 1.</p>
</dd><dt><code>indent</code>
<dd>
<p>Indentation, defaults to @summary_indent.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-summarize_source')" id="l_method-i-summarize_source">show</a>
                
              </p>
              <div id="method-i-summarize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">summarize</span>(<span class="ruby-identifier">to</span> = [], <span class="ruby-identifier">width</span> = <span class="ruby-ivar">@summary_width</span>, <span class="ruby-identifier">max</span> = <span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">indent</span> = <span class="ruby-ivar">@summary_indent</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">blk</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-identifier">to</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">l</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">$/</span>, <span class="ruby-number">-1</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$/</span>)}
  <span class="ruby-identifier">visit</span>(<span class="ruby-value">:summarize</span>, {}, {}, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">indent</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">to</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-terminate">
            
              <b>terminate</b>(arg = nil)
            
            <a href="../classes/OptParse.html#method-i-terminate" name="method-i-terminate" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Terminates option parsing. Optional parameter <code>arg</code> is a string
pushed back to be the first non-option argument.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-terminate_source')" id="l_method-i-terminate_source">show</a>
                
              </p>
              <div id="method-i-terminate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1075</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">terminate</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">terminate</span>(<span class="ruby-identifier">arg</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_a">
            
              <b>to_a</b>()
            
            <a href="../classes/OptParse.html#method-i-to_a" name="method-i-to_a" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns option summary list.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1253</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_a</span>; <span class="ruby-identifier">summarize</span>(<span class="ruby-node">&quot;#{banner}&quot;</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/^/</span>)) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../classes/OptParse.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="OptionParser.html#method-i-help">help</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-top">
            
              <b>top</b>()
            
            <a href="../classes/OptParse.html#method-i-top" name="method-i-top" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Subject of <a href="OptionParser.html#method-i-on">on</a> / <a
href="OptionParser.html#method-i-on_head">on_head</a>, <a
href="OptionParser.html#method-i-accept">accept</a> / <a
href="OptionParser.html#method-i-reject">reject</a></p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-top_source')" id="l_method-i-top_source">show</a>
                
              </p>
              <div id="method-i-top_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">top</span>
  <span class="ruby-ivar">@stack</span>[<span class="ruby-number">-1</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ver">
            
              <b>ver</b>()
            
            <a href="../classes/OptParse.html#method-i-ver" name="method-i-ver" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns version string from <a
href="OptionParser.html#method-i-program_name">#program_name</a>, version
and release.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-ver_source')" id="l_method-i-ver_source">show</a>
                
              </p>
              <div id="method-i-ver_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1180</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ver</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-identifier">version</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;#{program_name} #{[v].join(&#39;.&#39;)}&quot;</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{v})&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-identifier">release</span>
    <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-version">
            
              <b>version</b>()
            
            <a href="../classes/OptParse.html#method-i-version" name="method-i-version" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Version</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-version_source')" id="l_method-i-version_source">show</a>
                
              </p>
              <div id="method-i-version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1166</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">version</span>
  <span class="ruby-ivar">@version</span> <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Version</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Version</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-warn">
            
              <b>warn</b>(mesg = $!)
            
            <a href="../classes/OptParse.html#method-i-warn" name="method-i-warn" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-warn_source')" id="l_method-i-warn_source">show</a>
                
              </p>
              <div id="method-i-warn_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/optparse.rb, line 1188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">warn</span>(<span class="ruby-identifier">mesg</span> = <span class="ruby-identifier">$!</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-node">&quot;#{program_name}: #{mesg}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    