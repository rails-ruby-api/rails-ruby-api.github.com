<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Net::FTP</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Net::FTP 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/net/ftp_rb.html">lib/net/ftp.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>This class implements the <a href="../File.html">File</a> Transfer
Protocol.  If you have used a command-line <a href="FTP.html">FTP</a>
program, and are familiar with the commands, you will be able to use this
class easily.  Some extra features are included to take advantage of
Ruby&#39;s style and strengths.</p>

<h2 id="class-Net::FTP-label-Example">Example</h2>

<pre><code>require &#39;net/ftp&#39;
</code></pre>

<h3 id="class-Net::FTP-label-Example+1">Example 1</h3>

<pre><code>ftp = Net::FTP.new(&#39;example.com&#39;)
ftp.login
files = ftp.chdir(&#39;pub/lang/ruby/contrib&#39;)
files = ftp.list(&#39;n*&#39;)
ftp.getbinaryfile(&#39;nif.rb-0.91.gz&#39;, &#39;nif.gz&#39;, 1024)
ftp.close
</code></pre>

<h3 id="class-Net::FTP-label-Example+2">Example 2</h3>

<pre><code>Net::FTP.open(&#39;example.com&#39;) do |ftp|
  ftp.login
  files = ftp.chdir(&#39;pub/lang/ruby/contrib&#39;)
  files = ftp.list(&#39;n*&#39;)
  ftp.getbinaryfile(&#39;nif.rb-0.91.gz&#39;, &#39;nif.gz&#39;, 1024)
end
</code></pre>

<h2 id="class-Net::FTP-label-Major+Methods">Major Methods</h2>

<p>The following are the methods most likely to be useful to users:</p>
<ul><li>
<p><a href="FTP.html#method-c-open">::open</a></p>
</li><li>
<p><a href="FTP.html#method-i-getbinaryfile">getbinaryfile</a></p>
</li><li>
<p><a href="FTP.html#method-i-gettextfile">gettextfile</a></p>
</li><li>
<p><a href="FTP.html#method-i-putbinaryfile">putbinaryfile</a></p>
</li><li>
<p><a href="FTP.html#method-i-puttextfile">puttextfile</a></p>
</li><li>
<p><a href="FTP.html#method-i-chdir">chdir</a></p>
</li><li>
<p><a href="FTP.html#method-i-nlst">nlst</a></p>
</li><li>
<p><a href="FTP.html#method-i-size">size</a></p>
</li><li>
<p><a href="FTP.html#method-i-rename">rename</a></p>
</li><li>
<p><a href="FTP.html#method-i-delete">delete</a></p>
</li></ul>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="FTP/BufferedSocket.html">Net::FTP::BufferedSocket</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="FTP/MLSxEntry.html">Net::FTP::MLSxEntry</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="FTP/NullSocket.html">Net::FTP::NullSocket</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-abort">abort</a>,
              </li>
            
              
              <li>
                <a href="#method-i-acct">acct</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-binary-3D">binary=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-chdir">chdir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-close">close</a>,
              </li>
            
              
              <li>
                <a href="#method-i-closed-3F">closed?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-connect">connect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-default_passive">default_passive</a>,
              </li>
            
              
              <li>
                <a href="#method-c-default_passive-3D">default_passive=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dir">dir</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-get">get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-getbinaryfile">getbinaryfile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-getdir">getdir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-gettextfile">gettextfile</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-help">help</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-list">list</a>,
              </li>
            
              
              <li>
                <a href="#method-i-login">login</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ls">ls</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-mdtm">mdtm</a>,
              </li>
            
              
              <li>
                <a href="#method-i-mkdir">mkdir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-mlsd">mlsd</a>,
              </li>
            
              
              <li>
                <a href="#method-i-mlst">mlst</a>,
              </li>
            
              
              <li>
                <a href="#method-i-mtime">mtime</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-nlst">nlst</a>,
              </li>
            
              
              <li>
                <a href="#method-i-noop">noop</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-open">open</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-put">put</a>,
              </li>
            
              
              <li>
                <a href="#method-i-putbinaryfile">putbinaryfile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-puttextfile">puttextfile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-pwd">pwd</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Q</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-quit">quit</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-read_timeout-3D">read_timeout=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rename">rename</a>,
              </li>
            
              
              <li>
                <a href="#method-i-retrbinary">retrbinary</a>,
              </li>
            
              
              <li>
                <a href="#method-i-retrlines">retrlines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rmdir">rmdir</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-sendcmd">sendcmd</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_socket">set_socket</a>,
              </li>
            
              
              <li>
                <a href="#method-i-site">site</a>,
              </li>
            
              
              <li>
                <a href="#method-i-size">size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-status">status</a>,
              </li>
            
              
              <li>
                <a href="#method-i-storbinary">storbinary</a>,
              </li>
            
              
              <li>
                <a href="#method-i-storlines">storlines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-system">system</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-voidcmd">voidcmd</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="../MonitorMixin.html">
              MonitorMixin
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">CASE_DEPENDENT_PARSER</td>
            <td>=</td>
            <td class="attr-value">-&gt;(value) { value }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">CASE_INDEPENDENT_PARSER</td>
            <td>=</td>
            <td class="attr-value">-&gt;(value) { value.downcase }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DECIMAL_PARSER</td>
            <td>=</td>
            <td class="attr-value">-&gt;(value) { value.to_i }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">OCTAL_PARSER</td>
            <td>=</td>
            <td class="attr-value">-&gt;(value) { value.to_i(8) }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">TIME_PARSER</td>
            <td>=</td>
            <td class="attr-value">-&gt;(value, local = false) {
unless /\A(?&lt;year&gt;\d{4})(?&lt;month&gt;\d{2})(?&lt;day&gt;\d{2})
(?&lt;hour&gt;\d{2})(?&lt;min&gt;\d{2})(?&lt;sec&gt;\d{2})
(\.(?&lt;fractions&gt;\d+))?/x =~ value
raise FTPProtoError, &quot;invalid time-val: #{value}&quot;
end
usec = fractions.to_i * 10 ** (6 - fractions.to_s.size)
Time.send(local ? :local : :utc, year, month, day, hour, min, sec, usec)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">FACT_PARSERS</td>
            <td>=</td>
            <td class="attr-value">Hash.new(CASE_DEPENDENT_PARSER)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>binary</td>
            <td class='attr-desc'><p>When <code>true</code>, transfers are performed in binary mode.  Default:
<code>true</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>debug_mode</td>
            <td class='attr-desc'><p>When <code>true</code>, all traffic to and from the server is written to
+$stdout+.  Default: <code>false</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>last_response</td>
            <td class='attr-desc'><p>The server&#39;s last response.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>last_response_code</td>
            <td class='attr-desc'><p>The server&#39;s last response code.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>lastresp</td>
            <td class='attr-desc'><p>The server&#39;s last response code.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>open_timeout</td>
            <td class='attr-desc'><p>Number of seconds to wait for the connection to open. Any number may be
used, including Floats for fractional seconds. If the <a
href="FTP.html">FTP</a> object cannot open a connection in this many
seconds, it raises a <a href="OpenTimeout.html">Net::OpenTimeout</a>
exception. The default value is <code>nil</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>passive</td>
            <td class='attr-desc'><p>When <code>true</code>, the connection is in passive mode.  Default:
<code>true</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>read_timeout</td>
            <td class='attr-desc'><p>Number of seconds to wait for one block to be read (via one read(2) call).
Any number may be used, including Floats for fractional seconds. If the <a
href="FTP.html">FTP</a> object cannot read data in this many seconds, it
raises a <a href="../Timeout/Error.html">Timeout::Error</a> exception. The
default value is 60 seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>resume</td>
            <td class='attr-desc'><p>Sets or retrieves the <code>resume</code> status, which decides whether
incomplete transfers are resumed or restarted.  Default:
<code>false</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>welcome</td>
            <td class='attr-desc'><p>The server&#39;s welcome message.</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-default_passive">
            
              <b>default_passive</b>()
            
            <a href="../../classes/Net/FTP.html#method-c-default_passive" name="method-c-default_passive" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When <code>true</code>, connections are in passive mode per default.
Default: <code>true</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-default_passive_source')" id="l_method-c-default_passive_source">show</a>
                
              </p>
              <div id="method-c-default_passive_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">default_passive</span>
  <span class="ruby-identifier">@@default_passive</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-default_passive-3D">
            
              <b>default_passive=</b>(value)
            
            <a href="../../classes/Net/FTP.html#method-c-default_passive-3D" name="method-c-default_passive-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>When <code>true</code>, connections are in passive mode per default.
Default: <code>true</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-default_passive-3D_source')" id="l_method-c-default_passive-3D_source">show</a>
                
              </p>
              <div id="method-c-default_passive-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">default_passive=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">@@default_passive</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(host = nil, user = nil, passwd = nil, acct = nil)
            
            <a href="../../classes/Net/FTP.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates and returns a new <code>FTP</code> object. If a <code>host</code>
is given, a connection is made. Additionally, if the <code>user</code> is
given, the given user name, password, and (optionally) account are used to
log in.  See <a href="FTP.html#method-i-login">login</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 164</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">host</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">user</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">passwd</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">acct</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">super</span>()
  <span class="ruby-ivar">@binary</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@passive</span> = <span class="ruby-identifier">@@default_passive</span>
  <span class="ruby-ivar">@debug_mode</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@resume</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@sock</span> = <span class="ruby-constant">NullSocket</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@logged_in</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@open_timeout</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-number">60</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">host</span>
    <span class="ruby-identifier">connect</span>(<span class="ruby-identifier">host</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>
      <span class="ruby-identifier">login</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span>, <span class="ruby-identifier">acct</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-open">
            
              <b>open</b>(host, user = nil, passwd = nil, acct = nil)
            
            <a href="../../classes/Net/FTP.html#method-c-open" name="method-c-open" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A synonym for <code>FTP.new</code>, but with a mandatory host parameter.</p>

<p>If a block is given, it is passed the <code>FTP</code> object, which will
be closed when the block finishes, or when an exception is raised.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-open_source')" id="l_method-c-open_source">show</a>
                
              </p>
              <div id="method-c-open_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">FTP</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">user</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">passwd</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">acct</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">ftp</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span>, <span class="ruby-identifier">acct</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">ftp</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">ftp</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span>, <span class="ruby-identifier">acct</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-abort">
            
              <b>abort</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-abort" name="method-i-abort" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Aborts the previous command (ABOR command).</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-abort_source')" id="l_method-i-abort_source">show</a>
                
              </p>
              <div id="method-i-abort_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1094</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">abort</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-string">&quot;ABOR&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">CRLF</span>
  <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;put: ABOR\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug_mode</span>
  <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">line</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">MSG_OOB</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">getmultiline</span>
  <span class="ruby-keyword">unless</span> [<span class="ruby-string">&quot;426&quot;</span>, <span class="ruby-string">&quot;226&quot;</span>, <span class="ruby-string">&quot;225&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">resp</span>[<span class="ruby-number">0</span>, <span class="ruby-number">3</span>])
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPProtoError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">resp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-acct">
            
              <b>acct</b>(account)
            
            <a href="../../classes/Net/FTP.html#method-i-acct" name="method-i-acct" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends the ACCT command.</p>

<p>This is a less common <a href="FTP.html">FTP</a> command, to send account
information if the destination host requires it.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-acct_source')" id="l_method-i-acct_source">show</a>
                
              </p>
              <div id="method-i-acct_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 747</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">acct</span>(<span class="ruby-identifier">account</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-string">&quot;ACCT &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">account</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-identifier">cmd</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-binary-3D">
            
              <b>binary=</b>(newmode)
            
            <a href="../../classes/Net/FTP.html#method-i-binary-3D" name="method-i-binary-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A setter to toggle transfers in binary mode. <code>newmode</code> is either
<code>true</code> or <code>false</code></p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-binary-3D_source')" id="l_method-i-binary-3D_source">show</a>
                
              </p>
              <div id="method-i-binary-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">binary=</span>(<span class="ruby-identifier">newmode</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">newmode</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@binary</span>
    <span class="ruby-ivar">@binary</span> = <span class="ruby-identifier">newmode</span>
    <span class="ruby-identifier">send_type_command</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@logged_in</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-chdir">
            
              <b>chdir</b>(dirname)
            
            <a href="../../classes/Net/FTP.html#method-i-chdir" name="method-i-chdir" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Changes the (remote) directory.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-chdir_source')" id="l_method-i-chdir_source">show</a>
                
              </p>
              <div id="method-i-chdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1015</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">chdir</span>(<span class="ruby-identifier">dirname</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">dirname</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;..&quot;</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">voidcmd</span>(<span class="ruby-string">&quot;CDUP&quot;</span>)
      <span class="ruby-keyword">return</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">FTPPermError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>[<span class="ruby-number">0</span>, <span class="ruby-number">3</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;500&quot;</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;CWD #{dirname}&quot;</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-identifier">cmd</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-close">
            
              <b>close</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-close" name="method-i-close" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Closes the connection.  Further operations are impossible until you open a
new connection with <a href="FTP.html#method-i-connect">connect</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-close_source')" id="l_method-i-close_source">show</a>
                
              </p>
              <div id="method-i-close_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1167</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">close</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sock</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">shutdown</span>(<span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">SHUT_WR</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">orig</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">read_timeout</span>, <span class="ruby-number">3</span>
      <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">read</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">orig</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-closed-3F">
            
              <b>closed?</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-closed-3F" name="method-i-closed-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> iff the connection is closed.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-closed-3F_source')" id="l_method-i-closed-3F_source">show</a>
                
              </p>
              <div id="method-i-closed-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">closed?</span>
  <span class="ruby-ivar">@sock</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">closed?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-connect">
            
              <b>connect</b>(host, port = FTP_PORT)
            
            <a href="../../classes/Net/FTP.html#method-i-connect" name="method-i-connect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Establishes an <a href="FTP.html">FTP</a> connection to host, optionally
overriding the default port. If the environment variable
<code>SOCKS_SERVER</code> is set, sets up the connection through a SOCKS
proxy. Raises an exception (typically <code>Errno::ECONNREFUSED</code>) if
the connection cannot be established.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-connect_source')" id="l_method-i-connect_source">show</a>
                
              </p>
              <div id="method-i-connect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connect</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> = <span class="ruby-constant">FTP_PORT</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug_mode</span>
    <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;connect: &quot;</span>, <span class="ruby-identifier">host</span>, <span class="ruby-string">&quot;, &quot;</span>, <span class="ruby-identifier">port</span>, <span class="ruby-string">&quot;\n&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@sock</span> = <span class="ruby-identifier">open_socket</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>)
    <span class="ruby-identifier">voidresp</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete">
            
              <b>delete</b>(filename)
            
            <a href="../../classes/Net/FTP.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes a file on the server.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1001</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-node">&quot;DELE #{filename}&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;250&quot;</span>)
    <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;5&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPPermError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-dir">
            
              <b>dir</b>(*args)
            
            <a href="../../classes/Net/FTP.html#method-i-dir" name="method-i-dir" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="FTP.html#method-i-list">list</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-get">
            
              <b>get</b>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE)
            
            <a href="../../classes/Net/FTP.html#method-i-get" name="method-i-get" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Retrieves <code>remotefile</code> in whatever mode the session is set (text
or binary).  See <a href="FTP.html#method-i-gettextfile">gettextfile</a>
and <a href="FTP.html#method-i-getbinaryfile">getbinaryfile</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-get_source')" id="l_method-i-get_source">show</a>
                
              </p>
              <div id="method-i-get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">get</span>(<span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">localfile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">remotefile</span>),
        <span class="ruby-identifier">blocksize</span> = <span class="ruby-constant">DEFAULT_BLOCKSIZE</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: data</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@binary</span>
    <span class="ruby-identifier">getbinaryfile</span>(<span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">gettextfile</span>(<span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">localfile</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getbinaryfile">
            
              <b>getbinaryfile</b>(remotefile, localfile = File.basename(remotefile), blocksize = DEFAULT_BLOCKSIZE)
            
            <a href="../../classes/Net/FTP.html#method-i-getbinaryfile" name="method-i-getbinaryfile" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Retrieves <code>remotefile</code> in binary mode, storing the result in
<code>localfile</code>. If <code>localfile</code> is nil, returns retrieved
data. If a block is supplied, it is passed the retrieved data in
<code>blocksize</code> chunks.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-getbinaryfile_source')" id="l_method-i-getbinaryfile_source">show</a>
                
              </p>
              <div id="method-i-getbinaryfile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 615</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">getbinaryfile</span>(<span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">localfile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">remotefile</span>),
                  <span class="ruby-identifier">blocksize</span> = <span class="ruby-constant">DEFAULT_BLOCKSIZE</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: data</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">localfile</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@resume</span>
      <span class="ruby-identifier">rest_offset</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">size?</span>(<span class="ruby-identifier">localfile</span>)
      <span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-string">&quot;a&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">rest_offset</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-string">&quot;w&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">f</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">binmode</span>
    <span class="ruby-identifier">retrbinary</span>(<span class="ruby-node">&quot;RETR #{remotefile}&quot;</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-identifier">rest_offset</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">data</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">data</span>)
      <span class="ruby-identifier">block</span><span class="ruby-operator">&amp;</span>.(<span class="ruby-identifier">data</span>)
      <span class="ruby-identifier">result</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">data</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">f</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getdir">
            
              <b>getdir</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-getdir" name="method-i-getdir" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="FTP.html#method-i-pwd">pwd</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gettextfile">
            
              <b>gettextfile</b>(remotefile, localfile = File.basename(remotefile))
            
            <a href="../../classes/Net/FTP.html#method-i-gettextfile" name="method-i-gettextfile" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Retrieves <code>remotefile</code> in ASCII (text) mode, storing the result
in <code>localfile</code>. If <code>localfile</code> is nil, returns
retrieved data. If a block is supplied, it is passed the retrieved data one
line at a time.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-gettextfile_source')" id="l_method-i-gettextfile_source">show</a>
                
              </p>
              <div id="method-i-gettextfile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">gettextfile</span>(<span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">localfile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">remotefile</span>),
                <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: line</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">localfile</span>
    <span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-string">&quot;w&quot;</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">retrlines</span>(<span class="ruby-node">&quot;RETR #{remotefile}&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">newline</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">l</span> = <span class="ruby-identifier">newline</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">line</span>
      <span class="ruby-identifier">f</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">l</span>)
      <span class="ruby-identifier">block</span><span class="ruby-operator">&amp;</span>.(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">newline</span>)
      <span class="ruby-identifier">result</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">l</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">f</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-help">
            
              <b>help</b>(arg = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-help" name="method-i-help" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Issues the HELP command.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-help_source')" id="l_method-i-help_source">show</a>
                
              </p>
              <div id="method-i-help_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1131</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-string">&quot;HELP&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>
    <span class="ruby-identifier">cmd</span> = <span class="ruby-identifier">cmd</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arg</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">sendcmd</span>(<span class="ruby-identifier">cmd</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-list">
            
              <b>list</b>(*args)
            
            <a href="../../classes/Net/FTP.html#method-i-list" name="method-i-list" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of file information in the directory (the output is like
`ls -l`).  If a block is given, it iterates through the listing.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="FTP.html#method-i-ls">ls</a>, <a href="FTP.html#method-i-dir">dir</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-list_source')" id="l_method-i-list_source">show</a>
                
              </p>
              <div id="method-i-list_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 771</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">list</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: line</span>
  <span class="ruby-identifier">cmd</span> = <span class="ruby-string">&quot;LIST&quot;</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;#{cmd} #{arg}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">lines</span> = []
  <span class="ruby-identifier">retrlines</span>(<span class="ruby-identifier">cmd</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">lines</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-login">
            
              <b>login</b>(user = &quot;anonymous&quot;, passwd = nil, acct = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-login" name="method-i-login" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Logs in to the remote host.  The session must have been previously
connected.  If <code>user</code> is the string “anonymous” and the
<code>password</code> is <code>nil</code>, “anonymous@” is used as a
password.  If the <code>acct</code> parameter is not <code>nil</code>, an
<a href="FTP.html">FTP</a> ACCT command is sent following the successful
login.  Raises an exception on error (typically
<code>Net::FTPPermError</code>).</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-login_source')" id="l_method-i-login_source">show</a>
                
              </p>
              <div id="method-i-login_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 466</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">login</span>(<span class="ruby-identifier">user</span> = <span class="ruby-string">&quot;anonymous&quot;</span>, <span class="ruby-identifier">passwd</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">acct</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;anonymous&quot;</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">passwd</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">passwd</span> = <span class="ruby-string">&quot;anonymous@&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">resp</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-string">&#39;USER &#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">user</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;3&quot;</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">passwd</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-string">&#39;PASS &#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">passwd</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;3&quot;</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">acct</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-string">&#39;ACCT &#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">acct</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;2&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@welcome</span> = <span class="ruby-identifier">resp</span>
  <span class="ruby-identifier">send_type_command</span>
  <span class="ruby-ivar">@logged_in</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ls">
            
              <b>ls</b>(*args)
            
            <a href="../../classes/Net/FTP.html#method-i-ls" name="method-i-ls" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="FTP.html#method-i-list">list</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mdtm">
            
              <b>mdtm</b>(filename)
            
            <a href="../../classes/Net/FTP.html#method-i-mdtm" name="method-i-mdtm" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the raw last modification time of the (remote) file in the format
“YYYYMMDDhhmmss” (MDTM command).</p>

<p>Use <code>mtime</code> if you want a parsed <a href="../Time.html">Time</a>
instance.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mdtm_source')" id="l_method-i-mdtm_source">show</a>
                
              </p>
              <div id="method-i-mdtm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1121</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mdtm</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-node">&quot;MDTM #{filename}&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;213&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">get_body</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mkdir">
            
              <b>mkdir</b>(dirname)
            
            <a href="../../classes/Net/FTP.html#method-i-mkdir" name="method-i-mkdir" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a remote directory.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mkdir_source')" id="l_method-i-mkdir_source">show</a>
                
              </p>
              <div id="method-i-mkdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1059</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mkdir</span>(<span class="ruby-identifier">dirname</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-node">&quot;MKD #{dirname}&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">parse257</span>(<span class="ruby-identifier">resp</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mlsd">
            
              <b>mlsd</b>(pathname = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-mlsd" name="method-i-mlsd" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of the entries of the directory specified by
<code>pathname</code>. Each entry has the facts (e.g., size, last
modification time, etc.) and the pathname. If a block is given, it iterates
through the listing. If <code>pathname</code> is omitted, the current
directory is assumed.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mlsd_source')" id="l_method-i-mlsd_source">show</a>
                
              </p>
              <div id="method-i-mlsd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 975</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mlsd</span>(<span class="ruby-identifier">pathname</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: entry</span>
  <span class="ruby-identifier">cmd</span> = <span class="ruby-identifier">pathname</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;MLSD #{pathname}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;MLSD&quot;</span>
  <span class="ruby-identifier">entries</span> = []
  <span class="ruby-identifier">retrlines</span>(<span class="ruby-identifier">cmd</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">entries</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">parse_mlsx_entry</span>(<span class="ruby-identifier">line</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">entries</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mlst">
            
              <b>mlst</b>(pathname = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-mlst" name="method-i-mlst" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns data (e.g., size, last modification time, entry type, etc.) about
the file or directory specified by <code>pathname</code>. If
<code>pathname</code> is omitted, the current directory is assumed.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mlst_source')" id="l_method-i-mlst_source">show</a>
                
              </p>
              <div id="method-i-mlst_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 953</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mlst</span>(<span class="ruby-identifier">pathname</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-identifier">pathname</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;MLST #{pathname}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;MLST&quot;</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-identifier">cmd</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;250&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">lines</span>[<span class="ruby-number">1</span>]
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">line</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPProtoError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">entry</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\A(250-| *)/</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">parse_mlsx_entry</span>(<span class="ruby-identifier">entry</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mtime">
            
              <b>mtime</b>(filename, local = false)
            
            <a href="../../classes/Net/FTP.html#method-i-mtime" name="method-i-mtime" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the last modification time of the (remote) file.  If
<code>local</code> is <code>true</code>, it is returned as a local time,
otherwise it&#39;s a UTC time.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mtime_source')" id="l_method-i-mtime_source">show</a>
                
              </p>
              <div id="method-i-mtime_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mtime</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">local</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">TIME_PARSER</span>.(<span class="ruby-identifier">mdtm</span>(<span class="ruby-identifier">filename</span>), <span class="ruby-identifier">local</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-nlst">
            
              <b>nlst</b>(dir = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-nlst" name="method-i-nlst" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of filenames in the remote directory.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-nlst_source')" id="l_method-i-nlst_source">show</a>
                
              </p>
              <div id="method-i-nlst_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 755</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">nlst</span>(<span class="ruby-identifier">dir</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-string">&quot;NLST&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">dir</span>
    <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;#{cmd} #{dir}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">files</span> = []
  <span class="ruby-identifier">retrlines</span>(<span class="ruby-identifier">cmd</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">line</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">files</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-noop">
            
              <b>noop</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-noop" name="method-i-noop" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Issues a NOOP command.</p>

<p>Does nothing except return a response.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-noop_source')" id="l_method-i-noop_source">show</a>
                
              </p>
              <div id="method-i-noop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1151</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">noop</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-string">&quot;NOOP&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-put">
            
              <b>put</b>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE, &amp;block)
            
            <a href="../../classes/Net/FTP.html#method-i-put" name="method-i-put" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Transfers <code>localfile</code> to the server in whatever mode the session
is set (text or binary).  See <a
href="FTP.html#method-i-puttextfile">puttextfile</a> and <a
href="FTP.html#method-i-putbinaryfile">putbinaryfile</a>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-put_source')" id="l_method-i-put_source">show</a>
                
              </p>
              <div id="method-i-put_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 732</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">put</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">remotefile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">localfile</span>),
        <span class="ruby-identifier">blocksize</span> = <span class="ruby-constant">DEFAULT_BLOCKSIZE</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@binary</span>
    <span class="ruby-identifier">putbinaryfile</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">remotefile</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">puttextfile</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">remotefile</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-putbinaryfile">
            
              <b>putbinaryfile</b>(localfile, remotefile = File.basename(localfile), blocksize = DEFAULT_BLOCKSIZE)
            
            <a href="../../classes/Net/FTP.html#method-i-putbinaryfile" name="method-i-putbinaryfile" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Transfers <code>localfile</code> to the server in binary mode, storing the
result in <code>remotefile</code>. If a block is supplied, calls it,
passing in the transmitted data in <code>blocksize</code> chunks.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-putbinaryfile_source')" id="l_method-i-putbinaryfile_source">show</a>
                
              </p>
              <div id="method-i-putbinaryfile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 690</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">putbinaryfile</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">remotefile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">localfile</span>),
                  <span class="ruby-identifier">blocksize</span> = <span class="ruby-constant">DEFAULT_BLOCKSIZE</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: data</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@resume</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">rest_offset</span> = <span class="ruby-identifier">size</span>(<span class="ruby-identifier">remotefile</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">FTPPermError</span>
      <span class="ruby-identifier">rest_offset</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rest_offset</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">localfile</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">binmode</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">rest_offset</span>
      <span class="ruby-identifier">storbinary</span>(<span class="ruby-node">&quot;APPE #{remotefile}&quot;</span>, <span class="ruby-identifier">f</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-identifier">rest_offset</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">storbinary</span>(<span class="ruby-node">&quot;STOR #{remotefile}&quot;</span>, <span class="ruby-identifier">f</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-identifier">rest_offset</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-puttextfile">
            
              <b>puttextfile</b>(localfile, remotefile = File.basename(localfile))
            
            <a href="../../classes/Net/FTP.html#method-i-puttextfile" name="method-i-puttextfile" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Transfers <code>localfile</code> to the server in ASCII (text) mode,
storing the result in <code>remotefile</code>. If callback or an associated
block is supplied, calls it, passing in the transmitted data one line at a
time.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-puttextfile_source')" id="l_method-i-puttextfile_source">show</a>
                
              </p>
              <div id="method-i-puttextfile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 719</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">puttextfile</span>(<span class="ruby-identifier">localfile</span>, <span class="ruby-identifier">remotefile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">localfile</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: line</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">localfile</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">storlines</span>(<span class="ruby-node">&quot;STOR #{remotefile}&quot;</span>, <span class="ruby-identifier">f</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pwd">
            
              <b>pwd</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-pwd" name="method-i-pwd" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the current remote directory.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="FTP.html#method-i-getdir">getdir</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-pwd_source')" id="l_method-i-pwd_source">show</a>
                
              </p>
              <div id="method-i-pwd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1074</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">pwd</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-string">&quot;PWD&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">parse257</span>(<span class="ruby-identifier">resp</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-quit">
            
              <b>quit</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-quit" name="method-i-quit" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Exits the <a href="FTP.html">FTP</a> session.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-quit_source')" id="l_method-i-quit_source">show</a>
                
              </p>
              <div id="method-i-quit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1142</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">quit</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-string">&quot;QUIT&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-read_timeout-3D">
            
              <b>read_timeout=</b>(sec)
            
            <a href="../../classes/Net/FTP.html#method-i-read_timeout-3D" name="method-i-read_timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Setter for the <a
href="FTP.html#attribute-i-read_timeout">#read_timeout</a> attribute.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-read_timeout-3D_source')" id="l_method-i-read_timeout-3D_source">show</a>
                
              </p>
              <div id="method-i-read_timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">read_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">sec</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rename">
            
              <b>rename</b>(fromname, toname)
            
            <a href="../../classes/Net/FTP.html#method-i-rename" name="method-i-rename" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Renames a file on the server.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rename_source')" id="l_method-i-rename_source">show</a>
                
              </p>
              <div id="method-i-rename_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 990</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rename</span>(<span class="ruby-identifier">fromname</span>, <span class="ruby-identifier">toname</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-node">&quot;RNFR #{fromname}&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;3&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-node">&quot;RNTO #{toname}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-retrbinary">
            
              <b>retrbinary</b>(cmd, blocksize, rest_offset = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-retrbinary" name="method-i-retrbinary" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Puts the connection into binary (image) mode, issues the given command, and
fetches the data returned, passing it to the associated block in chunks of
<code>blocksize</code> characters. Note that <code>cmd</code> is a server
command (such as “RETR myfile”).</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-retrbinary_source')" id="l_method-i-retrbinary_source">show</a>
                
              </p>
              <div id="method-i-retrbinary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 497</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">retrbinary</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-identifier">rest_offset</span> = <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># :yield: data</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">with_binary</span>(<span class="ruby-keyword">true</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">conn</span> = <span class="ruby-identifier">transfercmd</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">rest_offset</span>)
        <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">data</span> = <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">blocksize</span>)
          <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
          <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">data</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">shutdown</span>(<span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">SHUT_WR</span>)
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-number">1</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">read</span>
      <span class="ruby-keyword">ensure</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">voidresp</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-retrlines">
            
              <b>retrlines</b>(cmd)
            
            <a href="../../classes/Net/FTP.html#method-i-retrlines" name="method-i-retrlines" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Puts the connection into ASCII (text) mode, issues the given command, and
passes the resulting data, one line at a time, to the associated block. If
no block is given, prints the lines. Note that <code>cmd</code> is a server
command (such as “RETR myfile”).</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-retrlines_source')" id="l_method-i-retrlines_source">show</a>
                
              </p>
              <div id="method-i-retrlines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">retrlines</span>(<span class="ruby-identifier">cmd</span>) <span class="ruby-comment"># :yield: line</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">with_binary</span>(<span class="ruby-keyword">false</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">conn</span> = <span class="ruby-identifier">transfercmd</span>(<span class="ruby-identifier">cmd</span>)
        <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">line</span> = <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">gets</span>
          <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
          <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">line</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\r?\n\z/</span>, <span class="ruby-string">&quot;&quot;</span>), <span class="ruby-operator">!</span><span class="ruby-identifier">line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/\n\z/</span>).<span class="ruby-identifier">nil?</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">shutdown</span>(<span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">SHUT_WR</span>)
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-number">1</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">read</span>
      <span class="ruby-keyword">ensure</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">voidresp</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rmdir">
            
              <b>rmdir</b>(dirname)
            
            <a href="../../classes/Net/FTP.html#method-i-rmdir" name="method-i-rmdir" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes a remote directory.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rmdir_source')" id="l_method-i-rmdir_source">show</a>
                
              </p>
              <div id="method-i-rmdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1067</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rmdir</span>(<span class="ruby-identifier">dirname</span>)
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-node">&quot;RMD #{dirname}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sendcmd">
            
              <b>sendcmd</b>(cmd)
            
            <a href="../../classes/Net/FTP.html#method-i-sendcmd" name="method-i-sendcmd" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a command and returns the response.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sendcmd_source')" id="l_method-i-sendcmd_source">show</a>
                
              </p>
              <div id="method-i-sendcmd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sendcmd</span>(<span class="ruby-identifier">cmd</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">putline</span>(<span class="ruby-identifier">cmd</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">getresp</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_socket">
            
              <b>set_socket</b>(sock, get_greeting = true)
            
            <a href="../../classes/Net/FTP.html#method-i-set_socket" name="method-i-set_socket" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="../Set.html">Set</a> the socket used to connect to the <a
href="FTP.html">FTP</a> server.</p>

<p>May raise FTPReplyError if <code>get_greeting</code> is false.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-set_socket_source')" id="l_method-i-set_socket_source">show</a>
                
              </p>
              <div id="method-i-set_socket_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 272</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_socket</span>(<span class="ruby-identifier">sock</span>, <span class="ruby-identifier">get_greeting</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@sock</span> = <span class="ruby-identifier">sock</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">get_greeting</span>
      <span class="ruby-identifier">voidresp</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-site">
            
              <b>site</b>(arg)
            
            <a href="../../classes/Net/FTP.html#method-i-site" name="method-i-site" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Issues a SITE command.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-site_source')" id="l_method-i-site_source">show</a>
                
              </p>
              <div id="method-i-site_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1158</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">site</span>(<span class="ruby-identifier">arg</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-string">&quot;SITE &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arg</span>
  <span class="ruby-identifier">voidcmd</span>(<span class="ruby-identifier">cmd</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-size">
            
              <b>size</b>(filename)
            
            <a href="../../classes/Net/FTP.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the size of the given (remote) filename.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-size_source')" id="l_method-i-size_source">show</a>
                
              </p>
              <div id="method-i-size_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1038</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">size</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-identifier">with_binary</span>(<span class="ruby-keyword">true</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-node">&quot;SIZE #{filename}&quot;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;213&quot;</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">get_body</span>(<span class="ruby-identifier">resp</span>).<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-status">
            
              <b>status</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-status" name="method-i-status" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the status (STAT command).</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-status_source')" id="l_method-i-status_source">show</a>
                
              </p>
              <div id="method-i-status_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1108</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">status</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-string">&quot;STAT&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">CRLF</span>
  <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;put: STAT\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug_mode</span>
  <span class="ruby-ivar">@sock</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">line</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">MSG_OOB</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">getresp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-storbinary">
            
              <b>storbinary</b>(cmd, file, blocksize, rest_offset = nil)
            
            <a href="../../classes/Net/FTP.html#method-i-storbinary" name="method-i-storbinary" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Puts the connection into binary (image) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server. If the optional block is given, it also
passes it the data, in chunks of <code>blocksize</code> characters.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-storbinary_source')" id="l_method-i-storbinary_source">show</a>
                
              </p>
              <div id="method-i-storbinary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 551</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">storbinary</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">blocksize</span>, <span class="ruby-identifier">rest_offset</span> = <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># :yield: data</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rest_offset</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">seek</span>(<span class="ruby-identifier">rest_offset</span>, <span class="ruby-constant">IO</span><span class="ruby-operator">::</span><span class="ruby-constant">SEEK_SET</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">with_binary</span>(<span class="ruby-keyword">true</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">conn</span> = <span class="ruby-identifier">transfercmd</span>(<span class="ruby-identifier">cmd</span>)
      <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">buf</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">blocksize</span>)
        <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">buf</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">buf</span>)
        <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">buf</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-identifier">voidresp</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
  <span class="ruby-comment"># EPIPE, in this case, means that the data connection was unexpectedly</span>
  <span class="ruby-comment"># terminated.  Rather than just raising EPIPE to the caller, check the</span>
  <span class="ruby-comment"># response on the control connection.  If getresp doesn&#39;t raise a more</span>
  <span class="ruby-comment"># appropriate exception, re-raise the original exception.</span>
  <span class="ruby-identifier">getresp</span>
  <span class="ruby-identifier">raise</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-storlines">
            
              <b>storlines</b>(cmd, file)
            
            <a href="../../classes/Net/FTP.html#method-i-storlines" name="method-i-storlines" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Puts the connection into ASCII (text) mode, issues the given server-side
command (such as “STOR myfile”), and sends the contents of the file named
<code>file</code> to the server, one line at a time. If the optional block
is given, it also passes it the lines.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-storlines_source')" id="l_method-i-storlines_source">show</a>
                
              </p>
              <div id="method-i-storlines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">storlines</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">file</span>) <span class="ruby-comment"># :yield: line</span>
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">with_binary</span>(<span class="ruby-keyword">false</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">conn</span> = <span class="ruby-identifier">transfercmd</span>(<span class="ruby-identifier">cmd</span>)
      <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">buf</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">gets</span>
        <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">buf</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">buf</span>[<span class="ruby-number">-2</span>, <span class="ruby-number">2</span>] <span class="ruby-operator">!=</span> <span class="ruby-constant">CRLF</span>
          <span class="ruby-identifier">buf</span> = <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">chomp</span> <span class="ruby-operator">+</span> <span class="ruby-constant">CRLF</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">buf</span>)
        <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">buf</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-identifier">voidresp</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
  <span class="ruby-comment"># EPIPE, in this case, means that the data connection was unexpectedly</span>
  <span class="ruby-comment"># terminated.  Rather than just raising EPIPE to the caller, check the</span>
  <span class="ruby-comment"># response on the control connection.  If getresp doesn&#39;t raise a more</span>
  <span class="ruby-comment"># appropriate exception, re-raise the original exception.</span>
  <span class="ruby-identifier">getresp</span>
  <span class="ruby-identifier">raise</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-system">
            
              <b>system</b>()
            
            <a href="../../classes/Net/FTP.html#method-i-system" name="method-i-system" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns system information.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-system_source')" id="l_method-i-system_source">show</a>
                
              </p>
              <div id="method-i-system_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 1083</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">system</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">sendcmd</span>(<span class="ruby-string">&quot;SYST&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resp</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;215&quot;</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">FTPReplyError</span>, <span class="ruby-identifier">resp</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">get_body</span>(<span class="ruby-identifier">resp</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-voidcmd">
            
              <b>voidcmd</b>(cmd)
            
            <a href="../../classes/Net/FTP.html#method-i-voidcmd" name="method-i-voidcmd" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a command and expect a response beginning with &#39;2&#39;.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-voidcmd_source')" id="l_method-i-voidcmd_source">show</a>
                
              </p>
              <div id="method-i-voidcmd_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/ftp.rb, line 374</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">voidcmd</span>(<span class="ruby-identifier">cmd</span>)
  <span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">putline</span>(<span class="ruby-identifier">cmd</span>)
    <span class="ruby-identifier">voidresp</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    