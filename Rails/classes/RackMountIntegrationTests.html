<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RackMountIntegrationTests</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            RackMountIntegrationTests 
            
                <span class="parent">&lt; 
                    
                    <a href="ActiveSupport/TestCase.html">ActiveSupport::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/actionpack/test/controller/routing_test_rb.html">rails/actionpack/test/controller/routing_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_extras">test_extras</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_generate">test_generate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_generate_extras">test_generate_extras</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_recognize_path">test_recognize_path</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="RoutingTestHelpers.html">
              RoutingTestHelpers
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">Model</td>
            <td>=</td>
            <td class="attr-value">Struct.new(:to_param)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">Mapping</td>
            <td>=</td>
            <td class="attr-value">lambda {
namespace :admin do
resources :users, :posts
end

namespace 'api' do
root :to =&gt; 'users#index'
end

match '/blog(/:year(/:month(/:day)))' =&gt; 'posts#show_date',
:constraints =&gt; {
:year =&gt; /(19|20)\d\d/,
:month =&gt; /[01]?\d/,
:day =&gt; /[0-3]?\d/
},
:day =&gt; nil,
:month =&gt; nil

match 'archive/:year', :controller =&gt; 'archive', :action =&gt; 'index',
:defaults =&gt; { :year =&gt; nil },
:constraints =&gt; { :year =&gt; /\d{4}/ },
:as =&gt; &quot;blog&quot;

resources :people
match 'legacy/people' =&gt; &quot;people#index&quot;, :legacy =&gt; &quot;true&quot;

match 'symbols', :controller =&gt; :symbols, :action =&gt; :show, :name =&gt; :as_symbol
match 'id_default(/:id)' =&gt; &quot;foo#id_default&quot;, :id =&gt; 1
match 'get_or_post' =&gt; &quot;foo#get_or_post&quot;, :via =&gt; [:get, :post]
match 'optional/:optional' =&gt; &quot;posts#index&quot;
match 'projects/:project_id' =&gt; &quot;project#index&quot;, :as =&gt; &quot;project&quot;
match 'clients' =&gt; &quot;projects#index&quot;

match 'ignorecase/geocode/:postalcode' =&gt; 'geocode#show', :postalcode =&gt; /hx\d\d-\d[a-z]{2}/i
match 'extended/geocode/:postalcode' =&gt; 'geocode#show',:constraints =&gt; {
:postalcode =&gt; /# Postcode format
\d{5} #Prefix
(-\d{4})? #Suffix
/x
}, :as =&gt; &quot;geocode&quot;

match 'news(.:format)' =&gt; &quot;news#index&quot;

match 'comment/:id(/:action)' =&gt; &quot;comments#show&quot;
match 'ws/:controller(/:action(/:id))', :ws =&gt; true
match 'account(/:action)' =&gt; &quot;account#subscription&quot;
match 'pages/:page_id/:controller(/:action(/:id))'
match ':controller/ping', :action =&gt; 'ping'
match ':controller(/:action(/:id))(.:format)'
root :to =&gt; &quot;news#index&quot;
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/routing_test.rb, line 1587</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-ivar">@routes</span> = <span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">draw</span>(&amp;<span class="ruby-constant">Mapping</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_extras">
            
              <a name="method-i-test_extras"></a><b>test_extras</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_extras_source')" id="l_method-i-test_extras_source">show</a>
                
              </p>
              <div id="method-i-test_extras_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/routing_test.rb, line 1793</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_extras</span>
  <span class="ruby-identifier">params</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>}
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>}, <span class="ruby-identifier">params</span>)

  <span class="ruby-identifier">params</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>}
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">:foo</span>], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>}, <span class="ruby-identifier">params</span>)

  <span class="ruby-identifier">params</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>, <span class="ruby-value">:person</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Josh'</span>}}
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">:person</span>], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>, <span class="ruby-value">:person</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Josh'</span>}}, <span class="ruby-identifier">params</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_generate">
            
              <a name="method-i-test_generate"></a><b>test_generate</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_generate_source')" id="l_method-i-test_generate_source">show</a>
                
              </p>
              <div id="method-i-test_generate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/routing_test.rb, line 1667</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_generate</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/users'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin_users'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/users'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/users'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/users'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/users'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/accounts'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>,      <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/accounts'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/posts'</span>,     <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/posts'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/posts/new'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/blog/2009'</span>,     <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2009</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/blog/2009/1'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2009</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/blog/2009/1/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2009</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/archive/2010'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'archive'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2010'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/archive'</span>,      <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'archive'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/archive?year=january'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'archive'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'january'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/new'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new_person'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/new'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'person'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1.xml'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Model</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'1'</span>) })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1/edit'</span>,     <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1/edit.xml'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1/edit'</span>,     <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit_person'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people/1?legacy=true'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:legacy</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'true'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/people?legacy=true'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:legacy</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'true'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/id_default/2'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/id_default'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/id_default'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/id_default'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/optional/bar'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:optional</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/project'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/projects/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/projects/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, {<span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) { <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }) }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/projects/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/projects/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'project'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/clients'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/clients?project_id=1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/clients'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/clients'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/comment/20'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">20</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/comment/20'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">20</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/comments/boo'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'boo'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/ws/posts/show/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/ws/posts'</span>,        <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/account'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subscription'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/account/billing'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'billing'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/1/notes/show/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/1/notes/list'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/1/notes'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/1/notes'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/print'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'print'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/print'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'print'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/show/1'</span>,  <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/index/1'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, { <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts'</span>,      <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/notes/list'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts/ping'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'ping'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts/show/1'</span>,  <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts'</span>,         <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts/create'</span>,  <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts?foo=bar'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts?foo%5B%5D=bar&amp;foo%5B%5D=baz'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'bar'</span>, <span class="ruby-string">'baz'</span>] })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts?page=2'</span>,  <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/posts?q%5Bfoo%5D%5Ba%5D=b'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:q</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'b'</span>}} })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/news.rss'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'news'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'rss'</span> })


  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) { <span class="ruby-identifier">url_for</span>(<span class="ruby-ivar">@routes</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_generate_extras">
            
              <a name="method-i-test_generate_extras"></a><b>test_generate_extras</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_generate_extras_source')" id="l_method-i-test_generate_extras_source">show</a>
                
              </p>
              <div id="method-i-test_generate_extras_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/routing_test.rb, line 1775</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_generate_extras</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, [<span class="ruby-value">:foo</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, [<span class="ruby-value">:foo</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people/new'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people/new'</span>, [<span class="ruby-value">:foo</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people/1'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people/1'</span>, [<span class="ruby-value">:bar</span>, <span class="ruby-value">:foo</span>]], <span class="ruby-identifier">sort_extras!</span>(<span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span>, <span class="ruby-value">:bar</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'3'</span>))
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, [<span class="ruby-value">:person</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>, <span class="ruby-value">:person</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Josh'</span>, <span class="ruby-value">:last_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Peek'</span> })
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/people'</span>, [<span class="ruby-value">:people</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>, <span class="ruby-value">:people</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'Josh'</span>, <span class="ruby-string">'Dave'</span>])

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/posts/show/1'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/posts/show/1'</span>, [<span class="ruby-value">:bar</span>, <span class="ruby-value">:foo</span>]], <span class="ruby-identifier">sort_extras!</span>(<span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span>, <span class="ruby-value">:bar</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'3'</span>))
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/posts'</span>, []], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">'/posts'</span>, [<span class="ruby-value">:foo</span>]], <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_recognize_path">
            
              <a name="method-i-test_recognize_path"></a><b>test_recognize_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_recognize_path_source')" id="l_method-i-test_recognize_path_source">show</a>
                
              </p>
              <div id="method-i-test_recognize_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/routing_test.rb, line 1592</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_recognize_path</span>
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users/new'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/users/1/edit'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/posts'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/admin/posts/new'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'api/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/api'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'api/users'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/api/'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2009'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> }, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/blog/2009'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2009'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'01'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> }, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/blog/2009/01'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_date'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2009'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'01'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'01'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/blog/2009/01/01'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'archive'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2010'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/archive/2010'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'archive'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/archive'</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people.xml'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/new'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1.xml'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1/edit'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/people/1/edit.xml'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'symbols'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:as_symbol</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/symbols'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/id_default/1'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/id_default/2'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'id_default'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/id_default'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'get_or_post'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/get_or_post'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'get_or_post'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/get_or_post'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>))
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionControllerError</span>) { <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/get_or_post'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionControllerError</span>) { <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/get_or_post'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>) }

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:optional</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/optional/bar'</span>))
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionControllerError</span>) { <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/optional'</span>) }

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/ws/posts/show/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>, <span class="ruby-value">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/ws/posts/list'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/ws/posts'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subscription'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/account'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subscription'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/account/subscription'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'billing'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/account/billing'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/pages/1/notes'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/pages/1/notes/list'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:page_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'notes'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/pages/1/notes/show/2'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'ping'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts/ping'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts/index'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts/show'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts/show/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/posts/create'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'geocode'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:postalcode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hx12-1az'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/ignorecase/geocode/hx12-1az'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'geocode'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:postalcode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hx12-1AZ'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/ignorecase/geocode/hx12-1AZ'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'geocode'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:postalcode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'12345-1234'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/extended/geocode/12345-1234'</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'geocode'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:postalcode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'12345'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/extended/geocode/12345'</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'news'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> }, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'news'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'rss'</span>}, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/news.rss'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>))

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) { <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">'/none'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    