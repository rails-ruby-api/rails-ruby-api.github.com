<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>TestHelpers::Generation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            TestHelpers::Generation 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/rails/railties/test/isolation/abstract_unit_rb.html">rails/railties/test/isolation/abstract_unit.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Generation/Bukkit.html">TestHelpers::Generation::Bukkit</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add_to_config">add_to_config</a>,
              </li>
            
              
              <li>
                <a href="#method-i-add_to_env_config">add_to_env_config</a>,
              </li>
            
              
              <li>
                <a href="#method-i-app_file">app_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-boot_rails">boot_rails</a>,
              </li>
            
              
              <li>
                <a href="#method-i-build_app">build_app</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-controller">controller</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-engine">engine</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-make_basic_app">make_basic_app</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-plugin">plugin</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-remove_file">remove_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove_from_config">remove_from_config</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-script">script</a>,
              </li>
            
              
              <li>
                <a href="#method-i-simple_controller">simple_controller</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown_app">teardown_app</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-use_frameworks">use_frameworks</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-add_to_config">
            
              <a name="method-i-add_to_config"></a><b>add_to_config</b>(str)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-add_to_config_source')" id="l_method-i-add_to_config_source">show</a>
                
              </p>
              <div id="method-i-add_to_config_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">add_to_config</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-identifier">environment</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-node">&quot;#{app_path}/config/application.rb&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">environment</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r(\n\s*end\s*end\s*)\Z/</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{app_path}/config/application.rb&quot;</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">$`</span> <span class="ruby-operator">+</span> <span class="ruby-node">&quot;\n#{str}\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-node">$1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-add_to_env_config">
            
              <a name="method-i-add_to_env_config"></a><b>add_to_env_config</b>(env, str)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-add_to_env_config_source')" id="l_method-i-add_to_env_config_source">show</a>
                
              </p>
              <div id="method-i-add_to_env_config_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">add_to_env_config</span>(<span class="ruby-identifier">env</span>, <span class="ruby-identifier">str</span>)
  <span class="ruby-identifier">environment</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-node">&quot;#{app_path}/config/environments/#{env}.rb&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">environment</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r(\n\s*end\s*)\Z/</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{app_path}/config/environments/#{env}.rb&quot;</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">$`</span> <span class="ruby-operator">+</span> <span class="ruby-node">&quot;\n#{str}\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-node">$1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-app_file">
            
              <a name="method-i-app_file"></a><b>app_file</b>(path, contents)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-app_file_source')" id="l_method-i-app_file_source">show</a>
                
              </p>
              <div id="method-i-app_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">app_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">contents</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-node">&quot;#{app_path}/#{path}&quot;</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{app_path}/#{path}&quot;</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">contents</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-boot_rails">
            
              <a name="method-i-boot_rails"></a><b>boot_rails</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-boot_rails_source')" id="l_method-i-boot_rails_source">show</a>
                
              </p>
              <div id="method-i-boot_rails_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">boot_rails</span>
  <span class="ruby-identifier">require</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">'../../../../load_paths'</span>, <span class="ruby-keyword">__FILE__</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-build_app">
            
              <a name="method-i-build_app"></a><b>build_app</b>(options = {})
            
          </div>
          
          
            <div class="description">
              <p><a href="../Build.html">Build</a> an application by invoking the generator
and going through the whole stack.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-build_app_source')" id="l_method-i-build_app_source">show</a>
                
              </p>
              <div id="method-i-build_app_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">build_app</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-ivar">@prev_rails_env</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ENV'</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ENV'</span>] = <span class="ruby-string">'development'</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">app_path</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cp_r</span>(<span class="ruby-identifier">tmp_path</span>(<span class="ruby-string">'app_template'</span>), <span class="ruby-identifier">app_path</span>)

  <span class="ruby-comment"># Delete the initializers unless requested</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:initializers</span>]
    <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{app_path}/config/initializers/*.rb&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">initializer</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">initializer</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:gemfile</span>]
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">delete</span><span class="ruby-node">&quot;#{app_path}/Gemfile&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">routes</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-node">&quot;#{app_path}/config/routes.rb&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">routes</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r(\n\s*end\s*)\Z/</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{app_path}/config/routes.rb&quot;</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">$`</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\nmatch ':controller(/:action(/:id))(.:format)'\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-node">$1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">add_to_config</span> <span class="ruby-string">'config.secret_token = &quot;3b7cd727ee24e8444053437c36cc66c4&quot;; config.session_store :cookie_store, :key =&gt; &quot;_myapp_session&quot;; config.active_support.deprecation = :log'</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-controller">
            
              <a name="method-i-controller"></a><b>controller</b>(name, contents)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-controller_source')" id="l_method-i-controller_source">show</a>
                
              </p>
              <div id="method-i-controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">controller</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">contents</span>)
  <span class="ruby-identifier">app_file</span>(<span class="ruby-node">&quot;app/controllers/#{name}_controller.rb&quot;</span>, <span class="ruby-identifier">contents</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-engine">
            
              <a name="method-i-engine"></a><b>engine</b>(name)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-engine_source')" id="l_method-i-engine_source">show</a>
                
              </p>
              <div id="method-i-engine_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">engine</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">dir</span> = <span class="ruby-node">&quot;#{app_path}/random/#{name}&quot;</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">dir</span>)

  <span class="ruby-identifier">app</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">readlines</span>(<span class="ruby-node">&quot;#{app_path}/config/application.rb&quot;</span>)
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-number">2</span>, <span class="ruby-node">&quot;$:.unshift(\&quot;#{dir}/lib\&quot;)&quot;</span>)
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-number">3</span>, <span class="ruby-node">&quot;require #{name.inspect}&quot;</span>)

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{app_path}/config/application.rb&quot;</span>, <span class="ruby-string">'r+'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">app</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Bukkit</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dir</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bukkit</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">bukkit</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-make_basic_app">
            
              <a name="method-i-make_basic_app"></a><b>make_basic_app</b>()
            
          </div>
          
          
            <div class="description">
              <p>Make a very basic app, without creating the whole directory structure. This
is faster and simpler than the method above.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-make_basic_app_source')" id="l_method-i-make_basic_app_source">show</a>
                
              </p>
              <div id="method-i-make_basic_app_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">make_basic_app</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rails&quot;</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;action_controller/railtie&quot;</span>

  <span class="ruby-identifier">app</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>)
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">secret_token</span> = <span class="ruby-string">&quot;3b7cd727ee24e8444053437c36cc66c4&quot;</span>
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">session_store</span> <span class="ruby-value">:cookie_store</span>, <span class="ruby-value">:key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;_myapp_session&quot;</span>
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">active_support</span>.<span class="ruby-identifier">deprecation</span> = <span class="ruby-value">:log</span>

  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">app</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">initialize!</span>

  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">&quot;/&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;omg#index&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">require</span> <span class="ruby-string">'rack/test'</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-plugin">
            
              <a name="method-i-plugin"></a><b>plugin</b>(name, string = &quot;&quot;)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-plugin_source')" id="l_method-i-plugin_source">show</a>
                
              </p>
              <div id="method-i-plugin_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">plugin</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">string</span> = <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">dir</span> = <span class="ruby-node">&quot;#{app_path}/vendor/plugins/#{name}&quot;</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">dir</span>)

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{dir}/init.rb&quot;</span>, <span class="ruby-string">'w'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;::#{name.upcase} = 'loaded'&quot;</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">string</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Bukkit</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dir</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bukkit</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">bukkit</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove_file">
            
              <a name="method-i-remove_file"></a><b>remove_file</b>(path)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_file_source')" id="l_method-i-remove_file_source">show</a>
                
              </p>
              <div id="method-i-remove_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_file</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{app_path}/#{path}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove_from_config">
            
              <a name="method-i-remove_from_config"></a><b>remove_from_config</b>(str)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_from_config_source')" id="l_method-i-remove_from_config_source">show</a>
                
              </p>
              <div id="method-i-remove_from_config_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_from_config</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-identifier">file</span> = <span class="ruby-node">&quot;#{app_path}/config/application.rb&quot;</span>
  <span class="ruby-identifier">contents</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-node">%r#{str}/</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">file</span>, <span class="ruby-string">&quot;w+&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">contents</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-script">
            
              <a name="method-i-script"></a><b>script</b>(script)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-script_source')" id="l_method-i-script_source">show</a>
                
              </p>
              <div id="method-i-script_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">script</span>(<span class="ruby-identifier">script</span>)
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">app_path</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-node">%x#{Gem.ruby} #{app_path}/script/rails #{script}`</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-simple_controller">
            
              <a name="method-i-simple_controller"></a><b>simple_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-simple_controller_source')" id="l_method-i-simple_controller_source">show</a>
                
              </p>
              <div id="method-i-simple_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 148</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">simple_controller</span>
      <span class="ruby-identifier">controller</span> <span class="ruby-value">:foo</span>, <span class="ruby-string">&quot;        class FooController &lt; ApplicationController
          def index
            render :text =&gt; &quot;foo&quot;
          end
        end
&quot;</span>

      <span class="ruby-identifier">app_file</span> <span class="ruby-string">'config/routes.rb'</span>, <span class="ruby-string">&quot;        AppTemplate::Application.routes.draw do
          match ':controller(/:action)'
        end
&quot;</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown_app">
            
              <a name="method-i-teardown_app"></a><b>teardown_app</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_app_source')" id="l_method-i-teardown_app_source">show</a>
                
              </p>
              <div id="method-i-teardown_app_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown_app</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ENV'</span>] = <span class="ruby-ivar">@prev_rails_env</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@prev_rails_env</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-use_frameworks">
            
              <a name="method-i-use_frameworks"></a><b>use_frameworks</b>(arr)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-use_frameworks_source')" id="l_method-i-use_frameworks_source">show</a>
                
              </p>
              <div id="method-i-use_frameworks_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/railties/test/isolation/abstract_unit.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">use_frameworks</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">to_remove</span> =  [<span class="ruby-value">:actionmailer</span>,
                <span class="ruby-value">:activemodel</span>,
                <span class="ruby-value">:activerecord</span>,
                <span class="ruby-value">:activeresource</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">arr</span>
  <span class="ruby-identifier">remove_from_config</span> <span class="ruby-string">&quot;config.active_record.identity_map = true&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">to_remove</span>.<span class="ruby-identifier">include?</span> <span class="ruby-value">:activerecord</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">reject!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-node">%r/(#{to_remove.join('|')})/'</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    