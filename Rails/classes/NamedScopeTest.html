<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>NamedScopeTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            NamedScopeTest 
            
                <span class="parent">&lt; 
                    
                    ActiveRecord::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/activerecord/test/cases/named_scope_test_rb.html">rails/activerecord/test/cases/named_scope_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_active_records_have_scope_named__all__">test_active_records_have_scope_named__all__</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_active_records_have_scope_named__scoped__">test_active_records_have_scope_named__scoped__</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_any_should_call_proxy_found_if_using_a_block">test_any_should_call_proxy_found_if_using_a_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_any_should_not_fire_query_if_scope_loaded">test_any_should_not_fire_query_if_scope_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_any_should_not_load_results">test_any_should_not_load_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_chaining_should_use_latest_conditions_when_creating">test_chaining_should_use_latest_conditions_when_creating</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_chaining_should_use_latest_conditions_when_searching">test_chaining_should_use_latest_conditions_when_searching</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_chaining_with_duplicate_joins">test_chaining_with_duplicate_joins</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delegates_finds_and_calculations_to_the_base_class">test_delegates_finds_and_calculations_to_the_base_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_empty_should_not_load_results">test_empty_should_not_load_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_extensions">test_extensions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_find_all_should_behave_like_select">test_find_all_should_behave_like_select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded">test_first_and_last_find_options_should_use_query_when_results_are_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_first_and_last_should_allow_integers_for_limit">test_first_and_last_should_allow_integers_for_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_first_and_last_should_not_use_query_when_results_are_loaded">test_first_and_last_should_not_use_query_when_results_are_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_first_and_last_should_support_find_options">test_first_and_last_should_support_find_options</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_found_items_are_cached">test_found_items_are_cached</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_associations_have_access_to_scopes">test_has_many_associations_have_access_to_scopes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_associations_have_access_to_scopes">test_has_many_through_associations_have_access_to_scopes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_implements_enumerable">test_implements_enumerable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_index_on_scope">test_index_on_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_many_should_call_proxy_found_if_using_a_block">test_many_should_call_proxy_found_if_using_a_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_many_should_not_fire_query_if_scope_loaded">test_many_should_not_fire_query_if_scope_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_many_should_not_load_results">test_many_should_not_load_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_many_should_return_false_if_none_or_one">test_many_should_return_false_if_none_or_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_many_should_return_true_if_more_than_one">test_many_should_return_true_if_more_than_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_model_class_should_respond_to_any">test_model_class_should_respond_to_any</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_model_class_should_respond_to_many">test_model_class_should_respond_to_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_extensions">test_multiple_extensions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_scopes_queries_size">test_nested_scopes_queries_size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_procedural_scopes">test_procedural_scopes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_procedural_scopes_returning_nil">test_procedural_scopes_returning_nil</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_rand_should_select_a_random_object_from_proxy">test_rand_should_select_a_random_object_from_proxy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_reload_expires_cache_of_found_items">test_reload_expires_cache_of_found_items</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_respond_to_respects_include_private_parameter">test_respond_to_respects_include_private_parameter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy">test_scope_should_respond_to_own_methods_and_methods_of_the_proxy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scope_with_STI">test_scope_with_STI</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scope_with_object">test_scope_with_object</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist">test_scoped_are_lazy_loaded_if_table_still_does_not_exist</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_are_cached_on_associations">test_scopes_are_cached_on_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_are_composable">test_scopes_are_composable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_are_reset_on_association_reload">test_scopes_are_reset_on_association_reload</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_batch_finders">test_scopes_batch_finders</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_can_be_specified_with_deep_hash_conditions">test_scopes_can_be_specified_with_deep_hash_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_honor_current_scopes_from_when_defined">test_scopes_honor_current_scopes_from_when_defined</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_on_relations">test_scopes_on_relations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_arguments_are_cached_on_associations">test_scopes_with_arguments_are_cached_on_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_joins">test_scopes_with_joins</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_joins_respects_custom_select">test_scopes_with_joins_respects_custom_select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified">test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_reserved_names">test_scopes_with_reserved_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scopes_with_string_name_can_be_composed">test_scopes_with_string_name_can_be_composed</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_build_new_on_top_of_scope">test_should_build_new_on_top_of_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_build_on_top_of_chained_scopes">test_should_build_on_top_of_chained_scopes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_build_on_top_of_scope">test_should_build_on_top_of_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_create_on_top_of_scope">test_should_create_on_top_of_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_create_with_bang_on_top_of_scope">test_should_create_with_bang_on_top_of_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_use_where_in_query_for_scope">test_should_use_where_in_query_for_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_size_should_use_count_when_results_are_not_loaded">test_size_should_use_count_when_results_are_not_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_size_should_use_length_when_results_are_loaded">test_size_should_use_length_when_results_are_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included">test_table_names_for_chaining_scopes_with_and_without_table_name_included</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-test_active_records_have_scope_named__all__">
            
              <a name="method-i-test_active_records_have_scope_named__all__"></a><b>test_active_records_have_scope_named__all__</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_active_records_have_scope_named__all___source')" id="l_method-i-test_active_records_have_scope_named__all___source">show</a>
                
              </p>
              <div id="method-i-test_active_records_have_scope_named__all___source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_active_records_have_scope_named__all__</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_active_records_have_scope_named__scoped__">
            
              <a name="method-i-test_active_records_have_scope_named__scoped__"></a><b>test_active_records_have_scope_named__scoped__</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_active_records_have_scope_named__scoped___source')" id="l_method-i-test_active_records_have_scope_named__scoped___source">show</a>
                
              </p>
              <div id="method-i-test_active_records_have_scope_named__scoped___source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_active_records_have_scope_named__scoped__</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-identifier">scope</span> = {<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content LIKE '%Have%'&quot;</span>}).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-identifier">scope</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">scoped</span>(<span class="ruby-identifier">scope</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_any_should_call_proxy_found_if_using_a_block">
            
              <a name="method-i-test_any_should_call_proxy_found_if_using_a_block"></a><b>test_any_should_call_proxy_found_if_using_a_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_any_should_call_proxy_found_if_using_a_block_source')" id="l_method-i-test_any_should_call_proxy_found_if_using_a_block_source">show</a>
                
              </p>
              <div id="method-i-test_any_should_call_proxy_found_if_using_a_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_any_should_call_proxy_found_if_using_a_block</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:empty?</span>).<span class="ruby-identifier">never</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-keyword">true</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_any_should_not_fire_query_if_scope_loaded">
            
              <a name="method-i-test_any_should_not_fire_query_if_scope_loaded"></a><b>test_any_should_not_fire_query_if_scope_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_any_should_not_fire_query_if_scope_loaded_source')" id="l_method-i-test_any_should_not_fire_query_if_scope_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_any_should_not_fire_query_if_scope_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_any_should_not_fire_query_if_scope_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">collect</span> <span class="ruby-comment"># force load</span>
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">any?</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_any_should_not_load_results">
            
              <a name="method-i-test_any_should_not_load_results"></a><b>test_any_should_not_load_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_any_should_not_load_results_source')" id="l_method-i-test_any_should_not_load_results_source">show</a>
                
              </p>
              <div id="method-i-test_any_should_not_load_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_any_should_not_load_results</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">any?</span>    <span class="ruby-comment"># use count query</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">collect</span> <span class="ruby-comment"># force load</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">any?</span>    <span class="ruby-comment"># use loaded (no query)</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_chaining_should_use_latest_conditions_when_creating">
            
              <a name="method-i-test_chaining_should_use_latest_conditions_when_creating"></a><b>test_chaining_should_use_latest_conditions_when_creating</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_chaining_should_use_latest_conditions_when_creating_source')" id="l_method-i-test_chaining_should_use_latest_conditions_when_creating_source">show</a>
                
              </p>
              <div id="method-i-test_chaining_should_use_latest_conditions_when_creating_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 346</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_chaining_should_use_latest_conditions_when_creating</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">post</span>.<span class="ruby-identifier">approved?</span>

  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">approved?</span>

  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">post</span>.<span class="ruby-identifier">approved?</span>

  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">approved?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_chaining_should_use_latest_conditions_when_searching">
            
              <a name="method-i-test_chaining_should_use_latest_conditions_when_searching"></a><b>test_chaining_should_use_latest_conditions_when_searching</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_chaining_should_use_latest_conditions_when_searching_source')" id="l_method-i-test_chaining_should_use_latest_conditions_when_searching_source">show</a>
                
              </p>
              <div id="method-i-test_chaining_should_use_latest_conditions_when_searching_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_chaining_should_use_latest_conditions_when_searching</span>
  <span class="ruby-comment"># Normal hash conditions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>).<span class="ruby-identifier">to_a</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>).<span class="ruby-identifier">to_a</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">rejected</span>.<span class="ruby-identifier">all</span>

  <span class="ruby-comment"># Nested hash conditions with same keys</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_comments</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">with_special_comments</span>.<span class="ruby-identifier">with_very_special_comments</span>.<span class="ruby-identifier">all</span>

  <span class="ruby-comment"># Nested hash conditions with different keys</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_comments</span>)], <span class="ruby-constant">Post</span>.<span class="ruby-identifier">with_special_comments</span>.<span class="ruby-identifier">with_post</span>(<span class="ruby-number">4</span>).<span class="ruby-identifier">all</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_chaining_with_duplicate_joins">
            
              <a name="method-i-test_chaining_with_duplicate_joins"></a><b>test_chaining_with_duplicate_joins</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_chaining_with_duplicate_joins_source')" id="l_method-i-test_chaining_with_duplicate_joins_source">show</a>
                
              </p>
              <div id="method-i-test_chaining_with_duplicate_joins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_chaining_with_duplicate_joins</span>
  <span class="ruby-identifier">join</span> = <span class="ruby-string">&quot;INNER JOIN comments ON comments.post_id = posts.id&quot;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">scoped</span>(<span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">join</span>).<span class="ruby-identifier">scoped</span>(<span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">join</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;posts.id = #{post.id}&quot;</span>).<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delegates_finds_and_calculations_to_the_base_class">
            
              <a name="method-i-test_delegates_finds_and_calculations_to_the_base_class"></a><b>test_delegates_finds_and_calculations_to_the_base_class</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delegates_finds_and_calculations_to_the_base_class_source')" id="l_method-i-test_delegates_finds_and_calculations_to_the_base_class_source">show</a>
                
              </p>
              <div id="method-i-test_delegates_finds_and_calculations_to_the_base_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delegates_finds_and_calculations_to_the_base_class</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>),               <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>),             <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">count</span>,                    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">average</span>(<span class="ruby-value">:replies_count</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">average</span>(<span class="ruby-value">:replies_count</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_empty_should_not_load_results">
            
              <a name="method-i-test_empty_should_not_load_results"></a><b>test_empty_should_not_load_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_empty_should_not_load_results_source')" id="l_method-i-test_empty_should_not_load_results_source">show</a>
                
              </p>
              <div id="method-i-test_empty_should_not_load_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_empty_should_not_load_results</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">empty?</span>  <span class="ruby-comment"># use count query</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">collect</span> <span class="ruby-comment"># force load</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">empty?</span>  <span class="ruby-comment"># use loaded (no query)</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_extensions">
            
              <a name="method-i-test_extensions"></a><b>test_extensions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_extensions_source')" id="l_method-i-test_extensions_source">show</a>
                
              </p>
              <div id="method-i-test_extensions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_extensions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">anonymous_extension</span>.<span class="ruby-identifier">one</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">named_extension</span>.<span class="ruby-identifier">two</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_find_all_should_behave_like_select">
            
              <a name="method-i-test_find_all_should_behave_like_select"></a><b>test_find_all_should_behave_like_select</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_find_all_should_behave_like_select_source')" id="l_method-i-test_find_all_should_behave_like_select_source">show</a>
                
              </p>
              <div id="method-i-test_find_all_should_behave_like_select_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_find_all_should_behave_like_select</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">select</span>(&amp;<span class="ruby-value">:approved</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">find_all</span>(&amp;<span class="ruby-value">:approved</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded">
            
              <a name="method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded"></a><b>test_first_and_last_find_options_should_use_query_when_results_are_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded_source')" id="l_method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_first_and_last_find_options_should_use_query_when_results_are_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_first_and_last_find_options_should_use_query_when_results_are_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">reload</span> <span class="ruby-comment"># force load</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>)
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">last</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_first_and_last_should_allow_integers_for_limit">
            
              <a name="method-i-test_first_and_last_should_allow_integers_for_limit"></a><b>test_first_and_last_should_allow_integers_for_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_first_and_last_should_allow_integers_for_limit_source')" id="l_method-i-test_first_and_last_should_allow_integers_for_limit_source">show</a>
                
              </p>
              <div id="method-i-test_first_and_last_should_allow_integers_for_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_first_and_last_should_allow_integers_for_limit</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">first</span>(<span class="ruby-number">2</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">first</span>(<span class="ruby-number">2</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">last</span>(<span class="ruby-number">2</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&quot;id&quot;</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">last</span>(<span class="ruby-number">2</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_first_and_last_should_not_use_query_when_results_are_loaded">
            
              <a name="method-i-test_first_and_last_should_not_use_query_when_results_are_loaded"></a><b>test_first_and_last_should_not_use_query_when_results_are_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_first_and_last_should_not_use_query_when_results_are_loaded_source')" id="l_method-i-test_first_and_last_should_not_use_query_when_results_are_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_first_and_last_should_not_use_query_when_results_are_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_first_and_last_should_not_use_query_when_results_are_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">reload</span> <span class="ruby-comment"># force load</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_first_and_last_should_support_find_options">
            
              <a name="method-i-test_first_and_last_should_support_find_options"></a><b>test_first_and_last_should_support_find_options</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_first_and_last_should_support_find_options_source')" id="l_method-i-test_first_and_last_should_support_find_options_source">show</a>
                
              </p>
              <div id="method-i-test_first_and_last_should_support_find_options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_first_and_last_should_support_find_options</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">last</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:last</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_found_items_are_cached">
            
              <a name="method-i-test_found_items_are_cached"></a><b>test_found_items_are_cached</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_found_items_are_cached_source')" id="l_method-i-test_found_items_are_cached_source">show</a>
                
              </p>
              <div id="method-i-test_found_items_are_cached_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_found_items_are_cached</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">columns</span>
  <span class="ruby-identifier">all_posts</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>

  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">all_posts</span>.<span class="ruby-identifier">collect</span>
    <span class="ruby-identifier">all_posts</span>.<span class="ruby-identifier">collect</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_associations_have_access_to_scopes">
            
              <a name="method-i-test_has_many_associations_have_access_to_scopes"></a><b>test_has_many_associations_have_access_to_scopes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_associations_have_access_to_scopes_source')" id="l_method-i-test_has_many_associations_have_access_to_scopes_source">show</a>
                
              </p>
              <div id="method-i-test_has_many_associations_have_access_to_scopes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_associations_have_access_to_scopes</span>
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">containing_the_letter_a</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Post</span>.<span class="ruby-identifier">containing_the_letter_a</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span> &amp; <span class="ruby-constant">Post</span>.<span class="ruby-identifier">containing_the_letter_a</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">containing_the_letter_a</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_associations_have_access_to_scopes">
            
              <a name="method-i-test_has_many_through_associations_have_access_to_scopes"></a><b>test_has_many_through_associations_have_access_to_scopes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_associations_have_access_to_scopes_source')" id="l_method-i-test_has_many_through_associations_have_access_to_scopes_source">show</a>
                
              </p>
              <div id="method-i-test_has_many_through_associations_have_access_to_scopes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 149</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_associations_have_access_to_scopes</span>
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">containing_the_letter_e</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Comment</span>.<span class="ruby-identifier">containing_the_letter_e</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span> &amp; <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">containing_the_letter_e</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">containing_the_letter_e</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_implements_enumerable">
            
              <a name="method-i-test_implements_enumerable"></a><b>test_implements_enumerable</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_implements_enumerable_source')" id="l_method-i-test_implements_enumerable_source">show</a>
                
              </p>
              <div id="method-i-test_implements_enumerable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_implements_enumerable</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>),   <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>),   <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>),   <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_index_on_scope">
            
              <a name="method-i-test_index_on_scope"></a><b>test_index_on_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_index_on_scope_source')" id="l_method-i-test_index_on_scope_source">show</a>
                
              </p>
              <div id="method-i-test_index_on_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_index_on_scope</span>
  <span class="ruby-identifier">approved</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">'id ASC'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics</span>(<span class="ruby-value">:second</span>), <span class="ruby-identifier">approved</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">approved</span>.<span class="ruby-identifier">loaded?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_many_should_call_proxy_found_if_using_a_block">
            
              <a name="method-i-test_many_should_call_proxy_found_if_using_a_block"></a><b>test_many_should_call_proxy_found_if_using_a_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_many_should_call_proxy_found_if_using_a_block_source')" id="l_method-i-test_many_should_call_proxy_found_if_using_a_block_source">show</a>
                
              </p>
              <div id="method-i-test_many_should_call_proxy_found_if_using_a_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_many_should_call_proxy_found_if_using_a_block</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:size</span>).<span class="ruby-identifier">never</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span> { <span class="ruby-keyword">true</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_many_should_not_fire_query_if_scope_loaded">
            
              <a name="method-i-test_many_should_not_fire_query_if_scope_loaded"></a><b>test_many_should_not_fire_query_if_scope_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_many_should_not_fire_query_if_scope_loaded_source')" id="l_method-i-test_many_should_not_fire_query_if_scope_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_many_should_not_fire_query_if_scope_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_many_should_not_fire_query_if_scope_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">collect</span> <span class="ruby-comment"># force load</span>
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_many_should_not_load_results">
            
              <a name="method-i-test_many_should_not_load_results"></a><b>test_many_should_not_load_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_many_should_not_load_results_source')" id="l_method-i-test_many_should_not_load_results_source">show</a>
                
              </p>
              <div id="method-i-test_many_should_not_load_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_many_should_not_load_results</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span>   <span class="ruby-comment"># use count query</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">collect</span> <span class="ruby-comment"># force load</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span>   <span class="ruby-comment"># use loaded (no query)</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_many_should_return_false_if_none_or_one">
            
              <a name="method-i-test_many_should_return_false_if_none_or_one"></a><b>test_many_should_return_false_if_none_or_one</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_many_should_return_false_if_none_or_one_source')" id="l_method-i-test_many_should_return_false_if_none_or_one_source">show</a>
                
              </p>
              <div id="method-i-test_many_should_return_false_if_none_or_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_many_should_return_false_if_none_or_one</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">scoped</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>})
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">scoped</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>})
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">topics</span>.<span class="ruby-identifier">many?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_many_should_return_true_if_more_than_one">
            
              <a name="method-i-test_many_should_return_true_if_more_than_one"></a><b>test_many_should_return_true_if_more_than_one</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_many_should_return_true_if_more_than_one_source')" id="l_method-i-test_many_should_return_true_if_more_than_one_source">show</a>
                
              </p>
              <div id="method-i-test_many_should_return_true_if_more_than_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_many_should_return_true_if_more_than_one</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>.<span class="ruby-identifier">many?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_model_class_should_respond_to_any">
            
              <a name="method-i-test_model_class_should_respond_to_any"></a><b>test_model_class_should_respond_to_any</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_model_class_should_respond_to_any_source')" id="l_method-i-test_model_class_should_respond_to_any_source">show</a>
                
              </p>
              <div id="method-i-test_model_class_should_respond_to_any_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_model_class_should_respond_to_any</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">any?</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">delete_all</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">any?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_model_class_should_respond_to_many">
            
              <a name="method-i-test_model_class_should_respond_to_many"></a><b>test_model_class_should_respond_to_many</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_model_class_should_respond_to_many_source')" id="l_method-i-test_model_class_should_respond_to_many_source">show</a>
                
              </p>
              <div id="method-i-test_model_class_should_respond_to_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_model_class_should_respond_to_many</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">delete_all</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">many?</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">many?</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">many?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_extensions">
            
              <a name="method-i-test_multiple_extensions"></a><b>test_multiple_extensions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_extensions_source')" id="l_method-i-test_multiple_extensions_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_extensions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_extensions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">multiple_extensions</span>.<span class="ruby-identifier">extension_two</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">multiple_extensions</span>.<span class="ruby-identifier">extension_one</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_scopes_queries_size">
            
              <a name="method-i-test_nested_scopes_queries_size"></a><b>test_nested_scopes_queries_size</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_scopes_queries_size_source')" id="l_method-i-test_nested_scopes_queries_size_source">show</a>
                
              </p>
              <div id="method-i-test_nested_scopes_queries_size_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_scopes_queries_size</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">by_lifo</span>.<span class="ruby-identifier">replied</span>.<span class="ruby-identifier">written_before</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_procedural_scopes">
            
              <a name="method-i-test_procedural_scopes"></a><b>test_procedural_scopes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_procedural_scopes_source')" id="l_method-i-test_procedural_scopes_source">show</a>
                
              </p>
              <div id="method-i-test_procedural_scopes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_procedural_scopes</span>
  <span class="ruby-identifier">topics_written_before_the_third</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'written_on &lt; ?'</span>, <span class="ruby-identifier">topics</span>(<span class="ruby-value">:third</span>).<span class="ruby-identifier">written_on</span>])
  <span class="ruby-identifier">topics_written_before_the_second</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'written_on &lt; ?'</span>, <span class="ruby-identifier">topics</span>(<span class="ruby-value">:second</span>).<span class="ruby-identifier">written_on</span>])
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">topics_written_before_the_second</span>, <span class="ruby-identifier">topics_written_before_the_third</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics_written_before_the_third</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">written_before</span>(<span class="ruby-identifier">topics</span>(<span class="ruby-value">:third</span>).<span class="ruby-identifier">written_on</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics_written_before_the_second</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">written_before</span>(<span class="ruby-identifier">topics</span>(<span class="ruby-value">:second</span>).<span class="ruby-identifier">written_on</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_procedural_scopes_returning_nil">
            
              <a name="method-i-test_procedural_scopes_returning_nil"></a><b>test_procedural_scopes_returning_nil</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_procedural_scopes_returning_nil_source')" id="l_method-i-test_procedural_scopes_returning_nil_source">show</a>
                
              </p>
              <div id="method-i-test_procedural_scopes_returning_nil_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_procedural_scopes_returning_nil</span>
  <span class="ruby-identifier">all_topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">all_topics</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">written_before</span>(<span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_rand_should_select_a_random_object_from_proxy">
            
              <a name="method-i-test_rand_should_select_a_random_object_from_proxy"></a><b>test_rand_should_select_a_random_object_from_proxy</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_rand_should_select_a_random_object_from_proxy_source')" id="l_method-i-test_rand_should_select_a_random_object_from_proxy_source">show</a>
                
              </p>
              <div id="method-i-test_rand_should_select_a_random_object_from_proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_rand_should_select_a_random_object_from_proxy</span>
  <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Topic</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">sample</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_reload_expires_cache_of_found_items">
            
              <a name="method-i-test_reload_expires_cache_of_found_items"></a><b>test_reload_expires_cache_of_found_items</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_reload_expires_cache_of_found_items_source')" id="l_method-i-test_reload_expires_cache_of_found_items_source">show</a>
                
              </p>
              <div id="method-i-test_reload_expires_cache_of_found_items_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_reload_expires_cache_of_found_items</span>
  <span class="ruby-identifier">all_posts</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">all_posts</span>.<span class="ruby-identifier">all</span>

  <span class="ruby-identifier">new_post</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">all_posts</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">new_post</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">all_posts</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">new_post</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_respond_to_respects_include_private_parameter">
            
              <a name="method-i-test_respond_to_respects_include_private_parameter"></a><b>test_respond_to_respects_include_private_parameter</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_respond_to_respects_include_private_parameter_source')" id="l_method-i-test_respond_to_respects_include_private_parameter_source">show</a>
                
              </p>
              <div id="method-i-test_respond_to_respects_include_private_parameter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_respond_to_respects_include_private_parameter</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:tables_in_string</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:tables_in_string</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy">
            
              <a name="method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy"></a><b>test_scope_should_respond_to_own_methods_and_methods_of_the_proxy</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy_source')" id="l_method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy_source">show</a>
                
              </p>
              <div id="method-i-test_scope_should_respond_to_own_methods_and_methods_of_the_proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scope_should_respond_to_own_methods_and_methods_of_the_proxy</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:limit</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:count</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:length</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scope_with_STI">
            
              <a name="method-i-test_scope_with_STI"></a><b>test_scope_with_STI</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scope_with_STI_source')" id="l_method-i-test_scope_with_STI_source">show</a>
                
              </p>
              <div id="method-i-test_scope_with_STI_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scope_with_STI</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>,<span class="ruby-constant">Post</span>.<span class="ruby-identifier">containing_the_letter_a</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>,<span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">containing_the_letter_a</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scope_with_object">
            
              <a name="method-i-test_scope_with_object"></a><b>test_scope_with_object</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scope_with_object_source')" id="l_method-i-test_scope_with_object_source">show</a>
                
              </p>
              <div id="method-i-test_scope_with_object_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scope_with_object</span>
  <span class="ruby-identifier">objects</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">with_object</span>
  <span class="ruby-identifier">assert_operator</span> <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">length</span>, <span class="ruby-value">:&gt;</span>, <span class="ruby-number">0</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">all?</span>(&amp;<span class="ruby-value">:approved?</span>), <span class="ruby-string">'all objects should be approved'</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist">
            
              <a name="method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist"></a><b>test_scoped_are_lazy_loaded_if_table_still_does_not_exist</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist_source')" id="l_method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist_source">show</a>
                
              </p>
              <div id="method-i-test_scoped_are_lazy_loaded_if_table_still_does_not_exist_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scoped_are_lazy_loaded_if_table_still_does_not_exist</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;models/without_table&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_are_cached_on_associations">
            
              <a name="method-i-test_scopes_are_cached_on_associations"></a><b>test_scopes_are_cached_on_associations</b>()
            
          </div>
          
          
            <div class="description">
              <p>Note: these next two are kinda odd because they are essentially just
testing that the query cache works as it should, but they are here for
legacy reasons as they was previously a separate cache on association
proxies, and these show that that is not necessary.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_are_cached_on_associations_source')" id="l_method-i-test_scopes_are_cached_on_associations_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_are_cached_on_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_are_cached_on_associations</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)

  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">cache</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">containing_the_letter_e</span>.<span class="ruby-identifier">all</span> }
    <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">containing_the_letter_e</span>.<span class="ruby-identifier">all</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_are_composable">
            
              <a name="method-i-test_scopes_are_composable"></a><b>test_scopes_are_composable</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_are_composable_source')" id="l_method-i-test_scopes_are_composable_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_are_composable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_are_composable</span>
  <span class="ruby-identifier">assert_equal</span>((<span class="ruby-identifier">approved</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>})), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>)
  <span class="ruby-identifier">assert_equal</span>((<span class="ruby-identifier">replied</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'replies_count &gt; 0'</span>)), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">replied</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">approved</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">replied</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">approved</span> &amp; <span class="ruby-identifier">replied</span>).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">approved</span> &amp; <span class="ruby-identifier">replied</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">replied</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_are_reset_on_association_reload">
            
              <a name="method-i-test_scopes_are_reset_on_association_reload"></a><b>test_scopes_are_reset_on_association_reload</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_are_reset_on_association_reload_source')" id="l_method-i-test_scopes_are_reset_on_association_reload_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_are_reset_on_association_reload_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 459</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_are_reset_on_association_reload</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)

  [<span class="ruby-value">:destroy_all</span>, <span class="ruby-value">:reset</span>, <span class="ruby-value">:delete_all</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">before</span> = <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">containing_the_letter_e</span>
    <span class="ruby-identifier">post</span>.<span class="ruby-identifier">association</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">before</span>.<span class="ruby-identifier">object_id</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">containing_the_letter_e</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-node">&quot;CollectionAssociation##{method} should reset the named scopes cache&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_batch_finders">
            
              <a name="method-i-test_scopes_batch_finders"></a><b>test_scopes_batch_finders</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_batch_finders_source')" id="l_method-i-test_scopes_batch_finders_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_batch_finders_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_batch_finders</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">count</span>

  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">4</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">find_each</span>(<span class="ruby-value">:batch_size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">approved?</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">find_in_batches</span>(<span class="ruby-value">:batch_size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">group</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">approved?</span> }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_can_be_specified_with_deep_hash_conditions">
            
              <a name="method-i-test_scopes_can_be_specified_with_deep_hash_conditions"></a><b>test_scopes_can_be_specified_with_deep_hash_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_can_be_specified_with_deep_hash_conditions_source')" id="l_method-i-test_scopes_can_be_specified_with_deep_hash_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_can_be_specified_with_deep_hash_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_can_be_specified_with_deep_hash_conditions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">replied</span>.<span class="ruby-identifier">approved</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">replied</span>.<span class="ruby-identifier">approved_as_hash_condition</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_honor_current_scopes_from_when_defined">
            
              <a name="method-i-test_scopes_honor_current_scopes_from_when_defined"></a><b>test_scopes_honor_current_scopes_from_when_defined</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_honor_current_scopes_from_when_defined_source')" id="l_method-i-test_scopes_honor_current_scopes_from_when_defined_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_honor_current_scopes_from_when_defined_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_honor_current_scopes_from_when_defined</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Post</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>).<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>).<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">top</span>(<span class="ruby-number">5</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">top</span>(<span class="ruby-number">5</span>)
  <span class="ruby-comment"># Oracle sometimes sorts differently if WHERE condition is changed</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">top</span>(<span class="ruby-number">5</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">ranked_by_comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">5</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">top</span>(<span class="ruby-number">5</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_on_relations">
            
              <a name="method-i-test_scopes_on_relations"></a><b>test_scopes_on_relations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_on_relations_source')" id="l_method-i-test_scopes_on_relations_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_on_relations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_on_relations</span>
  <span class="ruby-comment"># Topic.replied</span>
  <span class="ruby-identifier">approved_topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">scoped</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">'id DESC'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics</span>(<span class="ruby-value">:fourth</span>), <span class="ruby-identifier">approved_topics</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">replied_approved_topics</span> = <span class="ruby-identifier">approved_topics</span>.<span class="ruby-identifier">replied</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics</span>(<span class="ruby-value">:third</span>), <span class="ruby-identifier">replied_approved_topics</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_arguments_are_cached_on_associations">
            
              <a name="method-i-test_scopes_with_arguments_are_cached_on_associations"></a><b>test_scopes_with_arguments_are_cached_on_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_arguments_are_cached_on_associations_source')" id="l_method-i-test_scopes_with_arguments_are_cached_on_associations_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_arguments_are_cached_on_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_arguments_are_cached_on_associations</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)

  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">cache</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">one</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">all</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">one</span>.<span class="ruby-identifier">size</span>

    <span class="ruby-identifier">two</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">2</span>).<span class="ruby-identifier">all</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">two</span>.<span class="ruby-identifier">size</span>

    <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">all</span> }
    <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">limit_by</span>(<span class="ruby-number">2</span>).<span class="ruby-identifier">all</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_joins">
            
              <a name="method-i-test_scopes_with_joins"></a><b>test_scopes_with_joins</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_joins_source')" id="l_method-i-test_scopes_with_joins_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_joins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_joins</span>
  <span class="ruby-identifier">address</span> = <span class="ruby-identifier">author_addresses</span>(<span class="ruby-value">:david_address</span>)
  <span class="ruby-identifier">posts_with_authors_at_address</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(
    <span class="ruby-value">:all</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'JOIN authors ON authors.id = posts.author_id'</span>,
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">'authors.author_address_id = ?'</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">id</span> ]
  )
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts_with_authors_at_address</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">with_authors_at_address</span>(<span class="ruby-identifier">address</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_joins_respects_custom_select">
            
              <a name="method-i-test_scopes_with_joins_respects_custom_select"></a><b>test_scopes_with_joins_respects_custom_select</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_joins_respects_custom_select_source')" id="l_method-i-test_scopes_with_joins_respects_custom_select_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_joins_respects_custom_select_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_joins_respects_custom_select</span>
  <span class="ruby-identifier">address</span> = <span class="ruby-identifier">author_addresses</span>(<span class="ruby-value">:david_address</span>)
  <span class="ruby-identifier">posts_with_authors_at_address_titles</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>,
    <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>,
    <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'JOIN authors ON authors.id = posts.author_id'</span>,
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">'authors.author_address_id = ?'</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">id</span> ]
  )
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts_with_authors_at_address_titles</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:title</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">with_authors_at_address</span>(<span class="ruby-identifier">address</span>).<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'title'</span>).<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified">
            
              <a name="method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified"></a><b>test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified_source')" id="l_method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_options_limit_finds_to_those_matching_the_criteria_specified</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}).<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}), <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_reserved_names">
            
              <a name="method-i-test_scopes_with_reserved_names"></a><b>test_scopes_with_reserved_names</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_reserved_names_source')" id="l_method-i-test_scopes_with_reserved_names_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_reserved_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_reserved_names</span>
  <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword ruby-title">Topic</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">public_method</span>; <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">public</span> <span class="ruby-value">:public_method</span>

    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">protected_method</span>; <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">protected</span> <span class="ruby-value">:protected_method</span>

    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">private_method</span>; <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">private</span> <span class="ruby-value">:private_method</span>
  <span class="ruby-keyword">end</span>

  [<span class="ruby-value">:public_method</span>, <span class="ruby-value">:protected_method</span>, <span class="ruby-value">:private_method</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reserved_method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">reserved_method</span>, <span class="ruby-keyword">true</span>)
    <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:warn</span>)
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">scope</span>(<span class="ruby-identifier">reserved_method</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scopes_with_string_name_can_be_composed">
            
              <a name="method-i-test_scopes_with_string_name_can_be_composed"></a><b>test_scopes_with_string_name_can_be_composed</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scopes_with_string_name_can_be_composed_source')" id="l_method-i-test_scopes_with_string_name_can_be_composed_source">show</a>
                
              </p>
              <div id="method-i-test_scopes_with_string_name_can_be_composed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scopes_with_string_name_can_be_composed</span>
  <span class="ruby-comment"># NOTE that scopes defined with a string as a name worked on their own</span>
  <span class="ruby-comment"># but when called on another scope the other scope was completely replaced</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">replied</span>.<span class="ruby-identifier">approved</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">replied</span>.<span class="ruby-identifier">approved_as_string</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_build_new_on_top_of_scope">
            
              <a name="method-i-test_should_build_new_on_top_of_scope"></a><b>test_should_build_new_on_top_of_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_build_new_on_top_of_scope_source')" id="l_method-i-test_should_build_new_on_top_of_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_build_new_on_top_of_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_build_new_on_top_of_scope</span>
  <span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">approved</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_build_on_top_of_chained_scopes">
            
              <a name="method-i-test_should_build_on_top_of_chained_scopes"></a><b>test_should_build_on_top_of_chained_scopes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_build_on_top_of_chained_scopes_source')" id="l_method-i-test_should_build_on_top_of_chained_scopes_source">show</a>
                
              </p>
              <div id="method-i-test_should_build_on_top_of_chained_scopes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_build_on_top_of_chained_scopes</span>
  <span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">by_lifo</span>.<span class="ruby-identifier">build</span>({})
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">approved</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'lifo'</span>, <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">author_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_build_on_top_of_scope">
            
              <a name="method-i-test_should_build_on_top_of_scope"></a><b>test_should_build_on_top_of_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_build_on_top_of_scope_source')" id="l_method-i-test_should_build_on_top_of_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_build_on_top_of_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 287</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_build_on_top_of_scope</span>
  <span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">build</span>({})
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">approved</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_create_on_top_of_scope">
            
              <a name="method-i-test_should_create_on_top_of_scope"></a><b>test_should_create_on_top_of_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_create_on_top_of_scope_source')" id="l_method-i-test_should_create_on_top_of_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_create_on_top_of_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_create_on_top_of_scope</span>
  <span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">create</span>({})
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">approved</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_create_with_bang_on_top_of_scope">
            
              <a name="method-i-test_should_create_with_bang_on_top_of_scope"></a><b>test_should_create_with_bang_on_top_of_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_create_with_bang_on_top_of_scope_source')" id="l_method-i-test_should_create_with_bang_on_top_of_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_create_with_bang_on_top_of_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_create_with_bang_on_top_of_scope</span>
  <span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">approved</span>.<span class="ruby-identifier">create!</span>({})
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">approved</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_use_where_in_query_for_scope">
            
              <a name="method-i-test_should_use_where_in_query_for_scope"></a><b>test_should_use_where_in_query_for_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_use_where_in_query_for_scope_source')" id="l_method-i-test_should_use_where_in_query_for_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_use_where_in_query_for_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_use_where_in_query_for_scope</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">find_all_by_name</span>(<span class="ruby-string">'Jamis'</span>).<span class="ruby-identifier">to_set</span>, <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">find_all_by_id</span>(<span class="ruby-constant">Developer</span>.<span class="ruby-identifier">jamises</span>).<span class="ruby-identifier">to_set</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_size_should_use_count_when_results_are_not_loaded">
            
              <a name="method-i-test_size_should_use_count_when_results_are_not_loaded"></a><b>test_size_should_use_count_when_results_are_not_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_size_should_use_count_when_results_are_not_loaded_source')" id="l_method-i-test_size_should_use_count_when_results_are_not_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_size_should_use_count_when_results_are_not_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 325</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_size_should_use_count_when_results_are_not_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_sql</span>(<span class="ruby-regexp">%rCOUNT/</span>) { <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_size_should_use_length_when_results_are_loaded">
            
              <a name="method-i-test_size_should_use_length_when_results_are_loaded"></a><b>test_size_should_use_length_when_results_are_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_size_should_use_length_when_results_are_loaded_source')" id="l_method-i-test_size_should_use_length_when_results_are_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_size_should_use_length_when_results_are_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_size_should_use_length_when_results_are_loaded</span>
  <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">base</span>
  <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">reload</span> <span class="ruby-comment"># force load</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">topics</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># use loaded (no query)</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included">
            
              <a name="method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included"></a><b>test_table_names_for_chaining_scopes_with_and_without_table_name_included</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included_source')" id="l_method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included_source">show</a>
                
              </p>
              <div id="method-i-test_table_names_for_chaining_scopes_with_and_without_table_name_included_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/cases/named_scope_test.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_table_names_for_chaining_scopes_with_and_without_table_name_included</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">for_first_post</span>.<span class="ruby-identifier">for_first_author</span>.<span class="ruby-identifier">all</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    