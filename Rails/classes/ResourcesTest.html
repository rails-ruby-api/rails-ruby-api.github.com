<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ResourcesTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            ResourcesTest 
            
                <span class="parent">&lt; 
                    
                    <a href="ActionController/TestCase.html">ActionController::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/actionpack/test/controller/resources_test_rb.html">rails/actionpack/test/controller/resources_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-assert_named_route">assert_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_not_recognizes">assert_not_recognizes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_resource_allowed_routes">assert_resource_allowed_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_resource_methods">assert_resource_methods</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_restful_named_routes_for">assert_restful_named_routes_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_restful_routes_for">assert_restful_routes_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_simply_restful_for">assert_simply_restful_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_singleton_named_routes_for">assert_singleton_named_routes_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_singleton_resource_allowed_routes">assert_singleton_resource_allowed_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_singleton_restful_for">assert_singleton_restful_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_singleton_routes_for">assert_singleton_routes_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-assert_whether_allowed">assert_whether_allowed</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-distinct_routes-3F">distinct_routes?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_array_as_collection_or_member_method_value">test_array_as_collection_or_member_method_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_default_restful_routes">test_default_restful_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_default_singleton_restful_route_uses_get">test_default_singleton_restful_route_uses_get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_irregular_id_constraints_should_get_passed_to_member_actions">test_irregular_id_constraints_should_get_passed_to_member_actions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_irregular_id_with_constraints_should_pass">test_irregular_id_with_constraints_should_pass</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_irregular_id_with_no_constraints_should_raise_error">test_irregular_id_with_no_constraints_should_raise_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_member_when_override_paths_for_default_restful_actions_with">test_member_when_override_paths_for_default_restful_actions_with</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_default_restful_routes">test_multiple_default_restful_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_resources_with_options">test_multiple_resources_with_options</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_with_path_prefix">test_multiple_with_path_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_with_path_segment_and_controller">test_multiple_with_path_segment_and_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resource_does_not_inherit_except_option">test_nested_resource_does_not_inherit_except_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resource_does_not_inherit_except_option_by_default">test_nested_resource_does_not_inherit_except_option_by_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resource_does_not_inherit_only_option">test_nested_resource_does_not_inherit_only_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resource_does_not_inherit_only_option_by_default">test_nested_resource_does_not_inherit_only_option_by_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resource_has_only_show_and_member_action">test_nested_resource_has_only_show_and_member_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resources_in_nested_namespace">test_nested_resources_in_nested_namespace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_resources_using_namespace">test_nested_resources_using_namespace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_restful_routes">test_nested_restful_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_style_named_routes_for_resource">test_new_style_named_routes_for_resource</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_style_named_routes_for_singleton_resource">test_new_style_named_routes_for_singleton_resource</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_override_new_method">test_override_new_method</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_override_paths_for_member_and_collection_methods">test_override_paths_for_member_and_collection_methods</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_does_not_have_destroy_action">test_resource_does_not_have_destroy_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_collection_action">test_resource_has_only_collection_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_create_action_and_named_route">test_resource_has_only_create_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_destroy_action_and_named_route">test_resource_has_only_destroy_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_member_action">test_resource_has_only_member_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_show_action">test_resource_has_only_show_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resource_has_only_update_action_and_named_route">test_resource_has_only_update_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resources_in_namespace">test_resources_in_namespace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resources_in_nested_namespace">test_resources_in_nested_namespace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_resources_using_namespace">test_resources_using_namespace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_restful_routes_dont_generate_duplicates">test_restful_routes_dont_generate_duplicates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_shallow_nested_restful_routes">test_shallow_nested_restful_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_shallow_nested_restful_routes_with_namespaces">test_shallow_nested_restful_routes_with_namespaces</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_create_multiple_singleton_resource_routes">test_should_create_multiple_singleton_resource_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_create_nested_singleton_resource_routes">test_should_create_nested_singleton_resource_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_create_singleton_resource_routes">test_should_create_singleton_resource_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_nest_resources_in_singleton_resource">test_should_nest_resources_in_singleton_resource</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_nest_resources_in_singleton_resource_with_path_scope">test_should_nest_resources_in_singleton_resource_with_path_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_nest_singleton_resource_in_resources">test_should_nest_singleton_resource_in_resources</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_not_allow_delete_or_put_on_collection_path">test_should_not_allow_delete_or_put_on_collection_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_does_not_have_destroy_action">test_singleton_resource_does_not_have_destroy_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_has_only_create_action_and_named_route">test_singleton_resource_has_only_create_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_has_only_destroy_action_and_named_route">test_singleton_resource_has_only_destroy_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_has_only_member_action">test_singleton_resource_has_only_member_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_has_only_show_action">test_singleton_resource_has_only_show_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_has_only_update_action_and_named_route">test_singleton_resource_has_only_update_action_and_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_name_is_not_singularized">test_singleton_resource_name_is_not_singularized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_with_member_action">test_singleton_resource_with_member_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_singleton_resource_with_two_member_actions_with_same_method">test_singleton_resource_with_two_member_actions_with_same_method</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_collection_action_and_name_prefix_and_formatted">test_with_collection_action_and_name_prefix_and_formatted</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_collection_actions">test_with_collection_actions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_collection_actions_and_name_prefix">test_with_collection_actions_and_name_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name">test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_custom_conditions">test_with_custom_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_formatted_new_action_with_name_prefix">test_with_formatted_new_action_with_name_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_member_action">test_with_member_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_member_action_and_requirement">test_with_member_action_and_requirement</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_name_prefix">test_with_name_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_new_action">test_with_new_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_new_action_with_name_prefix">test_with_new_action_with_name_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_path_prefix">test_with_path_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_path_prefix_constraints">test_with_path_prefix_constraints</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_path_segment">test_with_path_segment</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_path_segment_path_prefix_constraints">test_with_path_segment_path_prefix_constraints</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_two_member_actions_with_same_method">test_with_two_member_actions_with_same_method</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-with_restful_routing">with_restful_routing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-with_singleton_resources">with_singleton_resources</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-test_array_as_collection_or_member_method_value">
            
              <a name="method-i-test_array_as_collection_or_member_method_value"></a><b>test_array_as_collection_or_member_method_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_array_as_collection_or_member_method_value_source')" id="l_method-i-test_array_as_collection_or_member_method_value_source">show</a>
                
              </p>
              <div id="method-i-test_array_as_collection_or_member_method_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_array_as_collection_or_member_method_value</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">collection</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:search</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:post</span>, <span class="ruby-value">:get</span>]
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">member</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:toggle</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:post</span>, <span class="ruby-value">:get</span>]
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      [<span class="ruby-value">:get</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'search'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/messages/search&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
      [<span class="ruby-value">:get</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'toggle'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/messages/1/toggle'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_default_restful_routes">
            
              <a name="method-i-test_default_restful_routes"></a><b>test_default_restful_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_default_restful_routes_source')" id="l_method-i-test_default_restful_routes_source">show</a>
                
              </p>
              <div id="method-i-test_default_restful_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_default_restful_routes</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_default_singleton_restful_route_uses_get">
            
              <a name="method-i-test_default_singleton_restful_route_uses_get"></a><b>test_default_singleton_restful_route_uses_get</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_default_singleton_restful_route_uses_get_source')" id="l_method-i-test_default_singleton_restful_route_uses_get_source">show</a>
                
              </p>
              <div id="method-i-test_default_singleton_restful_route_uses_get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1061</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_default_singleton_restful_route_uses_get</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:product</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_routing</span> <span class="ruby-string">'/product'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/product&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_irregular_id_constraints_should_get_passed_to_member_actions">
            
              <a name="method-i-test_irregular_id_constraints_should_get_passed_to_member_actions"></a><b>test_irregular_id_constraints_should_get_passed_to_member_actions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_irregular_id_constraints_should_get_passed_to_member_actions_source')" id="l_method-i-test_irregular_id_constraints_should_get_passed_to_member_actions_source">show</a>
                
              </p>
              <div id="method-i-test_irregular_id_constraints_should_get_passed_to_member_actions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_irregular_id_constraints_should_get_passed_to_member_actions</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'custom'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>}

  <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-value">:messages</span>, <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:custom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>}, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r[0-9]\.[0-9]\.[0-9]/</span>}) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages/1.1.1/custom'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_irregular_id_with_constraints_should_pass">
            
              <a name="method-i-test_irregular_id_with_constraints_should_pass"></a><b>test_irregular_id_with_constraints_should_pass</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_irregular_id_with_constraints_should_pass_source')" id="l_method-i-test_irregular_id_with_constraints_should_pass_source">show</a>
                
              </p>
              <div id="method-i-test_irregular_id_with_constraints_should_pass_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_irregular_id_with_constraints_should_pass</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>}

  <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-value">:messages</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r[0-9]\.[0-9]\.[0-9]/</span>}) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages/1.1.1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_irregular_id_with_no_constraints_should_raise_error">
            
              <a name="method-i-test_irregular_id_with_no_constraints_should_raise_error"></a><b>test_irregular_id_with_no_constraints_should_raise_error</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_irregular_id_with_no_constraints_should_raise_error_source')" id="l_method-i-test_irregular_id_with_no_constraints_should_raise_error_source">show</a>
                
              </p>
              <div id="method-i-test_irregular_id_with_no_constraints_should_raise_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_irregular_id_with_no_constraints_should_raise_error</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>}

  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages/1.1.1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_member_when_override_paths_for_default_restful_actions_with">
            
              <a name="method-i-test_member_when_override_paths_for_default_restful_actions_with"></a><b>test_member_when_override_paths_for_default_restful_actions_with</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_member_when_override_paths_for_default_restful_actions_with_source')" id="l_method-i-test_member_when_override_paths_for_default_restful_actions_with_source">show</a>
                
              </p>
              <div id="method-i-test_member_when_override_paths_for_default_restful_actions_with_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_member_when_override_paths_for_default_restful_actions_with</span>
  [<span class="ruby-value">:put</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> }, <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'nuevo'</span>} <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">mark_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'mark'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;messages&quot;</span>}
      <span class="ruby-identifier">mark_path</span>    = <span class="ruby-string">&quot;/messages/1/mark&quot;</span>

      <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'nuevo'</span>} <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">mark_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'nuevo'</span>} <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-value">:mark_message_path</span>, <span class="ruby-identifier">mark_options</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_default_restful_routes">
            
              <a name="method-i-test_multiple_default_restful_routes"></a><b>test_multiple_default_restful_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_default_restful_routes_source')" id="l_method-i-test_multiple_default_restful_routes_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_default_restful_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_default_restful_routes</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:comments</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:comments</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_resources_with_options">
            
              <a name="method-i-test_multiple_resources_with_options"></a><b>test_multiple_resources_with_options</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_resources_with_options_source')" id="l_method-i-test_multiple_resources_with_options_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_resources_with_options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_resources_with_options</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}

  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:comments</span>, <span class="ruby-identifier">expected_options</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:controller</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>)
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_with_path_prefix">
            
              <a name="method-i-test_multiple_with_path_prefix"></a><b>test_multiple_with_path_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_with_path_prefix_source')" id="l_method-i-test_multiple_with_path_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_with_path_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_with_path_prefix</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:comments</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/thread/:thread_id'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread/5/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'5'</span> }
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread/5/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'5'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_with_path_segment_and_controller">
            
              <a name="method-i-test_multiple_with_path_segment_and_controller"></a><b>test_multiple_with_path_segment_and_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_with_path_segment_and_controller_source')" id="l_method-i-test_multiple_with_path_segment_and_controller_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_with_path_segment_and_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 791</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_with_path_segment_and_controller</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
     <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:product_reviews</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>
      <span class="ruby-keyword">end</span>
     <span class="ruby-identifier">resources</span> <span class="ruby-value">:tutors</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:tutor_reviews</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:product_reviews</span>, <span class="ruby-value">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'messages'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'product_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/1/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:tutor_reviews</span>,<span class="ruby-value">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'comments'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'tutor_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'tutors/1/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:tutor_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resource_does_not_inherit_except_option">
            
              <a name="method-i-test_nested_resource_does_not_inherit_except_option"></a><b>test_nested_resource_does_not_inherit_except_option</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resource_does_not_inherit_except_option_source')" id="l_method-i-test_nested_resource_does_not_inherit_except_option_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resource_does_not_inherit_except_option_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1035</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resource_does_not_inherit_except_option</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-string">'products/1/images'</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-string">'products/1/images'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resource_does_not_inherit_except_option_by_default">
            
              <a name="method-i-test_nested_resource_does_not_inherit_except_option_by_default"></a><b>test_nested_resource_does_not_inherit_except_option_by_default</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resource_does_not_inherit_except_option_by_default_source')" id="l_method-i-test_nested_resource_does_not_inherit_except_option_by_default_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resource_does_not_inherit_except_option_by_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1048</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resource_does_not_inherit_except_option_by_default</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>], [], <span class="ruby-string">'products/1/images'</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>], [], <span class="ruby-string">'products/1/images'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resource_does_not_inherit_only_option">
            
              <a name="method-i-test_nested_resource_does_not_inherit_only_option"></a><b>test_nested_resource_does_not_inherit_only_option</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resource_does_not_inherit_only_option_source')" id="l_method-i-test_nested_resource_does_not_inherit_only_option_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resource_does_not_inherit_only_option_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1009</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resource_does_not_inherit_only_option</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>, <span class="ruby-value">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>, <span class="ruby-string">'products/1/images'</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>, <span class="ruby-string">'products/1/images'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resource_does_not_inherit_only_option_by_default">
            
              <a name="method-i-test_nested_resource_does_not_inherit_only_option_by_default"></a><b>test_nested_resource_does_not_inherit_only_option_by_default</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resource_does_not_inherit_only_option_by_default_source')" id="l_method-i-test_nested_resource_does_not_inherit_only_option_by_default_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resource_does_not_inherit_only_option_by_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1022</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resource_does_not_inherit_only_option_by_default</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destory</span>], [], <span class="ruby-string">'products/1/images'</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>], [], <span class="ruby-string">'products/1/images'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resource_has_only_show_and_member_action">
            
              <a name="method-i-test_nested_resource_has_only_show_and_member_action"></a><b>test_nested_resource_has_only_show_and_member_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resource_has_only_show_and_member_action_source')" id="l_method-i-test_nested_resource_has_only_show_and_member_action_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resource_has_only_show_and_member_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 991</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resource_has_only_show_and_member_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:index</span>, <span class="ruby-value">:show</span>] <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:thumbnail</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>], <span class="ruby-string">'products/1/images'</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'images'</span>, { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }, <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>], <span class="ruby-string">'products/1/images'</span>)

    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'images'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thumbnail'</span>, <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> },                    <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/1/images/2/thumbnail'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'images'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thumbnail'</span>, <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'jpg'</span> },  <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/1/images/2/thumbnail.jpg'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resources_in_nested_namespace">
            
              <a name="method-i-test_nested_resources_in_nested_namespace"></a><b>test_nested_resources_in_nested_namespace</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resources_in_nested_namespace_source')" id="l_method-i-test_nested_resources_in_nested_namespace_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resources_in_nested_namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 758</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resources_in_nested_namespace</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">namespace</span> <span class="ruby-value">:admin</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span> <span class="ruby-keyword">do</span>
            <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:images</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;backoffice/admin/images&quot;</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_admin_product_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/products/1/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_resources_using_namespace">
            
              <a name="method-i-test_nested_resources_using_namespace"></a><b>test_nested_resources_using_namespace</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_resources_using_namespace_source')" id="l_method-i-test_nested_resources_using_namespace_source">show</a>
                
              </p>
              <div id="method-i-test_nested_resources_using_namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 744</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_resources_using_namespace</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:images</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;backoffice/images&quot;</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_product_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/products/1/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_restful_routes">
            
              <a name="method-i-test_nested_restful_routes"></a><b>test_nested_restful_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_restful_routes_source')" id="l_method-i-test_nested_restful_routes_source">show</a>
                
              </p>
              <div id="method-i-test_nested_restful_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_restful_routes</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:threads</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:comments</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:threads</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>,
      <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:comments</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_message_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/messages/2/'</span>,
      <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_style_named_routes_for_resource">
            
              <a name="method-i-test_new_style_named_routes_for_resource"></a><b>test_new_style_named_routes_for_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_style_named_routes_for_resource_source')" id="l_method-i-test_new_style_named_routes_for_resource_source">show</a>
                
              </p>
              <div id="method-i-test_new_style_named_routes_for_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 671</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_style_named_routes_for_resource</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/threads/:thread_id'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_messages'</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:search</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/threads/1/messages/search&quot;</span>, <span class="ruby-string">&quot;search_thread_messages_path&quot;</span>, {}
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/threads/1/messages/new&quot;</span>, <span class="ruby-string">&quot;new_thread_message_path&quot;</span>, {}
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/threads/1/messages/new/preview&quot;</span>, <span class="ruby-string">&quot;preview_new_thread_message_path&quot;</span>, {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_style_named_routes_for_singleton_resource">
            
              <a name="method-i-test_new_style_named_routes_for_singleton_resource"></a><b>test_new_style_named_routes_for_singleton_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_style_named_routes_for_singleton_resource_source')" id="l_method-i-test_new_style_named_routes_for_singleton_resource_source">show</a>
                
              </p>
              <div id="method-i-test_new_style_named_routes_for_singleton_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 689</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_style_named_routes_for_singleton_resource</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/admin'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:admin_account</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:login</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/'</span>
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/admin/account/login&quot;</span>, <span class="ruby-string">&quot;login_admin_account_path&quot;</span>, {}
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/admin/account/new&quot;</span>, <span class="ruby-string">&quot;new_admin_account_path&quot;</span>, {}
    <span class="ruby-identifier">assert_named_route</span> <span class="ruby-string">&quot;/admin/account/new/preview&quot;</span>, <span class="ruby-string">&quot;preview_new_admin_account_path&quot;</span>, {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_override_new_method">
            
              <a name="method-i-test_override_new_method"></a><b>test_override_new_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_override_new_method_source')" id="l_method-i-test_override_new_method_source">show</a>
                
              </p>
              <div id="method-i-test_override_new_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_override_new_method</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;new&quot;</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/messages/new&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/messages/new&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">match</span> <span class="ruby-value">:new</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:post</span>, <span class="ruby-value">:get</span>], <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;new&quot;</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/messages/new&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;new&quot;</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/messages/new&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_override_paths_for_member_and_collection_methods">
            
              <a name="method-i-test_override_paths_for_member_and_collection_methods"></a><b>test_override_paths_for_member_and_collection_methods</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_override_paths_for_member_and_collection_methods_source')" id="l_method-i-test_override_paths_for_member_and_collection_methods_source">show</a>
                
              </p>
              <div id="method-i-test_override_paths_for_member_and_collection_methods_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_override_paths_for_member_and_collection_methods</span>
  <span class="ruby-identifier">collection_methods</span> = { <span class="ruby-value">:rss</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-value">:reorder</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:csv</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span> }
  <span class="ruby-identifier">member_methods</span>    = { <span class="ruby-value">:rss</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-value">:atom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-value">:upload</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:fix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span> }
  <span class="ruby-identifier">path_names</span> = {<span class="ruby-value">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'nuevo'</span>, <span class="ruby-value">:rss</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'canal'</span>, <span class="ruby-value">:fix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'corrigir'</span> }

  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>,
      <span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
      <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
      <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword">do</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>,
        <span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
        <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
        <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">member_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>),
          <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/1/#{path_names[action] || action}&quot;</span>,
          <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">collection_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>),
          <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/#{path_names[action] || action}&quot;</span>,
          <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>,
        <span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
        <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
        <span class="ruby-value">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>

      <span class="ruby-identifier">collection_methods</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/#{path_names[action] || action}&quot;</span>, <span class="ruby-node">&quot;#{action}_messages_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">member_methods</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/1/#{path_names[action] || action}&quot;</span>, <span class="ruby-node">&quot;#{action}_message_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1&quot;</span>
      <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_does_not_have_destroy_action">
            
              <a name="method-i-test_resource_does_not_have_destroy_action"></a><b>test_resource_does_not_have_destroy_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_does_not_have_destroy_action_source')" id="l_method-i-test_resource_does_not_have_destroy_action_source">show</a>
                
              </p>
              <div id="method-i-test_resource_does_not_have_destroy_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 841</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_does_not_have_destroy_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>)
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_collection_action">
            
              <a name="method-i-test_resource_has_only_collection_action"></a><b>test_resource_has_only_collection_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_collection_action_source')" id="l_method-i-test_resource_has_only_collection_action_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_collection_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 941</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_collection_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> [] <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">get</span> <span class="ruby-value">:sale</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [], [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [], [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'sale'</span> },                   <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/sale'</span>,     <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'sale'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> }, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/sale.xml'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_create_action_and_named_route">
            
              <a name="method-i-test_resource_has_only_create_action_and_named_route"></a><b>test_resource_has_only_create_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_create_action_and_named_route_source')" id="l_method-i-test_resource_has_only_create_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_create_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 863</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_create_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:create</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:create</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:products</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_destroy_action_and_named_route">
            
              <a name="method-i-test_resource_has_only_destroy_action_and_named_route"></a><b>test_resource_has_only_destroy_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_destroy_action_and_named_route_source')" id="l_method-i-test_resource_has_only_destroy_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_destroy_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 889</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_destroy_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:product</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_member_action">
            
              <a name="method-i-test_resource_has_only_member_action"></a><b>test_resource_has_only_member_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_member_action_source')" id="l_method-i-test_resource_has_only_member_action_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_member_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_member_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> [] <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">get</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [], [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, [], [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'preview'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> },                    <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/1/preview'</span>,      <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'preview'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'products/1/preview.xml'</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_show_action">
            
              <a name="method-i-test_resource_has_only_show_action"></a><b>test_resource_has_only_show_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_show_action_source')" id="l_method-i-test_resource_has_only_show_action_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_show_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 819</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_show_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resource_has_only_update_action_and_named_route">
            
              <a name="method-i-test_resource_has_only_update_action_and_named_route"></a><b>test_resource_has_only_update_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resource_has_only_update_action_and_named_route_source')" id="l_method-i-test_resource_has_only_update_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_resource_has_only_update_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 876</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resource_has_only_update_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:update</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, {},                    { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:update</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-string">'products'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }, <span class="ruby-value">:update</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:product</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resources_in_namespace">
            
              <a name="method-i-test_resources_in_namespace"></a><b>test_resources_in_namespace</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resources_in_namespace_source')" id="l_method-i-test_resources_in_namespace_source">show</a>
                
              </p>
              <div id="method-i-test_resources_in_namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 706</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resources_in_namespace</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;backoffice/products&quot;</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resources_in_nested_namespace">
            
              <a name="method-i-test_resources_in_nested_namespace"></a><b>test_resources_in_nested_namespace</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resources_in_nested_namespace_source')" id="l_method-i-test_resources_in_nested_namespace_source">show</a>
                
              </p>
              <div id="method-i-test_resources_in_nested_namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 718</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resources_in_nested_namespace</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">namespace</span> <span class="ruby-value">:admin</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;backoffice/admin/products&quot;</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_admin_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_resources_using_namespace">
            
              <a name="method-i-test_resources_using_namespace"></a><b>test_resources_using_namespace</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_resources_using_namespace_source')" id="l_method-i-test_resources_using_namespace_source">show</a>
                
              </p>
              <div id="method-i-test_resources_using_namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 732</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_resources_using_namespace</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;backoffice/products&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_restful_routes_dont_generate_duplicates">
            
              <a name="method-i-test_restful_routes_dont_generate_duplicates"></a><b>test_restful_routes_dont_generate_duplicates</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_restful_routes_dont_generate_duplicates_source')" id="l_method-i-test_restful_routes_dont_generate_duplicates_source">show</a>
                
              </p>
              <div id="method-i-test_restful_routes_dont_generate_duplicates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 529</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_restful_routes_dont_generate_duplicates</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">routes</span> = <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">routes</span>
    <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">route</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">route</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">r</span> <span class="ruby-comment"># skip the comparison instance</span>
        <span class="ruby-identifier">assert</span> <span class="ruby-identifier">distinct_routes?</span>(<span class="ruby-identifier">route</span>, <span class="ruby-identifier">r</span>), <span class="ruby-node">&quot;Duplicate Route: #{route}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_shallow_nested_restful_routes">
            
              <a name="method-i-test_shallow_nested_restful_routes"></a><b>test_shallow_nested_restful_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_shallow_nested_restful_routes_source')" id="l_method-i-test_shallow_nested_restful_routes_source">show</a>
                
              </p>
              <div id="method-i-test_shallow_nested_restful_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 476</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_shallow_nested_restful_routes</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:threads</span>, <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:comments</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:threads</span>,
      <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>,
      <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:comments</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'message_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages/2/'</span>,
      <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_shallow_nested_restful_routes_with_namespaces">
            
              <a name="method-i-test_shallow_nested_restful_routes_with_namespaces"></a><b>test_shallow_nested_restful_routes_with_namespaces</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_shallow_nested_restful_routes_with_namespaces_source')" id="l_method-i-test_shallow_nested_restful_routes_with_namespaces_source">show</a>
                
              </p>
              <div id="method-i-test_shallow_nested_restful_routes_with_namespaces_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_shallow_nested_restful_routes_with_namespaces</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">namespace</span> <span class="ruby-value">:backoffice</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">namespace</span> <span class="ruby-value">:admin</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:products</span>, <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">do</span>
            <span class="ruby-identifier">resources</span> <span class="ruby-value">:images</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:products</span>,
      <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/products'</span>,
      <span class="ruby-value">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/'</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_admin_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/'</span>,
      <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:images</span>,
      <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/images'</span>,
      <span class="ruby-value">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/'</span>,
      <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice_admin_product_'</span>,
      <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'backoffice/admin/products/1/'</span>,
      <span class="ruby-value">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_create_multiple_singleton_resource_routes">
            
              <a name="method-i-test_should_create_multiple_singleton_resource_routes"></a><b>test_should_create_multiple_singleton_resource_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_create_multiple_singleton_resource_routes_source')" id="l_method-i-test_should_create_multiple_singleton_resource_routes_source">show</a>
                
              </p>
              <div id="method-i-test_should_create_multiple_singleton_resource_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 547</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_create_multiple_singleton_resource_routes</span>
  <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:logo</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:logo</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_create_nested_singleton_resource_routes">
            
              <a name="method-i-test_should_create_nested_singleton_resource_routes"></a><b>test_should_create_nested_singleton_resource_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_create_nested_singleton_resource_routes_source')" id="l_method-i-test_should_create_nested_singleton_resource_routes_source">show</a>
                
              </p>
              <div id="method-i-test_should_create_nested_singleton_resource_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_create_nested_singleton_resource_routes</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:admin</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:admin</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin_&quot;</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_create_singleton_resource_routes">
            
              <a name="method-i-test_should_create_singleton_resource_routes"></a><b>test_should_create_singleton_resource_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_create_singleton_resource_routes_source')" id="l_method-i-test_should_create_singleton_resource_routes_source">show</a>
                
              </p>
              <div id="method-i-test_should_create_singleton_resource_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_create_singleton_resource_routes</span>
  <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_nest_resources_in_singleton_resource">
            
              <a name="method-i-test_should_nest_resources_in_singleton_resource"></a><b>test_should_nest_resources_in_singleton_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_nest_resources_in_singleton_resource_source')" id="l_method-i-test_should_nest_resources_in_singleton_resource_source">show</a>
                
              </p>
              <div id="method-i-test_should_nest_resources_in_singleton_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 614</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_nest_resources_in_singleton_resource</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;account_&quot;</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account/'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_nest_resources_in_singleton_resource_with_path_scope">
            
              <a name="method-i-test_should_nest_resources_in_singleton_resource_with_path_scope"></a><b>test_should_nest_resources_in_singleton_resource_with_path_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_nest_resources_in_singleton_resource_with_path_scope_source')" id="l_method-i-test_should_nest_resources_in_singleton_resource_with_path_scope_source">show</a>
                
              </p>
              <div id="method-i-test_should_nest_resources_in_singleton_resource_with_path_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 627</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_nest_resources_in_singleton_resource_with_path_scope</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">':site_id'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span>(<span class="ruby-value">:account</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'7/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:site_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'7'</span> }
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;account_&quot;</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'7/account/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:site_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'7'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_nest_singleton_resource_in_resources">
            
              <a name="method-i-test_should_nest_singleton_resource_in_resources"></a><b>test_should_nest_singleton_resource_in_resources</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_nest_singleton_resource_in_resources_source')" id="l_method-i-test_should_nest_singleton_resource_in_resources_source">show</a>
                
              </p>
              <div id="method-i-test_should_nest_singleton_resource_in_resources_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 642</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_nest_singleton_resource_in_resources</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:threads</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span> <span class="ruby-value">:admin</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:threads</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:admin</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/5/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'5'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_not_allow_delete_or_put_on_collection_path">
            
              <a name="method-i-test_should_not_allow_delete_or_put_on_collection_path"></a><b>test_should_not_allow_delete_or_put_on_collection_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_not_allow_delete_or_put_on_collection_path_source')" id="l_method-i-test_should_not_allow_delete_or_put_on_collection_path_source">show</a>
                
              </p>
              <div id="method-i-test_should_not_allow_delete_or_put_on_collection_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 655</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_not_allow_delete_or_put_on_collection_path</span>
  <span class="ruby-identifier">controller_name</span> = <span class="ruby-value">:messages</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">controller_name</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">options</span> = { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span> }
    <span class="ruby-identifier">collection_path</span> = <span class="ruby-node">&quot;/#{controller_name}&quot;</span>

    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_does_not_have_destroy_action">
            
              <a name="method-i-test_singleton_resource_does_not_have_destroy_action"></a><b>test_singleton_resource_does_not_have_destroy_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_does_not_have_destroy_action_source')" id="l_method-i-test_singleton_resource_does_not_have_destroy_action_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_does_not_have_destroy_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 852</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_does_not_have_destroy_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>)
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>], <span class="ruby-value">:destroy</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_has_only_create_action_and_named_route">
            
              <a name="method-i-test_singleton_resource_has_only_create_action_and_named_route"></a><b>test_singleton_resource_has_only_create_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_has_only_create_action_and_named_route_source')" id="l_method-i-test_singleton_resource_has_only_create_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_has_only_create_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 902</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_has_only_create_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    <span class="ruby-value">:create</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  <span class="ruby-value">:create</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:account</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_has_only_destroy_action_and_named_route">
            
              <a name="method-i-test_singleton_resource_has_only_destroy_action_and_named_route"></a><b>test_singleton_resource_has_only_destroy_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_has_only_destroy_action_and_named_route_source')" id="l_method-i-test_singleton_resource_has_only_destroy_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_has_only_destroy_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 928</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_has_only_destroy_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:destroy</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>])
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  <span class="ruby-value">:destroy</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:account</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_has_only_member_action">
            
              <a name="method-i-test_singleton_resource_has_only_member_action"></a><b>test_singleton_resource_has_only_member_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_has_only_member_action_source')" id="l_method-i-test_singleton_resource_has_only_member_action_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_has_only_member_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 973</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_has_only_member_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> [] <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">member</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:signup</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    [], [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  [], [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'accounts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'signup'</span> },                   <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account/signup'</span>,      <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
    <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'accounts'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'signup'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> }, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'account/signup.xml'</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_has_only_show_action">
            
              <a name="method-i-test_singleton_resource_has_only_show_action"></a><b>test_singleton_resource_has_only_show_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_has_only_show_action_source')" id="l_method-i-test_singleton_resource_has_only_show_action_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_has_only_show_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_has_only_show_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:show</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  <span class="ruby-value">:show</span>, [<span class="ruby-value">:index</span>, <span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:destroy</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_has_only_update_action_and_named_route">
            
              <a name="method-i-test_singleton_resource_has_only_update_action_and_named_route"></a><b>test_singleton_resource_has_only_update_action_and_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_has_only_update_action_and_named_route_source')" id="l_method-i-test_singleton_resource_has_only_update_action_and_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_has_only_update_action_and_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 915</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_has_only_update_action_and_named_route</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span>, <span class="ruby-value">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:update</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, {},                    <span class="ruby-value">:update</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:destroy</span>])
    <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-string">'accounts'</span>, { <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span> },  <span class="ruby-value">:update</span>, [<span class="ruby-value">:new</span>, <span class="ruby-value">:create</span>, <span class="ruby-value">:show</span>, <span class="ruby-value">:edit</span>, <span class="ruby-value">:destroy</span>])

    <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-value">:account</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_name_is_not_singularized">
            
              <a name="method-i-test_singleton_resource_name_is_not_singularized"></a><b>test_singleton_resource_name_is_not_singularized</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_name_is_not_singularized_source')" id="l_method-i-test_singleton_resource_name_is_not_singularized_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_name_is_not_singularized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1072</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_name_is_not_singularized</span>
  <span class="ruby-identifier">with_singleton_resources</span>(<span class="ruby-value">:preferences</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-value">:preferences</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_with_member_action">
            
              <a name="method-i-test_singleton_resource_with_member_action"></a><b>test_singleton_resource_with_member_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_with_member_action_source')" id="l_method-i-test_singleton_resource_with_member_action_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_with_member_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 567</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_with_member_action</span>
  [<span class="ruby-value">:put</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:reset</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">reset_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reset'</span>}
      <span class="ruby-identifier">reset_path</span>    = <span class="ruby-string">&quot;/account/reset&quot;</span>
      <span class="ruby-identifier">assert_singleton_routes_for</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">reset_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">reset_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">reset_path</span>, <span class="ruby-value">:reset_account_path</span>, <span class="ruby-identifier">reset_options</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_singleton_resource_with_two_member_actions_with_same_method">
            
              <a name="method-i-test_singleton_resource_with_two_member_actions_with_same_method"></a><b>test_singleton_resource_with_two_member_actions_with_same_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_singleton_resource_with_two_member_actions_with_same_method_source')" id="l_method-i-test_singleton_resource_with_two_member_actions_with_same_method_source">show</a>
                
              </p>
              <div id="method-i-test_singleton_resource_with_two_member_actions_with_same_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 589</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_singleton_resource_with_two_member_actions_with_same_method</span>
  [<span class="ruby-value">:put</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resource</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:reset</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>
          <span class="ruby-identifier">match</span> <span class="ruby-value">:disable</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-node">%w(reset disable)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">action_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>}
        <span class="ruby-identifier">action_path</span>    = <span class="ruby-node">&quot;/account/#{action}&quot;</span>
        <span class="ruby-identifier">assert_singleton_routes_for</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">action_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-value">:account</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-node">&quot;#{action}_account_path&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">action_options</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_collection_action_and_name_prefix_and_formatted">
            
              <a name="method-i-test_with_collection_action_and_name_prefix_and_formatted"></a><b>test_with_collection_action_and_name_prefix_and_formatted</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_collection_action_and_name_prefix_and_formatted_source')" id="l_method-i-test_with_collection_action_and_name_prefix_and_formatted_source">show</a>
                
              </p>
              <div id="method-i-test_with_collection_action_and_name_prefix_and_formatted_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_collection_action_and_name_prefix_and_formatted</span>
  <span class="ruby-identifier">actions</span> = { <span class="ruby-string">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-string">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>, <span class="ruby-string">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-string">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span> }

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/threads/:thread_id'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_messages'</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span>    <span class="ruby-value">:a</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">put</span>    <span class="ruby-value">:b</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">post</span>   <span class="ruby-value">:c</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">delete</span> <span class="ruby-value">:d</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}.xml&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}.xml&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_collection_actions">
            
              <a name="method-i-test_with_collection_actions"></a><b>test_with_collection_actions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_collection_actions_source')" id="l_method-i-test_with_collection_actions_source">show</a>
                
              </p>
              <div id="method-i-test_with_collection_actions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_collection_actions</span>
  <span class="ruby-identifier">actions</span> = { <span class="ruby-string">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-string">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>, <span class="ruby-string">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-string">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span> }

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">get</span>    <span class="ruby-value">:a</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
        <span class="ruby-identifier">put</span>    <span class="ruby-value">:b</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
        <span class="ruby-identifier">post</span>   <span class="ruby-value">:c</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
        <span class="ruby-identifier">delete</span> <span class="ruby-value">:d</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/#{action}&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_messages_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_collection_actions_and_name_prefix">
            
              <a name="method-i-test_with_collection_actions_and_name_prefix"></a><b>test_with_collection_actions_and_name_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_collection_actions_and_name_prefix_source')" id="l_method-i-test_with_collection_actions_and_name_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_with_collection_actions_and_name_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_collection_actions_and_name_prefix</span>
  <span class="ruby-identifier">actions</span> = { <span class="ruby-string">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-string">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>, <span class="ruby-string">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-string">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span> }

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/threads/:thread_id'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_messages'</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span>    <span class="ruby-value">:a</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">put</span>    <span class="ruby-value">:b</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">post</span>   <span class="ruby-value">:c</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">delete</span> <span class="ruby-value">:d</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name">
            
              <a name="method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name"></a><b>test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name_source')" id="l_method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name_source">show</a>
                
              </p>
              <div id="method-i-test_with_collection_actions_and_name_prefix_and_member_action_with_same_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</span>
  <span class="ruby-identifier">actions</span> = { <span class="ruby-string">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span> }

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/threads/:thread_id'</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_messages'</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:a</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:collection</span>
          <span class="ruby-identifier">get</span> <span class="ruby-value">:a</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:member</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_custom_conditions">
            
              <a name="method-i-test_with_custom_conditions"></a><b>test_with_custom_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_custom_conditions_source')" id="l_method-i-test_with_custom_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_with_custom_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_custom_conditions</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:subdomain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'app'</span> } <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/messages&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>, <span class="ruby-value">:subdomain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'app'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_formatted_new_action_with_name_prefix">
            
              <a name="method-i-test_with_formatted_new_action_with_name_prefix"></a><b>test_with_formatted_new_action_with_name_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_formatted_new_action_with_name_prefix_source')" id="l_method-i-test_with_formatted_new_action_with_name_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_with_formatted_new_action_with_name_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_formatted_new_action_with_name_prefix</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span>(<span class="ruby-string">'/threads/:thread_id'</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;thread_messages&quot;</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">post</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">preview_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'preview'</span>, <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>}
    <span class="ruby-identifier">preview_path</span>    = <span class="ruby-string">&quot;/threads/1/messages/new/preview.xml&quot;</span>
    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:preview_new_thread_message_path</span>, <span class="ruby-identifier">preview_options</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_member_action">
            
              <a name="method-i-test_with_member_action"></a><b>test_with_member_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_member_action_source')" id="l_method-i-test_with_member_action_source">show</a>
                
              </p>
              <div id="method-i-test_with_member_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_member_action</span>
  [<span class="ruby-value">:put</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> } <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">mark_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'mark'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
      <span class="ruby-identifier">mark_path</span>    = <span class="ruby-string">&quot;/messages/1/mark&quot;</span>
      <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">mark_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-value">:mark_message_path</span>, <span class="ruby-identifier">mark_options</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_member_action_and_requirement">
            
              <a name="method-i-test_with_member_action_and_requirement"></a><b>test_with_member_action_and_requirement</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_member_action_and_requirement_source')" id="l_method-i-test_with_member_action_and_requirement_source">show</a>
                
              </p>
              <div id="method-i-test_with_member_action_and_requirement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_member_action_and_requirement</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'mark'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>}

  <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-value">:messages</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r[0-9]\.[0-9]\.[0-9]/</span>}, <span class="ruby-value">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span> }) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages/1.1.1/mark'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_name_prefix">
            
              <a name="method-i-test_with_name_prefix"></a><b>test_with_name_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_name_prefix_source')" id="l_method-i-test_with_name_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_with_name_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_name_prefix</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post_messages'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post_'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_new_action">
            
              <a name="method-i-test_with_new_action"></a><b>test_with_new_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_new_action_source')" id="l_method-i-test_with_new_action_source">show</a>
                
              </p>
              <div id="method-i-test_with_new_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_new_action</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">post</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">preview_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'preview'</span>}
    <span class="ruby-identifier">preview_path</span>    = <span class="ruby-string">&quot;/messages/new/preview&quot;</span>
    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:preview_new_message_path</span>, <span class="ruby-identifier">preview_options</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_new_action_with_name_prefix">
            
              <a name="method-i-test_with_new_action_with_name_prefix"></a><b>test_with_new_action_with_name_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_new_action_with_name_prefix_source')" id="l_method-i-test_with_new_action_with_name_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_with_new_action_with_name_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_new_action_with_name_prefix</span>
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span>(<span class="ruby-string">'/threads/:thread_id'</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;thread_messages&quot;</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">post</span> <span class="ruby-value">:preview</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:new</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">preview_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'preview'</span>, <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
    <span class="ruby-identifier">preview_path</span>    = <span class="ruby-string">&quot;/threads/1/messages/new/preview&quot;</span>
    <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'threads/1/'</span>, <span class="ruby-value">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread_'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> } <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-value">:preview_new_thread_message_path</span>, <span class="ruby-identifier">preview_options</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_path_prefix">
            
              <a name="method-i-test_with_path_prefix"></a><b>test_with_path_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_path_prefix_source')" id="l_method-i-test_with_path_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_with_path_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_path_prefix</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/thread/:thread_id'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread/5/'</span>, <span class="ruby-value">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'5'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_path_prefix_constraints">
            
              <a name="method-i-test_with_path_prefix_constraints"></a><b>test_with_path_prefix_constraints</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_path_prefix_constraints_source')" id="l_method-i-test_with_path_prefix_constraints_source">show</a>
                
              </p>
              <div id="method-i-test_with_path_prefix_constraints_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_path_prefix_constraints</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/thread/:thread_id'</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r[0-9]\.[0-9]\.[0-9]/</span>} <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread/1.1.1/messages/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_path_segment">
            
              <a name="method-i-test_with_path_segment"></a><b>test_with_path_segment</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_path_segment_source')" id="l_method-i-test_with_path_segment_source">show</a>
                
              </p>
              <div id="method-i-test_with_path_segment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 774</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_path_segment</span>
  <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>
    <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;messages&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-string">&quot;/messages&quot;</span>)
    <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;messages&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-string">&quot;/messages/&quot;</span>)
  <span class="ruby-keyword">end</span>

   <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'reviews'</span>
      <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;messages&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-string">&quot;/reviews&quot;</span>)
      <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;messages&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-string">&quot;/reviews/&quot;</span>)
   <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_path_segment_path_prefix_constraints">
            
              <a name="method-i-test_with_path_segment_path_prefix_constraints"></a><b>test_with_path_segment_path_prefix_constraints</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_path_segment_path_prefix_constraints_source')" id="l_method-i-test_with_path_segment_path_prefix_constraints_source">show</a>
                
              </p>
              <div id="method-i-test_with_path_segment_path_prefix_constraints_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 807</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_path_segment_path_prefix_constraints</span>
  <span class="ruby-identifier">expected_options</span> = {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'messages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.1.1'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span> <span class="ruby-string">'/thread/:thread_id'</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r[0-9]\.[0-9]\.[0-9]/</span> } <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'thread/1.1.1/comments/1'</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_two_member_actions_with_same_method">
            
              <a name="method-i-test_with_two_member_actions_with_same_method"></a><b>test_with_two_member_actions_with_same_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_two_member_actions_with_same_method_source')" id="l_method-i-test_with_two_member_actions_with_same_method_source">show</a>
                
              </p>
              <div id="method-i-test_with_two_member_actions_with_same_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_two_member_actions_with_same_method</span>
  [<span class="ruby-value">:put</span>, <span class="ruby-value">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">member</span> <span class="ruby-keyword">do</span>
            <span class="ruby-identifier">match</span> <span class="ruby-value">:mark</span>  , <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>
            <span class="ruby-identifier">match</span> <span class="ruby-value">:unmark</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-node">%w(mark unmark)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">action_options</span> = {<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}
        <span class="ruby-identifier">action_path</span>    = <span class="ruby-node">&quot;/messages/1/#{action}&quot;</span>
        <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">action_options</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-value">:messages</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-node">&quot;#{action}_message_path&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">action_options</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Instance Protected methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-assert_named_route">
            
              <a name="method-i-assert_named_route"></a><b>assert_named_route</b>(expected, route, options)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_named_route_source')" id="l_method-i-assert_named_route_source">show</a>
                
              </p>
              <div id="method-i-assert_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_named_route</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">route</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">actual</span> =  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">route</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">actual</span>, <span class="ruby-node">&quot;Error on route: #{route}(#{options.inspect})&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_not_recognizes">
            
              <a name="method-i-assert_not_recognizes"></a><b>assert_not_recognizes</b>(expected_options, path)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_not_recognizes_source')" id="l_method-i-assert_not_recognizes_source">show</a>
                
              </p>
              <div id="method-i-assert_not_recognizes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1349</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_not_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>, <span class="ruby-constant">Assertion</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_resource_allowed_routes">
            
              <a name="method-i-assert_resource_allowed_routes"></a><b>assert_resource_allowed_routes</b>(controller, options, shallow_options, allowed, not_allowed, path = controller)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_resource_allowed_routes_source')" id="l_method-i-assert_resource_allowed_routes_source">show</a>
                
              </p>
              <div id="method-i-assert_resource_allowed_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1310</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_resource_allowed_routes</span>(<span class="ruby-identifier">controller</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">path</span> = <span class="ruby-identifier">controller</span>)
  <span class="ruby-identifier">shallow_path</span> = <span class="ruby-node">&quot;#{path}/#{shallow_options[:id]}&quot;</span>
  <span class="ruby-identifier">format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">&quot;.#{options[:format]}&quot;</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller</span>)
  <span class="ruby-identifier">shallow_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-string">'index'</span>,    <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,               <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-string">'new'</span>,      <span class="ruby-node">&quot;#{path}/new#{format}&quot;</span>,           <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-string">'create'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,               <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-string">'show'</span>,     <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-string">'edit'</span>,     <span class="ruby-node">&quot;#{shallow_path}/edit#{format}&quot;</span>,  <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-string">'update'</span>,   <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-string">'destroy'</span>,  <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-value">:delete</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_resource_methods">
            
              <a name="method-i-assert_resource_methods"></a><b>assert_resource_methods</b>(expected, resource, action_method, method)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_resource_methods_source')" id="l_method-i-assert_resource_methods_source">show</a>
                
              </p>
              <div id="method-i-assert_resource_methods_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1302</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_resource_methods</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">action_method</span>, <span class="ruby-identifier">method</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{action_method}_methods&quot;</span>)[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">size</span>, <span class="ruby-node">&quot;#{resource.send(&quot;#{action_method}_methods&quot;)[method].inspect}&quot;</span>
  <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">in?</span>(<span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{action_method}_methods&quot;</span>)[<span class="ruby-identifier">method</span>])
      <span class="ruby-node">&quot;#{method} not in #{action_method} methods: #{resource.send(&quot;#{action_method}_methods&quot;)[method].inspect}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_restful_named_routes_for">
            
              <a name="method-i-assert_restful_named_routes_for"></a><b>assert_restful_named_routes_for</b>(controller_name, singular_name = nil, options = {})
            
          </div>
          
          
            <div class="description">
              <p>test named routes like foo_path and foos_path map to the correct options.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_restful_named_routes_for_source')" id="l_method-i-assert_restful_named_routes_for_source">show</a>
                
              </p>
              <div id="method-i-assert_restful_named_routes_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1191</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_restful_named_routes_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">singular_name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">singular_name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">options</span>       = <span class="ruby-identifier">singular_name</span>
    <span class="ruby-identifier">singular_name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">singular_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">singularize</span>

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>][<span class="ruby-value">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow</span>]
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>] <span class="ruby-operator">||=</span> {}
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>][<span class="ruby-value">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>][<span class="ruby-value">:controller</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@controller</span> = <span class="ruby-node">&quot;#{options[:options][:controller].camelize}Controller&quot;</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">singleton_class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:include</span>, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">url_helpers</span>)
  <span class="ruby-ivar">@request</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@response</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">delete</span> <span class="ruby-value">:action</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{options[:as] || controller_name}&quot;</span>
  <span class="ruby-identifier">shallow_path</span> = <span class="ruby-node">&quot;/#{options[:shallow] ? options[:namespace] : options[:path_prefix]}#{path}&quot;</span>
  <span class="ruby-identifier">full_path</span> = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{path}&quot;</span>
  <span class="ruby-identifier">name_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:name_prefix</span>]
  <span class="ruby-identifier">shallow_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:namespace</span>].<span class="ruby-identifier">try</span>(<span class="ruby-value">:gsub</span>, <span class="ruby-regexp">%r\//</span>, <span class="ruby-string">'_'</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:name_prefix</span>]

  <span class="ruby-identifier">new_action</span>  = <span class="ruby-string">&quot;new&quot;</span>
  <span class="ruby-identifier">edit_action</span> = <span class="ruby-string">&quot;edit&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>]
    <span class="ruby-identifier">new_action</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:new</span>]  <span class="ruby-operator">||</span> <span class="ruby-string">&quot;new&quot;</span>
    <span class="ruby-identifier">edit_action</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:edit</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;edit&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}&quot;</span>, <span class="ruby-node">&quot;#{name_prefix}#{controller_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>, <span class="ruby-node">&quot;#{name_prefix}#{controller_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1&quot;</span>, <span class="ruby-node">&quot;#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>)
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1.xml&quot;</span>, <span class="ruby-node">&quot;#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)

  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/#{new_action}&quot;</span>, <span class="ruby-node">&quot;new_#{name_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/#{new_action}.xml&quot;</span>, <span class="ruby-node">&quot;new_#{name_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1/#{edit_action}&quot;</span>, <span class="ruby-node">&quot;edit_#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>)
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1/#{edit_action}.xml&quot;</span>, <span class="ruby-node">&quot;edit_#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)

  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_restful_routes_for">
            
              <a name="method-i-assert_restful_routes_for"></a><b>assert_restful_routes_for</b>(controller_name, options = {})
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_restful_routes_for_source')" id="l_method-i-assert_restful_routes_for_source">show</a>
                
              </p>
              <div id="method-i-assert_restful_routes_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1130</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_restful_routes_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>][<span class="ruby-value">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow</span>]
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>] <span class="ruby-operator">||=</span> {}
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>][<span class="ruby-value">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>][<span class="ruby-value">:controller</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">new_action</span>    = <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">resources_path_names</span>[<span class="ruby-value">:new</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;new&quot;</span>
  <span class="ruby-identifier">edit_action</span>   = <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">resources_path_names</span>[<span class="ruby-value">:edit</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;edit&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>]
    <span class="ruby-identifier">new_action</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:new</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:new</span>]
    <span class="ruby-identifier">edit_action</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:edit</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:path_names</span>][<span class="ruby-value">:edit</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">path</span>                       = <span class="ruby-node">&quot;#{options[:as] || controller_name}&quot;</span>
  <span class="ruby-identifier">collection_path</span>            = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{path}&quot;</span>
  <span class="ruby-identifier">shallow_path</span>               = <span class="ruby-node">&quot;/#{options[:shallow] ? options[:namespace] : options[:path_prefix]}#{path}&quot;</span>
  <span class="ruby-identifier">member_path</span>                = <span class="ruby-node">&quot;#{shallow_path}/1&quot;</span>
  <span class="ruby-identifier">new_path</span>                   = <span class="ruby-node">&quot;#{collection_path}/#{new_action}&quot;</span>
  <span class="ruby-identifier">edit_member_path</span>           = <span class="ruby-node">&quot;#{member_path}/#{edit_action}&quot;</span>
  <span class="ruby-identifier">formatted_edit_member_path</span> = <span class="ruby-node">&quot;#{member_path}/#{edit_action}.xml&quot;</span>

  <span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">collection_path</span>,            <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">new_path</span>,                   <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>,            <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,          <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>,              <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">member_path</span>,                <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">edit_member_path</span>,           <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">formatted_edit_member_path</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>),               <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>),                 <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_path</span>,         <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>),              <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>,    <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>,    <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">edit_member_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>,  <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>)

  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>,  <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>,    <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,          <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>,    <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>,    <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">formatted_edit_member_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>,  <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>)

  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_simply_restful_for">
            
              <a name="method-i-assert_simply_restful_for"></a><b>assert_simply_restful_for</b>(controller_name, options = {})
            
          </div>
          
          
            <div class="description">
              <p>runs <a
href="ResourcesTest.html#method-i-assert_restful_routes_for">#assert_restful_routes_for</a>
and assert_restful_named_routes for on the controller_name and options,
without passing a block.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_simply_restful_for_source')" id="l_method-i-assert_simply_restful_for_source">show</a>
                
              </p>
              <div id="method-i-assert_simply_restful_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1120</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_simply_restful_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">assert_restful_routes_for</span>       <span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">controller_name</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_singleton_named_routes_for">
            
              <a name="method-i-assert_singleton_named_routes_for"></a><b>assert_singleton_named_routes_for</b>(singleton_name, options = {})
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_singleton_named_routes_for_source')" id="l_method-i-assert_singleton_named_routes_for_source">show</a>
                
              </p>
              <div id="method-i-assert_singleton_named_routes_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1276</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_singleton_named_routes_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
  (<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-operator">||=</span> {})[<span class="ruby-value">:controller</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">singleton_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">pluralize</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-node">&quot;#{options[:options][:controller].camelize}Controller&quot;</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">singleton_class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:include</span>, <span class="ruby-ivar">@routes</span>.<span class="ruby-identifier">url_helpers</span>)
  <span class="ruby-ivar">@request</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@response</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:show</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">delete</span> <span class="ruby-value">:action</span>

  <span class="ruby-identifier">full_path</span> = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{options[:as] || singleton_name}&quot;</span>
  <span class="ruby-identifier">name_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:name_prefix</span>]

  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}&quot;</span>,          <span class="ruby-node">&quot;#{name_prefix}#{singleton_name}_path&quot;</span>,                <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,      <span class="ruby-node">&quot;#{name_prefix}#{singleton_name}_path&quot;</span>,      <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)

  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/new&quot;</span>,      <span class="ruby-node">&quot;new_#{name_prefix}#{singleton_name}_path&quot;</span>,            <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/new.xml&quot;</span>,  <span class="ruby-node">&quot;new_#{name_prefix}#{singleton_name}_path&quot;</span>,  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/edit&quot;</span>,     <span class="ruby-node">&quot;edit_#{name_prefix}#{singleton_name}_path&quot;</span>,           <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>]
  <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/edit.xml&quot;</span>, <span class="ruby-node">&quot;edit_#{name_prefix}#{singleton_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_singleton_resource_allowed_routes">
            
              <a name="method-i-assert_singleton_resource_allowed_routes"></a><b>assert_singleton_resource_allowed_routes</b>(controller, options, allowed, not_allowed, path = controller.singularize)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_singleton_resource_allowed_routes_source')" id="l_method-i-assert_singleton_resource_allowed_routes_source">show</a>
                
              </p>
              <div id="method-i-assert_singleton_resource_allowed_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1325</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_singleton_resource_allowed_routes</span>(<span class="ruby-identifier">controller</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">path</span> = <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">singularize</span>)
  <span class="ruby-identifier">format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">&quot;.#{options[:format]}&quot;</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller</span>)

  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'new'</span>,      <span class="ruby-node">&quot;#{path}/new#{format}&quot;</span>,   <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'create'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'show'</span>,     <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'edit'</span>,     <span class="ruby-node">&quot;#{path}/edit#{format}&quot;</span>,  <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'update'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-string">'destroy'</span>,  <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-value">:delete</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_singleton_restful_for">
            
              <a name="method-i-assert_singleton_restful_for"></a><b>assert_singleton_restful_for</b>(singleton_name, options = {})
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_singleton_restful_for_source')" id="l_method-i-assert_singleton_restful_for_source">show</a>
                
              </p>
              <div id="method-i-assert_singleton_restful_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1125</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_singleton_restful_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">assert_singleton_routes_for</span>       <span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_singleton_routes_for">
            
              <a name="method-i-assert_singleton_routes_for"></a><b>assert_singleton_routes_for</b>(singleton_name, options = {})
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_singleton_routes_for_source')" id="l_method-i-assert_singleton_routes_for_source">show</a>
                
              </p>
              <div id="method-i-assert_singleton_routes_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1241</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_singleton_routes_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>][<span class="ruby-value">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">singleton_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">pluralize</span>

  <span class="ruby-identifier">full_path</span>           = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{options[:as] || singleton_name}&quot;</span>
  <span class="ruby-identifier">new_path</span>            = <span class="ruby-node">&quot;#{full_path}/new&quot;</span>
  <span class="ruby-identifier">edit_path</span>           = <span class="ruby-node">&quot;#{full_path}/edit&quot;</span>
  <span class="ruby-identifier">formatted_edit_path</span> = <span class="ruby-node">&quot;#{full_path}/edit.xml&quot;</span>

  <span class="ruby-identifier">with_options</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">full_path</span>,           <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">new_path</span>,            <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">edit_path</span>,           <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,   <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>,  <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
    <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">formatted_edit_path</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>),    <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>),     <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_path</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>),    <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">edit_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>),  <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>),  <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>)

  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>,    <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new'</span>,     <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,   <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'edit'</span>,    <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">formatted_edit_path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'create'</span>,  <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'update'</span>,  <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'destroy'</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'xml'</span>), <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>)

  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:options</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-assert_whether_allowed">
            
              <a name="method-i-assert_whether_allowed"></a><b>assert_whether_allowed</b>(allowed, not_allowed, options, action, path, method)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_whether_allowed_source')" id="l_method-i-assert_whether_allowed_source">show</a>
                
              </p>
              <div id="method-i-assert_whether_allowed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1337</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">action</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">method</span>)
  <span class="ruby-identifier">action</span> = <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">path_options</span> = { <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> }

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">in?</span>(<span class="ruby-constant">Array</span>(<span class="ruby-identifier">allowed</span>))
    <span class="ruby-identifier">assert_recognizes</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">path_options</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">in?</span>(<span class="ruby-constant">Array</span>(<span class="ruby-identifier">not_allowed</span>))
    <span class="ruby-identifier">assert_not_recognizes</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">path_options</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-distinct_routes-3F">
            
              <a name="method-i-distinct_routes-3F"></a><b>distinct_routes?</b>(r1, r2)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-distinct_routes-3F_source')" id="l_method-i-distinct_routes-3F_source">show</a>
                
              </p>
              <div id="method-i-distinct_routes-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1355</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">distinct_routes?</span> (<span class="ruby-identifier">r1</span>, <span class="ruby-identifier">r2</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">conditions</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">conditions</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">constraints</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">constraints</span> <span class="ruby-keyword">then</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">collect</span>(&amp;<span class="ruby-value">:to_s</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">collect</span>(&amp;<span class="ruby-value">:to_s</span>) <span class="ruby-keyword">then</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-with_restful_routing">
            
              <a name="method-i-with_restful_routing"></a><b>with_restful_routing</b>(*args)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-with_restful_routing_source')" id="l_method-i-with_restful_routing_source">show</a>
                
              </p>
              <div id="method-i-with_restful_routing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1079</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_restful_routing</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-identifier">collection_methods</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:collection</span>)
  <span class="ruby-identifier">member_methods</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:member</span>)
  <span class="ruby-identifier">path_prefix</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:path_prefix</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">path_prefix</span> <span class="ruby-operator">||</span> <span class="ruby-string">''</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">resources</span>(*<span class="ruby-identifier">args</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">collection_methods</span>
            <span class="ruby-identifier">collection</span> <span class="ruby-keyword">do</span>
              <span class="ruby-identifier">collection_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">name</span>)
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>

          <span class="ruby-keyword">if</span> <span class="ruby-identifier">member_methods</span>
            <span class="ruby-identifier">member</span> <span class="ruby-keyword">do</span>
              <span class="ruby-identifier">member_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">name</span>)
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-with_singleton_resources">
            
              <a name="method-i-with_singleton_resources"></a><b>with_singleton_resources</b>(*args)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-with_singleton_resources_source')" id="l_method-i-with_singleton_resources_source">show</a>
                
              </p>
              <div id="method-i-with_singleton_resources_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/test/controller/resources_test.rb, line 1112</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_singleton_resources</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> {<span class="ruby-identifier">resource</span>(*<span class="ruby-identifier">args</span>) }
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    