<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>AssociationsJoinModelTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            AssociationsJoinModelTest 
            
                <span class="parent">&lt; 
                    
                    ActiveRecord::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/activerecord/test/cases/associations/join_model_test_rb.html">activerecord/test/cases/associations/join_model_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_add_to_join_table_with_no_id">test_add_to_join_table_with_no_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_add_to_self_referential_has_many_through">test_add_to_self_referential_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch">test_adding_junk_to_has_many_through_should_raise_type_mismatch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_adding_to_has_many_through_should_return_self">test_adding_to_has_many_through_should_return_self</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_associating_unsaved_records_with_has_many_through">test_associating_unsaved_records_with_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_belongs_to_polymorphic_with_counter_cache">test_belongs_to_polymorphic_with_counter_cache</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_belongs_to_shared_parent">test_belongs_to_shared_parent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_calculations_on_has_many_through_should_disambiguate_fields">test_calculations_on_has_many_through_should_disambiguate_fields</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary">test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_count_polymorphic_has_many">test_count_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_associate_when_adding_to_has_many_through">test_create_associate_when_adding_to_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_bang_polymorphic_with_has_many_scope">test_create_bang_polymorphic_with_has_many_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_polymorphic_has_many_with_scope">test_create_polymorphic_has_many_with_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_polymorphic_has_one_with_scope">test_create_polymorphic_has_one_with_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_through_has_many_with_piggyback">test_create_through_has_many_with_piggyback</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_associate_when_deleting_from_has_many_through">test_delete_associate_when_deleting_from_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags">test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id">test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_polymorphic_has_many_with_delete_all">test_delete_polymorphic_has_many_with_delete_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_polymorphic_has_many_with_destroy">test_delete_polymorphic_has_many_with_destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_polymorphic_has_many_with_nullify">test_delete_polymorphic_has_many_with_nullify</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_polymorphic_has_one_with_destroy">test_delete_polymorphic_has_one_with_destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_delete_polymorphic_has_one_with_nullify">test_delete_polymorphic_has_one_with_nullify</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deleting_by_fixnum_id_from_has_many_through">test_deleting_by_fixnum_id_from_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deleting_by_string_id_from_has_many_through">test_deleting_by_string_id_from_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch">test_deleting_junk_from_has_many_through_should_raise_type_mismatch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_belongs_to_and_has_one_not_singularized">test_eager_belongs_to_and_has_one_not_singularized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_has_many_polymorphic_with_source_type">test_eager_has_many_polymorphic_with_source_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_through_has_many">test_eager_load_has_many_through_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_through_has_many_with_conditions">test_eager_load_has_many_through_has_many_with_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many">test_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_array_methods_called_by_method_missing">test_has_many_array_methods_called_by_method_missing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_find_all">test_has_many_find_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_find_conditions">test_has_many_find_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_find_first">test_has_many_find_first</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_going_through_join_model_with_custom_foreign_key">test_has_many_going_through_join_model_with_custom_foreign_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_going_through_join_model_with_custom_primary_key">test_has_many_going_through_join_model_with_custom_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key">test_has_many_going_through_polymorphic_join_model_with_custom_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_inherited">test_has_many_inherited</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_polymorphic">test_has_many_polymorphic</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_polymorphic_with_source_type">test_has_many_polymorphic_with_source_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded">test_has_many_through_collection_size_doesnt_load_target_if_not_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists">test_has_many_through_collection_size_uses_counter_cache_if_it_exists</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_goes_through_all_sti_classes">test_has_many_through_goes_through_all_sti_classes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_find_all">test_has_many_through_has_many_find_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_find_all_with_custom_class">test_has_many_through_has_many_find_all_with_custom_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_find_by_id">test_has_many_through_has_many_find_by_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_find_conditions">test_has_many_through_has_many_find_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_find_first">test_has_many_through_has_many_find_first</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_has_many_with_sti">test_has_many_through_has_many_with_sti</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded">test_has_many_through_include_checks_if_record_exists_if_target_not_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping">test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_include_uses_array_include_after_loaded">test_has_many_through_include_uses_array_include_after_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_join_model_with_conditions">test_has_many_through_join_model_with_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_polymorphic_has_many">test_has_many_through_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_polymorphic_has_one">test_has_many_through_polymorphic_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_sum_uses_calculations">test_has_many_through_sum_uses_calculations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association">test_has_many_through_uses_conditions_specified_on_the_has_many_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_uses_correct_attributes">test_has_many_through_uses_correct_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source">test_has_many_through_with_custom_primary_key_on_belongs_to_source</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_through_with_custom_primary_key_on_has_many_source">test_has_many_through_with_custom_primary_key_on_has_many_source</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_uniq_through_count">test_has_many_uniq_through_count</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_uniq_through_find">test_has_many_uniq_through_find</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_uniq_through_join_model">test_has_many_uniq_through_join_model</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_with_hash_conditions">test_has_many_with_hash_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_with_piggyback">test_has_many_with_piggyback</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_many_with_pluralize_table_names_false">test_has_many_with_pluralize_table_names_false</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_has_many_through">test_include_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_has_many_through_polymorphic_has_many">test_include_has_many_through_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_polymorphic_has_many">test_include_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_polymorphic_has_many_through">test_include_polymorphic_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_polymorphic_has_one">test_include_polymorphic_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_polymorphic_has_one_defined_in_abstract_parent">test_include_polymorphic_has_one_defined_in_abstract_parent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_inherited_has_many">test_inherited_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_belongs_to">test_polymorphic_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many">test_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_create_model_with_inheritance">test_polymorphic_has_many_create_model_with_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class">test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model">test_polymorphic_has_many_going_through_join_model</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key">test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins">test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_find">test_polymorphic_has_many_going_through_join_model_with_find</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection">test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find">test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance">test_polymorphic_has_many_going_through_join_model_with_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name">test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_one">test_polymorphic_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_has_one_create_model_with_inheritance">test_polymorphic_has_one_create_model_with_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_nil_polymorphic_belongs_to">test_preload_nil_polymorphic_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_polymorph_many_types">test_preload_polymorph_many_types</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_polymorphic_has_many">test_preload_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_polymorphic_has_many_through">test_preload_polymorphic_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_self_referential_has_many_through">test_self_referential_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_set_polymorphic_has_many">test_set_polymorphic_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_set_polymorphic_has_one">test_set_polymorphic_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_set_polymorphic_has_one_on_new_record">test_set_polymorphic_has_one_on_new_record</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unavailable_through_reflection">test_unavailable_through_reflection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_uniq_has_many_through_should_retain_order">test_uniq_has_many_through_should_retain_order</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-test_add_to_join_table_with_no_id">
            
              <b>test_add_to_join_table_with_no_id</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_add_to_join_table_with_no_id" name="method-i-test_add_to_join_table_with_no_id" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_add_to_join_table_with_no_id_source')" id="l_method-i-test_add_to_join_table_with_no_id_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L515" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_add_to_join_table_with_no_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 515</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_add_to_join_table_with_no_id</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">vertices</span>(<span class="ruby-value">:vertex_1</span>).<span class="ruby-identifier">sinks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">vertices</span>(<span class="ruby-value">:vertex_5</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_add_to_self_referential_has_many_through">
            
              <b>test_add_to_self_referential_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_add_to_self_referential_has_many_through" name="method-i-test_add_to_self_referential_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_add_to_self_referential_has_many_through_source')" id="l_method-i-test_add_to_self_referential_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L438" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_add_to_self_referential_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 438</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_add_to_self_referential_has_many_through</span>
  <span class="ruby-identifier">new_author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Bob&quot;</span>)
  <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">author_favorites</span>.<span class="ruby-identifier">create</span> <span class="ruby-value">:favorite_author</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_author</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">new_author</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">favorite_authors</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch">
            
              <b>test_adding_junk_to_has_many_through_should_raise_type_mismatch</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch" name="method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch_source')" id="l_method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L532" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_adding_junk_to_has_many_through_should_raise_type_mismatch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 532</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_adding_junk_to_has_many_through_should_raise_type_mismatch</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">AssociationTypeMismatch</span>) { <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Uhh what now?&quot;</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_adding_to_has_many_through_should_return_self">
            
              <b>test_adding_to_has_many_through_should_return_self</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_adding_to_has_many_through_should_return_self" name="method-i-test_adding_to_has_many_through_should_return_self" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_adding_to_has_many_through_should_return_self_source')" id="l_method-i-test_adding_to_has_many_through_should_return_self_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L536" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_adding_to_has_many_through_should_return_self_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_adding_to_has_many_through_should_return_self</span>
  <span class="ruby-identifier">tags</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_associating_unsaved_records_with_has_many_through">
            
              <b>test_associating_unsaved_records_with_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_associating_unsaved_records_with_has_many_through" name="method-i-test_associating_unsaved_records_with_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_associating_unsaved_records_with_has_many_through_source')" id="l_method-i-test_associating_unsaved_records_with_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L454" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_associating_unsaved_records_with_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_associating_unsaved_records_with_has_many_through</span>
  <span class="ruby-identifier">saved_post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">new_tag</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;new&quot;</span>)

  <span class="ruby-identifier">saved_post</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_tag</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_tag</span>.<span class="ruby-identifier">persisted?</span> <span class="ruby-comment">#consistent with habtm!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">saved_post</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">saved_post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">new_tag</span>)

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_tag</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">saved_post</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">new_tag</span>)


  <span class="ruby-identifier">new_post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Association replacement works!&quot;</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;You best believe it.&quot;</span>)
  <span class="ruby-identifier">saved_tag</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>)

  <span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">saved_tag</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">saved_tag</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">saved_tag</span>)

  <span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">save!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_post</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">saved_tag</span>)

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">build</span>.<span class="ruby-identifier">persisted?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">persisted?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_belongs_to_polymorphic_with_counter_cache">
            
              <b>test_belongs_to_polymorphic_with_counter_cache</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_belongs_to_polymorphic_with_counter_cache" name="method-i-test_belongs_to_polymorphic_with_counter_cache" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_belongs_to_polymorphic_with_counter_cache_source')" id="l_method-i-test_belongs_to_polymorphic_with_counter_cache_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L328" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_belongs_to_polymorphic_with_counter_cache_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_belongs_to_polymorphic_with_counter_cache</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)[<span class="ruby-value">:tags_count</span>]
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>))
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:reload</span>)[<span class="ruby-value">:tags_count</span>]
  <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:reload</span>)[<span class="ruby-value">:tags_count</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_belongs_to_shared_parent">
            
              <b>test_belongs_to_shared_parent</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_belongs_to_shared_parent" name="method-i-test_belongs_to_shared_parent" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_belongs_to_shared_parent_source')" id="l_method-i-test_belongs_to_shared_parent_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L689" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_belongs_to_shared_parent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 689</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_belongs_to_shared_parent</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:where</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;post_id = 1&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post</span>, <span class="ruby-identifier">comments</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">post</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_calculations_on_has_many_through_should_disambiguate_fields">
            
              <b>test_calculations_on_has_many_through_should_disambiguate_fields</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_calculations_on_has_many_through_should_disambiguate_fields" name="method-i-test_calculations_on_has_many_through_should_disambiguate_fields" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_calculations_on_has_many_through_should_disambiguate_fields_source')" id="l_method-i-test_calculations_on_has_many_through_should_disambiguate_fields_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L616" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_calculations_on_has_many_through_should_disambiguate_fields_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 616</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_calculations_on_has_many_through_should_disambiguate_fields</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">maximum</span>(<span class="ruby-value">:id</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary">
            
              <b>test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary" name="method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary_source')" id="l_method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L620" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 620</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_calculations_on_has_many_through_should_not_disambiguate_fields_unless_necessary</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">maximum</span>(<span class="ruby-string">&quot;categories.id&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_count_polymorphic_has_many">
            
              <b>test_count_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_count_polymorphic_has_many" name="method-i-test_count_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_count_polymorphic_has_many_source')" id="l_method-i-test_count_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L63" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_count_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_count_polymorphic_has_many</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_associate_when_adding_to_has_many_through">
            
              <b>test_create_associate_when_adding_to_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_create_associate_when_adding_to_has_many_through" name="method-i-test_create_associate_when_adding_to_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_associate_when_adding_to_has_many_through_source')" id="l_method-i-test_create_associate_when_adding_to_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L483" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_create_associate_when_adding_to_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_associate_when_adding_to_has_many_through</span>
  <span class="ruby-identifier">count</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">push</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;pushme&#39;</span>)
  <span class="ruby-identifier">post_thinking</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">push</span> }
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tag</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tag in tags collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tagging</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tagging in taggings collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)

  <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Tag</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;foo&#39;</span>)
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tag</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tag in tags collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tagging</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tagging in taggings collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;abc&#39;</span>), <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;def&#39;</span>)) }
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tag</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tag in tags collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_nil</span>( <span class="ruby-identifier">wrong</span> = <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Tagging</span> },
              <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Expected a Tagging in taggings collection, got #{wrong.class}.&quot;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">4</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">4</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)

  <span class="ruby-comment"># Raises if the wrong reflection name is used to set the Edge belongs_to</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">vertices</span>(<span class="ruby-value">:vertex_1</span>).<span class="ruby-identifier">sinks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">vertices</span>(<span class="ruby-value">:vertex_5</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_bang_polymorphic_with_has_many_scope">
            
              <b>test_create_bang_polymorphic_with_has_many_scope</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_create_bang_polymorphic_with_has_many_scope" name="method-i-test_create_bang_polymorphic_with_has_many_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_bang_polymorphic_with_has_many_scope_source')" id="l_method-i-test_create_bang_polymorphic_with_has_many_scope_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L161" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_create_bang_polymorphic_with_has_many_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_bang_polymorphic_with_has_many_scope</span>
  <span class="ruby-identifier">old_count</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>))
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">+</span><span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_polymorphic_has_many_with_scope">
            
              <b>test_create_polymorphic_has_many_with_scope</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_create_polymorphic_has_many_with_scope" name="method-i-test_create_polymorphic_has_many_with_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_polymorphic_has_many_with_scope_source')" id="l_method-i-test_create_polymorphic_has_many_with_scope_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L154" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_create_polymorphic_has_many_with_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_polymorphic_has_many_with_scope</span>
  <span class="ruby-identifier">old_count</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>))
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">+</span><span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_polymorphic_has_one_with_scope">
            
              <b>test_create_polymorphic_has_one_with_scope</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_create_polymorphic_has_one_with_scope" name="method-i-test_create_polymorphic_has_one_with_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_polymorphic_has_one_with_scope_source')" id="l_method-i-test_create_polymorphic_has_one_with_scope_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L168" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_create_polymorphic_has_one_with_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_polymorphic_has_one_with_scope</span>
  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">create_tagging</span>(<span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>))
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">+</span><span class="ruby-number">1</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_through_has_many_with_piggyback">
            
              <b>test_create_through_has_many_with_piggyback</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_create_through_has_many_with_piggyback" name="method-i-test_create_through_has_many_with_piggyback" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_through_has_many_with_piggyback_source')" id="l_method-i-test_create_through_has_many_with_piggyback_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L234" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_create_through_has_many_with_piggyback_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_through_has_many_with_piggyback</span>
  <span class="ruby-identifier">category</span> = <span class="ruby-identifier">categories</span>(<span class="ruby-value">:sti_test</span>)
  <span class="ruby-identifier">ernie</span> = <span class="ruby-identifier">category</span>.<span class="ruby-identifier">authors_with_select</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Ernie&#39;</span>)
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">ernie</span>, <span class="ruby-identifier">category</span>.<span class="ruby-identifier">authors_with_select</span>.<span class="ruby-identifier">detect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Ernie&#39;</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_associate_when_deleting_from_has_many_through">
            
              <b>test_delete_associate_when_deleting_from_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_associate_when_deleting_from_has_many_through" name="method-i-test_delete_associate_when_deleting_from_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_associate_when_deleting_from_has_many_through_source')" id="l_method-i-test_delete_associate_when_deleting_from_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L555" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_associate_when_deleting_from_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 555</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_associate_when_deleting_from_has_many_through</span>
  <span class="ruby-identifier">count</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">tags_before</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">tag</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;doomed&#39;</span>)
  <span class="ruby-identifier">post_thinking</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tag</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">taggings</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">tags_before</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">sort</span>)

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">tag</span>) }
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">taggings</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">tags_before</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">sort</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags">
            
              <b>test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags" name="method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags_source')" id="l_method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L572" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 572</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_associate_when_deleting_from_has_many_through_with_multiple_tags</span>
  <span class="ruby-identifier">count</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">tags_before</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">doomed</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;doomed&#39;</span>)
  <span class="ruby-identifier">doomed2</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;doomed2&#39;</span>)
  <span class="ruby-identifier">quaked</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;quaked&#39;</span>)
  <span class="ruby-identifier">post_thinking</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">doomed</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">doomed2</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">reload</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">doomed</span>, <span class="ruby-identifier">doomed2</span>, <span class="ruby-identifier">quaked</span>) }
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">tags_before</span>, <span class="ruby-identifier">post_thinking</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">sort</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id">
            
              <b>test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id" name="method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id_source')" id="l_method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L541" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_associate_when_deleting_from_has_many_through_with_nonstandard_id</span>
  <span class="ruby-identifier">count</span> = <span class="ruby-identifier">books</span>(<span class="ruby-value">:awdr</span>).<span class="ruby-identifier">references</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">references_before</span> = <span class="ruby-identifier">books</span>(<span class="ruby-value">:awdr</span>).<span class="ruby-identifier">references</span>
  <span class="ruby-identifier">book</span> = <span class="ruby-constant">Book</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Getting Real&#39;</span>)
  <span class="ruby-identifier">book_awdr</span> = <span class="ruby-identifier">books</span>(<span class="ruby-value">:awdr</span>)
  <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">book</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">book</span>) }
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span>(<span class="ruby-keyword">true</span>).<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">references_before</span>.<span class="ruby-identifier">sort</span>, <span class="ruby-identifier">book_awdr</span>.<span class="ruby-identifier">references</span>.<span class="ruby-identifier">sort</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_polymorphic_has_many_with_delete_all">
            
              <b>test_delete_polymorphic_has_many_with_delete_all</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_polymorphic_has_many_with_delete_all" name="method-i-test_delete_polymorphic_has_many_with_delete_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_polymorphic_has_many_with_delete_all_source')" id="l_method-i-test_delete_polymorphic_has_many_with_delete_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L175" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_polymorphic_has_many_with_delete_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_polymorphic_has_many_with_delete_all</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">update_columns</span> <span class="ruby-identifier">taggable_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;PostWithHasManyDeleteAll&#39;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">find_post_with_dependency</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:has_many</span>, <span class="ruby-value">:taggings</span>, <span class="ruby-value">:delete_all</span>)

  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">-</span><span class="ruby-number">1</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_polymorphic_has_many_with_destroy">
            
              <b>test_delete_polymorphic_has_many_with_destroy</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_polymorphic_has_many_with_destroy" name="method-i-test_delete_polymorphic_has_many_with_destroy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_polymorphic_has_many_with_destroy_source')" id="l_method-i-test_delete_polymorphic_has_many_with_destroy_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L186" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_polymorphic_has_many_with_destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_polymorphic_has_many_with_destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">update_columns</span> <span class="ruby-identifier">taggable_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;PostWithHasManyDestroy&#39;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">find_post_with_dependency</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:has_many</span>, <span class="ruby-value">:taggings</span>, <span class="ruby-value">:destroy</span>)

  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">-</span><span class="ruby-number">1</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_polymorphic_has_many_with_nullify">
            
              <b>test_delete_polymorphic_has_many_with_nullify</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_polymorphic_has_many_with_nullify" name="method-i-test_delete_polymorphic_has_many_with_nullify" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_polymorphic_has_many_with_nullify_source')" id="l_method-i-test_delete_polymorphic_has_many_with_nullify_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L197" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_polymorphic_has_many_with_nullify_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_polymorphic_has_many_with_nullify</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">update_columns</span> <span class="ruby-identifier">taggable_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;PostWithHasManyNullify&#39;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">find_post_with_dependency</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:has_many</span>, <span class="ruby-value">:taggings</span>, <span class="ruby-value">:nullify</span>)

  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_polymorphic_has_one_with_destroy">
            
              <b>test_delete_polymorphic_has_one_with_destroy</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_polymorphic_has_one_with_destroy" name="method-i-test_delete_polymorphic_has_one_with_destroy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_polymorphic_has_one_with_destroy_source')" id="l_method-i-test_delete_polymorphic_has_one_with_destroy_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L208" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_polymorphic_has_one_with_destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_polymorphic_has_one_with_destroy</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">update_columns</span> <span class="ruby-identifier">taggable_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;PostWithHasOneDestroy&#39;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">find_post_with_dependency</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:has_one</span>, <span class="ruby-value">:tagging</span>, <span class="ruby-value">:destroy</span>)

  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span><span class="ruby-operator">-</span><span class="ruby-number">1</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>(<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_delete_polymorphic_has_one_with_nullify">
            
              <b>test_delete_polymorphic_has_one_with_nullify</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_delete_polymorphic_has_one_with_nullify" name="method-i-test_delete_polymorphic_has_one_with_nullify" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_delete_polymorphic_has_one_with_nullify_source')" id="l_method-i-test_delete_polymorphic_has_one_with_nullify_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L219" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_delete_polymorphic_has_one_with_nullify_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_delete_polymorphic_has_one_with_nullify</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">update_columns</span> <span class="ruby-identifier">taggable_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;PostWithHasOneNullify&#39;</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">find_post_with_dependency</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:has_one</span>, <span class="ruby-value">:tagging</span>, <span class="ruby-value">:nullify</span>)

  <span class="ruby-identifier">old_count</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">old_count</span>, <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tagging</span>(<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deleting_by_fixnum_id_from_has_many_through">
            
              <b>test_deleting_by_fixnum_id_from_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_deleting_by_fixnum_id_from_has_many_through" name="method-i-test_deleting_by_fixnum_id_from_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deleting_by_fixnum_id_from_has_many_through_source')" id="l_method-i-test_deleting_by_fixnum_id_from_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L592" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deleting_by_fixnum_id_from_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 592</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deleting_by_fixnum_id_from_has_many_through</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)

  <span class="ruby-identifier">assert_difference</span> <span class="ruby-string">&#39;post.tags.count&#39;</span>, <span class="ruby-number">-1</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deleting_by_string_id_from_has_many_through">
            
              <b>test_deleting_by_string_id_from_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_deleting_by_string_id_from_has_many_through" name="method-i-test_deleting_by_string_id_from_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deleting_by_string_id_from_has_many_through_source')" id="l_method-i-test_deleting_by_string_id_from_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L602" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deleting_by_string_id_from_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 602</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deleting_by_string_id_from_has_many_through</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)

  <span class="ruby-identifier">assert_difference</span> <span class="ruby-string">&#39;post.tags.count&#39;</span>, <span class="ruby-number">-1</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;1&#39;</span>).<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch">
            
              <b>test_deleting_junk_from_has_many_through_should_raise_type_mismatch</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch" name="method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch_source')" id="l_method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L588" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deleting_junk_from_has_many_through_should_raise_type_mismatch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deleting_junk_from_has_many_through_should_raise_type_mismatch</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">AssociationTypeMismatch</span>) { <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_belongs_to_and_has_one_not_singularized">
            
              <b>test_eager_belongs_to_and_has_one_not_singularized</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_eager_belongs_to_and_has_one_not_singularized" name="method-i-test_eager_belongs_to_and_has_one_not_singularized" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_belongs_to_and_has_one_not_singularized_source')" id="l_method-i-test_eager_belongs_to_and_has_one_not_singularized_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L426" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_eager_belongs_to_and_has_one_not_singularized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_belongs_to_and_has_one_not_singularized</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Author</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_address</span>).<span class="ruby-identifier">first</span>
    <span class="ruby-constant">AuthorAddress</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_has_many_polymorphic_with_source_type">
            
              <b>test_eager_has_many_polymorphic_with_source_type</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_eager_has_many_polymorphic_with_source_type" name="method-i-test_eager_has_many_polymorphic_with_source_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_has_many_polymorphic_with_source_type_source')" id="l_method-i-test_eager_has_many_polymorphic_with_source_type_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L364" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_eager_has_many_polymorphic_with_source_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_has_many_polymorphic_with_source_type</span>
  <span class="ruby-identifier">tag_with_include</span> = <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:tagged_posts</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">desired</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># added sort by ID as otherwise test using JRuby was failing as array elements were in different order</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">desired</span>.<span class="ruby-identifier">sort_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>), <span class="ruby-identifier">tag_with_include</span>.<span class="ruby-identifier">tagged_posts</span>.<span class="ruby-identifier">sort_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">tag_with_include</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_through_has_many">
            
              <b>test_eager_load_has_many_through_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_eager_load_has_many_through_has_many" name="method-i-test_eager_load_has_many_through_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_through_has_many_source')" id="l_method-i-test_eager_load_has_many_through_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L411" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_through_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_through_has_many</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:where</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;name = ?&#39;</span>, <span class="ruby-string">&#39;David&#39;</span>], <span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;comments.id&#39;</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-constant">SpecialComment</span>.<span class="ruby-identifier">new</span>; <span class="ruby-constant">VerySpecialComment</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>,<span class="ruby-number">2</span>,<span class="ruby-number">3</span>,<span class="ruby-number">5</span>,<span class="ruby-number">6</span>,<span class="ruby-number">7</span>,<span class="ruby-number">8</span>,<span class="ruby-number">9</span>,<span class="ruby-number">10</span>,<span class="ruby-number">12</span>], <span class="ruby-identifier">author</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_through_has_many_with_conditions">
            
              <b>test_eager_load_has_many_through_has_many_with_conditions</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_eager_load_has_many_through_has_many_with_conditions" name="method-i-test_eager_load_has_many_through_has_many_with_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_through_has_many_with_conditions_source')" id="l_method-i-test_eager_load_has_many_through_has_many_with_conditions_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L419" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_through_has_many_with_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_through_has_many_with_conditions</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid_tags</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">post</span>.<span class="ruby-identifier">invalid_tags</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many">
            
              <b>test_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many" name="method-i-test_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_source')" id="l_method-i-test_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L26" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_array_methods_called_by_method_missing">
            
              <b>test_has_many_array_methods_called_by_method_missing</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_array_methods_called_by_method_missing" name="method-i-test_has_many_array_methods_called_by_method_missing" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_array_methods_called_by_method_missing_source')" id="l_method-i-test_has_many_array_methods_called_by_method_missing_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L302" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_array_methods_called_by_method_missing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_array_methods_called_by_method_missing</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">category</span><span class="ruby-operator">|</span> <span class="ruby-identifier">category</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;General&#39;</span> }
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">sort</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_find_all">
            
              <b>test_has_many_find_all</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_find_all" name="method-i-test_has_many_find_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_find_all_source')" id="l_method-i-test_has_many_find_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L285" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_find_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 285</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_find_all</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>)], <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">to_a</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_find_conditions">
            
              <b>test_has_many_find_conditions</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_find_conditions" name="method-i-test_has_many_find_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_find_conditions_source')" id="l_method-i-test_has_many_find_conditions_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L297" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_find_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_find_conditions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;categories.name = &#39;General&#39;&quot;</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;categories.name = &#39;Technology&#39;&quot;</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_find_first">
            
              <b>test_has_many_find_first</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_find_first" name="method-i-test_has_many_find_first" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_find_first_source')" id="l_method-i-test_has_many_find_first_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L289" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_find_first_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_find_first</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_going_through_join_model_with_custom_foreign_key">
            
              <b>test_has_many_going_through_join_model_with_custom_foreign_key</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_going_through_join_model_with_custom_foreign_key" name="method-i-test_has_many_going_through_join_model_with_custom_foreign_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_going_through_join_model_with_custom_foreign_key_source')" id="l_method-i-test_has_many_going_through_join_model_with_custom_foreign_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L307" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_going_through_join_model_with_custom_foreign_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_going_through_join_model_with_custom_foreign_key</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:bob</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">authors</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:authorless</span>).<span class="ruby-identifier">authors</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_going_through_join_model_with_custom_primary_key">
            
              <b>test_has_many_going_through_join_model_with_custom_primary_key</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_going_through_join_model_with_custom_primary_key" name="method-i-test_has_many_going_through_join_model_with_custom_primary_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_going_through_join_model_with_custom_primary_key_source')" id="l_method-i-test_has_many_going_through_join_model_with_custom_primary_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L312" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_going_through_join_model_with_custom_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_going_through_join_model_with_custom_primary_key</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">authors_using_author_id</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key">
            
              <b>test_has_many_going_through_polymorphic_join_model_with_custom_primary_key</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key" name="method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key_source')" id="l_method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L316" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_going_through_polymorphic_join_model_with_custom_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_going_through_polymorphic_join_model_with_custom_primary_key</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:eager_other</span>).<span class="ruby-identifier">tags_using_author_id</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_inherited">
            
              <b>test_has_many_inherited</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_inherited" name="method-i-test_has_many_inherited" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_inherited_source')" id="l_method-i-test_has_many_inherited_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L30" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_inherited_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_inherited</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:sti_test</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_polymorphic">
            
              <b>test_has_many_polymorphic</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_polymorphic" name="method-i-test_has_many_polymorphic" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_polymorphic_source')" id="l_method-i-test_has_many_polymorphic_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L345" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_polymorphic_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_polymorphic</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">HasManyThroughAssociationPolymorphicSourceError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>).<span class="ruby-identifier">taggables</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">HasManyThroughAssociationPolymorphicThroughError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>).<span class="ruby-identifier">things</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">EagerLoadPolymorphicError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:taggable</span>).<span class="ruby-identifier">where</span>(<span class="ruby-string">&#39;bogus_table.column = 1&#39;</span>).<span class="ruby-identifier">references</span>(<span class="ruby-value">:bogus_table</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_polymorphic_with_source_type">
            
              <b>test_has_many_polymorphic_with_source_type</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_polymorphic_with_source_type" name="method-i-test_has_many_polymorphic_with_source_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_polymorphic_with_source_type_source')" id="l_method-i-test_has_many_polymorphic_with_source_type_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L359" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_polymorphic_with_source_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_polymorphic_with_source_type</span>
  <span class="ruby-comment"># added sort by ID as otherwise Oracle select sometimes returned rows in different order</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:thinking</span>).<span class="ruby-identifier">sort_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>), <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>).<span class="ruby-identifier">tagged_posts</span>.<span class="ruby-identifier">sort_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded">
            
              <b>test_has_many_through_collection_size_doesnt_load_target_if_not_loaded</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded" name="method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded_source')" id="l_method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L519" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_collection_size_doesnt_load_target_if_not_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 519</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_collection_size_doesnt_load_target_if_not_loaded</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">author</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">loaded?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists">
            
              <b>test_has_many_through_collection_size_uses_counter_cache_if_it_exists</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists" name="method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists_source')" id="l_method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L525" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_collection_size_uses_counter_cache_if_it_exists_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 525</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_collection_size_uses_counter_cache_if_it_exists</span>
  <span class="ruby-identifier">c</span> = <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>)
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">categorizations_count</span> = <span class="ruby-number">100</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">100</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">categorizations</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">categorizations</span>.<span class="ruby-identifier">loaded?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_goes_through_all_sti_classes">
            
              <b>test_has_many_through_goes_through_all_sti_classes</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_goes_through_all_sti_classes" name="method-i-test_has_many_through_goes_through_all_sti_classes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_goes_through_all_sti_classes_source')" id="l_method-i-test_has_many_through_goes_through_all_sti_classes_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L728" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_goes_through_all_sti_classes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 728</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_goes_through_all_sti_classes</span>
  <span class="ruby-identifier">sub_sti_post</span> = <span class="ruby-constant">SubStiPost</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;test&#39;</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;test&#39;</span>, <span class="ruby-value">:author_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
  <span class="ruby-identifier">new_comment</span> = <span class="ruby-identifier">sub_sti_post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;test&#39;</span>)

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">9</span>, <span class="ruby-number">10</span>, <span class="ruby-identifier">new_comment</span>.<span class="ruby-identifier">id</span>], <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">sti_post_comments</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>).<span class="ruby-identifier">sort</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_find_all">
            
              <b>test_has_many_through_has_many_find_all</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_find_all" name="method-i-test_has_many_through_has_many_find_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_find_all_source')" id="l_method-i-test_has_many_through_has_many_find_all_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L374" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_find_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 374</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_find_all</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&#39;comments.id&#39;</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_find_all_with_custom_class">
            
              <b>test_has_many_through_has_many_find_all_with_custom_class</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_find_all_with_custom_class" name="method-i-test_has_many_through_has_many_find_all_with_custom_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_find_all_with_custom_class_source')" id="l_method-i-test_has_many_through_has_many_find_all_with_custom_class_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L378" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_find_all_with_custom_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 378</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_find_all_with_custom_class</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">funky_comments</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&#39;comments.id&#39;</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_find_by_id">
            
              <b>test_has_many_through_has_many_find_by_id</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_find_by_id" name="method-i-test_has_many_through_has_many_find_by_id" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_find_by_id_source')" id="l_method-i-test_has_many_through_has_many_find_by_id_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L391" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_find_by_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_find_by_id</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:more_greetings</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">2</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_find_conditions">
            
              <b>test_has_many_through_has_many_find_conditions</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_find_conditions" name="method-i-test_has_many_through_has_many_find_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_find_conditions_source')" id="l_method-i-test_has_many_through_has_many_find_conditions_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L386" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_find_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_find_conditions</span>
  <span class="ruby-identifier">options</span> = { <span class="ruby-value">:where</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;comments.#{QUOTED_TYPE}=&#39;SpecialComment&#39;&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;comments.id&#39;</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:does_it_hurt</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_find_first">
            
              <b>test_has_many_through_has_many_find_first</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_find_first" name="method-i-test_has_many_through_has_many_find_first" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_find_first_source')" id="l_method-i-test_has_many_through_has_many_find_first_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L382" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_find_first_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 382</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_find_first</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&#39;comments.id&#39;</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_has_many_with_sti">
            
              <b>test_has_many_through_has_many_with_sti</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_has_many_with_sti" name="method-i-test_has_many_through_has_many_with_sti" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_has_many_with_sti_source')" id="l_method-i-test_has_many_through_has_many_with_sti_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L624" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_has_many_with_sti_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 624</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_has_many_with_sti</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comments</span>(<span class="ruby-value">:does_it_hurt</span>)], <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">special_post_comments</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded">
            
              <b>test_has_many_through_include_checks_if_record_exists_if_target_not_loaded</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded" name="method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded_source')" id="l_method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L708" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_include_checks_if_record_exists_if_target_not_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 708</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_include_checks_if_record_exists_if_target_not_loaded</span>
  <span class="ruby-identifier">david</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">category</span> = <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">david</span>.<span class="ruby-identifier">reload</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">loaded?</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">category</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">loaded?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping">
            
              <b>test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping" name="method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping_source')" id="l_method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L720" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_include_returns_false_for_non_matching_record_to_verify_scoping</span>
  <span class="ruby-identifier">david</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">category</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not Associated&#39;</span>)

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">loaded?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">category</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_include_uses_array_include_after_loaded">
            
              <b>test_has_many_through_include_uses_array_include_after_loaded</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_include_uses_array_include_after_loaded" name="method-i-test_has_many_through_include_uses_array_include_after_loaded" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_include_uses_array_include_after_loaded_source')" id="l_method-i-test_has_many_through_include_uses_array_include_after_loaded_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L696" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_include_uses_array_include_after_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 696</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_include_uses_array_include_after_loaded</span>
  <span class="ruby-identifier">david</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">load_target</span>

  <span class="ruby-identifier">category</span> = <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">loaded?</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">category</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_join_model_with_conditions">
            
              <b>test_has_many_through_join_model_with_conditions</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_join_model_with_conditions" name="method-i-test_has_many_through_join_model_with_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_join_model_with_conditions_source')" id="l_method-i-test_has_many_through_join_model_with_conditions_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L340" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_join_model_with_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_join_model_with_conditions</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">invalid_taggings</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">invalid_tags</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_polymorphic_has_many">
            
              <b>test_has_many_through_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_polymorphic_has_many" name="method-i-test_has_many_through_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_polymorphic_has_many_source')" id="l_method-i-test_has_many_through_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L399" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_polymorphic_has_many</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>, <span class="ruby-value">:thinking_general</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">distinct</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_polymorphic_has_one">
            
              <b>test_has_many_through_polymorphic_has_one</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_polymorphic_has_one" name="method-i-test_has_many_through_polymorphic_has_one" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_polymorphic_has_one_source')" id="l_method-i-test_has_many_through_polymorphic_has_one_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L395" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_polymorphic_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_polymorphic_has_one</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>,<span class="ruby-number">2</span>).<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span> }, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">taggings_2</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_sum_uses_calculations">
            
              <b>test_has_many_through_sum_uses_calculations</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_sum_uses_calculations" name="method-i-test_has_many_through_sum_uses_calculations" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_sum_uses_calculations_source')" id="l_method-i-test_has_many_through_sum_uses_calculations_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L612" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_sum_uses_calculations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 612</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_sum_uses_calculations</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value">:post_id</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association">
            
              <b>test_has_many_through_uses_conditions_specified_on_the_has_many_association</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association" name="method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association_source')" id="l_method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L444" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_uses_conditions_specified_on_the_has_many_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_uses_conditions_specified_on_the_has_many_association</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">author</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">present?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">author</span>.<span class="ruby-identifier">nonexistant_comments</span>.<span class="ruby-identifier">blank?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_uses_correct_attributes">
            
              <b>test_has_many_through_uses_correct_attributes</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_uses_correct_attributes" name="method-i-test_has_many_through_uses_correct_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_uses_correct_attributes_source')" id="l_method-i-test_has_many_through_uses_correct_attributes_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L450" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_uses_correct_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 450</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_uses_correct_attributes</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">find_by_name</span>(<span class="ruby-string">&quot;General&quot;</span>).<span class="ruby-identifier">attributes</span>[<span class="ruby-string">&quot;tag_id&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source">
            
              <b>test_has_many_through_with_custom_primary_key_on_belongs_to_source</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source" name="method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source_source')" id="l_method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L320" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_with_custom_primary_key_on_belongs_to_source_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_with_custom_primary_key_on_belongs_to_source</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">author_using_custom_pk</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_through_with_custom_primary_key_on_has_many_source">
            
              <b>test_has_many_through_with_custom_primary_key_on_has_many_source</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_through_with_custom_primary_key_on_has_many_source" name="method-i-test_has_many_through_with_custom_primary_key_on_has_many_source" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_through_with_custom_primary_key_on_has_many_source_source')" id="l_method-i-test_has_many_through_with_custom_primary_key_on_has_many_source_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L324" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_through_with_custom_primary_key_on_has_many_source_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_through_with_custom_primary_key_on_has_many_source</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:bob</span>)], <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">authors_using_custom_pk</span>.<span class="ruby-identifier">order</span>(<span class="ruby-string">&#39;authors.id&#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_uniq_through_count">
            
              <b>test_has_many_uniq_through_count</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_uniq_through_count" name="method-i-test_has_many_uniq_through_count" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_uniq_through_count_source')" id="l_method-i-test_has_many_uniq_through_count_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L43" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_uniq_through_count_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_uniq_through_count</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">loaded?</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">count</span> }
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:title</span>) }
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">title</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>).<span class="ruby-identifier">count</span>(<span class="ruby-value">:title</span>) }
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">loaded?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_uniq_through_find">
            
              <b>test_has_many_uniq_through_find</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_uniq_through_find" name="method-i-test_has_many_uniq_through_find" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_uniq_through_find_source')" id="l_method-i-test_has_many_uniq_through_find_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L52" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_uniq_through_find_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_uniq_through_find</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_uniq_through_join_model">
            
              <b>test_has_many_uniq_through_join_model</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_uniq_through_join_model" name="method-i-test_has_many_uniq_through_join_model" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_uniq_through_join_model_source')" id="l_method-i-test_has_many_uniq_through_join_model_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L38" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_uniq_through_join_model_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_uniq_through_join_model</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">categorized_posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_with_hash_conditions">
            
              <b>test_has_many_with_hash_conditions</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_with_hash_conditions" name="method-i-test_has_many_with_hash_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_with_hash_conditions_source')" id="l_method-i-test_has_many_with_hash_conditions_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L293" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_with_hash_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_with_hash_conditions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">categories_like_general</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_with_piggyback">
            
              <b>test_has_many_with_piggyback</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_with_piggyback" name="method-i-test_has_many_with_piggyback" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_with_piggyback_source')" id="l_method-i-test_has_many_with_piggyback_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L230" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_with_piggyback_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_with_piggyback</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;2&quot;</span>, <span class="ruby-identifier">categories</span>(<span class="ruby-value">:sti_test</span>).<span class="ruby-identifier">authors_with_select</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post_id</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_many_with_pluralize_table_names_false">
            
              <b>test_has_many_with_pluralize_table_names_false</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_has_many_with_pluralize_table_names_false" name="method-i-test_has_many_with_pluralize_table_names_false" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_many_with_pluralize_table_names_false_source')" id="l_method-i-test_has_many_with_pluralize_table_names_false_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L735" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_has_many_with_pluralize_table_names_false_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 735</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_many_with_pluralize_table_names_false</span>
  <span class="ruby-identifier">aircraft</span> = <span class="ruby-constant">Aircraft</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Airbus 380&quot;</span>)
  <span class="ruby-identifier">engine</span> = <span class="ruby-constant">Engine</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:car_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">aircraft</span>.<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">aircraft</span>.<span class="ruby-identifier">engines</span>, [<span class="ruby-identifier">engine</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_has_many_through">
            
              <b>test_include_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_has_many_through" name="method-i-test_include_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_has_many_through_source')" id="l_method-i-test_include_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L242" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_has_many_through</span>
  <span class="ruby-identifier">posts</span>              = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">posts_with_authors</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:authors</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">posts_with_authors</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">authors</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_authors</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">authors</span>.<span class="ruby-identifier">length</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_has_many_through_polymorphic_has_many">
            
              <b>test_include_has_many_through_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_has_many_through_polymorphic_has_many" name="method-i-test_include_has_many_through_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_has_many_through_polymorphic_has_many_source')" id="l_method-i-test_include_has_many_through_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L403" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_has_many_through_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_has_many_through_polymorphic_has_many</span>
  <span class="ruby-identifier">author</span>            = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:taggings</span>).<span class="ruby-identifier">find</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">expected_taggings</span> = <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>, <span class="ruby-value">:thinking_general</span>)
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_taggings</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">distinct</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_polymorphic_has_many">
            
              <b>test_include_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_polymorphic_has_many" name="method-i-test_include_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_polymorphic_has_many_source')" id="l_method-i-test_include_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L276" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_polymorphic_has_many</span>
  <span class="ruby-identifier">posts</span>               = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">posts_with_taggings</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">posts_with_taggings</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_taggings</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">length</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_polymorphic_has_many_through">
            
              <b>test_include_polymorphic_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_polymorphic_has_many_through" name="method-i-test_include_polymorphic_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_polymorphic_has_many_through_source')" id="l_method-i-test_include_polymorphic_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L267" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_polymorphic_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_polymorphic_has_many_through</span>
  <span class="ruby-identifier">posts</span>           = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">posts_with_tags</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:tags</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">posts_with_tags</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_tags</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_polymorphic_has_one">
            
              <b>test_include_polymorphic_has_one</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_polymorphic_has_one" name="method-i-test_include_polymorphic_has_one" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_polymorphic_has_one_source')" id="l_method-i-test_include_polymorphic_has_one_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L251" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_polymorphic_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_polymorphic_has_one</span>
  <span class="ruby-identifier">post</span>    = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:tagging</span>).<span class="ruby-identifier">find</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>)
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tagging</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_polymorphic_has_one_defined_in_abstract_parent">
            
              <b>test_include_polymorphic_has_one_defined_in_abstract_parent</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_include_polymorphic_has_one_defined_in_abstract_parent" name="method-i-test_include_polymorphic_has_one_defined_in_abstract_parent" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_polymorphic_has_one_defined_in_abstract_parent_source')" id="l_method-i-test_include_polymorphic_has_one_defined_in_abstract_parent_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L259" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_include_polymorphic_has_one_defined_in_abstract_parent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_polymorphic_has_one_defined_in_abstract_parent</span>
  <span class="ruby-identifier">item</span>    = <span class="ruby-constant">Item</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:tagging</span>).<span class="ruby-identifier">find</span> <span class="ruby-identifier">items</span>(<span class="ruby-value">:dvd</span>).<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:godfather</span>)
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tagging</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_inherited_has_many">
            
              <b>test_inherited_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_inherited_has_many" name="method-i-test_inherited_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_inherited_has_many_source')" id="l_method-i-test_inherited_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L34" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_inherited_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_inherited_has_many</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:sti_test</span>).<span class="ruby-identifier">authors</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_belongs_to">
            
              <b>test_polymorphic_belongs_to</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_belongs_to" name="method-i-test_polymorphic_belongs_to" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_belongs_to_source')" id="l_method-i-test_polymorphic_belongs_to_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L648" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 648</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_belongs_to</span>
  <span class="ruby-identifier">p</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:taggings</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggable</span>}).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_no_queries</span> {<span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>), <span class="ruby-identifier">p</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">taggable</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many">
            
              <b>test_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many" name="method-i-test_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_source')" id="l_method-i-test_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L634" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 634</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>)
  <span class="ruby-identifier">p</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_no_queries</span> {<span class="ruby-identifier">assert</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expected</span>)}
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_create_model_with_inheritance">
            
              <b>test_polymorphic_has_many_create_model_with_inheritance</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_create_model_with_inheritance" name="method-i-test_polymorphic_has_many_create_model_with_inheritance" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_create_model_with_inheritance_source')" id="l_method-i-test_polymorphic_has_many_create_model_with_inheritance_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L115" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_create_model_with_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_create_model_with_inheritance</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">SpecialPost</span>, <span class="ruby-identifier">post</span>

  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:taggable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">post</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class">
            
              <b>test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class" name="method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class_source')" id="l_method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L99" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_create_model_with_inheritance_and_custom_base_class</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">SubStiPost</span>.<span class="ruby-identifier">create</span> <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;SubStiPost&#39;</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;SubStiPost body&#39;</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">SubStiPost</span>, <span class="ruby-identifier">post</span>

  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:taggable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">post</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;SubStiPost&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model">
            
              <b>test_polymorphic_has_many_going_through_join_model</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model" name="method-i-test_polymorphic_has_many_going_through_join_model" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L56" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">tag</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key" name="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L94" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_custom_foreign_key</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>), <span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>).<span class="ruby-identifier">super_tag</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">super_tags</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins" name="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L89" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_custom_select_and_joins</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">tag</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">add_joins_and_select</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">author_id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_find">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_find</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_find" name="method-i-test_polymorphic_has_many_going_through_join_model_with_find" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_find_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_find_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L68" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_find_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_find</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">tag</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection" name="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L75" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">tag</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">funky_tags</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find" name="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L82" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_include_on_source_reflection_with_find</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">tag</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">funky_tags</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">tagging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_inheritance</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance" name="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L107" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_inheritance</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name">
            
              <b>test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name" name="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name_source')" id="l_method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L111" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_many_going_through_join_model_with_inheritance_with_custom_class_name</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">funky_tags</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_one">
            
              <b>test_polymorphic_has_one</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_one" name="method-i-test_polymorphic_has_one" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_one_source')" id="l_method-i-test_polymorphic_has_one_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L641" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 641</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_one</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)

  <span class="ruby-identifier">tagging</span>  = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggable</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">taggings</span>(<span class="ruby-value">:welcome_general</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_has_one_create_model_with_inheritance">
            
              <b>test_polymorphic_has_one_create_model_with_inheritance</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_polymorphic_has_one_create_model_with_inheritance" name="method-i-test_polymorphic_has_one_create_model_with_inheritance" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_has_one_create_model_with_inheritance_source')" id="l_method-i-test_polymorphic_has_one_create_model_with_inheritance_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L123" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_polymorphic_has_one_create_model_with_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_has_one_create_model_with_inheritance</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">create_tagging</span>(<span class="ruby-value">:taggable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>))
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_nil_polymorphic_belongs_to">
            
              <b>test_preload_nil_polymorphic_belongs_to</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_preload_nil_polymorphic_belongs_to" name="method-i-test_preload_nil_polymorphic_belongs_to" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_nil_polymorphic_belongs_to_source')" id="l_method-i-test_preload_nil_polymorphic_belongs_to_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L674" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_preload_nil_polymorphic_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 674</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_nil_polymorphic_belongs_to</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggable</span>, <span class="ruby-value">:where</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;taggable_type IS NULL&#39;</span>]).<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_polymorph_many_types">
            
              <b>test_preload_polymorph_many_types</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_preload_polymorph_many_types" name="method-i-test_preload_polymorph_many_types" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_polymorph_many_types_source')" id="l_method-i-test_preload_polymorph_many_types_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L662" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_preload_polymorph_many_types_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 662</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_polymorph_many_types</span>
  <span class="ruby-identifier">taggings</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggable</span>, <span class="ruby-value">:where</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;taggable_type != ?&#39;</span>, <span class="ruby-string">&#39;FakeModel&#39;</span>]).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">taggable</span>.<span class="ruby-identifier">id</span>
    <span class="ruby-identifier">taggings</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">taggable</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">taggables</span> = <span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:taggable</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">taggables</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">items</span>(<span class="ruby-value">:dvd</span>))
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">taggables</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_polymorphic_has_many">
            
              <b>test_preload_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_preload_polymorphic_has_many" name="method-i-test_preload_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_polymorphic_has_many_source')" id="l_method-i-test_preload_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L680" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_preload_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 680</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_polymorphic_has_many</span>
  <span class="ruby-identifier">posts</span>               = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">posts_with_taggings</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">posts_with_taggings</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_taggings</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">length</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_polymorphic_has_many_through">
            
              <b>test_preload_polymorphic_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_preload_polymorphic_has_many_through" name="method-i-test_preload_polymorphic_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_polymorphic_has_many_through_source')" id="l_method-i-test_preload_polymorphic_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L653" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_preload_polymorphic_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 653</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_polymorphic_has_many_through</span>
  <span class="ruby-identifier">posts</span>           = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">posts_with_tags</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:tags</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;posts.id&#39;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">posts_with_tags</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_tags</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">length</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_self_referential_has_many_through">
            
              <b>test_self_referential_has_many_through</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_self_referential_has_many_through" name="method-i-test_self_referential_has_many_through" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_self_referential_has_many_through_source')" id="l_method-i-test_self_referential_has_many_through_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L433" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_self_referential_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 433</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_self_referential_has_many_through</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>)], <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">favorite_authors</span>
  <span class="ruby-identifier">assert_equal</span> [],               <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">favorite_authors</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_set_polymorphic_has_many">
            
              <b>test_set_polymorphic_has_many</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_set_polymorphic_has_many" name="method-i-test_set_polymorphic_has_many" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_set_polymorphic_has_many_source')" id="l_method-i-test_set_polymorphic_has_many_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L128" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_set_polymorphic_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_set_polymorphic_has_many</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">taggings</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tagging</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_set_polymorphic_has_one">
            
              <b>test_set_polymorphic_has_one</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_set_polymorphic_has_one" name="method-i-test_set_polymorphic_has_one" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_set_polymorphic_has_one_source')" id="l_method-i-test_set_polymorphic_has_one_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L134" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_set_polymorphic_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_set_polymorphic_has_one</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tagging</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>,              <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">id</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_id</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>),    <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_set_polymorphic_has_one_on_new_record">
            
              <b>test_set_polymorphic_has_one_on_new_record</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_set_polymorphic_has_one_on_new_record" name="method-i-test_set_polymorphic_has_one_on_new_record" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_set_polymorphic_has_one_on_new_record_source')" id="l_method-i-test_set_polymorphic_has_one_on_new_record_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L143" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_set_polymorphic_has_one_on_new_record_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_set_polymorphic_has_one_on_new_record</span>
  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tags</span>(<span class="ruby-value">:misc</span>).<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span> <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bar&quot;</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">tagging</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">save!</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Post&quot;</span>,  <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable_id</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post</span>,    <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unavailable_through_reflection">
            
              <b>test_unavailable_through_reflection</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_unavailable_through_reflection" name="method-i-test_unavailable_through_reflection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unavailable_through_reflection_source')" id="l_method-i-test_unavailable_through_reflection_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L336" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_unavailable_through_reflection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 336</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unavailable_through_reflection</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">HasManyThroughAssociationNotFoundError</span>) { <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">nothings</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_uniq_has_many_through_should_retain_order">
            
              <b>test_uniq_has_many_through_should_retain_order</b>()
            
            <a href="../classes/AssociationsJoinModelTest.html#method-i-test_uniq_has_many_through_should_retain_order" name="method-i-test_uniq_has_many_through_should_retain_order" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_uniq_has_many_through_should_retain_order_source')" id="l_method-i-test_uniq_has_many_through_should_retain_order_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/d730e374ca99a60b08c75aab7b0ed8a846a34924/activerecord/test/cases/associations/join_model_test.rb#L628" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_uniq_has_many_through_should_retain_order_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/join_model_test.rb, line 628</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_uniq_has_many_through_should_retain_order</span>
  <span class="ruby-identifier">comment_ids</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comment_ids</span>.<span class="ruby-identifier">sort</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">ordered_uniq_comments</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comment_ids</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">ordered_uniq_comments_desc</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:id</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    