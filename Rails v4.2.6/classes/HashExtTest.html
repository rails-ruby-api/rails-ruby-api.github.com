<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>HashExtTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            HashExtTest 
            
                <span class="parent">&lt; 
                    
                    <a href="ActiveSupport/TestCase.html">ActiveSupport::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/activesupport/test/core_ext/hash_ext_test_rb.html">activesupport/test/core_ext/hash_ext_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HashExtTest/HashByConversion.html">HashExtTest::HashByConversion</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HashExtTest/IndifferentHash.html">HashExtTest::IndifferentHash</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HashExtTest/NonIndifferentHash.html">HashExtTest::NonIndifferentHash</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HashExtTest/SubclassingArray.html">HashExtTest::SubclassingArray</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HashExtTest/SubclassingHash.html">HashExtTest::SubclassingHash</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_assert_valid_keys">test_assert_valid_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_assorted_keys_not_stringified">test_assorted_keys_not_stringified</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_compact">test_compact</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_compact-21">test_compact!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_constructor_on_indifferent_access">test_constructor_on_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_merge">test_deep_merge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_merge_on_indifferent_access">test_deep_merge_on_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_merge_with_block">test_deep_merge_with_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_merge_with_falsey_values">test_deep_merge_with_falsey_values</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash">test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys">test_deep_stringify_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys-21">test_deep_stringify_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access">test_deep_stringify_keys_bang_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys_for_hash_with_indifferent_access">test_deep_stringify_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys_not_mutates">test_deep_stringify_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_stringify_keys_with_bang_mutates">test_deep_stringify_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys">test_deep_symbolize_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys-21">test_deep_symbolize_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access">test_deep_symbolize_keys_bang_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access">test_deep_symbolize_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_not_mutates">test_deep_symbolize_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_preserves_fixnum_keys">test_deep_symbolize_keys_preserves_fixnum_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access">test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized">test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access">test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_symbolize_keys_with_bang_mutates">test_deep_symbolize_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_transform_keys">test_deep_transform_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_transform_keys-21">test_deep_transform_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_transform_keys_not_mutates">test_deep_transform_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deep_transform_keys_with_bang_mutates">test_deep_transform_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dup_with_default_proc">test_dup_with_default_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dup_with_default_proc_sets_proc">test_dup_with_default_proc_sets_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_except">test_except</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_except_with_mocha_expectation_on_original">test_except_with_mocha_expectation_on_original</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_except_with_more_than_one_argument">test_except_with_more_than_one_argument</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_except_with_original_frozen">test_except_with_original_frozen</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_extract">test_extract</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_extract_nils">test_extract_nils</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_assorted">test_indifferent_assorted</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_deleting">test_indifferent_deleting</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_duplication">test_indifferent_duplication</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_extract">test_indifferent_extract</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_hash_with_array_of_hashes">test_indifferent_hash_with_array_of_hashes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_merging">test_indifferent_merging</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_merging_with_block">test_indifferent_merging_with_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_reading">test_indifferent_reading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_reading_with_nonnil_default">test_indifferent_reading_with_nonnil_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_reject">test_indifferent_reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_reject_bang">test_indifferent_reject_bang</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_replace">test_indifferent_replace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_reverse_merging">test_indifferent_reverse_merging</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_select">test_indifferent_select</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_select_bang">test_indifferent_select_bang</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_select_returns_a_hash_when_unchanged">test_indifferent_select_returns_a_hash_when_unchanged</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_slice">test_indifferent_slice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_slice_access_with_symbols">test_indifferent_slice_access_with_symbols</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_slice_inplace">test_indifferent_slice_inplace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_sub_hashes">test_indifferent_sub_hashes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_to_hash">test_indifferent_to_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_update">test_indifferent_update</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_indifferent_writing">test_indifferent_writing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access">test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_merge_with_to_hash_conversion">test_merge_with_to_hash_conversion</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_methods">test_methods</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_under_indifferent_access">test_nested_under_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does">test_new_from_hash_copying_default_should_not_raise_when_default_proc_does</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_with_to_hash_conversion">test_new_with_to_hash_conversion</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_replace_with_to_hash_conversion">test_replace_with_to_hash_conversion</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_reverse_merge">test_reverse_merge</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array">test_should_preserve_array_class_when_hash_value_is_frozen_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_preserve_array_subclass_when_value_is_array">test_should_preserve_array_subclass_when_value_is_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice">test_slice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_bang_does_not_override_default">test_slice_bang_does_not_override_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_bang_does_not_override_default_proc">test_slice_bang_does_not_override_default_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_inplace">test_slice_inplace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_inplace_with_an_array_key">test_slice_inplace_with_an_array_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_with_an_array_key">test_slice_with_an_array_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_slice_with_splatted_keys">test_slice_with_splatted_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_store_on_indifferent_access">test_store_on_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash">test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys">test_stringify_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys-21">test_stringify_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys_bang_for_hash_with_indifferent_access">test_stringify_keys_bang_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys_for_hash_with_indifferent_access">test_stringify_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys_not_mutates">test_stringify_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stringify_keys_with_bang_mutates">test_stringify_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys">test_symbolize_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys-21">test_symbolize_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access">test_symbolize_keys_bang_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_for_hash_with_indifferent_access">test_symbolize_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_not_mutates">test_symbolize_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_preserves_fixnum_keys">test_symbolize_keys_preserves_fixnum_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access">test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized">test_symbolize_keys_preserves_keys_that_cant_be_symbolized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access">test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_symbolize_keys_with_bang_mutates">test_symbolize_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_to_hash_with_raising_default_proc">test_to_hash_with_raising_default_proc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_to_options_on_indifferent_preserves_hash">test_to_options_on_indifferent_preserves_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup">test_to_options_on_indifferent_preserves_works_as_hash_with_dup</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_transform_keys">test_transform_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_transform_keys-21">test_transform_keys!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_transform_keys_not_mutates">test_transform_keys_not_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_transform_keys_with_bang_mutates">test_transform_keys_with_bang_mutates</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_update_with_to_hash_conversion">test_update_with_to_hash_conversion</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash">test_with_indifferent_access_has_no_side_effects_on_existing_hash</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <b>setup</b>()
            
            <a href="../classes/HashExtTest.html#method-i-setup" name="method-i-setup" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L36" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-ivar">@strings</span> = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&#39;b&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-ivar">@nested_strings</span> = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;b&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
  <span class="ruby-ivar">@symbols</span> = { <span class="ruby-value">:a</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-ivar">@nested_symbols</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
  <span class="ruby-ivar">@mixed</span>   = { <span class="ruby-value">:a</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&#39;b&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-ivar">@nested_mixed</span>   = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
  <span class="ruby-ivar">@fixnums</span> = {  <span class="ruby-number">0</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>,  <span class="ruby-number">1</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-ivar">@nested_fixnums</span> = {  <span class="ruby-number">0</span>  =<span class="ruby-operator">&gt;</span> { <span class="ruby-number">1</span>  =<span class="ruby-operator">&gt;</span> { <span class="ruby-number">2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>} } }
  <span class="ruby-ivar">@illegal_symbols</span> = { [] =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> }
  <span class="ruby-ivar">@nested_illegal_symbols</span> = { [] =<span class="ruby-operator">&gt;</span> { [] =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>} }
  <span class="ruby-ivar">@upcase_strings</span> = { <span class="ruby-string">&#39;A&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&#39;B&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-ivar">@nested_upcase_strings</span> = { <span class="ruby-string">&#39;A&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;B&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;C&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
  <span class="ruby-ivar">@string_array_of_hashes</span> = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-string">&#39;b&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }, { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> }, <span class="ruby-number">4</span> ] }
  <span class="ruby-ivar">@symbol_array_of_hashes</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }, { <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> }, <span class="ruby-number">4</span> ] }
  <span class="ruby-ivar">@mixed_array_of_hashes</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }, { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> }, <span class="ruby-number">4</span> ] }
  <span class="ruby-ivar">@upcase_array_of_hashes</span> = { <span class="ruby-string">&#39;A&#39;</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-string">&#39;B&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }, { <span class="ruby-string">&#39;C&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> }, <span class="ruby-number">4</span> ] }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_assert_valid_keys">
            
              <b>test_assert_valid_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_assert_valid_keys" name="method-i-test_assert_valid_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_assert_valid_keys_source')" id="l_method-i-test_assert_valid_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L695" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_assert_valid_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 695</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_assert_valid_keys</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span> ])
    { <span class="ruby-value">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># not all valid keys are required to be present</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span>, <span class="ruby-value">:sunny</span> ])
    { <span class="ruby-value">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span>, <span class="ruby-value">:sunny</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span> ])
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Unknown key: :failore. Valid keys are: :failure, :funny&quot;</span>, <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>

  <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:failure</span>, <span class="ruby-value">:funny</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Unknown key: :failore. Valid keys are: :failure, :funny&quot;</span>, <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>

  <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:failure</span> ])
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Unknown key: :failore. Valid keys are: :failure&quot;</span>, <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>

  <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword">do</span>
    { <span class="ruby-value">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>, <span class="ruby-value">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:failure</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Unknown key: :failore. Valid keys are: :failure&quot;</span>, <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_assorted_keys_not_stringified">
            
              <b>test_assorted_keys_not_stringified</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_assorted_keys_not_stringified" name="method-i-test_assorted_keys_not_stringified" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_assorted_keys_not_stringified_source')" id="l_method-i-test_assorted_keys_not_stringified_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L727" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_assorted_keys_not_stringified_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 727</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_assorted_keys_not_stringified</span>
  <span class="ruby-identifier">original</span> = {<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-number">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, [] =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}
  <span class="ruby-identifier">indiff</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">indiff</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>}, <span class="ruby-string">&quot;A key was converted to a string!&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_compact">
            
              <b>test_compact</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_compact" name="method-i-test_compact" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_compact_source')" id="l_method-i-test_compact_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L974" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_compact_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 974</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_compact</span>
  <span class="ruby-identifier">hash_contain_nil_value</span> = <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">z</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">hash_with_only_nil_values</span> = { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span> }

  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">hash_contain_nil_value</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@symbols</span>, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">compact</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">hash_contain_nil_value</span>, <span class="ruby-identifier">h</span>)

  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">hash_with_only_nil_values</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span>({}, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">compact</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">hash_with_only_nil_values</span>, <span class="ruby-identifier">h</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_compact-21">
            
              <b>test_compact!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_compact-21" name="method-i-test_compact-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_compact-21_source')" id="l_method-i-test_compact-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L987" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_compact-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 987</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_compact!</span>
  <span class="ruby-identifier">hash_contain_nil_value</span> = <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">z</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">hash_with_only_nil_values</span> = { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span> }

  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">hash_contain_nil_value</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@symbols</span>, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">compact!</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@symbols</span>, <span class="ruby-identifier">h</span>)

  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">hash_with_only_nil_values</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span>({}, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">compact!</span>)
  <span class="ruby-identifier">assert_equal</span>({}, <span class="ruby-identifier">h</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_constructor_on_indifferent_access">
            
              <b>test_constructor_on_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_constructor_on_indifferent_access" name="method-i-test_constructor_on_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_constructor_on_indifferent_access_source')" id="l_method-i-test_constructor_on_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L785" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_constructor_on_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 785</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_constructor_on_indifferent_access</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>[<span class="ruby-value">:foo</span>, <span class="ruby-number">1</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;foo&#39;</span>]
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>] = <span class="ruby-number">3</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;foo&#39;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_merge">
            
              <b>test_deep_merge</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_merge" name="method-i-test_deep_merge" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_merge_source')" id="l_method-i-test_deep_merge_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L733" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_merge_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 733</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_merge</span>
  <span class="ruby-identifier">hash_1</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c1&quot;</span>, <span class="ruby-value">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span> } } }
  <span class="ruby-identifier">hash_2</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span>, <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_2</span>)

  <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">hash_2</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_merge_on_indifferent_access">
            
              <b>test_deep_merge_on_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_merge_on_indifferent_access" name="method-i-test_deep_merge_on_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_merge_on_indifferent_access_source')" id="l_method-i-test_deep_merge_on_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L763" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_merge_on_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 763</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_merge_on_indifferent_access</span>
  <span class="ruby-identifier">hash_1</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c1&quot;</span>, <span class="ruby-value">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span> } } })
  <span class="ruby-identifier">hash_2</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } })
  <span class="ruby-identifier">hash_3</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-string">&quot;a&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&quot;b&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-string">&quot;c&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;c1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-string">&quot;c2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-string">&quot;c3&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;d1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span>, <span class="ruby-string">&quot;d2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_2</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_3</span>)

  <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">hash_2</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_merge_with_block">
            
              <b>test_deep_merge_with_block</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_merge_with_block" name="method-i-test_deep_merge_with_block" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_merge_with_block_source')" id="l_method-i-test_deep_merge_with_block_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L743" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_merge_with_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 743</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_merge_with_block</span>
  <span class="ruby-identifier">hash_1</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c1&quot;</span>, <span class="ruby-value">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span> } } }
  <span class="ruby-identifier">hash_2</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:a</span>, <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-number">1</span>], <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;b&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:c1</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:c1</span>, <span class="ruby-string">&quot;c1&quot;</span>, <span class="ruby-number">2</span>], <span class="ruby-value">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;c2&quot;</span>, <span class="ruby-value">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d1&quot;</span>, <span class="ruby-value">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;d2&quot;</span> } } }
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">o</span>,<span class="ruby-identifier">n</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span>] })

  <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">hash_2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">o</span>,<span class="ruby-identifier">n</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span>] }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_merge_with_falsey_values">
            
              <b>test_deep_merge_with_falsey_values</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_merge_with_falsey_values" name="method-i-test_deep_merge_with_falsey_values" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_merge_with_falsey_values_source')" id="l_method-i-test_deep_merge_with_falsey_values_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L753" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_merge_with_falsey_values_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_merge_with_falsey_values</span>
  <span class="ruby-identifier">hash_1</span> = { <span class="ruby-identifier">e</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span> }
  <span class="ruby-identifier">hash_2</span> = { <span class="ruby-identifier">e</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;e&#39;</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">e</span><span class="ruby-operator">:</span> [<span class="ruby-value">:e</span>, <span class="ruby-keyword">false</span>, <span class="ruby-string">&#39;e&#39;</span>] }
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span>] })

  <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">hash_2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">o</span>, <span class="ruby-identifier">n</span>] }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash">
            
              <b>test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash" name="method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash_source')" id="l_method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L650" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_and_deep_symbolize_keys_on_indifferent_preserves_hash</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>[<span class="ruby-value">:first</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>]
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value">:first</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys">
            
              <b>test_deep_stringify_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys" name="method-i-test_deep_stringify_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys_source')" id="l_method-i-test_deep_stringify_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L221" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_stringify_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys-21">
            
              <b>test_deep_stringify_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys-21" name="method-i-test_deep_stringify_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys-21_source')" id="l_method-i-test_deep_stringify_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L249" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@string_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access">
            
              <b>test_deep_stringify_keys_bang_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access" name="method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L333" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys_bang_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 333</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys_bang_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys_for_hash_with_indifferent_access">
            
              <b>test_deep_stringify_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys_for_hash_with_indifferent_access" name="method-i-test_deep_stringify_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_stringify_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L319" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 319</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_stringify_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys_not_mutates">
            
              <b>test_deep_stringify_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys_not_mutates" name="method-i-test_deep_stringify_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys_not_mutates_source')" id="l_method-i-test_deep_stringify_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L230" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_stringify_keys_with_bang_mutates">
            
              <b>test_deep_stringify_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_stringify_keys_with_bang_mutates" name="method-i-test_deep_stringify_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_stringify_keys_with_bang_mutates_source')" id="l_method-i-test_deep_stringify_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L258" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_stringify_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_stringify_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_strings</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys">
            
              <b>test_deep_symbolize_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys" name="method-i-test_deep_symbolize_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_source')" id="l_method-i-test_deep_symbolize_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L145" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys-21">
            
              <b>test_deep_symbolize_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys-21" name="method-i-test_deep_symbolize_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys-21_source')" id="l_method-i-test_deep_symbolize_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L173" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbol_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access">
            
              <b>test_deep_symbolize_keys_bang_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access" name="method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L286" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_bang_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_bang_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span> }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span> }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access">
            
              <b>test_deep_symbolize_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access" name="method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L272" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 272</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Hash</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_not_mutates">
            
              <b>test_deep_symbolize_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_not_mutates" name="method-i-test_deep_symbolize_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_not_mutates_source')" id="l_method-i-test_deep_symbolize_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L154" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_preserves_fixnum_keys">
            
              <b>test_deep_symbolize_keys_preserves_fixnum_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_preserves_fixnum_keys" name="method-i-test_deep_symbolize_keys_preserves_fixnum_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_preserves_fixnum_keys_source')" id="l_method-i-test_deep_symbolize_keys_preserves_fixnum_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L204" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_preserves_fixnum_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_preserves_fixnum_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_fixnums</span>, <span class="ruby-ivar">@nested_fixnums</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_fixnums</span>, <span class="ruby-ivar">@nested_fixnums</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access">
            
              <b>test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access" name="method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L307" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_fixnums</span>, <span class="ruby-ivar">@nested_fixnums</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@nested_fixnums</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized">
            
              <b>test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized" name="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_source')" id="l_method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L194" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_illegal_symbols</span>, <span class="ruby-ivar">@nested_illegal_symbols</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_illegal_symbols</span>, <span class="ruby-ivar">@nested_illegal_symbols</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access">
            
              <b>test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access" name="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source')" id="l_method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L297" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_illegal_symbols</span>, <span class="ruby-ivar">@nested_illegal_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@nested_illegal_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_symbolize_keys_with_bang_mutates">
            
              <b>test_deep_symbolize_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_symbolize_keys_with_bang_mutates" name="method-i-test_deep_symbolize_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_symbolize_keys_with_bang_mutates_source')" id="l_method-i-test_deep_symbolize_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L182" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_symbolize_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_symbolize_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_symbols</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_transform_keys">
            
              <b>test_deep_transform_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_transform_keys" name="method-i-test_deep_transform_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_transform_keys_source')" id="l_method-i-test_deep_transform_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L89" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_transform_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_transform_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_transform_keys-21">
            
              <b>test_deep_transform_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_transform_keys-21" name="method-i-test_deep_transform_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_transform_keys-21_source')" id="l_method-i-test_deep_transform_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L117" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_transform_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_transform_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_symbols</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_strings</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@string_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@symbol_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_array_of_hashes</span>, <span class="ruby-ivar">@mixed_array_of_hashes</span>.<span class="ruby-identifier">deep_dup</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_transform_keys_not_mutates">
            
              <b>test_deep_transform_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_transform_keys_not_mutates" name="method-i-test_deep_transform_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_transform_keys_not_mutates_source')" id="l_method-i-test_deep_transform_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L98" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_transform_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_transform_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deep_transform_keys_with_bang_mutates">
            
              <b>test_deep_transform_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_deep_transform_keys_with_bang_mutates" name="method-i-test_deep_transform_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deep_transform_keys_with_bang_mutates_source')" id="l_method-i-test_deep_transform_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L126" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_deep_transform_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deep_transform_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">deep_dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_upcase_strings</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@nested_mixed</span>, { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span> } } }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dup_with_default_proc">
            
              <b>test_dup_with_default_proc</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_dup_with_default_proc" name="method-i-test_dup_with_default_proc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dup_with_default_proc_source')" id="l_method-i-test_dup_with_default_proc_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L1006" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_dup_with_default_proc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 1006</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dup_with_default_proc</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">default_proc</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;walrus&quot;</span> }
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">dup</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dup_with_default_proc_sets_proc">
            
              <b>test_dup_with_default_proc_sets_proc</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_dup_with_default_proc_sets_proc" name="method-i-test_dup_with_default_proc_sets_proc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dup_with_default_proc_sets_proc_source')" id="l_method-i-test_dup_with_default_proc_sets_proc_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L1012" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_dup_with_default_proc_sets_proc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 1012</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dup_with_default_proc_sets_proc</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">default_proc</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">new_hash</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">new_hash</span>[<span class="ruby-number">2</span>]

  <span class="ruby-identifier">new_hash</span>.<span class="ruby-identifier">default</span> = <span class="ruby-number">2</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">new_hash</span>[<span class="ruby-value">:non_existant</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_except">
            
              <b>test_except</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_except" name="method-i-test_except" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_except_source')" id="l_method-i-test_except_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L937" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_except_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 937</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_except</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }

  <span class="ruby-comment"># Should return a new hash without the given keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-value">:c</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>

  <span class="ruby-comment"># Should replace the hash without the given keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except!</span>(<span class="ruby-value">:c</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_except_with_mocha_expectation_on_original">
            
              <b>test_except_with_mocha_expectation_on_original</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_except_with_mocha_expectation_on_original" name="method-i-test_except_with_mocha_expectation_on_original" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_except_with_mocha_expectation_on_original_source')" id="l_method-i-test_except_with_mocha_expectation_on_original_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L968" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_except_with_mocha_expectation_on_original_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 968</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_except_with_mocha_expectation_on_original</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }
  <span class="ruby-identifier">original</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:delete</span>).<span class="ruby-identifier">never</span>
  <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-value">:a</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_except_with_more_than_one_argument">
            
              <b>test_except_with_more_than_one_argument</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_except_with_more_than_one_argument" name="method-i-test_except_with_more_than_one_argument" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_except_with_more_than_one_argument_source')" id="l_method-i-test_except_with_more_than_one_argument_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L950" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_except_with_more_than_one_argument_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 950</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_except_with_more_than_one_argument</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">:c</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except!</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">:c</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_except_with_original_frozen">
            
              <b>test_except_with_original_frozen</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_except_with_original_frozen" name="method-i-test_except_with_original_frozen" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_except_with_original_frozen_source')" id="l_method-i-test_except_with_original_frozen_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L960" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_except_with_original_frozen_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 960</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_except_with_original_frozen</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }
  <span class="ruby-identifier">original</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-value">:a</span>) }

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except!</span>(<span class="ruby-value">:a</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_extract">
            
              <b>test_extract</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_extract" name="method-i-test_extract" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_extract_source')" id="l_method-i-test_extract_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L906" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_extract_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 906</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_extract</span>
  <span class="ruby-identifier">original</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:d</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>}
  <span class="ruby-identifier">expected</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>}
  <span class="ruby-identifier">remaining</span> = {<span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:d</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>}

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">extract!</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>, <span class="ruby-value">:x</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">remaining</span>, <span class="ruby-identifier">original</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_extract_nils">
            
              <b>test_extract_nils</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_extract_nils" name="method-i-test_extract_nils" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_extract_nils_source')" id="l_method-i-test_extract_nils_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L915" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_extract_nils_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 915</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_extract_nils</span>
  <span class="ruby-identifier">original</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>}
  <span class="ruby-identifier">expected</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>}
  <span class="ruby-identifier">extracted</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">extract!</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:x</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">extracted</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">extracted</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">extracted</span>[<span class="ruby-value">:x</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_assorted">
            
              <b>test_indifferent_assorted</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_assorted" name="method-i-test_indifferent_assorted" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_assorted_source')" id="l_method-i-test_indifferent_assorted_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L351" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_assorted_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_assorted</span>
  <span class="ruby-ivar">@strings</span> = <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-ivar">@symbols</span> = <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-ivar">@mixed</span>   = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:convert_key</span>, <span class="ruby-value">:a</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;a&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:a</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:a</span>)

  <span class="ruby-identifier">hashes</span> = { <span class="ruby-value">:@strings</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-value">:@symbols</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-value">:@mixed</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@mixed</span> }
  <span class="ruby-identifier">method_map</span> = { <span class="ruby-value">:&#39;[]&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:fetch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:values_at</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-number">1</span>],
    <span class="ruby-value">:has_key?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:include?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:key?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">:member?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> }

  <span class="ruby-identifier">hashes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">method_map</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">to_s</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span>, <span class="ruby-identifier">expected</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-string">&#39;a&#39;</span>),
                   <span class="ruby-node">&quot;Calling #{name}.#{meth} &#39;a&#39;&quot;</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-value">:a</span>),
                   <span class="ruby-node">&quot;Calling #{name}.#{meth} :a&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>, <span class="ruby-number">2</span>], <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_deleting">
            
              <b>test_indifferent_deleting</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_deleting" name="method-i-test_indifferent_deleting" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_deleting_source')" id="l_method-i-test_indifferent_deleting_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L537" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_deleting_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 537</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_deleting</span>
  <span class="ruby-identifier">get_hash</span> = <span class="ruby-identifier">proc</span>{ { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;foo&#39;</span> }.<span class="ruby-identifier">with_indifferent_access</span> }
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">get_hash</span>.<span class="ruby-identifier">call</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:a</span>), <span class="ruby-string">&#39;foo&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:a</span>), <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">get_hash</span>.<span class="ruby-identifier">call</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;a&#39;</span>), <span class="ruby-string">&#39;foo&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;a&#39;</span>), <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_duplication">
            
              <b>test_indifferent_duplication</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_duplication" name="method-i-test_indifferent_duplication" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_duplication_source')" id="l_method-i-test_indifferent_duplication_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L684" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_duplication_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 684</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_duplication</span>
  <span class="ruby-comment"># Should preserve default value</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>.<span class="ruby-identifier">default</span> = <span class="ruby-string">&#39;1234&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">default</span>, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">default</span>

  <span class="ruby-comment"># Should preserve class for subclasses</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">IndifferentHash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">h</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">class</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_extract">
            
              <b>test_indifferent_extract</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_extract" name="method-i-test_indifferent_extract" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_extract_source')" id="l_method-i-test_indifferent_extract_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L925" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_extract_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 925</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_extract</span>
  <span class="ruby-identifier">original</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&#39;b&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-string">&#39;d&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>}.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">expected</span> = {<span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>}.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">remaining</span> = {<span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:d</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>}.<span class="ruby-identifier">with_indifferent_access</span>

  [[<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">keys</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">copy</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">extract!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">remaining</span>, <span class="ruby-identifier">copy</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_hash_with_array_of_hashes">
            
              <b>test_indifferent_hash_with_array_of_hashes</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_hash_with_array_of_hashes" name="method-i-test_indifferent_hash_with_array_of_hashes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_hash_with_array_of_hashes_source')" id="l_method-i-test_indifferent_hash_with_array_of_hashes_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L615" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_hash_with_array_of_hashes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 615</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_hash_with_array_of_hashes</span>
  <span class="ruby-identifier">hash</span> = { <span class="ruby-string">&quot;urls&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;url&quot;</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-string">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1&quot;</span> }, { <span class="ruby-string">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;2&quot;</span> } ] }}.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;1&quot;</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:urls</span>][<span class="ruby-value">:url</span>].<span class="ruby-identifier">first</span>[<span class="ruby-value">:address</span>]

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_hash</span>
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;urls&quot;</span>].<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;urls&quot;</span>][<span class="ruby-string">&quot;url&quot;</span>].<span class="ruby-identifier">first</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_merging">
            
              <b>test_indifferent_merging</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_merging" name="method-i-test_indifferent_merging" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_merging_source')" id="l_method-i-test_indifferent_merging_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L454" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_merging_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_merging</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-string">&#39;failure&#39;</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>] = <span class="ruby-string">&#39;failure&#39;</span>

  <span class="ruby-identifier">other</span> = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }

  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">class</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-string">&#39;b&#39;</span>]

  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">other</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_merging_with_block">
            
              <b>test_indifferent_merging_with_block</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_merging_with_block" name="method-i-test_indifferent_merging_with_block" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_merging_with_block_source')" id="l_method-i-test_indifferent_merging_with_block_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L503" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_merging_with_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_merging_with_block</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>] = <span class="ruby-number">3</span>

  <span class="ruby-identifier">other</span> = { <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-string">&#39;c&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }

  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">old</span>, <span class="ruby-identifier">new</span><span class="ruby-operator">|</span> <span class="ruby-identifier">old</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">old</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">new</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">class</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">4</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-string">&#39;b&#39;</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value">:c</span>]

  <span class="ruby-identifier">other_indifferent</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">9</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)

  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other_indifferent</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">old</span>, <span class="ruby-identifier">new</span><span class="ruby-operator">|</span> <span class="ruby-identifier">old</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">new</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">class</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value">:b</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_reading">
            
              <b>test_indifferent_reading</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_reading" name="method-i-test_indifferent_reading" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_reading_source')" id="l_method-i-test_indifferent_reading_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L384" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_reading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 384</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_reading</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;a&quot;</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;b&quot;</span>] = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;c&quot;</span>] = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;d&quot;</span>] = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:b</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">false</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:c</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:d</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:e</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_reading_with_nonnil_default">
            
              <b>test_indifferent_reading_with_nonnil_default</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_reading_with_nonnil_default" name="method-i-test_indifferent_reading_with_nonnil_default" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_reading_with_nonnil_default_source')" id="l_method-i-test_indifferent_reading_with_nonnil_default_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L398" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_reading_with_nonnil_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 398</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_reading_with_nonnil_default</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-number">1</span>)
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;a&quot;</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;b&quot;</span>] = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;c&quot;</span>] = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&quot;d&quot;</span>] = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:b</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">false</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:c</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:d</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:e</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_reject">
            
              <b>test_indifferent_reject</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_reject" name="method-i-test_indifferent_reject" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_reject_source')" id="l_method-i-test_indifferent_reject_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L568" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_reject_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 568</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_reject</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@strings</span>).<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-number">1</span>}

  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_reject_bang">
            
              <b>test_indifferent_reject_bang</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_reject_bang" name="method-i-test_indifferent_reject_bang" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_reject_bang_source')" id="l_method-i-test_indifferent_reject_bang_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L575" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_reject_bang_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 575</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_reject_bang</span>
  <span class="ruby-identifier">indifferent_strings</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@strings</span>)
  <span class="ruby-identifier">indifferent_strings</span>.<span class="ruby-identifier">reject!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-number">1</span>}

  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-identifier">indifferent_strings</span>)
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">indifferent_strings</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_replace">
            
              <b>test_indifferent_replace</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_replace" name="method-i-test_indifferent_replace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_replace_source')" id="l_method-i-test_indifferent_replace_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L479" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_replace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_replace</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-number">42</span>

  <span class="ruby-identifier">replaced</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-number">12</span>)

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;b&#39;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">hash</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:a</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">12</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:b</span>]
  <span class="ruby-identifier">assert_same</span> <span class="ruby-identifier">hash</span>, <span class="ruby-identifier">replaced</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_reverse_merging">
            
              <b>test_indifferent_reverse_merging</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_reverse_merging" name="method-i-test_indifferent_reverse_merging" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_reverse_merging_source')" id="l_method-i-test_indifferent_reverse_merging_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L526" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_reverse_merging_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_reverse_merging</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">key</span><span class="ruby-operator">:</span> <span class="ruby-value">:old_value</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">reverse_merge!</span> <span class="ruby-identifier">key</span><span class="ruby-operator">:</span> <span class="ruby-value">:new_value</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">:old_value</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:key</span>]

  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;some&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;value&#39;</span>, <span class="ruby-string">&#39;other&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;value&#39;</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:some</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;noclobber&#39;</span>, <span class="ruby-value">:another</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;clobber&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;value&#39;</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:some</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;clobber&#39;</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:another</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_select">
            
              <b>test_indifferent_select</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_select" name="method-i-test_indifferent_select" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_select_source')" id="l_method-i-test_indifferent_select_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L547" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_select_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 547</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_select</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@strings</span>).<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span>}

  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_select_bang">
            
              <b>test_indifferent_select_bang</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_select_bang" name="method-i-test_indifferent_select_bang" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_select_bang_source')" id="l_method-i-test_indifferent_select_bang_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L560" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_select_bang_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_select_bang</span>
  <span class="ruby-identifier">indifferent_strings</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@strings</span>)
  <span class="ruby-identifier">indifferent_strings</span>.<span class="ruby-identifier">select!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span>}

  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-string">&#39;a&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-identifier">indifferent_strings</span>)
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">indifferent_strings</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_select_returns_a_hash_when_unchanged">
            
              <b>test_indifferent_select_returns_a_hash_when_unchanged</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_select_returns_a_hash_when_unchanged" name="method-i-test_indifferent_select_returns_a_hash_when_unchanged" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_select_returns_a_hash_when_unchanged_source')" id="l_method-i-test_indifferent_select_returns_a_hash_when_unchanged_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L554" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_select_returns_a_hash_when_unchanged_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_select_returns_a_hash_when_unchanged</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@strings</span>).<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword">true</span>}

  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_slice">
            
              <b>test_indifferent_slice</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_slice" name="method-i-test_indifferent_slice" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_slice_source')" id="l_method-i-test_indifferent_slice_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L856" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_slice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 856</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_slice</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }.<span class="ruby-identifier">with_indifferent_access</span>

  [[<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">keys</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># Should return a new hash with only the given keys.</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>), <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inspect</span>
    <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_slice_access_with_symbols">
            
              <b>test_indifferent_slice_access_with_symbols</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_slice_access_with_symbols" name="method-i-test_indifferent_slice_access_with_symbols" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_slice_access_with_symbols_source')" id="l_method-i-test_indifferent_slice_access_with_symbols_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L878" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_slice_access_with_symbols_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 878</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_slice_access_with_symbols</span>
  <span class="ruby-identifier">original</span> = {<span class="ruby-string">&#39;login&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;bender&#39;</span>, <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;shiny&#39;</span>, <span class="ruby-string">&#39;stuff&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;foo&#39;</span>}
  <span class="ruby-identifier">original</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">with_indifferent_access</span>

  <span class="ruby-identifier">slice</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:login</span>, <span class="ruby-value">:password</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;bender&#39;</span>, <span class="ruby-identifier">slice</span>[<span class="ruby-value">:login</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;bender&#39;</span>, <span class="ruby-identifier">slice</span>[<span class="ruby-string">&#39;login&#39;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_slice_inplace">
            
              <b>test_indifferent_slice_inplace</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_slice_inplace" name="method-i-test_indifferent_slice_inplace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_slice_inplace_source')" id="l_method-i-test_indifferent_slice_inplace_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L867" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_slice_inplace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 867</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_slice_inplace</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>

  [[<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">keys</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># Should replace the hash with only the given keys.</span>
    <span class="ruby-identifier">copy</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_sub_hashes">
            
              <b>test_indifferent_sub_hashes</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_sub_hashes" name="method-i-test_indifferent_sub_hashes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_sub_hashes_source')" id="l_method-i-test_indifferent_sub_hashes_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L676" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_sub_hashes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_sub_hashes</span>
  <span class="ruby-identifier">h</span> = {<span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&#39;id&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>}}.<span class="ruby-identifier">with_indifferent_access</span>
  [<span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-value">:user</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> [<span class="ruby-value">:id</span>, <span class="ruby-string">&#39;id&#39;</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">h</span>[<span class="ruby-identifier">user</span>][<span class="ruby-identifier">id</span>], <span class="ruby-node">&quot;h[#{user.inspect}][#{id.inspect}] should be 5&quot;</span>}}

  <span class="ruby-identifier">h</span> = {<span class="ruby-value">:user</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>}}.<span class="ruby-identifier">with_indifferent_access</span>
  [<span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-value">:user</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> [<span class="ruby-value">:id</span>, <span class="ruby-string">&#39;id&#39;</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">h</span>[<span class="ruby-identifier">user</span>][<span class="ruby-identifier">id</span>], <span class="ruby-node">&quot;h[#{user.inspect}][#{id.inspect}] should be 5&quot;</span>}}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_to_hash">
            
              <b>test_indifferent_to_hash</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_to_hash" name="method-i-test_indifferent_to_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_to_hash_source')" id="l_method-i-test_indifferent_to_hash_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L583" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_to_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_to_hash</span>
  <span class="ruby-comment"># Should convert to a Hash with String keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">to_hash</span>

  <span class="ruby-comment"># Should preserve the default value.</span>
  <span class="ruby-identifier">mixed_with_default</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">mixed_with_default</span>.<span class="ruby-identifier">default</span> = <span class="ruby-string">&#39;1234&#39;</span>
  <span class="ruby-identifier">roundtrip</span> = <span class="ruby-identifier">mixed_with_default</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">to_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-identifier">roundtrip</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;1234&#39;</span>, <span class="ruby-identifier">roundtrip</span>.<span class="ruby-identifier">default</span>

  <span class="ruby-comment"># Ensure nested hashes are not HashWithIndiffereneAccess</span>
  <span class="ruby-identifier">new_to_hash</span> = <span class="ruby-ivar">@nested_mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">to_hash</span>
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">new_to_hash</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">new_to_hash</span>[<span class="ruby-string">&quot;a&quot;</span>].<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
  <span class="ruby-identifier">assert_not</span> <span class="ruby-identifier">new_to_hash</span>[<span class="ruby-string">&quot;a&quot;</span>][<span class="ruby-string">&quot;b&quot;</span>].<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">HashWithIndifferentAccess</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_update">
            
              <b>test_indifferent_update</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_update" name="method-i-test_indifferent_update" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_update_source')" id="l_method-i-test_indifferent_update_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L425" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_update_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 425</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_update</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-string">&#39;a&#39;</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>] = <span class="ruby-string">&#39;b&#39;</span>

  <span class="ruby-identifier">updated_with_strings</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@strings</span>)
  <span class="ruby-identifier">updated_with_symbols</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@symbols</span>)
  <span class="ruby-identifier">updated_with_mixed</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@mixed</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-value">:a</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-string">&#39;a&#39;</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-number">2</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-value">:a</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-number">2</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-value">:b</span>], <span class="ruby-number">2</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_mixed</span>[<span class="ruby-value">:a</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_mixed</span>[<span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-number">2</span>

  <span class="ruby-identifier">assert</span> [<span class="ruby-identifier">updated_with_strings</span>, <span class="ruby-identifier">updated_with_symbols</span>, <span class="ruby-identifier">updated_with_mixed</span>].<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">2</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_indifferent_writing">
            
              <b>test_indifferent_writing</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_indifferent_writing" name="method-i-test_indifferent_writing" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_indifferent_writing_source')" id="l_method-i-test_indifferent_writing_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L412" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_indifferent_writing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_indifferent_writing</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>] = <span class="ruby-number">2</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-number">3</span>] = <span class="ruby-number">3</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;a&#39;</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-number">2</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>], <span class="ruby-number">1</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:b</span>], <span class="ruby-number">2</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-number">3</span>], <span class="ruby-number">3</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access">
            
              <b>test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access" name="method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access_source')" id="l_method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L601" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 601</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_lookup_returns_the_same_object_that_is_stored_in_hash_indifferent_access</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = []}
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-number">1</span>

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_merge_with_to_hash_conversion">
            
              <b>test_merge_with_to_hash_conversion</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_merge_with_to_hash_conversion" name="method-i-test_merge_with_to_hash_conversion" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_merge_with_to_hash_conversion_source')" id="l_method-i-test_merge_with_to_hash_conversion_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L473" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_merge_with_to_hash_conversion_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 473</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_merge_with_to_hash_conversion</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span> <span class="ruby-constant">HashByConversion</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">merged</span>[<span class="ruby-string">&#39;a&#39;</span>], <span class="ruby-number">1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_methods">
            
              <b>test_methods</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_methods" name="method-i-test_methods" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_methods_source')" id="l_method-i-test_methods_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L55" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_methods_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_methods</span>
  <span class="ruby-identifier">h</span> = {}
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:transform_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:transform_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_transform_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_transform_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:symbolize_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:symbolize_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_symbolize_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:stringify_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:stringify_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_stringify_keys</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:deep_stringify_keys!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:to_options</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:to_options!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:compact</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:compact!</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:except</span>
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-value">:except!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_under_indifferent_access">
            
              <b>test_nested_under_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_nested_under_indifferent_access" name="method-i-test_nested_under_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_under_indifferent_access_source')" id="l_method-i-test_nested_under_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L340" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_nested_under_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_under_indifferent_access</span>
  <span class="ruby-identifier">foo</span> = { <span class="ruby-string">&quot;foo&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SubclassingHash</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-string">&quot;bar&quot;</span>] = <span class="ruby-string">&quot;baz&quot;</span> } }.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">foo</span>[<span class="ruby-string">&quot;foo&quot;</span>]

  <span class="ruby-identifier">foo</span> = { <span class="ruby-string">&quot;foo&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">NonIndifferentHash</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-string">&quot;bar&quot;</span>] = <span class="ruby-string">&quot;baz&quot;</span> } }.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">NonIndifferentHash</span>, <span class="ruby-identifier">foo</span>[<span class="ruby-string">&quot;foo&quot;</span>]

  <span class="ruby-identifier">foo</span> = { <span class="ruby-string">&quot;foo&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">IndifferentHash</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-string">&quot;bar&quot;</span>] = <span class="ruby-string">&quot;baz&quot;</span> } }.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">IndifferentHash</span>, <span class="ruby-identifier">foo</span>[<span class="ruby-string">&quot;foo&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does">
            
              <b>test_new_from_hash_copying_default_should_not_raise_when_default_proc_does</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does" name="method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does_source')" id="l_method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L1030" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_new_from_hash_copying_default_should_not_raise_when_default_proc_does_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 1030</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_from_hash_copying_default_should_not_raise_when_default_proc_does</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">default_proc</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;walrus&quot;</span> }

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new_from_hash_copying_default</span>(<span class="ruby-identifier">hash</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_with_to_hash_conversion">
            
              <b>test_new_with_to_hash_conversion</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_new_with_to_hash_conversion" name="method-i-test_new_with_to_hash_conversion" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_with_to_hash_conversion_source')" id="l_method-i-test_new_with_to_hash_conversion_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L1000" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_new_with_to_hash_conversion_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 1000</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_with_to_hash_conversion</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">HashByConversion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-number">1</span>))
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;a&#39;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_replace_with_to_hash_conversion">
            
              <b>test_replace_with_to_hash_conversion</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_replace_with_to_hash_conversion" name="method-i-test_replace_with_to_hash_conversion" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_replace_with_to_hash_conversion_source')" id="l_method-i-test_replace_with_to_hash_conversion_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L491" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_replace_with_to_hash_conversion_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 491</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_replace_with_to_hash_conversion</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:a</span>] = <span class="ruby-number">42</span>

  <span class="ruby-identifier">replaced</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-constant">HashByConversion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-number">12</span>))

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;b&#39;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">hash</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:a</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">12</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:b</span>]
  <span class="ruby-identifier">assert_same</span> <span class="ruby-identifier">hash</span>, <span class="ruby-identifier">replaced</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_reverse_merge">
            
              <b>test_reverse_merge</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_reverse_merge" name="method-i-test_reverse_merge" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_reverse_merge_source')" id="l_method-i-test_reverse_merge_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L794" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_reverse_merge_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 794</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_reverse_merge</span>
  <span class="ruby-identifier">defaults</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;x&quot;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;y&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }.<span class="ruby-identifier">freeze</span>
  <span class="ruby-identifier">options</span>  = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }

  <span class="ruby-comment"># Should merge defaults into options, creating a new hash.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">defaults</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">options</span>

  <span class="ruby-comment"># Should merge! defaults into options, replacing options.</span>
  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">defaults</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>

  <span class="ruby-comment"># Should be an alias for reverse_merge!</span>
  <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">reverse_update</span>(<span class="ruby-identifier">defaults</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array">
            
              <b>test_should_preserve_array_class_when_hash_value_is_frozen_array</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array" name="method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array_source')" id="l_method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L632" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_should_preserve_array_class_when_hash_value_is_frozen_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_preserve_array_class_when_hash_value_is_frozen_array</span>
  <span class="ruby-identifier">array</span> = <span class="ruby-constant">SubclassingArray</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">array</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-string">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1&quot;</span> }
  <span class="ruby-identifier">hash</span> = { <span class="ruby-string">&quot;urls&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;url&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">array</span>.<span class="ruby-identifier">freeze</span> }}.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">SubclassingArray</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:urls</span>][<span class="ruby-value">:url</span>].<span class="ruby-identifier">class</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_preserve_array_subclass_when_value_is_array">
            
              <b>test_should_preserve_array_subclass_when_value_is_array</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_should_preserve_array_subclass_when_value_is_array" name="method-i-test_should_preserve_array_subclass_when_value_is_array" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_preserve_array_subclass_when_value_is_array_source')" id="l_method-i-test_should_preserve_array_subclass_when_value_is_array_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L625" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_should_preserve_array_subclass_when_value_is_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 625</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_preserve_array_subclass_when_value_is_array</span>
  <span class="ruby-identifier">array</span> = <span class="ruby-constant">SubclassingArray</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">array</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-string">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1&quot;</span> }
  <span class="ruby-identifier">hash</span> = { <span class="ruby-string">&quot;urls&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;url&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">array</span> }}.<span class="ruby-identifier">with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">SubclassingArray</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:urls</span>][<span class="ruby-value">:url</span>].<span class="ruby-identifier">class</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice">
            
              <b>test_slice</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice" name="method-i-test_slice" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_source')" id="l_method-i-test_slice_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L814" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 814</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }

  <span class="ruby-comment"># Should return a new hash with only the given keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_bang_does_not_override_default">
            
              <b>test_slice_bang_does_not_override_default</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_bang_does_not_override_default" name="method-i-test_slice_bang_does_not_override_default" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_bang_does_not_override_default_source')" id="l_method-i-test_slice_bang_does_not_override_default_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L888" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_bang_does_not_override_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 888</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_bang_does_not_override_default</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-number">0</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-number">2</span>)

  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">:a</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:c</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_bang_does_not_override_default_proc">
            
              <b>test_slice_bang_does_not_override_default_proc</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_bang_does_not_override_default_proc" name="method-i-test_slice_bang_does_not_override_default_proc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_bang_does_not_override_default_proc_source')" id="l_method-i-test_slice_bang_does_not_override_default_proc_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L897" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_bang_does_not_override_default_proc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 897</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_bang_does_not_override_default_proc</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-number">2</span>)

  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">:a</span>)

  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:c</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_inplace">
            
              <b>test_slice_inplace</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_inplace" name="method-i-test_slice_inplace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_inplace_source')" id="l_method-i-test_slice_inplace_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L823" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_inplace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 823</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_inplace</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }

  <span class="ruby-comment"># Should replace the hash with only the given keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_inplace_with_an_array_key">
            
              <b>test_slice_inplace_with_an_array_key</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_inplace_with_an_array_key" name="method-i-test_slice_inplace_with_an_array_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_inplace_with_an_array_key_source')" id="l_method-i-test_slice_inplace_with_an_array_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L840" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_inplace_with_an_array_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 840</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_inplace_with_an_array_key</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;an array key&quot;</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span> }

  <span class="ruby-comment"># Should replace the hash with only the given keys when given an array key.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice!</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>], <span class="ruby-value">:c</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_with_an_array_key">
            
              <b>test_slice_with_an_array_key</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_with_an_array_key" name="method-i-test_slice_with_an_array_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_with_an_array_key_source')" id="l_method-i-test_slice_with_an_array_key_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L831" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_with_an_array_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 831</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_with_an_array_key</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;an array key&quot;</span> }
  <span class="ruby-identifier">expected</span> = { [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;an array key&quot;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> }

  <span class="ruby-comment"># Should return a new hash with only the given keys when given an array key.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>], <span class="ruby-value">:c</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_slice_with_splatted_keys">
            
              <b>test_slice_with_splatted_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_slice_with_splatted_keys" name="method-i-test_slice_with_splatted_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_slice_with_splatted_keys_source')" id="l_method-i-test_slice_with_splatted_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L848" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_slice_with_splatted_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 848</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_slice_with_splatted_keys</span>
  <span class="ruby-identifier">original</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;y&#39;</span>, <span class="ruby-value">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, [<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;an array key&quot;</span> }
  <span class="ruby-identifier">expected</span> = { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x&#39;</span>, <span class="ruby-value">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;y&quot;</span> }

  <span class="ruby-comment"># Should grab each of the splatted keys.</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span>[<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_store_on_indifferent_access">
            
              <b>test_store_on_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_store_on_indifferent_access" name="method-i-test_store_on_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_store_on_indifferent_access_source')" id="l_method-i-test_store_on_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L775" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_store_on_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 775</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_store_on_indifferent_access</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">store</span>(<span class="ruby-value">:test1</span>, <span class="ruby-number">1</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&#39;test1&#39;</span>, <span class="ruby-number">11</span>)
  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:test2</span>] = <span class="ruby-number">2</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;test2&#39;</span>] = <span class="ruby-number">22</span>
  <span class="ruby-identifier">expected</span> = { <span class="ruby-string">&quot;test1&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">11</span>, <span class="ruby-string">&quot;test2&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">22</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash">
            
              <b>test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash" name="method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash_source')" id="l_method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L639" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_and_symbolize_keys_on_indifferent_preserves_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 639</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>[<span class="ruby-value">:first</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>]
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value">:first</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys">
            
              <b>test_stringify_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys" name="method-i-test_stringify_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys_source')" id="l_method-i-test_stringify_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L209" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">stringify_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys-21">
            
              <b>test_stringify_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys-21" name="method-i-test_stringify_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys-21_source')" id="l_method-i-test_stringify_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L236" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys_bang_for_hash_with_indifferent_access">
            
              <b>test_stringify_keys_bang_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys_bang_for_hash_with_indifferent_access" name="method-i-test_stringify_keys_bang_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys_bang_for_hash_with_indifferent_access_source')" id="l_method-i-test_stringify_keys_bang_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L326" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys_bang_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 326</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys_bang_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys_for_hash_with_indifferent_access">
            
              <b>test_stringify_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys_for_hash_with_indifferent_access" name="method-i-test_stringify_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_stringify_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L312" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">stringify_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys_not_mutates">
            
              <b>test_stringify_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys_not_mutates" name="method-i-test_stringify_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys_not_mutates_source')" id="l_method-i-test_stringify_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L215" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stringify_keys_with_bang_mutates">
            
              <b>test_stringify_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_stringify_keys_with_bang_mutates" name="method-i-test_stringify_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stringify_keys_with_bang_mutates_source')" id="l_method-i-test_stringify_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L242" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_stringify_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stringify_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">stringify_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&quot;b&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys">
            
              <b>test_symbolize_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys" name="method-i-test_symbolize_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_source')" id="l_method-i-test_symbolize_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L133" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">symbolize_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys-21">
            
              <b>test_symbolize_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys-21" name="method-i-test_symbolize_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys-21_source')" id="l_method-i-test_symbolize_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L160" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access">
            
              <b>test_symbolize_keys_bang_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access" name="method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access_source')" id="l_method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L280" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_bang_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_bang_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span> }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span> }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_for_hash_with_indifferent_access">
            
              <b>test_symbolize_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_for_hash_with_indifferent_access" name="method-i-test_symbolize_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_symbolize_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L265" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Hash</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_not_mutates">
            
              <b>test_symbolize_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_not_mutates" name="method-i-test_symbolize_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_not_mutates_source')" id="l_method-i-test_symbolize_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L139" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_preserves_fixnum_keys">
            
              <b>test_symbolize_keys_preserves_fixnum_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_preserves_fixnum_keys" name="method-i-test_symbolize_keys_preserves_fixnum_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_preserves_fixnum_keys_source')" id="l_method-i-test_symbolize_keys_preserves_fixnum_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L199" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_preserves_fixnum_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_preserves_fixnum_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@fixnums</span>, <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@fixnums</span>, <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access">
            
              <b>test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access" name="method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source')" id="l_method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L302" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_preserves_fixnum_keys_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@fixnums</span>, <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized">
            
              <b>test_symbolize_keys_preserves_keys_that_cant_be_symbolized</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized" name="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_source')" id="l_method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L189" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_preserves_keys_that_cant_be_symbolized</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@illegal_symbols</span>, <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@illegal_symbols</span>, <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access">
            
              <b>test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access" name="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source')" id="l_method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L292" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_preserves_keys_that_cant_be_symbolized_for_hash_with_indifferent_access</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@illegal_symbols</span>, <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">symbolize_keys</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_symbolize_keys_with_bang_mutates">
            
              <b>test_symbolize_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_symbolize_keys_with_bang_mutates" name="method-i-test_symbolize_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_symbolize_keys_with_bang_mutates_source')" id="l_method-i-test_symbolize_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L166" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_symbolize_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_symbolize_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">deep_symbolize_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&quot;b&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_to_hash_with_raising_default_proc">
            
              <b>test_to_hash_with_raising_default_proc</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_to_hash_with_raising_default_proc" name="method-i-test_to_hash_with_raising_default_proc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_to_hash_with_raising_default_proc_source')" id="l_method-i-test_to_hash_with_raising_default_proc_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L1023" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_to_hash_with_raising_default_proc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 1023</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_to_hash_with_raising_default_proc</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">default_proc</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;walrus&quot;</span> }

  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_hash</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_to_options_on_indifferent_preserves_hash">
            
              <b>test_to_options_on_indifferent_preserves_hash</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_to_options_on_indifferent_preserves_hash" name="method-i-test_to_options_on_indifferent_preserves_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_to_options_on_indifferent_preserves_hash_source')" id="l_method-i-test_to_options_on_indifferent_preserves_hash_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L661" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_to_options_on_indifferent_preserves_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 661</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_to_options_on_indifferent_preserves_hash</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>] = <span class="ruby-number">1</span>
  <span class="ruby-identifier">h</span>.<span class="ruby-identifier">to_options!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;first&#39;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup">
            
              <b>test_to_options_on_indifferent_preserves_works_as_hash_with_dup</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup" name="method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup_source')" id="l_method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L668" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_to_options_on_indifferent_preserves_works_as_hash_with_dup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 668</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_to_options_on_indifferent_preserves_works_as_hash_with_dup</span>
  <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } })
  <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-identifier">dup</span>[<span class="ruby-value">:a</span>][<span class="ruby-value">:c</span>] = <span class="ruby-string">&#39;c&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;c&#39;</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value">:a</span>][<span class="ruby-value">:c</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_transform_keys">
            
              <b>test_transform_keys</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_transform_keys" name="method-i-test_transform_keys" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_transform_keys_source')" id="l_method-i-test_transform_keys_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L77" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_transform_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_transform_keys</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_transform_keys-21">
            
              <b>test_transform_keys!</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_transform_keys-21" name="method-i-test_transform_keys-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_transform_keys-21_source')" id="l_method-i-test_transform_keys-21_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L104" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_transform_keys-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_transform_keys!</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_transform_keys_not_mutates">
            
              <b>test_transform_keys_not_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_transform_keys_not_mutates" name="method-i-test_transform_keys_not_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_transform_keys_not_mutates_source')" id="l_method-i-test_transform_keys_not_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L83" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_transform_keys_not_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_transform_keys_not_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">transform_keys</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, <span class="ruby-identifier">transformed_hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_transform_keys_with_bang_mutates">
            
              <b>test_transform_keys_with_bang_mutates</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_transform_keys_with_bang_mutates" name="method-i-test_transform_keys_with_bang_mutates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_transform_keys_with_bang_mutates_source')" id="l_method-i-test_transform_keys_with_bang_mutates_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L110" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_transform_keys_with_bang_mutates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_transform_keys_with_bang_mutates</span>
  <span class="ruby-identifier">transformed_hash</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">transformed_hash</span>.<span class="ruby-identifier">transform_keys!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@upcase_strings</span>, <span class="ruby-identifier">transformed_hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@mixed</span>, { <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-string">&quot;b&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_update_with_to_hash_conversion">
            
              <b>test_update_with_to_hash_conversion</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_update_with_to_hash_conversion" name="method-i-test_update_with_to_hash_conversion" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_update_with_to_hash_conversion_source')" id="l_method-i-test_update_with_to_hash_conversion_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L448" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_update_with_to_hash_conversion_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_update_with_to_hash_conversion</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span> <span class="ruby-constant">HashByConversion</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-value">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-string">&#39;a&#39;</span>], <span class="ruby-number">1</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash">
            
              <b>test_with_indifferent_access_has_no_side_effects_on_existing_hash</b>()
            
            <a href="../classes/HashExtTest.html#method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash" name="method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash_source')" id="l_method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/5993da8c7592e65c082c7f1258b0948cf8137a4b/activesupport/test/core_ext/hash_ext_test.rb#L608" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-test_with_indifferent_access_has_no_side_effects_on_existing_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activesupport/test/core_ext/hash_ext_test.rb, line 608</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_indifferent_access_has_no_side_effects_on_existing_hash</span>
  <span class="ruby-identifier">hash</span> = {<span class="ruby-identifier">content</span><span class="ruby-operator">:</span> [{<span class="ruby-value">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:bar</span>, <span class="ruby-string">&#39;bar&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;baz&#39;</span>}]}
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">with_indifferent_access</span>

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">:foo</span>, <span class="ruby-string">&quot;bar&quot;</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:content</span>].<span class="ruby-identifier">first</span>.<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    