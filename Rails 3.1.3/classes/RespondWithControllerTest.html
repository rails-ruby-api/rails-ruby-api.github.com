<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RespondWithControllerTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            RespondWithControllerTest 
            
                <span class="parent">&lt; 
                    
                    <a href="ActionController/TestCase.html">ActionController::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/actionpack/test/controller/mime_responds_test_rb.html">actionpack/test/controller/mime_responds_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-render">render</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown">teardown</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_block_inside_respond_with_is_rendered">test_block_inside_respond_with_is_rendered</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_clear_respond_to">test_clear_respond_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called">test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_first_in_respond_to_has_higher_priority">test_first_in_respond_to_has_higher_priority</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_no_double_render_is_raised">test_no_double_render_is_raised</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_not_acceptable">test_not_acceptable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_render_json_object_responds_to_str_still_produce_json">test_render_json_object_responds_to_str_still_produce_json</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_respond_as_responder_entry_point">test_respond_as_responder_entry_point</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_hash_resource">test_using_hash_resource</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found">test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_hash_resource_with_post">test_using_hash_resource_with_post</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_invalid_resource_with_template">test_using_invalid_resource_with_template</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_options_with_template">test_using_options_with_template</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource">test_using_resource</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_delete_with_html_redirects_on_failure">test_using_resource_for_delete_with_html_redirects_on_failure</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_delete_with_html_redirects_on_success">test_using_resource_for_delete_with_html_redirects_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_delete_with_json_yields_ok_on_success">test_using_resource_for_delete_with_json_yields_ok_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success">test_using_resource_for_delete_with_xml_yields_ok_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_post_with_html_redirects_on_success">test_using_resource_for_post_with_html_redirects_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_post_with_html_rerender_on_failure">test_using_resource_for_post_with_html_rerender_on_failure</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_post_with_xml_yields_created_on_success">test_using_resource_for_post_with_xml_yields_created_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure">test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_html_redirects_on_success">test_using_resource_for_put_with_html_redirects_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_html_rerender_on_failure">test_using_resource_for_put_with_html_rerender_on_failure</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override">test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_json_yields_ok_on_success">test_using_resource_for_put_with_json_yields_ok_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_xml_yields_ok_on_success">test_using_resource_for_put_with_xml_yields_ok_on_success</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure">test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_action">test_using_resource_with_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_block">test_using_resource_with_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_collection">test_using_resource_with_collection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_js_simply_tries_to_render_the_template">test_using_resource_with_js_simply_tries_to_render_the_template</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_overwrite_block">test_using_resource_with_overwrite_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_parent_for_get">test_using_resource_with_parent_for_get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_parent_for_post">test_using_resource_with_parent_for_post</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_responder">test_using_resource_with_responder</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_set_responder">test_using_resource_with_set_responder</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_status_and_location">test_using_resource_with_status_and_location</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_using_resource_with_status_and_location_with_invalid_resource">test_using_resource_with_status_and_location_with_invalid_resource</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-render">
            
              <a name="method-i-render"></a><b>render</b>(params={})
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-render_source')" id="l_method-i-render_source">show</a>
                
              </p>
              <div id="method-i-render_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 891</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">render</span>(<span class="ruby-identifier">params</span>={})
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">response_body</span> = <span class="ruby-node">&quot;#{params[:action]} - #{formats}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 611</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-keyword">super</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">host</span> = <span class="ruby-string">&quot;www.example.com&quot;</span>
  <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">register_alias</span>(<span class="ruby-string">'text/html'</span>, <span class="ruby-value">:iphone</span>)
  <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">register</span>(<span class="ruby-string">'text/x-mobile'</span>, <span class="ruby-value">:mobile</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown">
            
              <a name="method-i-teardown"></a><b>teardown</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_source')" id="l_method-i-teardown_source">show</a>
                
              </p>
              <div id="method-i-teardown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 618</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown</span>
  <span class="ruby-keyword">super</span>
  <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">unregister</span>(<span class="ruby-value">:iphone</span>)
  <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">unregister</span>(<span class="ruby-value">:mobile</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_block_inside_respond_with_is_rendered">
            
              <a name="method-i-test_block_inside_respond_with_is_rendered"></a><b>test_block_inside_respond_with_is_rendered</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_block_inside_respond_with_is_rendered_source')" id="l_method-i-test_block_inside_respond_with_is_rendered_source">show</a>
                
              </p>
              <div id="method-i-test_block_inside_respond_with_is_rendered_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 928</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_block_inside_respond_with_is_rendered</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">InheritedRespondWithController</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;JSON&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_clear_respond_to">
            
              <a name="method-i-test_clear_respond_to"></a><b>test_clear_respond_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_clear_respond_to_source')" id="l_method-i-test_clear_respond_to_source">show</a>
                
              </p>
              <div id="method-i-test_clear_respond_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 913</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_clear_respond_to</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">InheritedRespondWithController</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/html&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">406</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called">
            
              <a name="method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called"></a><b>test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called_source')" id="l_method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called_source">show</a>
                
              </p>
              <div id="method-i-test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 1022</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_error_is_raised_if_no_respond_to_is_declared_and_respond_with_is_called</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">EmptyRespondWithController</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;*/*&quot;</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">RuntimeError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_first_in_respond_to_has_higher_priority">
            
              <a name="method-i-test_first_in_respond_to_has_higher_priority"></a><b>test_first_in_respond_to_has_higher_priority</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_first_in_respond_to_has_higher_priority_source')" id="l_method-i-test_first_in_respond_to_has_higher_priority_source">show</a>
                
              </p>
              <div id="method-i-test_first_in_respond_to_has_higher_priority_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 920</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_first_in_respond_to_has_higher_priority</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">InheritedRespondWithController</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;*/*&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_no_double_render_is_raised">
            
              <a name="method-i-test_no_double_render_is_raised"></a><b>test_no_double_render_is_raised</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_no_double_render_is_raised_source')" id="l_method-i-test_no_double_render_is_raised_source">show</a>
                
              </p>
              <div id="method-i-test_no_double_render_is_raised_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 943</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_no_double_render_is_raised</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/html&quot;</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_not_acceptable">
            
              <a name="method-i-test_not_acceptable"></a><b>test_not_acceptable</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_not_acceptable_source')" id="l_method-i-test_not_acceptable_source">show</a>
                
              </p>
              <div id="method-i-test_not_acceptable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 692</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_not_acceptable</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_block</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">406</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/javascript&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_overwrite_block</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">406</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_render_json_object_responds_to_str_still_produce_json">
            
              <a name="method-i-test_render_json_object_responds_to_str_still_produce_json"></a><b>test_render_json_object_responds_to_str_still_produce_json</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_render_json_object_responds_to_str_still_produce_json_source')" id="l_method-i-test_render_json_object_responds_to_str_still_produce_json_source">show</a>
                
              </p>
              <div id="method-i-test_render_json_object_responds_to_str_still_produce_json_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 935</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_render_json_object_responds_to_str_still_produce_json</span>
  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">RenderJsonRespondWithController</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:index</span>, <span class="ruby-value">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/&quot;message&quot;:&quot;boom&quot;/</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/&quot;error&quot;:&quot;RenderJsonTestException&quot;/</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_respond_as_responder_entry_point">
            
              <a name="method-i-test_respond_as_responder_entry_point"></a><b>test_respond_as_responder_entry_point</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_respond_as_responder_entry_point_source')" id="l_method-i-test_respond_as_responder_entry_point_source">show</a>
                
              </p>
              <div id="method-i-test_respond_as_responder_entry_point_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 903</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_respond_as_responder_entry_point</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/html&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_responder_with_respond</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;respond html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_responder_with_respond</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;respond xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_hash_resource">
            
              <a name="method-i-test_using_hash_resource"></a><b>test_using_hash_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_hash_resource_source')" id="l_method-i-test_using_hash_resource_source">show</a>
                
              </p>
              <div id="method-i-test_using_hash_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 650</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_hash_resource</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_hash_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;hash&gt;\n  &lt;name&gt;david&lt;/name&gt;\n&lt;/hash&gt;\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_hash_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/json&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">%Q[{&quot;result&quot;:{&quot;name&quot;:&quot;david&quot;,&quot;id&quot;:13}}]</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found">
            
              <a name="method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found"></a><b>test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found_source')" id="l_method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found_source">show</a>
                
              </p>
              <div id="method-i-test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_hash_resource_with_js_raises_an_error_if_template_cant_be_found</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/javascript&quot;</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">get</span> <span class="ruby-value">:using_hash_resource</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_hash_resource_with_post">
            
              <a name="method-i-test_using_hash_resource_with_post"></a><b>test_using_hash_resource_with_post</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_hash_resource_with_post_source')" id="l_method-i-test_using_hash_resource_with_post_source">show</a>
                
              </p>
              <div id="method-i-test_using_hash_resource_with_post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 662</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_hash_resource_with_post</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Nil location provided. Can't build URI.&quot;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_hash_resource</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_invalid_resource_with_template">
            
              <a name="method-i-test_using_invalid_resource_with_template"></a><b>test_using_invalid_resource_with_template</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_invalid_resource_with_template_source')" id="l_method-i-test_using_invalid_resource_with_template_source">show</a>
                
              </p>
              <div id="method-i-test_using_invalid_resource_with_template_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 978</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_invalid_resource_with_template</span>
  <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/xml&quot;</span>

  <span class="ruby-identifier">post</span> <span class="ruby-value">:using_invalid_resource_with_template</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>

  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_invalid_resource_with_template</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_options_with_template">
            
              <a name="method-i-test_using_options_with_template"></a><b>test_using_options_with_template</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_options_with_template_source')" id="l_method-i-test_using_options_with_template_source">show</a>
                
              </p>
              <div id="method-i-test_using_options_with_template_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 995</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_options_with_template</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/xml&quot;</span>

  <span class="ruby-identifier">post</span> <span class="ruby-value">:using_options_with_template</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;customer-name&gt;david&lt;/customer-name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">123</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>

  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_options_with_template</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;customer-name&gt;david&lt;/customer-name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">123</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource">
            
              <a name="method-i-test_using_resource"></a><b>test_using_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_source')" id="l_method-i-test_using_resource_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 624</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_delete_with_html_redirects_on_failure">
            
              <a name="method-i-test_using_resource_for_delete_with_html_redirects_on_failure"></a><b>test_using_resource_for_delete_with_html_redirects_on_failure</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_delete_with_html_redirects_on_failure_source')" id="l_method-i-test_using_resource_for_delete_with_html_redirects_on_failure_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_delete_with_html_redirects_on_failure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 840</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_delete_with_html_redirects_on_failure</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:destroyed?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">delete</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">302</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/customers&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_delete_with_html_redirects_on_success">
            
              <a name="method-i-test_using_resource_for_delete_with_html_redirects_on_success"></a><b>test_using_resource_for_delete_with_html_redirects_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_delete_with_html_redirects_on_success_source')" id="l_method-i-test_using_resource_for_delete_with_html_redirects_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_delete_with_html_redirects_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 811</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_delete_with_html_redirects_on_success</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:destroyed?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">delete</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">302</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/customers&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_delete_with_json_yields_ok_on_success">
            
              <a name="method-i-test_using_resource_for_delete_with_json_yields_ok_on_success"></a><b>test_using_resource_for_delete_with_json_yields_ok_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_delete_with_json_yields_ok_on_success_source')" id="l_method-i-test_using_resource_for_delete_with_json_yields_ok_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_delete_with_json_yields_ok_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_delete_with_json_yields_ok_on_success</span>
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:to_json</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-string">'{&quot;name&quot;: &quot;David&quot;}'</span>)
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:destroyed?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">true</span>)
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">delete</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/json&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;{}&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success">
            
              <a name="method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success"></a><b>test_using_resource_for_delete_with_xml_yields_ok_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success_source')" id="l_method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_delete_with_xml_yields_ok_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 821</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_delete_with_xml_yields_ok_on_success</span>
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:destroyed?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">true</span>)
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">delete</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot; &quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_post_with_html_redirects_on_success">
            
              <a name="method-i-test_using_resource_for_post_with_html_redirects_on_success"></a><b>test_using_resource_for_post_with_html_redirects_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_post_with_html_redirects_on_success_source')" id="l_method-i-test_using_resource_for_post_with_html_redirects_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_post_with_html_redirects_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 702</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_post_with_html_redirects_on_success</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">302</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/customers/13&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_post_with_html_rerender_on_failure">
            
              <a name="method-i-test_using_resource_for_post_with_html_rerender_on_failure"></a><b>test_using_resource_for_post_with_html_rerender_on_failure</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_post_with_html_rerender_on_failure_source')" id="l_method-i-test_using_resource_for_post_with_html_rerender_on_failure_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_post_with_html_rerender_on_failure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 712</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_post_with_html_rerender_on_failure</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;New world!\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_post_with_xml_yields_created_on_success">
            
              <a name="method-i-test_using_resource_for_post_with_xml_yields_created_on_success"></a><b>test_using_resource_for_post_with_xml_yields_created_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_post_with_xml_yields_created_on_success_source')" id="l_method-i-test_using_resource_for_post_with_xml_yields_created_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_post_with_xml_yields_created_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 724</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_post_with_xml_yields_created_on_success</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">201</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/customers/13&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure">
            
              <a name="method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure"></a><b>test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure_source')" id="l_method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 735</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_post_with_xml_yields_unprocessable_entity_on_failure</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_html_redirects_on_success">
            
              <a name="method-i-test_using_resource_for_put_with_html_redirects_on_success"></a><b>test_using_resource_for_put_with_html_redirects_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_html_redirects_on_success_source')" id="l_method-i-test_using_resource_for_put_with_html_redirects_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_html_redirects_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 748</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_html_redirects_on_success</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">302</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/customers/13&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_html_rerender_on_failure">
            
              <a name="method-i-test_using_resource_for_put_with_html_rerender_on_failure"></a><b>test_using_resource_for_put_with_html_rerender_on_failure</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_html_rerender_on_failure_source')" id="l_method-i-test_using_resource_for_put_with_html_rerender_on_failure_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_html_rerender_on_failure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 758</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_html_rerender_on_failure</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Edit world!\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override">
            
              <a name="method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override"></a><b>test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override_source')" id="l_method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 770</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_html_rerender_on_failure_even_on_method_override</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-string">&quot;rack.methodoverride.original_method&quot;</span>] = <span class="ruby-string">&quot;POST&quot;</span>
    <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Edit world!\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_json_yields_ok_on_success">
            
              <a name="method-i-test_using_resource_for_put_with_json_yields_ok_on_success"></a><b>test_using_resource_for_put_with_json_yields_ok_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_json_yields_ok_on_success_source')" id="l_method-i-test_using_resource_for_put_with_json_yields_ok_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_json_yields_ok_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 791</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_json_yields_ok_on_success</span>
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:to_json</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-string">'{&quot;name&quot;: &quot;David&quot;}'</span>)
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/json&quot;</span>
  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/json&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;{}&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_xml_yields_ok_on_success">
            
              <a name="method-i-test_using_resource_for_put_with_xml_yields_ok_on_success"></a><b>test_using_resource_for_put_with_xml_yields_ok_on_success</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_xml_yields_ok_on_success_source')" id="l_method-i-test_using_resource_for_put_with_xml_yields_ok_on_success_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_xml_yields_ok_on_success_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 783</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_xml_yields_ok_on_success</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot; &quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure">
            
              <a name="method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure"></a><b>test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure_source')" id="l_method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 800</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_for_put_with_xml_yields_unprocessable_entity_on_failure</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_action">
            
              <a name="method-i-test_using_resource_with_action"></a><b>test_using_resource_with_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_action_source')" id="l_method-i-test_using_resource_with_action_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 889</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_action</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">render</span>(<span class="ruby-identifier">params</span>={})
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">response_body</span> = <span class="ruby-node">&quot;#{params[:action]} - #{formats}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)

  <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource_with_action</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;foo - #{[:html].to_s}&quot;</span>, <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_block">
            
              <a name="method-i-test_using_resource_with_block"></a><b>test_using_resource_with_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_block_source')" id="l_method-i-test_using_resource_with_block_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 669</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_block</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;*/*&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_block</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'Hello world!'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/csv&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_block</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/csv&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;CSV&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_collection">
            
              <a name="method-i-test_using_resource_with_collection"></a><b>test_using_resource_with_collection</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_collection_source')" id="l_method-i-test_using_resource_with_collection_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_collection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 880</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_collection</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_collection</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/&lt;name&gt;david&lt;\/name&gt;/</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/&lt;name&gt;jamis&lt;\/name&gt;/</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_js_simply_tries_to_render_the_template">
            
              <a name="method-i-test_using_resource_with_js_simply_tries_to_render_the_template"></a><b>test_using_resource_with_js_simply_tries_to_render_the_template</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_js_simply_tries_to_render_the_template_source')" id="l_method-i-test_using_resource_with_js_simply_tries_to_render_the_template_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_js_simply_tries_to_render_the_template_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 636</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_js_simply_tries_to_render_the_template</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/javascript&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/javascript&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;alert(\&quot;Hi\&quot;);&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_overwrite_block">
            
              <a name="method-i-test_using_resource_with_overwrite_block"></a><b>test_using_resource_with_overwrite_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_overwrite_block_source')" id="l_method-i-test_using_resource_with_overwrite_block_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_overwrite_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 686</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_overwrite_block</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_overwrite_block</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;HTML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_parent_for_get">
            
              <a name="method-i-test_using_resource_with_parent_for_get"></a><b>test_using_resource_with_parent_for_get</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_parent_for_get_source')" id="l_method-i-test_using_resource_with_parent_for_get_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_parent_for_get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 852</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_parent_for_get</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_parent</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_parent_for_post">
            
              <a name="method-i-test_using_resource_with_parent_for_post"></a><b>test_using_resource_with_parent_for_post</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_parent_for_post_source')" id="l_method-i-test_using_resource_with_parent_for_post_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_parent_for_post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 860</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_parent_for_post</span>
  <span class="ruby-identifier">with_test_route_set</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>

    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource_with_parent</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">201</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;name&gt;david&lt;/name&gt;&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://www.example.com/quiz_stores/11/customers/13&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>

    <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
    <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)
    <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_responder">
            
              <a name="method-i-test_using_resource_with_responder"></a><b>test_using_resource_with_responder</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_responder_source')" id="l_method-i-test_using_resource_with_responder_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_responder_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 1009</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_responder</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_responder</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Resource name is david&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_set_responder">
            
              <a name="method-i-test_using_resource_with_set_responder"></a><b>test_using_resource_with_set_responder</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_set_responder_source')" id="l_method-i-test_using_resource_with_set_responder_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_set_responder_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 1014</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_set_responder</span>
  <span class="ruby-constant">RespondWithController</span>.<span class="ruby-identifier">responder</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span>, <span class="ruby-identifier">r</span>, <span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">render</span> <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Resource name is #{r.first.name}&quot;</span> }
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Resource name is david&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">RespondWithController</span>.<span class="ruby-identifier">responder</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Responder</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_status_and_location">
            
              <a name="method-i-test_using_resource_with_status_and_location"></a><b>test_using_resource_with_status_and_location</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_status_and_location_source')" id="l_method-i-test_using_resource_with_status_and_location_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_status_and_location_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 950</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_status_and_location</span>
  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/html&quot;</span>
  <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource_with_status_and_location</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;application/xml&quot;</span>
  <span class="ruby-identifier">get</span> <span class="ruby-value">:using_resource_with_status_and_location</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">201</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_using_resource_with_status_and_location_with_invalid_resource">
            
              <a name="method-i-test_using_resource_with_status_and_location_with_invalid_resource"></a><b>test_using_resource_with_status_and_location_with_invalid_resource</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_using_resource_with_status_and_location_with_invalid_resource_source')" id="l_method-i-test_using_resource_with_status_and_location_with_invalid_resource_source">show</a>
                
              </p>
              <div id="method-i-test_using_resource_with_status_and_location_with_invalid_resource_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/mime_responds_test.rb, line 961</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_using_resource_with_status_and_location_with_invalid_resource</span>
  <span class="ruby-identifier">errors</span> = { <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:invalid</span> }
  <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:errors</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">errors</span>)

  <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-string">&quot;text/xml&quot;</span>

  <span class="ruby-identifier">post</span> <span class="ruby-value">:using_resource_with_status_and_location</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>

  <span class="ruby-identifier">put</span> <span class="ruby-value">:using_resource_with_status_and_location</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">422</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    