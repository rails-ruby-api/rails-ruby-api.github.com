<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RailtiesTest::SharedTests</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            RailtiesTest::SharedTests 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/railties/test/railties/shared_tests_rb.html">railties/test/railties/shared_tests.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Holds tests shared between plugin and engines</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-app">app</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-boot_rails">boot_rails</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_adds_helpers_to_controller_views">test_adds_helpers_to_controller_views</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_adds_its_views_to_view_paths">test_adds_its_views_to_view_paths</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones">test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_any_path_under_app">test_autoload_any_path_under_app</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_copying_migrations">test_copying_migrations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_i18n_files_have_lower_priority_than_application_ones">test_i18n_files_have_lower_priority_than_application_ones</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_initializers">test_initializers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_midleware_referenced_in_configuration">test_midleware_referenced_in_configuration</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_namespaced_controllers_with_namespaced_routes">test_namespaced_controllers_with_namespaced_routes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_no_rake_task_without_migrations">test_no_rake_task_without_migrations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_puts_its_controllers_directory_on_autoload_path">test_puts_its_controllers_directory_on_autoload_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_puts_its_lib_directory_on_load_path">test_puts_its_lib_directory_on_load_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_puts_its_models_directory_on_autoload_path">test_puts_its_models_directory_on_autoload_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_rake_tasks_lib_tasks_are_loaded">test_rake_tasks_lib_tasks_are_loaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_routes_are_added_to_router">test_routes_are_added_to_router</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_routes_in_plugins_have_lower_priority_than_application_ones">test_routes_in_plugins_have_lower_priority_than_application_ones</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_serving_sprockets_assets">test_serving_sprockets_assets</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-app">
            
              <a name="method-i-app"></a><b>app</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-app_source')" id="l_method-i-app_source">show</a>
                
              </p>
              <div id="method-i-app_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">app</span>
  <span class="ruby-ivar">@app</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-boot_rails">
            
              <a name="method-i-boot_rails"></a><b>boot_rails</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-boot_rails_source')" id="l_method-i-boot_rails_source">show</a>
                
              </p>
              <div id="method-i-boot_rails_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 4</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">boot_rails</span>
  <span class="ruby-keyword">super</span>
  <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;#{app_path}/config/environment&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_adds_helpers_to_controller_views">
            
              <a name="method-i-test_adds_helpers_to_controller_views"></a><b>test_adds_helpers_to_controller_views</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_adds_helpers_to_controller_views_source')" id="l_method-i-test_adds_helpers_to_controller_views_source">show</a>
                
              </p>
              <div id="method-i-test_adds_helpers_to_controller_views_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 151</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_adds_helpers_to_controller_views</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/bukkit_controller.rb&quot;</span>, <span class="ruby-string">&quot;        class BukkitController &lt; ActionController::Base
          def index
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/helpers/bukkit_helper.rb&quot;</span>, <span class="ruby-string">&quot;        module BukkitHelper
          def bukkits
            &quot;bukkits&quot;
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/views/bukkit/index.html.erb&quot;</span>, <span class="ruby-string">&quot;Hello &lt;%= bukkits %&gt;&quot;</span>

      <span class="ruby-identifier">boot_rails</span>

      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rack/mock&quot;</span>
      <span class="ruby-identifier">response</span> = <span class="ruby-constant">BukkitController</span>.<span class="ruby-identifier">action</span>(<span class="ruby-value">:index</span>).<span class="ruby-identifier">call</span>(<span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">MockRequest</span>.<span class="ruby-identifier">env_for</span>(<span class="ruby-string">&quot;/&quot;</span>))
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Hello bukkits\n&quot;</span>, <span class="ruby-identifier">response</span>[<span class="ruby-number">2</span>].<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_adds_its_views_to_view_paths">
            
              <a name="method-i-test_adds_its_views_to_view_paths"></a><b>test_adds_its_views_to_view_paths</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_adds_its_views_to_view_paths_source')" id="l_method-i-test_adds_its_views_to_view_paths_source">show</a>
                
              </p>
              <div id="method-i-test_adds_its_views_to_view_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 114</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_adds_its_views_to_view_paths</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/bukkit_controller.rb&quot;</span>, <span class="ruby-string">&quot;        class BukkitController &lt; ActionController::Base
          def index
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/views/bukkit/index.html.erb&quot;</span>, <span class="ruby-string">&quot;Hello bukkits&quot;</span>

      <span class="ruby-identifier">boot_rails</span>

      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;action_controller&quot;</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rack/mock&quot;</span>
      <span class="ruby-identifier">response</span> = <span class="ruby-constant">BukkitController</span>.<span class="ruby-identifier">action</span>(<span class="ruby-value">:index</span>).<span class="ruby-identifier">call</span>(<span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">MockRequest</span>.<span class="ruby-identifier">env_for</span>(<span class="ruby-string">&quot;/&quot;</span>))
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Hello bukkits\n&quot;</span>, <span class="ruby-identifier">response</span>[<span class="ruby-number">2</span>].<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones">
            
              <a name="method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones"></a><b>test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones_source')" id="l_method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones_source">show</a>
                
              </p>
              <div id="method-i-test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 132</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_adds_its_views_to_view_paths_with_lower_proriority_than_app_ones</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/bukkit_controller.rb&quot;</span>, <span class="ruby-string">&quot;        class BukkitController &lt; ActionController::Base
          def index
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/views/bukkit/index.html.erb&quot;</span>, <span class="ruby-string">&quot;Hello bukkits&quot;</span>
      <span class="ruby-identifier">app_file</span> <span class="ruby-string">&quot;app/views/bukkit/index.html.erb&quot;</span>, <span class="ruby-string">&quot;Hi bukkits&quot;</span>

      <span class="ruby-identifier">boot_rails</span>

      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;action_controller&quot;</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rack/mock&quot;</span>
      <span class="ruby-identifier">response</span> = <span class="ruby-constant">BukkitController</span>.<span class="ruby-identifier">action</span>(<span class="ruby-value">:index</span>).<span class="ruby-identifier">call</span>(<span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">MockRequest</span>.<span class="ruby-identifier">env_for</span>(<span class="ruby-string">&quot;/&quot;</span>))
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Hi bukkits\n&quot;</span>, <span class="ruby-identifier">response</span>[<span class="ruby-number">2</span>].<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_any_path_under_app">
            
              <a name="method-i-test_autoload_any_path_under_app"></a><b>test_autoload_any_path_under_app</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_any_path_under_app_source')" id="l_method-i-test_autoload_any_path_under_app_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_any_path_under_app_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 176</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_any_path_under_app</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/anything/foo.rb&quot;</span>, <span class="ruby-string">&quot;        module Foo; end
&quot;</span>
      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">assert</span> <span class="ruby-constant">Foo</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_copying_migrations">
            
              <a name="method-i-test_copying_migrations"></a><b>test_copying_migrations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_copying_migrations_source')" id="l_method-i-test_copying_migrations_source">show</a>
                
              </p>
              <div id="method-i-test_copying_migrations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 24</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_copying_migrations</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;db/migrate/1_create_users.rb&quot;</span>, <span class="ruby-string">&quot;        class CreateUsers &lt; ActiveRecord::Migration
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;db/migrate/2_add_last_name_to_users.rb&quot;</span>, <span class="ruby-string">&quot;        class AddLastNameToUsers &lt; ActiveRecord::Migration
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;db/migrate/3_create_sessions.rb&quot;</span>, <span class="ruby-string">&quot;        class CreateSessions &lt; ActiveRecord::Migration
        end
&quot;</span>

      <span class="ruby-identifier">app_file</span> <span class="ruby-string">&quot;db/migrate/1_create_sessions.rb&quot;</span>, <span class="ruby-string">&quot;        class CreateSessions &lt; ActiveRecord::Migration
        end
&quot;</span>

      <span class="ruby-identifier">yaffle</span> = <span class="ruby-identifier">plugin</span> <span class="ruby-string">&quot;acts_as_yaffle&quot;</span>, <span class="ruby-string">&quot;::LEVEL = config.log_level&quot;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">plugin</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;lib/acts_as_yaffle.rb&quot;</span>, <span class="ruby-string">&quot;class ActsAsYaffle; end&quot;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">yaffle</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;db/migrate/1_create_yaffles.rb&quot;</span>, <span class="ruby-string">&quot;        class CreateYaffles &lt; ActiveRecord::Migration
        end
&quot;</span>

      <span class="ruby-identifier">add_to_config</span> <span class="ruby-string">&quot;ActiveRecord::Base.timestamped_migrations = false&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">railties</span> = <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">railties</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:railtie_name</span>)

      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">app_path</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">output</span> = <span class="ruby-value">`bundle exec rake bukkits:install:migrations`</span>

        <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-node">&quot;#{app_path}/db/migrate/2_create_users.rb&quot;</span>)
        <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-node">&quot;#{app_path}/db/migrate/3_add_last_name_to_users.rb&quot;</span>)
        <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/Copied migration 2_create_users.rb from bukkits/</span>, <span class="ruby-identifier">output</span>)
        <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/Copied migration 3_add_last_name_to_users.rb from bukkits/</span>, <span class="ruby-identifier">output</span>)
        <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/NOTE: Migration 3_create_sessions.rb from bukkits has been skipped/</span>, <span class="ruby-identifier">output</span>)
        <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{app_path}/db/migrate/*.rb&quot;</span>].<span class="ruby-identifier">length</span>

        <span class="ruby-identifier">output</span> = <span class="ruby-value">`bundle exec rake railties:install:migrations`</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>)

        <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-node">&quot;#{app_path}/db/migrate/4_create_yaffles.rb&quot;</span>)
        <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp">/2_create_users/</span>, <span class="ruby-identifier">output</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>))

        <span class="ruby-identifier">yaffle_migration_order</span> = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">output</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-regexp">/Copied migration 4_create_yaffles.rb from acts_as_yaffle/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">o</span> })
        <span class="ruby-identifier">bukkits_migration_order</span> = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">output</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-regexp">/NOTE: Migration 3_create_sessions.rb from bukkits has been skipped/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">o</span> })
        <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">yaffle_migration_order</span>, <span class="ruby-string">&quot;Expected migration to be copied&quot;</span>
        <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">bukkits_migration_order</span>, <span class="ruby-string">&quot;Expected migration to be skipped&quot;</span>
        <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">railties</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">'acts_as_yaffle'</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">railties</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">'bukkits'</span>), <span class="ruby-identifier">yaffle_migration_order</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bukkits_migration_order</span>)

        <span class="ruby-identifier">migrations_count</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{app_path}/db/migrate/*.rb&quot;</span>].<span class="ruby-identifier">length</span>
        <span class="ruby-identifier">output</span> = <span class="ruby-value">`bundle exec rake railties:install:migrations`</span>

        <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">migrations_count</span>, <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{app_path}/db/migrate/*.rb&quot;</span>].<span class="ruby-identifier">length</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_i18n_files_have_lower_priority_than_application_ones">
            
              <a name="method-i-test_i18n_files_have_lower_priority_than_application_ones"></a><b>test_i18n_files_have_lower_priority_than_application_ones</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_i18n_files_have_lower_priority_than_application_ones_source')" id="l_method-i-test_i18n_files_have_lower_priority_than_application_ones_source">show</a>
                
              </p>
              <div id="method-i-test_i18n_files_have_lower_priority_than_application_ones_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 263</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_i18n_files_have_lower_priority_than_application_ones</span>
      <span class="ruby-identifier">add_to_config</span> <span class="ruby-string">&quot;        config.i18n.load_path &lt;&lt; &quot;#{app_path}/app/locales/en.yml&quot;
&quot;</span>

      <span class="ruby-identifier">app_file</span> <span class="ruby-string">'app/locales/en.yml'</span>, <span class="ruby-string">&quot;en:
  bar: &quot;1&quot;
&quot;</span>

      <span class="ruby-identifier">app_file</span> <span class="ruby-string">'config/locales/en.yml'</span>, <span class="ruby-string">&quot;en:
  foo: &quot;2&quot;
  bar: &quot;2&quot;
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">'config/locales/en.yml'</span>, <span class="ruby-string">&quot;en:
  foo: &quot;3&quot;
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>

      <span class="ruby-identifier">expected_locales</span> = <span class="ruby-node">%w(
        #{RAILS_FRAMEWORK_ROOT}/activesupport/lib/active_support/locale/en.yml
        #{RAILS_FRAMEWORK_ROOT}/activemodel/lib/active_model/locale/en.yml
        #{RAILS_FRAMEWORK_ROOT}/activerecord/lib/active_record/locale/en.yml
        #{RAILS_FRAMEWORK_ROOT}/actionpack/lib/action_view/locale/en.yml
        #{@plugin.path}/config/locales/en.yml
        #{app_path}/config/locales/en.yml
        #{app_path}/app/locales/en.yml
      )</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>) }

      <span class="ruby-identifier">actual_locales</span> = <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">load_path</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
      } &amp; <span class="ruby-identifier">expected_locales</span> <span class="ruby-comment"># remove locales external to Rails</span>

      <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_locales</span>, <span class="ruby-identifier">actual_locales</span>

      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;2&quot;</span>, <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value">:foo</span>)
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;1&quot;</span>, <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value">:bar</span>)
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_initializers">
            
              <a name="method-i-test_initializers"></a><b>test_initializers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_initializers_source')" id="l_method-i-test_initializers_source">show</a>
                
              </p>
              <div id="method-i-test_initializers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 334</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_initializers</span>
      <span class="ruby-identifier">$plugin_initializer</span> = <span class="ruby-keyword">false</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;config/initializers/foo.rb&quot;</span>, <span class="ruby-string">&quot;        $plugin_initializer = true
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">assert</span> <span class="ruby-identifier">$plugin_initializer</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_midleware_referenced_in_configuration">
            
              <a name="method-i-test_midleware_referenced_in_configuration"></a><b>test_midleware_referenced_in_configuration</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_midleware_referenced_in_configuration_source')" id="l_method-i-test_midleware_referenced_in_configuration_source">show</a>
                
              </p>
              <div id="method-i-test_midleware_referenced_in_configuration_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 344</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_midleware_referenced_in_configuration</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;lib/bukkits.rb&quot;</span>, <span class="ruby-string">&quot;        class Bukkits
          def initialize(app)
            @app = app
          end

          def call(env)
            @app.call(env)
          end
        end
&quot;</span>

      <span class="ruby-identifier">add_to_config</span> <span class="ruby-string">&quot;config.middleware.use \&quot;Bukkits\&quot;&quot;</span>
      <span class="ruby-identifier">boot_rails</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_namespaced_controllers_with_namespaced_routes">
            
              <a name="method-i-test_namespaced_controllers_with_namespaced_routes"></a><b>test_namespaced_controllers_with_namespaced_routes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_namespaced_controllers_with_namespaced_routes_source')" id="l_method-i-test_namespaced_controllers_with_namespaced_routes_source">show</a>
                
              </p>
              <div id="method-i-test_namespaced_controllers_with_namespaced_routes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 306</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_namespaced_controllers_with_namespaced_routes</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;config/routes.rb&quot;</span>, <span class="ruby-string">&quot;        Rails.application.routes.draw do
          namespace :admin do
            namespace :foo do
              match &quot;bar&quot;, :to =&gt; &quot;bar#index&quot;
            end
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/admin/foo/bar_controller.rb&quot;</span>, <span class="ruby-string">&quot;        class Admin::Foo::BarController &lt; ApplicationController
          def index
            render :text =&gt; &quot;Rendered from namespace&quot;
          end
        end
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rack/test'</span>
      <span class="ruby-identifier">extend</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

      <span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/admin/foo/bar&quot;</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">200</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">status</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Rendered from namespace&quot;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_no_rake_task_without_migrations">
            
              <a name="method-i-test_no_rake_task_without_migrations"></a><b>test_no_rake_task_without_migrations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_no_rake_task_without_migrations_source')" id="l_method-i-test_no_rake_task_without_migrations_source">show</a>
                
              </p>
              <div id="method-i-test_no_rake_task_without_migrations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_no_rake_task_without_migrations</span>
  <span class="ruby-identifier">boot_rails</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'rake'</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'rdoc/task'</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'rake/testtask'</span>
  <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">load_tasks</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>.<span class="ruby-identifier">task_defined?</span>(<span class="ruby-string">'bukkits:install:migrations'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_puts_its_controllers_directory_on_autoload_path">
            
              <a name="method-i-test_puts_its_controllers_directory_on_autoload_path"></a><b>test_puts_its_controllers_directory_on_autoload_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_puts_its_controllers_directory_on_autoload_path_source')" id="l_method-i-test_puts_its_controllers_directory_on_autoload_path_source">show</a>
                
              </p>
              <div id="method-i-test_puts_its_controllers_directory_on_autoload_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_puts_its_controllers_directory_on_autoload_path</span>
  <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/bukkit_controller.rb&quot;</span>, <span class="ruby-string">&quot;class BukkitController ; end&quot;</span>
  <span class="ruby-identifier">boot_rails</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">BukkitController</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_puts_its_lib_directory_on_load_path">
            
              <a name="method-i-test_puts_its_lib_directory_on_load_path"></a><b>test_puts_its_lib_directory_on_load_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_puts_its_lib_directory_on_load_path_source')" id="l_method-i-test_puts_its_lib_directory_on_load_path_source">show</a>
                
              </p>
              <div id="method-i-test_puts_its_lib_directory_on_load_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_puts_its_lib_directory_on_load_path</span>
  <span class="ruby-identifier">boot_rails</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;another&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Another&quot;</span>, <span class="ruby-constant">Another</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_puts_its_models_directory_on_autoload_path">
            
              <a name="method-i-test_puts_its_models_directory_on_autoload_path"></a><b>test_puts_its_models_directory_on_autoload_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_puts_its_models_directory_on_autoload_path_source')" id="l_method-i-test_puts_its_models_directory_on_autoload_path_source">show</a>
                
              </p>
              <div id="method-i-test_puts_its_models_directory_on_autoload_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_puts_its_models_directory_on_autoload_path</span>
  <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/models/my_bukkit.rb&quot;</span>, <span class="ruby-string">&quot;class MyBukkit ; end&quot;</span>
  <span class="ruby-identifier">boot_rails</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">MyBukkit</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_rake_tasks_lib_tasks_are_loaded">
            
              <a name="method-i-test_rake_tasks_lib_tasks_are_loaded"></a><b>test_rake_tasks_lib_tasks_are_loaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_rake_tasks_lib_tasks_are_loaded_source')" id="l_method-i-test_rake_tasks_lib_tasks_are_loaded_source">show</a>
                
              </p>
              <div id="method-i-test_rake_tasks_lib_tasks_are_loaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 246</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_rake_tasks_lib_tasks_are_loaded</span>
      <span class="ruby-identifier">$executed</span> = <span class="ruby-keyword">false</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;lib/tasks/foo.rake&quot;</span>, <span class="ruby-string">&quot;        task :foo do
          $executed = true
        end
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rake'</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rdoc/task'</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rake/testtask'</span>
      <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">load_tasks</span>
      <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>[<span class="ruby-value">:foo</span>].<span class="ruby-identifier">invoke</span>
      <span class="ruby-identifier">assert</span> <span class="ruby-identifier">$executed</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_routes_are_added_to_router">
            
              <a name="method-i-test_routes_are_added_to_router"></a><b>test_routes_are_added_to_router</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_routes_are_added_to_router_source')" id="l_method-i-test_routes_are_added_to_router_source">show</a>
                
              </p>
              <div id="method-i-test_routes_are_added_to_router_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 184</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_routes_are_added_to_router</span>
      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;config/routes.rb&quot;</span>, <span class="ruby-string">&quot;        class Sprokkit
          def self.call(env)
            [200, {'Content-Type' =&gt; 'text/html'}, [&quot;I am a Sprokkit&quot;]]
          end
        end

        Rails.application.routes.draw do
          match &quot;/sprokkit&quot;, :to =&gt; Sprokkit
        end
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rack/test'</span>
      <span class="ruby-identifier">extend</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

      <span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/sprokkit&quot;</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;I am a Sprokkit&quot;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_routes_in_plugins_have_lower_priority_than_application_ones">
            
              <a name="method-i-test_routes_in_plugins_have_lower_priority_than_application_ones"></a><b>test_routes_in_plugins_have_lower_priority_than_application_ones</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_routes_in_plugins_have_lower_priority_than_application_ones_source')" id="l_method-i-test_routes_in_plugins_have_lower_priority_than_application_ones_source">show</a>
                
              </p>
              <div id="method-i-test_routes_in_plugins_have_lower_priority_than_application_ones_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 205</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_routes_in_plugins_have_lower_priority_than_application_ones</span>
      <span class="ruby-identifier">controller</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;        class FooController &lt; ActionController::Base
          def index
            render :text =&gt; &quot;foo&quot;
          end
        end
&quot;</span>

      <span class="ruby-identifier">app_file</span> <span class="ruby-string">&quot;config/routes.rb&quot;</span>, <span class="ruby-string">&quot;        AppTemplate::Application.routes.draw do
          match 'foo', :to =&gt; 'foo#index'
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/controllers/bar_controller.rb&quot;</span>, <span class="ruby-string">&quot;        class BarController &lt; ActionController::Base
          def index
            render :text =&gt; &quot;bar&quot;
          end
        end
&quot;</span>

      <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;config/routes.rb&quot;</span>, <span class="ruby-string">&quot;        Rails.application.routes.draw do
          match 'foo', :to =&gt; 'bar#index'
          match 'bar', :to =&gt; 'bar#index'
        end
&quot;</span>

      <span class="ruby-identifier">boot_rails</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'rack/test'</span>
      <span class="ruby-identifier">extend</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

      <span class="ruby-identifier">get</span> <span class="ruby-string">'/foo'</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'foo'</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>

      <span class="ruby-identifier">get</span> <span class="ruby-string">'/bar'</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'bar'</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_serving_sprockets_assets">
            
              <a name="method-i-test_serving_sprockets_assets"></a><b>test_serving_sprockets_assets</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_serving_sprockets_assets_source')" id="l_method-i-test_serving_sprockets_assets_source">show</a>
                
              </p>
              <div id="method-i-test_serving_sprockets_assets_source" class="dyn-source">
                <pre><span class="ruby-comment"># File railties/test/railties/shared_tests.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_serving_sprockets_assets</span>
  <span class="ruby-ivar">@plugin</span>.<span class="ruby-identifier">write</span> <span class="ruby-string">&quot;app/assets/javascripts/engine.js.erb&quot;</span>, <span class="ruby-string">&quot;&lt;%= :alert %&gt;();&quot;</span>

  <span class="ruby-identifier">boot_rails</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'rack/test'</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/assets/engine.js&quot;</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&quot;alert()&quot;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    