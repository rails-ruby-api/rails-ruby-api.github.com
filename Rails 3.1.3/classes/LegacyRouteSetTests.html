<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>LegacyRouteSetTests</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            LegacyRouteSetTests 
            
                <span class="parent">&lt; 
                    
                    <a href="Test/Unit/TestCase.html">Test::Unit::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/actionpack/test/controller/routing_test_rb.html">actionpack/test/controller/routing_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>,
              </li>
            
              
              <li>
                <a href="#method-i-setup_for_named_route">setup_for_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-setup_request_method_routes_for">setup_request_method_routes_for</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown">teardown</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_action_expiry">test_action_expiry</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_backwards">test_backwards</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_basic_named_route">test_basic_named_route</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_both_requirement_and_optional">test_both_requirement_and_optional</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_changing_controller">test_changing_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_default_setup">test_default_setup</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_draw_with_block_arity_one_raises">test_draw_with_block_arity_one_raises</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dynamic_path_allowed">test_dynamic_path_allowed</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dynamic_recall_paths_allowed">test_dynamic_recall_paths_allowed</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_failed_constraints_raises_exception_with_violated_constraints">test_failed_constraints_raises_exception_with_violated_constraints</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_ignores_leading_slash">test_ignores_leading_slash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_root_url_generation_with_controller_and_action">test_named_root_url_generation_with_controller_and_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_method">test_named_route_method</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_root">test_named_route_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_blank_path_prefix">test_named_route_with_blank_path_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_default">test_named_route_with_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_nested_controller">test_named_route_with_nested_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_option">test_named_route_with_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_path_prefix">test_named_route_with_path_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_with_regexps">test_named_route_with_regexps</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_route_without_hash">test_named_route_without_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_named_routes_array">test_named_routes_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nil_defaults">test_nil_defaults</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_non_controllers_cannot_be_matched">test_non_controllers_cannot_be_matched</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optimised_named_route_with_host">test_optimised_named_route_with_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_paths_escaped">test_paths_escaped</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_paths_slashes_unescaped_with_ordered_parameters">test_paths_slashes_unescaped_with_ordered_parameters</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_recognize_array_of_methods">test_recognize_array_of_methods</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_requirement_should_prevent_optional_id">test_requirement_should_prevent_optional_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_root_url_generation_with_controller_and_action">test_root_url_generation_with_controller_and_action</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_colon_first">test_route_with_colon_first</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_fixnum_default">test_route_with_fixnum_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_regexp_and_captures_for_controller">test_route_with_regexp_and_captures_for_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_regexp_and_dot">test_route_with_regexp_and_dot</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_regexp_for_controller">test_route_with_regexp_for_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_route_with_text_default">test_route_with_text_default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_routes_changed_correctly_after_clear">test_routes_changed_correctly_after_clear</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_set_to_nil_forgets">test_set_to_nil_forgets</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_list_options_diff_when_routing_constraints_dont_match">test_should_list_options_diff_when_routing_constraints_dont_match</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_subpath_generated">test_subpath_generated</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_subpath_recognized">test_subpath_recognized</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_time_recognition">test_time_recognition</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="RoutingTestHelpers.html">
              RoutingTestHelpers
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>rs</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-ivar">@rs</span> = <span class="ruby-operator">::</span><span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup_for_named_route">
            
              <a name="method-i-setup_for_named_route"></a><b>setup_for_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_for_named_route_source')" id="l_method-i-setup_for_named_route_source">show</a>
                
              </p>
              <div id="method-i-setup_for_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup_for_named_route</span>
  <span class="ruby-constant">MockController</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">rs</span>.<span class="ruby-identifier">url_helpers</span>).<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup_request_method_routes_for">
            
              <a name="method-i-setup_request_method_routes_for"></a><b>setup_request_method_routes_for</b>(method)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_request_method_routes_for_source')" id="l_method-i-setup_request_method_routes_for_source">show</a>
                
              </p>
              <div id="method-i-setup_request_method_routes_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 528</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup_request_method_routes_for</span>(<span class="ruby-identifier">method</span>)
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#get'</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:get</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#post'</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#put'</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#delete'</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:delete</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown">
            
              <a name="method-i-teardown"></a><b>teardown</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_source')" id="l_method-i-teardown_source">show</a>
                
              </p>
              <div id="method-i-teardown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">clear!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_action_expiry">
            
              <a name="method-i-test_action_expiry"></a><b>test_action_expiry</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_action_expiry_source')" id="l_method-i-test_action_expiry_source">show</a>
                
              </p>
              <div id="method-i-test_action_expiry_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 423</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_action_expiry</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-identifier">match</span> <span class="ruby-string">':controller(/:action(/:id))'</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/content'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_backwards">
            
              <a name="method-i-test_backwards"></a><b>test_backwards</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_backwards_source')" id="l_method-i-test_backwards_source">show</a>
                
              </p>
              <div id="method-i-test_backwards_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 378</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_backwards</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page/:id(/:action)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages#show'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller(/:action(/:id))'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page/20'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">20</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page/20'</span>,   <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">20</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/boo'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'boo'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_basic_named_route">
            
              <a name="method-i-test_basic_named_route"></a><b>test_basic_named_route</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_basic_named_route_source')" id="l_method-i-test_basic_named_route_source">show</a>
                
              </p>
              <div id="method-i-test_basic_named_route_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_basic_named_route</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> <span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#list'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'home'</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:home_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_both_requirement_and_optional">
            
              <a name="method-i-test_both_requirement_and_optional"></a><b>test_both_requirement_and_optional</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_both_requirement_and_optional_source')" id="l_method-i-test_both_requirement_and_optional_source">show</a>
                
              </p>
              <div id="method-i-test_both_requirement_and_optional_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_both_requirement_and_optional</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span>(<span class="ruby-string">'test(/:year)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post#show'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'blog'</span>,
      <span class="ruby-value">:defaults</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> },
      <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d{4}/</span> }
    )
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/test'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/test'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> })

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/test&quot;</span>, <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:blog_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_changing_controller">
            
              <a name="method-i-test_changing_controller"></a><b>test_changing_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_changing_controller_source')" id="l_method-i-test_changing_controller_source">show</a>
                
              </p>
              <div id="method-i-test_changing_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_changing_controller</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/stuff/show/10'</span>,
      <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'stuff'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>},
                  {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>})
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_default_setup">
            
              <a name="method-i-test_default_setup"></a><b>test_default_setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_default_setup_source')" id="l_method-i-test_default_setup_source">show</a>
                
              </p>
              <div id="method-i-test_default_setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_default_setup</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller(/:action(/:id))'</span> }
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/content&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>},  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/content/list&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/content/show/10&quot;</span>))

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin/user&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/admin/user/show/10&quot;</span>))

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/user/show/10'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/user/show'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/user/list/10'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/stuff'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'stuff'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/stuff'</span>,       <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'/stuff'</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_draw_with_block_arity_one_raises">
            
              <a name="method-i-test_draw_with_block_arity_one_raises"></a><b>test_draw_with_block_arity_one_raises</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_draw_with_block_arity_one_raises_source')" id="l_method-i-test_draw_with_block_arity_one_raises_source">show</a>
                
              </p>
              <div id="method-i-test_draw_with_block_arity_one_raises_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_draw_with_block_arity_one_raises</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller(/:action(/:id))'</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dynamic_path_allowed">
            
              <a name="method-i-test_dynamic_path_allowed"></a><b>test_dynamic_path_allowed</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dynamic_path_allowed_source')" id="l_method-i-test_dynamic_path_allowed_source">show</a>
                
              </p>
              <div id="method-i-test_dynamic_path_allowed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dynamic_path_allowed</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'*path'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_file'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/boo'</span>,
      <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_file'</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(pages boo)</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dynamic_recall_paths_allowed">
            
              <a name="method-i-test_dynamic_recall_paths_allowed"></a><b>test_dynamic_recall_paths_allowed</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dynamic_recall_paths_allowed_source')" id="l_method-i-test_dynamic_recall_paths_allowed_source">show</a>
                
              </p>
              <div id="method-i-test_dynamic_recall_paths_allowed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dynamic_recall_paths_allowed</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'*path'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_file'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/boo'</span>,
      <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, {}, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_file'</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(pages boo)</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_failed_constraints_raises_exception_with_violated_constraints">
            
              <a name="method-i-test_failed_constraints_raises_exception_with_violated_constraints"></a><b>test_failed_constraints_raises_exception_with_violated_constraints</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_failed_constraints_raises_exception_with_violated_constraints_source')" id="l_method-i-test_failed_constraints_raises_exception_with_violated_constraints_source">show</a>
                
              </p>
              <div id="method-i-test_failed_constraints_raises_exception_with_violated_constraints_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 595</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_failed_constraints_raises_exception_with_violated_constraints</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'foos/:id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foos#show'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo_with_requirement'</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:foo_with_requirement_url</span>, <span class="ruby-string">&quot;I am Against the constraints&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_ignores_leading_slash">
            
              <a name="method-i-test_ignores_leading_slash"></a><b>test_ignores_leading_slash</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_ignores_leading_slash_source')" id="l_method-i-test_ignores_leading_slash_source">show</a>
                
              </p>
              <div id="method-i-test_ignores_leading_slash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_ignores_leading_slash</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">clear!</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller(/:action(/:id))'</span>}
  <span class="ruby-identifier">test_default_setup</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_root_url_generation_with_controller_and_action">
            
              <a name="method-i-test_named_root_url_generation_with_controller_and_action"></a><b>test_named_root_url_generation_with_controller_and_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_root_url_generation_with_controller_and_action_source')" id="l_method-i-test_named_root_url_generation_with_controller_and_action_source">show</a>
                
              </p>
              <div id="method-i-test_named_root_url_generation_with_controller_and_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 487</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_root_url_generation_with_controller_and_action</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
     <span class="ruby-identifier">root</span> <span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;content#index&quot;</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'home'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span> })

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:home_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_method">
            
              <a name="method-i-test_named_route_method"></a><b>test_named_route_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_method_source')" id="l_method-i-test_named_route_method_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 498</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_method</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'categories'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#categories'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'categories'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller(/:action(/:id))'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/categories'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'categories'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/content/hi'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hi'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_root">
            
              <a name="method-i-test_named_route_root"></a><b>test_named_route_root</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_root_source')" id="l_method-i-test_named_route_root_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_root</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> <span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;hello#index&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">routes</span> = <span class="ruby-identifier">setup_for_named_route</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/&quot;</span>, <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:root_url</span>))
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;/&quot;</span>, <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:root_path</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_blank_path_prefix">
            
              <a name="method-i-test_named_route_with_blank_path_prefix"></a><b>test_named_route_with_blank_path_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_blank_path_prefix_source')" id="l_method-i-test_named_route_with_blank_path_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_blank_path_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_blank_path_prefix</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">scope</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">match</span> <span class="ruby-string">'page'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'page'</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/page&quot;</span>,
      <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:page_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_default">
            
              <a name="method-i-test_named_route_with_default"></a><b>test_named_route_with_default</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_default_source')" id="l_method-i-test_named_route_with_default_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 223</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_default</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page/:title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'AboutPage'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'page'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/page/AboutRails&quot;</span>,
      <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:page_url</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;AboutRails&quot;</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_nested_controller">
            
              <a name="method-i-test_named_route_with_nested_controller"></a><b>test_named_route_with_nested_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_nested_controller_source')" id="l_method-i-test_named_route_with_nested_controller_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_nested_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 254</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_nested_controller</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'admin/user'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'admin/user#index'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;users&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/admin/user&quot;</span>,
      <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:users_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_option">
            
              <a name="method-i-test_named_route_with_option"></a><b>test_named_route_with_option</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_option_source')" id="l_method-i-test_named_route_with_option_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_option_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 214</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_option</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page/:title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'page'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/page/new%20stuff&quot;</span>,
      <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:page_url</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'new stuff'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_path_prefix">
            
              <a name="method-i-test_named_route_with_path_prefix"></a><b>test_named_route_with_path_prefix</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_path_prefix_source')" id="l_method-i-test_named_route_with_path_prefix_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_path_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_path_prefix</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">scope</span> <span class="ruby-string">&quot;my&quot;</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">match</span> <span class="ruby-string">'page'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'page'</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;http://test.host/my/page&quot;</span>,
      <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:page_url</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_with_regexps">
            
              <a name="method-i-test_named_route_with_regexps"></a><b>test_named_route_with_regexps</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_with_regexps_source')" id="l_method-i-test_named_route_with_regexps_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_with_regexps_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 297</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_with_regexps</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page/:year/:month/:day/:title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'page#show'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'article'</span>,
      <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">routes</span> = <span class="ruby-identifier">setup_for_named_route</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://test.host/page/2005/6/10/hi&quot;</span>,
    <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:article_url</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hi'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2005</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">6</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_route_without_hash">
            
              <a name="method-i-test_named_route_without_hash"></a><b>test_named_route_without_hash</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_route_without_hash_source')" id="l_method-i-test_named_route_without_hash_source">show</a>
                
              </p>
              <div id="method-i-test_named_route_without_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_route_without_hash</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'normal'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_named_routes_array">
            
              <a name="method-i-test_named_routes_array"></a><b>test_named_routes_array</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_named_routes_array_source')" id="l_method-i-test_named_routes_array_source">show</a>
                
              </p>
              <div id="method-i-test_named_routes_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 508</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_named_routes_array</span>
  <span class="ruby-identifier">test_named_route_method</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">:categories</span>], <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">names</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nil_defaults">
            
              <a name="method-i-test_nil_defaults"></a><b>test_nil_defaults</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nil_defaults_source')" id="l_method-i-test_nil_defaults_source">show</a>
                
              </p>
              <div id="method-i-test_nil_defaults_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nil_defaults</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'journal'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#list_journal'</span>,
      <span class="ruby-value">:date</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:user_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/journal'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, {
    <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>,
    <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_journal'</span>,
    <span class="ruby-value">:date</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
    <span class="ruby-value">:user_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
  })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_non_controllers_cannot_be_matched">
            
              <a name="method-i-test_non_controllers_cannot_be_matched"></a><b>test_non_controllers_cannot_be_matched</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_non_controllers_cannot_be_matched_source')" id="l_method-i-test_non_controllers_cannot_be_matched_source">show</a>
                
              </p>
              <div id="method-i-test_non_controllers_cannot_be_matched_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_non_controllers_cannot_be_matched</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) { <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/not_a/show/10&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optimised_named_route_with_host">
            
              <a name="method-i-test_optimised_named_route_with_host"></a><b>test_optimised_named_route_with_host</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optimised_named_route_with_host_source')" id="l_method-i-test_optimised_named_route_with_host_source">show</a>
                
              </p>
              <div id="method-i-test_optimised_named_route_with_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optimised_named_route_with_host</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages'</span>, <span class="ruby-value">:host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo.com'</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">routes</span> = <span class="ruby-identifier">setup_for_named_route</span>
  <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:url_for</span>).<span class="ruby-identifier">with</span>({
    <span class="ruby-value">:host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo.com'</span>,
    <span class="ruby-value">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>,
    <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>,
    <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'pages'</span>
  }).<span class="ruby-identifier">once</span>
  <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:pages_url</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_paths_escaped">
            
              <a name="method-i-test_paths_escaped"></a><b>test_paths_escaped</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_paths_escaped_source')" id="l_method-i-test_paths_escaped_source">show</a>
                
              </p>
              <div id="method-i-test_paths_escaped_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 318</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_paths_escaped</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'file/*path'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_file'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'path'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># No + to space in URI escaping, only for query params.</span>
  <span class="ruby-identifier">results</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/file/hello+world/how+are+you%3F&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">results</span>, <span class="ruby-string">&quot;Recognition should have succeeded&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'hello+world/how+are+you?'</span>, <span class="ruby-identifier">results</span>[<span class="ruby-value">:path</span>]

  <span class="ruby-comment"># Use %20 for space instead.</span>
  <span class="ruby-identifier">results</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/file/hello%20world/how%20are%20you%3F&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">results</span>, <span class="ruby-string">&quot;Recognition should have succeeded&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'hello world/how are you?'</span>, <span class="ruby-identifier">results</span>[<span class="ruby-value">:path</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_paths_slashes_unescaped_with_ordered_parameters">
            
              <a name="method-i-test_paths_slashes_unescaped_with_ordered_parameters"></a><b>test_paths_slashes_unescaped_with_ordered_parameters</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_paths_slashes_unescaped_with_ordered_parameters_source')" id="l_method-i-test_paths_slashes_unescaped_with_ordered_parameters_source">show</a>
                
              </p>
              <div id="method-i-test_paths_slashes_unescaped_with_ordered_parameters_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_paths_slashes_unescaped_with_ordered_parameters</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/file/*path'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#index'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'path'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># No / to %2F in URI, only for query params.</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&quot;/file/hello/world&quot;</span>, <span class="ruby-identifier">setup_for_named_route</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:path_path</span>, [<span class="ruby-string">'hello'</span>, <span class="ruby-string">'world'</span>]))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_recognize_array_of_methods">
            
              <a name="method-i-test_recognize_array_of_methods"></a><b>test_recognize_array_of_methods</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_recognize_array_of_methods_source')" id="l_method-i-test_recognize_array_of_methods_source">show</a>
                
              </p>
              <div id="method-i-test_recognize_array_of_methods_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 545</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_recognize_array_of_methods</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#get_or_post'</span>, <span class="ruby-value">:via</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:get</span>, <span class="ruby-value">:post</span>]
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/match'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'books#not_get_or_post'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">params</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/match&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'get_or_post'</span>, <span class="ruby-identifier">params</span>[<span class="ruby-value">:action</span>]

  <span class="ruby-identifier">params</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/match&quot;</span>, <span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:put</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'not_get_or_post'</span>, <span class="ruby-identifier">params</span>[<span class="ruby-value">:action</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_requirement_should_prevent_optional_id">
            
              <a name="method-i-test_requirement_should_prevent_optional_id"></a><b>test_requirement_should_prevent_optional_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_requirement_should_prevent_optional_id_source')" id="l_method-i-test_requirement_should_prevent_optional_id_source">show</a>
                
              </p>
              <div id="method-i-test_requirement_should_prevent_optional_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_requirement_should_prevent_optional_id</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'post/:id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post#show'</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span>}, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/post/10'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> })

  <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span> })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_root_url_generation_with_controller_and_action">
            
              <a name="method-i-test_root_url_generation_with_controller_and_action"></a><b>test_root_url_generation_with_controller_and_action</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_root_url_generation_with_controller_and_action_source')" id="l_method-i-test_root_url_generation_with_controller_and_action_source">show</a>
                
              </p>
              <div id="method-i-test_root_url_generation_with_controller_and_action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 478</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_root_url_generation_with_controller_and_action</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> <span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;content#index&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_colon_first">
            
              <a name="method-i-test_route_with_colon_first"></a><b>test_route_with_colon_first</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_colon_first_source')" id="l_method-i-test_route_with_colon_first_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_colon_first_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_colon_first</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller/:action/:id'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':url'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'tiny_url'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'translate'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_fixnum_default">
            
              <a name="method-i-test_route_with_fixnum_default"></a><b>test_route_with_fixnum_default</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_fixnum_default_source')" id="l_method-i-test_route_with_fixnum_default_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_fixnum_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 389</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_fixnum_default</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page(/:id)'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page/10'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span> })

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/page&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1'</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/page/1&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'10'</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/page/10&quot;</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_regexp_and_captures_for_controller">
            
              <a name="method-i-test_route_with_regexp_and_captures_for_controller"></a><b>test_route_with_regexp_and_captures_for_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_regexp_and_captures_for_controller_source')" id="l_method-i-test_route_with_regexp_and_captures_for_controller_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_regexp_and_captures_for_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_regexp_and_captures_for_controller</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller(/:action(/:id))'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/admin\/(accounts|users)/</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin/accounts&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/admin/accounts&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin/users&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>}, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/admin/users&quot;</span>))
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) { <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/admin/products&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_regexp_and_dot">
            
              <a name="method-i-test_route_with_regexp_and_dot"></a><b>test_route_with_regexp_and_dot</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_regexp_and_dot_source')" id="l_method-i-test_route_with_regexp_and_dot_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_regexp_and_dot_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_regexp_and_dot</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:file'</span>,
              <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/admin|user/</span>,
              <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/upload|download/</span>,
              <span class="ruby-value">:defaults</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>},
              <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r{[^/]+(\.[^/]+)?}</span>}
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># Without a file extension</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/user/download/file'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;user&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;download&quot;</span>, <span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;file&quot;</span> })

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;user&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;download&quot;</span>, <span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;file&quot;</span>},
    <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/user/download/file&quot;</span>))

  <span class="ruby-comment"># Now, let's try a file with an extension, really a dot (.)</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/user/download/file.jpg'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;user&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;download&quot;</span>, <span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;file.jpg&quot;</span> })

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;user&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;download&quot;</span>, <span class="ruby-value">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;file.jpg&quot;</span>},
    <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/user/download/file.jpg&quot;</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_regexp_for_controller">
            
              <a name="method-i-test_route_with_regexp_for_controller"></a><b>test_route_with_regexp_for_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_regexp_for_controller_source')" id="l_method-i-test_route_with_regexp_for_controller_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_regexp_for_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_regexp_for_controller</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:admintoken(/:action(/:id))'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/admin\/.+/</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/:controller(/:action(/:id))'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin/user&quot;</span>, <span class="ruby-value">:admintoken</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span>},
      <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/admin/user/foo&quot;</span>))
  <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>},
      <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/content/foo&quot;</span>))

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/admin/user/foo'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;admin/user&quot;</span>, <span class="ruby-value">:admintoken</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;index&quot;</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/content/foo'</span>,    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_route_with_text_default">
            
              <a name="method-i-test_route_with_text_default"></a><b>test_route_with_text_default</b>()
            
          </div>
          
          
            <div class="description">
              <p>For newer revision</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_route_with_text_default_source')" id="l_method-i-test_route_with_text_default_source">show</a>
                
              </p>
              <div id="method-i-test_route_with_text_default_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_route_with_text_default</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'page/:id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page/foo'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span> })
  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span> }, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-string">&quot;/page/foo&quot;</span>))

  <span class="ruby-identifier">token</span> = <span class="ruby-string">&quot;\3321\2202\3320\2265\3320\2272\3321\2201\3321\2202&quot;</span> <span class="ruby-comment"># 'text' in Russian</span>
  <span class="ruby-identifier">token</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:force_encoding</span>)
  <span class="ruby-identifier">escaped_token</span> = <span class="ruby-constant">CGI</span><span class="ruby-operator">::</span><span class="ruby-identifier">escape</span>(<span class="ruby-identifier">token</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/page/'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">escaped_token</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">token</span> })
  <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show_page'</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">token</span> }, <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-node">&quot;/page/#{escaped_token}&quot;</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_routes_changed_correctly_after_clear">
            
              <a name="method-i-test_routes_changed_correctly_after_clear"></a><b>test_routes_changed_correctly_after_clear</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_routes_changed_correctly_after_clear_source')" id="l_method-i-test_routes_changed_correctly_after_clear_source">show</a>
                
              </p>
              <div id="method-i-test_routes_changed_correctly_after_clear_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 605</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_routes_changed_correctly_after_clear</span>
  <span class="ruby-identifier">rs</span> = <span class="ruby-operator">::</span><span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'ca'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'ca#aa'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'cb'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'cb#ab'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'cc'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'cc#ac'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id.:format'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/cc&quot;</span>

  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(cc ac)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>]]

  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'cb'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'cb#ab'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'cc'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'cc#ac'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id.:format'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/cc&quot;</span>

  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(cc ac)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>]]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_set_to_nil_forgets">
            
              <a name="method-i-test_set_to_nil_forgets"></a><b>test_set_to_nil_forgets</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_set_to_nil_forgets_source')" id="l_method-i-test_set_to_nil_forgets_source">show</a>
                
              </p>
              <div id="method-i-test_set_to_nil_forgets_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_set_to_nil_forgets</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'pages(/:year(/:month(/:day)))'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content#list_pages'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2005</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005/6'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2005</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">6</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005/6/12'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2005</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">6</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">12</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005/6/4'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span> },   { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2005'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'6'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'12'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005/6'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2005'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'6'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'12'</span> })

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/pages/2005'</span>,
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> }, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'content'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'list_pages'</span>, <span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2005'</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'6'</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'12'</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_list_options_diff_when_routing_constraints_dont_match">
            
              <a name="method-i-test_should_list_options_diff_when_routing_constraints_dont_match"></a><b>test_should_list_options_diff_when_routing_constraints_dont_match</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_list_options_diff_when_routing_constraints_dont_match_source')" id="l_method-i-test_should_list_options_diff_when_routing_constraints_dont_match_source">show</a>
                
              </p>
              <div id="method-i-test_should_list_options_diff_when_routing_constraints_dont_match_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_list_options_diff_when_routing_constraints_dont_match</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'post/:id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post#show'</span>, <span class="ruby-value">:constraints</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\d+/</span> }, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'show'</span>, <span class="ruby-value">:bad_param</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;post&quot;</span> })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_subpath_generated">
            
              <a name="method-i-test_subpath_generated"></a><b>test_subpath_generated</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_subpath_generated_source')" id="l_method-i-test_subpath_generated_source">show</a>
                
              </p>
              <div id="method-i-test_subpath_generated_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_subpath_generated</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/books/:id/edit'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books#edit'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/items/:id/:action'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/posts/new/:action'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;/books/7/edit&quot;</span>,      <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;subpath_books&quot;</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">7</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;edit&quot;</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;/items/15/complete&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;subpath_books&quot;</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">15</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;complete&quot;</span> })
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;/posts/new/preview&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">rs</span>, { <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;subpath_books&quot;</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;preview&quot;</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_subpath_recognized">
            
              <a name="method-i-test_subpath_recognized"></a><b>test_subpath_recognized</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_subpath_recognized_source')" id="l_method-i-test_subpath_recognized_source">show</a>
                
              </p>
              <div id="method-i-test_subpath_recognized_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_subpath_recognized</span>
  <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/books/:id/edit'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books#edit'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/items/:id/:action'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/posts/new/:action'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books'</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'/posts/:id'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'subpath_books#show'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/books/17/edit&quot;</span>
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(subpath_books 17 edit)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:id</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>]]

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/items/3/complete&quot;</span>
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(subpath_books 3 complete)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:id</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>]]

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/posts/new/preview&quot;</span>
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(subpath_books preview)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>]]

  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">recognize_path</span> <span class="ruby-string">&quot;/posts/7&quot;</span>
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(subpath_books show 7)</span>, [<span class="ruby-identifier">hash</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:action</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:id</span>]]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_time_recognition">
            
              <a name="method-i-test_time_recognition"></a><b>test_time_recognition</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_time_recognition_source')" id="l_method-i-test_time_recognition_source">show</a>
                
              </p>
              <div id="method-i-test_time_recognition_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/controller/routing_test.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_time_recognition</span>
  <span class="ruby-comment"># We create many routes to make situation more realistic</span>
  <span class="ruby-ivar">@rs</span> = <span class="ruby-operator">::</span><span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@rs</span>.<span class="ruby-identifier">draw</span> {
    <span class="ruby-identifier">root</span> <span class="ruby-value">:to</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;search#new&quot;</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;frontpage&quot;</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:videos</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:comments</span>
      <span class="ruby-identifier">resource</span>  <span class="ruby-value">:file</span>,      <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'video_file'</span>
      <span class="ruby-identifier">resource</span>  <span class="ruby-value">:share</span>,     <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'video_shares'</span>
      <span class="ruby-identifier">resource</span>  <span class="ruby-value">:abuse</span>,     <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'video_abuses'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:abuses</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'video_abuses'</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:video_uploads</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:video_visits</span>

    <span class="ruby-identifier">resources</span> <span class="ruby-value">:users</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resource</span>  <span class="ruby-value">:settings</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:videos</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:channels</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">resources</span> <span class="ruby-value">:videos</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'channel_videos'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">resource</span>  <span class="ruby-value">:session</span>
    <span class="ruby-identifier">resource</span>  <span class="ruby-value">:lost_password</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">'search'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'search#index'</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'search'</span>
    <span class="ruby-identifier">resources</span> <span class="ruby-value">:pages</span>
    <span class="ruby-identifier">match</span> <span class="ruby-string">':controller/:action/:id'</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    