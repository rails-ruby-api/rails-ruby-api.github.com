<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>EagerAssociationTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            EagerAssociationTest 
            
                <span class="parent">&lt; 
                    
                    ActiveRecord::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/activerecord/test/cases/associations/eager_test_rb.html">activerecord/test/cases/associations/eager_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-assert_equal_after_sort">assert_equal_after_sort</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-find_all_ordered">find_all_ordered</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_associations_loaded_for_all_records">test_associations_loaded_for_all_records</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditions_on_join_table_with_include_and_limit">test_conditions_on_join_table_with_include_and_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_count_eager_with_has_many_and_limit_and_high_offset">test_count_eager_with_has_many_and_limit_and_high_offset</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_count_with_include">test_count_with_include</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_deprecated_preload_associations">test_deprecated_preload_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_duplicate_middle_objects">test_duplicate_middle_objects</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to">test_eager_association_loading_with_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash">test_eager_association_loading_with_belongs_to_and_conditions_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name">test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name">test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys">test_eager_association_loading_with_belongs_to_and_foreign_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit">test_eager_association_loading_with_belongs_to_and_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions">test_eager_association_loading_with_belongs_to_and_limit_and_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations">test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset">test_eager_association_loading_with_belongs_to_and_limit_and_offset</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name">test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name">test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name">test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_explicit_join">test_eager_association_loading_with_explicit_join</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_association_loading_with_habtm">test_eager_association_loading_with_habtm</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional">test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional">test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_habtm_with_association_inheritance">test_eager_habtm_with_association_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_has_many_with_association_inheritance">test_eager_has_many_with_association_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_has_one_with_association_inheritance">test_eager_has_one_with_association_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_belongs_to_quotes_table_and_column_names">test_eager_load_belongs_to_quotes_table_and_column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_belongs_to_with_string_keys">test_eager_load_belongs_to_with_string_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_quotes_table_and_column_names">test_eager_load_has_many_quotes_table_and_column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_through_quotes_table_and_column_names">test_eager_load_has_many_through_quotes_table_and_column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_through_with_string_keys">test_eager_load_has_many_through_with_string_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_many_with_string_keys">test_eager_load_has_many_with_string_keys</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_load_has_one_quotes_table_and_column_names">test_eager_load_has_one_quotes_table_and_column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_loading_with_conditions_on_join_model_preloads">test_eager_loading_with_conditions_on_join_model_preloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_loading_with_conditions_on_joined_table_preloads">test_eager_loading_with_conditions_on_joined_table_preloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads">test_eager_loading_with_conditions_on_string_joined_table_preloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_loading_with_order_on_joined_table_preloads">test_eager_loading_with_order_on_joined_table_preloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_loading_with_select_on_joined_table_preloads">test_eager_loading_with_select_on_joined_table_preloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_default_scope">test_eager_with_default_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_default_scope_as_block">test_eager_with_default_scope_as_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_default_scope_as_callable">test_eager_with_default_scope_as_callable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_default_scope_as_class_method">test_eager_with_default_scope_as_class_method</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_default_scope_as_lambda">test_eager_with_default_scope_as_lambda</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_floating_point_numbers">test_eager_with_floating_point_numbers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_and_belongs_to_many_and_limit">test_eager_with_has_and_belongs_to_many_and_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit">test_eager_with_has_many_and_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_conditions">test_eager_with_has_many_and_limit_and_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_conditions_array">test_eager_with_has_many_and_limit_and_conditions_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers">test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers">test_eager_with_has_many_and_limit_and_conditions_on_the_eagers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_high_offset">test_eager_with_has_many_and_limit_and_high_offset</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions">test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions">test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers">test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers">test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_and_limit_with_no_results">test_eager_with_has_many_and_limit_with_no_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through">test_eager_with_has_many_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_a_belongs_to_association">test_eager_with_has_many_through_a_belongs_to_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_an_sti_join_model">test_eager_with_has_many_through_an_sti_join_model</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both">test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_join_model_ignores_default_includes">test_eager_with_has_many_through_join_model_ignores_default_includes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_join_model_with_conditions">test_eager_with_has_many_through_join_model_with_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level">test_eager_with_has_many_through_join_model_with_conditions_on_top_level</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_join_model_with_include">test_eager_with_has_many_through_join_model_with_include</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include">test_eager_with_has_many_through_with_conditions_join_model_with_include</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent">test_eager_with_has_one_dependent_does_not_destroy_dependent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through">test_eager_with_has_one_through_join_model_with_conditions_on_the_through</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_inheritance">test_eager_with_inheritance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_invalid_association_reference">test_eager_with_invalid_association_reference</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size">test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_multiple_associations_with_same_table_belongs_to">test_eager_with_multiple_associations_with_same_table_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm">test_eager_with_multiple_associations_with_same_table_has_many_and_habtm</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_multiple_associations_with_same_table_has_one">test_eager_with_multiple_associations_with_same_table_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope">test_eager_with_scoped_order_using_association_limiting_without_explicit_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eager_with_valid_association_as_string_not_symbol">test_eager_with_valid_association_as_string_not_symbol</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once">test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once">test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once">test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once">test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association">test_finding_with_includes_on_null_belongs_to_polymorphic_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times">test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_has_many_using_primary_key">test_include_has_many_using_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_include_has_one_using_primary_key">test_include_has_one_using_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_including_duplicate_objects_from_belongs_to">test_including_duplicate_objects_from_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_including_duplicate_objects_from_has_many">test_including_duplicate_objects_from_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_join_eager_with_empty_order_should_generate_valid_sql">test_join_eager_with_empty_order_should_generate_valid_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_join_eager_with_nil_order_should_generate_valid_sql">test_join_eager_with_nil_order_should_generate_valid_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_joins_with_includes_should_preload_via_joins">test_joins_with_includes_should_preload_via_joins</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_limited_eager_with_multiple_order_columns">test_limited_eager_with_multiple_order_columns</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_limited_eager_with_numeric_in_association">test_limited_eager_with_numeric_in_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_limited_eager_with_order">test_limited_eager_with_order</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed">test_load_associated_records_in_one_query_when_a_few_ids_passed</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit">test_load_associated_records_in_one_query_when_adapter_has_no_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_associated_records_in_several_queries_when_many_ids_passed">test_load_associated_records_in_several_queries_when_many_ids_passed</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_with_sti_sharing_association">test_load_with_sti_sharing_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_conditions_with_or">test_loading_conditions_with_or</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_from_an_association">test_loading_from_an_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_from_an_association_that_has_a_hash_of_conditions">test_loading_from_an_association_that_has_a_hash_of_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_with_multiple_associations">test_loading_with_multiple_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_with_no_associations">test_loading_with_no_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_with_one_association">test_loading_with_one_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_with_one_association_with_non_preload">test_loading_with_one_association_with_non_preload</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_loading_with_no_associations">test_nested_loading_with_no_associations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_order_on_join_table_with_include_and_limit">test_order_on_join_table_with_include_and_limit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_polymorphic_type_condition">test_polymorphic_type_condition</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preconfigured_includes_with_belongs_to">test_preconfigured_includes_with_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preconfigured_includes_with_habtm">test_preconfigured_includes_with_habtm</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preconfigured_includes_with_has_many">test_preconfigured_includes_with_has_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preconfigured_includes_with_has_many_and_habtm">test_preconfigured_includes_with_has_many_and_habtm</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preconfigured_includes_with_has_one">test_preconfigured_includes_with_has_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_belongs_to_uses_exclusive_scope">test_preload_belongs_to_uses_exclusive_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_has_many_uses_exclusive_scope">test_preload_has_many_uses_exclusive_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_has_many_using_primary_key">test_preload_has_many_using_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_has_one_using_primary_key">test_preload_has_one_using_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preload_with_interpolation">test_preload_with_interpolation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_empty_belongs_to">test_preloading_empty_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_empty_belongs_to_polymorphic">test_preloading_empty_belongs_to_polymorphic</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle">test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle">test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle">test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle">test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_has_many_through_with_uniq">test_preloading_has_many_through_with_uniq</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_polymorphic_with_custom_foreign_type">test_preloading_polymorphic_with_custom_foreign_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preloading_through_empty_belongs_to">test_preloading_through_empty_belongs_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_string_id_column_joins">test_string_id_column_joins</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_ordering">test_with_ordering</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_with_two_tables_in_from_without_getting_double_quoted">test_with_two_tables_in_from_without_getting_double_quoted</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-assert_equal_after_sort">
            
              <a name="method-i-assert_equal_after_sort"></a><b>assert_equal_after_sort</b>(item1, item2, item3 = nil)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-assert_equal_after_sort_source')" id="l_method-i-assert_equal_after_sort_source">show</a>
                
              </p>
              <div id="method-i-assert_equal_after_sort_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 771</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_equal_after_sort</span>(<span class="ruby-identifier">item1</span>, <span class="ruby-identifier">item2</span>, <span class="ruby-identifier">item3</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">item1</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}, <span class="ruby-identifier">item2</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>})
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">item3</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}, <span class="ruby-identifier">item2</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}) <span class="ruby-keyword">if</span> <span class="ruby-identifier">item3</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-find_all_ordered">
            
              <a name="method-i-find_all_ordered"></a><b>find_all_ordered</b>(className, include=nil)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-find_all_ordered_source')" id="l_method-i-find_all_ordered_source">show</a>
                
              </p>
              <div id="method-i-find_all_ordered_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 736</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find_all_ordered</span>(<span class="ruby-identifier">className</span>, <span class="ruby-identifier">include</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">className</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;#{className.table_name}.#{className.primary_key}&quot;</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">include</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-comment"># preheat table existence caches</span>
  <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_associations_loaded_for_all_records">
            
              <a name="method-i-test_associations_loaded_for_all_records"></a><b>test_associations_loaded_for_all_records</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_associations_loaded_for_all_records_source')" id="l_method-i-test_associations_loaded_for_all_records_source">show</a>
                
              </p>
              <div id="method-i-test_associations_loaded_for_all_records_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_associations_loaded_for_all_records</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I like cars!&quot;</span>)
  <span class="ruby-constant">SpecialComment</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Come on!'</span>, <span class="ruby-value">:post</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">post</span>)
  <span class="ruby-identifier">first_category</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">create!</span> <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'First!'</span>, <span class="ruby-value">:posts</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">post</span>]
  <span class="ruby-identifier">second_category</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">create!</span> <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Second!'</span>, <span class="ruby-value">:posts</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">post</span>]

  <span class="ruby-identifier">categories</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">first_category</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">second_category</span>.<span class="ruby-identifier">id</span>]).<span class="ruby-identifier">includes</span>(<span class="ruby-value">:posts</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:special_comments</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">category</span><span class="ruby-operator">|</span> <span class="ruby-identifier">category</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">special_comments</span>.<span class="ruby-identifier">loaded?</span> }, [<span class="ruby-keyword">true</span>, <span class="ruby-keyword">true</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditions_on_join_table_with_include_and_limit">
            
              <a name="method-i-test_conditions_on_join_table_with_include_and_limit"></a><b>test_conditions_on_join_table_with_include_and_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditions_on_join_table_with_include_and_limit_source')" id="l_method-i-test_conditions_on_join_table_with_include_and_limit_source">show</a>
                
              </p>
              <div id="method-i-test_conditions_on_join_table_with_include_and_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 880</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditions_on_join_table_with_include_and_limit</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'developers_projects.access_level = 1'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>).<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_count_eager_with_has_many_and_limit_and_high_offset">
            
              <a name="method-i-test_count_eager_with_has_many_and_limit_and_high_offset"></a><b>test_count_eager_with_has_many_and_limit_and_high_offset</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_count_eager_with_has_many_and_limit_and_high_offset_source')" id="l_method-i-test_count_eager_with_has_many_and_limit_and_high_offset_source">show</a>
                
              </p>
              <div id="method-i-test_count_eager_with_has_many_and_limit_and_high_offset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_count_eager_with_has_many_and_limit_and_high_offset</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;authors.name = ?&quot;</span>, <span class="ruby-string">'David'</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_count_with_include">
            
              <a name="method-i-test_count_with_include"></a><b>test_count_with_include</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_count_with_include_source')" id="l_method-i-test_count_with_include_source">show</a>
                
              </p>
              <div id="method-i-test_count_with_include_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 864</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_count_with_include</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_adapter?</span>(<span class="ruby-value">:SybaseAdapter</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_comments</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;len(comments.body) &gt; 15&quot;</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">current_adapter?</span>(<span class="ruby-value">:OpenBaseAdapter</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_comments</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;length(FETCHBLOB(comments.body)) &gt; 15&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_comments</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;length(comments.body) &gt; 15&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_deprecated_preload_associations">
            
              <a name="method-i-test_deprecated_preload_associations"></a><b>test_deprecated_preload_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_deprecated_preload_associations_source')" id="l_method-i-test_deprecated_preload_associations_source">show</a>
                
              </p>
              <div id="method-i-test_deprecated_preload_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1064</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_deprecated_preload_associations</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">assert_deprecated</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:preload_associations</span>, [<span class="ruby-identifier">post</span>], <span class="ruby-value">:comments</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_duplicate_middle_objects">
            
              <a name="method-i-test_duplicate_middle_objects"></a><b>test_duplicate_middle_objects</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_duplicate_middle_objects_source')" id="l_method-i-test_duplicate_middle_objects_source">show</a>
                
              </p>
              <div id="method-i-test_duplicate_middle_objects_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_duplicate_middle_objects</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post_id = 1'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:post</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>]
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">comment</span><span class="ruby-operator">|</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">author</span>.<span class="ruby-identifier">name</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to"></a><b>test_eager_association_loading_with_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">11</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">titles</span> = <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">title</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">titles</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">title</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">titles</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_post_and_comments</span>).<span class="ruby-identifier">title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash"></a><b>test_eager_association_loading_with_belongs_to_and_conditions_hash</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_conditions_hash</span>
  <span class="ruby-identifier">comments</span> = []
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:posts</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>}}, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">5</span>,<span class="ruby-number">6</span>,<span class="ruby-number">7</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name"></a><b>test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_conditions_string_with_quoted_table_name</span>
  <span class="ruby-identifier">quoted_posts_id</span>= <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-string">'posts'</span>) <span class="ruby-operator">+</span> <span class="ruby-string">'.'</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-string">'id'</span>)
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-node">&quot;#{quoted_posts_id} = ?&quot;</span>,<span class="ruby-number">4</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name"></a><b>test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_conditions_string_with_unquoted_table_name</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'posts.id = ?'</span>,<span class="ruby-number">4</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys"></a><b>test_eager_association_loading_with_belongs_to_and_foreign_keys</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_foreign_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_foreign_keys</span>
  <span class="ruby-identifier">pets</span> = <span class="ruby-constant">Pet</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:owner</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">pets</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit"></a><b>test_eager_association_loading_with_belongs_to_and_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>,<span class="ruby-number">2</span>,<span class="ruby-number">3</span>,<span class="ruby-number">5</span>,<span class="ruby-number">6</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_conditions</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post_id = 4'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">5</span>,<span class="ruby-number">6</span>,<span class="ruby-number">7</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 336</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_multiple_associations</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:very_special_comment</span>], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">1</span>], <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_offset</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_offset</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">3</span>,<span class="ruby-number">5</span>,<span class="ruby-number">6</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'post_id = 4'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">6</span>,<span class="ruby-number">7</span>,<span class="ruby-number">8</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_conditions_array</span>
  <span class="ruby-identifier">comments</span> = <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'post_id = ?'</span>,<span class="ruby-number">4</span>], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">6</span>,<span class="ruby-number">7</span>,<span class="ruby-number">8</span>], <span class="ruby-identifier">comments</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations"></a><b>test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_limit_and_offset_and_multiple_associations</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:very_special_comment</span>], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">2</span>], <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name"></a><b>test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_order_string_with_quoted_table_name</span>
  <span class="ruby-identifier">quoted_posts_id</span>= <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-string">'posts'</span>) <span class="ruby-operator">+</span> <span class="ruby-string">'.'</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-string">'id'</span>)
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">quoted_posts_id</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name"></a><b>test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 323</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_and_order_string_with_unquoted_table_name</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name">
            
              <a name="method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name"></a><b>test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name_source')" id="l_method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_belongs_to_inferred_foreign_key_from_association_name</span>
  <span class="ruby-identifier">author_favorite</span> = <span class="ruby-constant">AuthorFavorite</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:favorite_author</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">author_favorite</span>.<span class="ruby-identifier">favorite_author</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_explicit_join">
            
              <a name="method-i-test_eager_association_loading_with_explicit_join"></a><b>test_eager_association_loading_with_explicit_join</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_explicit_join_source')" id="l_method-i-test_eager_association_loading_with_explicit_join_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_explicit_join_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 407</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_explicit_join</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;INNER JOIN authors ON posts.author_id = authors.id AND authors.name = 'Mary'&quot;</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'author_id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_association_loading_with_habtm">
            
              <a name="method-i-test_eager_association_loading_with_habtm"></a><b>test_eager_association_loading_with_habtm</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_association_loading_with_habtm_source')" id="l_method-i-test_eager_association_loading_with_habtm_source">show</a>
                
              </p>
              <div id="method-i-test_eager_association_loading_with_habtm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 633</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_association_loading_with_habtm</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:categories</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">2</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:technology</span>))
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional">
            
              <a name="method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional"></a><b>test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional_source')" id="l_method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional_source">show</a>
                
              </p>
              <div id="method-i-test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_count_performed_on_a_has_many_association_with_multi_table_conditional</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">author_posts_without_comments</span> = <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">blank?</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">author_posts_without_comments</span>.<span class="ruby-identifier">size</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id is null'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional">
            
              <a name="method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional"></a><b>test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional_source')" id="l_method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional_source">show</a>
                
              </p>
              <div id="method-i-test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 540</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_count_performed_on_a_has_many_through_association_with_multi_table_conditional</span>
  <span class="ruby-identifier">person</span> = <span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>)
  <span class="ruby-identifier">person_posts_without_comments</span> = <span class="ruby-identifier">person</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">blank?</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">person_posts_without_comments</span>.<span class="ruby-identifier">size</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">posts_with_no_comments</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_habtm_with_association_inheritance">
            
              <a name="method-i-test_eager_habtm_with_association_inheritance"></a><b>test_eager_habtm_with_association_inheritance</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_habtm_with_association_inheritance_source')" id="l_method-i-test_eager_habtm_with_association_inheritance_source">show</a>
                
              </p>
              <div id="method-i-test_eager_habtm_with_association_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 658</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_habtm_with_association_inheritance</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">6</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:special_categories</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">special_categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">special_categories</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">special_category</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;SpecialCategory&quot;</span>, <span class="ruby-identifier">special_category</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_has_many_with_association_inheritance">
            
              <a name="method-i-test_eager_has_many_with_association_inheritance"></a><b>test_eager_has_many_with_association_inheritance</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_has_many_with_association_inheritance_source')" id="l_method-i-test_eager_has_many_with_association_inheritance_source">show</a>
                
              </p>
              <div id="method-i-test_eager_has_many_with_association_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 651</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_has_many_with_association_inheritance</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">4</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:special_comments</span> ])
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">special_comments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">special_comment</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">special_comment</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SpecialComment</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_has_one_with_association_inheritance">
            
              <a name="method-i-test_eager_has_one_with_association_inheritance"></a><b>test_eager_has_one_with_association_inheritance</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_has_one_with_association_inheritance_source')" id="l_method-i-test_eager_has_one_with_association_inheritance_source">show</a>
                
              </p>
              <div id="method-i-test_eager_has_one_with_association_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 646</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_has_one_with_association_inheritance</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">4</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:very_special_comment</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;VerySpecialComment&quot;</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">very_special_comment</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_belongs_to_quotes_table_and_column_names">
            
              <a name="method-i-test_eager_load_belongs_to_quotes_table_and_column_names"></a><b>test_eager_load_belongs_to_quotes_table_and_column_names</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_belongs_to_quotes_table_and_column_names_source')" id="l_method-i-test_eager_load_belongs_to_quotes_table_and_column_names_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_belongs_to_quotes_table_and_column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_belongs_to_quotes_table_and_column_names</span>
  <span class="ruby-identifier">job</span> = <span class="ruby-constant">Job</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">jobs</span>(<span class="ruby-value">:unicyclist</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:ideal_reference</span>
  <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_unicyclist</span>)
  <span class="ruby-identifier">assert_no_queries</span>{ <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_unicyclist</span>), <span class="ruby-identifier">job</span>.<span class="ruby-identifier">ideal_reference</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_belongs_to_with_string_keys">
            
              <a name="method-i-test_eager_load_belongs_to_with_string_keys"></a><b>test_eager_load_belongs_to_with_string_keys</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_belongs_to_with_string_keys_source')" id="l_method-i-test_eager_load_belongs_to_with_string_keys_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_belongs_to_with_string_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_belongs_to_with_string_keys</span>
  <span class="ruby-identifier">subscriber</span> = <span class="ruby-identifier">subscribers</span>(<span class="ruby-value">:second</span>)
  <span class="ruby-identifier">subscription</span> = <span class="ruby-constant">Subscription</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">subscriptions</span>(<span class="ruby-value">:webster_awdr</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:subscriber</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">subscriber</span>, <span class="ruby-identifier">subscription</span>.<span class="ruby-identifier">subscriber</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_quotes_table_and_column_names">
            
              <a name="method-i-test_eager_load_has_many_quotes_table_and_column_names"></a><b>test_eager_load_has_many_quotes_table_and_column_names</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_quotes_table_and_column_names_source')" id="l_method-i-test_eager_load_has_many_quotes_table_and_column_names_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_quotes_table_and_column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_quotes_table_and_column_names</span>
  <span class="ruby-identifier">michael</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>), <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:references</span>)
  <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_magician</span>,<span class="ruby-value">:michael_unicyclist</span>)
  <span class="ruby-identifier">assert_no_queries</span>{ <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_magician</span>,<span class="ruby-value">:michael_unicyclist</span>), <span class="ruby-identifier">michael</span>.<span class="ruby-identifier">references</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_through_quotes_table_and_column_names">
            
              <a name="method-i-test_eager_load_has_many_through_quotes_table_and_column_names"></a><b>test_eager_load_has_many_through_quotes_table_and_column_names</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_through_quotes_table_and_column_names_source')" id="l_method-i-test_eager_load_has_many_through_quotes_table_and_column_names_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_through_quotes_table_and_column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 371</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_through_quotes_table_and_column_names</span>
  <span class="ruby-identifier">michael</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>), <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:jobs</span>)
  <span class="ruby-identifier">jobs</span>(<span class="ruby-value">:magician</span>, <span class="ruby-value">:unicyclist</span>)
  <span class="ruby-identifier">assert_no_queries</span>{ <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">jobs</span>(<span class="ruby-value">:unicyclist</span>, <span class="ruby-value">:magician</span>), <span class="ruby-identifier">michael</span>.<span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_through_with_string_keys">
            
              <a name="method-i-test_eager_load_has_many_through_with_string_keys"></a><b>test_eager_load_has_many_through_with_string_keys</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_through_with_string_keys_source')" id="l_method-i-test_eager_load_has_many_through_with_string_keys_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_through_with_string_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_through_with_string_keys</span>
  <span class="ruby-identifier">books</span> = <span class="ruby-identifier">books</span>(<span class="ruby-value">:awdr</span>, <span class="ruby-value">:rfr</span>)
  <span class="ruby-identifier">subscriber</span> = <span class="ruby-constant">Subscriber</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">subscribers</span>(<span class="ruby-value">:second</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:books</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">books</span>, <span class="ruby-identifier">subscriber</span>.<span class="ruby-identifier">books</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_many_with_string_keys">
            
              <a name="method-i-test_eager_load_has_many_with_string_keys"></a><b>test_eager_load_has_many_with_string_keys</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_many_with_string_keys_source')" id="l_method-i-test_eager_load_has_many_with_string_keys_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_has_many_with_string_keys_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_many_with_string_keys</span>
  <span class="ruby-identifier">subscriptions</span> = <span class="ruby-identifier">subscriptions</span>(<span class="ruby-value">:webster_awdr</span>, <span class="ruby-value">:webster_rfr</span>)
  <span class="ruby-identifier">subscriber</span> =<span class="ruby-constant">Subscriber</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">subscribers</span>(<span class="ruby-value">:second</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:subscriptions</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">subscriptions</span>, <span class="ruby-identifier">subscriber</span>.<span class="ruby-identifier">subscriptions</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_load_has_one_quotes_table_and_column_names">
            
              <a name="method-i-test_eager_load_has_one_quotes_table_and_column_names"></a><b>test_eager_load_has_one_quotes_table_and_column_names</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_load_has_one_quotes_table_and_column_names_source')" id="l_method-i-test_eager_load_has_one_quotes_table_and_column_names_source">show</a>
                
              </p>
              <div id="method-i-test_eager_load_has_one_quotes_table_and_column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_load_has_one_quotes_table_and_column_names</span>
  <span class="ruby-identifier">michael</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>), <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:favourite_reference</span>)
  <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_unicyclist</span>)
  <span class="ruby-identifier">assert_no_queries</span>{ <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">references</span>(<span class="ruby-value">:michael_unicyclist</span>), <span class="ruby-identifier">michael</span>.<span class="ruby-identifier">favourite_reference</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_loading_with_conditions_on_join_model_preloads">
            
              <a name="method-i-test_eager_loading_with_conditions_on_join_model_preloads"></a><b>test_eager_loading_with_conditions_on_join_model_preloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_loading_with_conditions_on_join_model_preloads_source')" id="l_method-i-test_eager_loading_with_conditions_on_join_model_preloads_source">show</a>
                
              </p>
              <div id="method-i-test_eager_loading_with_conditions_on_join_model_preloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 944</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_loading_with_conditions_on_join_model_preloads</span>
  <span class="ruby-constant">Author</span>.<span class="ruby-identifier">columns</span>

  <span class="ruby-identifier">authors</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_address</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.title like 'Welcome%'&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">authors</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">author_addresses</span>(<span class="ruby-value">:david_address</span>), <span class="ruby-identifier">authors</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author_address</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_loading_with_conditions_on_joined_table_preloads">
            
              <a name="method-i-test_eager_loading_with_conditions_on_joined_table_preloads"></a><b>test_eager_loading_with_conditions_on_joined_table_preloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_loading_with_conditions_on_joined_table_preloads_source')" id="l_method-i-test_eager_loading_with_conditions_on_joined_table_preloads_source">show</a>
                
              </p>
              <div id="method-i-test_eager_loading_with_conditions_on_joined_table_preloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 896</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_loading_with_conditions_on_joined_table_preloads</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'distinct posts.*'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;comments.body like 'Thank you%'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)], <span class="ruby-identifier">posts</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author</span>}

  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'distinct posts.*'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;comments.body like 'Thank you%'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)], <span class="ruby-identifier">posts</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author</span>}

  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:taggings</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:tag</span>}, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;tags.name = 'General'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:thinking</span>), <span class="ruby-identifier">posts</span>

  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:taggings</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>}}, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;taggings_tags.super_tag_id=2&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>, <span class="ruby-value">:thinking</span>), <span class="ruby-identifier">posts</span>

<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads">
            
              <a name="method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads"></a><b>test_eager_loading_with_conditions_on_string_joined_table_preloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads_source')" id="l_method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads_source">show</a>
                
              </p>
              <div id="method-i-test_eager_loading_with_conditions_on_string_joined_table_preloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 921</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_loading_with_conditions_on_string_joined_table_preloads</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'distinct posts.*'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;INNER JOIN comments on comments.post_id = posts.id&quot;</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;comments.body like 'Thank you%'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)], <span class="ruby-identifier">posts</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author</span>}

  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'distinct posts.*'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;INNER JOIN comments on comments.post_id = posts.id&quot;</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;comments.body like 'Thank you%'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)], <span class="ruby-identifier">posts</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author</span>}

<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_loading_with_order_on_joined_table_preloads">
            
              <a name="method-i-test_eager_loading_with_order_on_joined_table_preloads"></a><b>test_eager_loading_with_order_on_joined_table_preloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_loading_with_order_on_joined_table_preloads_source')" id="l_method-i-test_eager_loading_with_order_on_joined_table_preloads_source">show</a>
                
              </p>
              <div id="method-i-test_eager_loading_with_order_on_joined_table_preloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 888</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_loading_with_order_on_joined_table_preloads</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id DESC'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:eager_other</span>), <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">author</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_loading_with_select_on_joined_table_preloads">
            
              <a name="method-i-test_eager_loading_with_select_on_joined_table_preloads"></a><b>test_eager_loading_with_select_on_joined_table_preloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_loading_with_select_on_joined_table_preloads_source')" id="l_method-i-test_eager_loading_with_select_on_joined_table_preloads_source">show</a>
                
              </p>
              <div id="method-i-test_eager_loading_with_select_on_joined_table_preloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 936</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_loading_with_select_on_joined_table_preloads</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.*, authors.name as author_name'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'David'</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">author_name</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">comments</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">comments</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_default_scope">
            
              <a name="method-i-test_eager_with_default_scope"></a><b>test_eager_with_default_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_default_scope_source')" id="l_method-i-test_eager_with_default_scope_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_default_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 696</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_default_scope</span>
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">EagerDeveloperWithDefaultScope</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">projects</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:id</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">projects</span>, <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">projects</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_default_scope_as_block">
            
              <a name="method-i-test_eager_with_default_scope_as_block"></a><b>test_eager_with_default_scope_as_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_default_scope_as_block_source')" id="l_method-i-test_eager_with_default_scope_as_block_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_default_scope_as_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_default_scope_as_block</span>
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">EagerDeveloperWithBlockDefaultScope</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">projects</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:id</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">projects</span>, <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">projects</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_default_scope_as_callable">
            
              <a name="method-i-test_eager_with_default_scope_as_callable"></a><b>test_eager_with_default_scope_as_callable</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_default_scope_as_callable_source')" id="l_method-i-test_eager_with_default_scope_as_callable_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_default_scope_as_callable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 728</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_default_scope_as_callable</span>
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">EagerDeveloperWithCallableDefaultScope</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">projects</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:id</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">projects</span>, <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">projects</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_default_scope_as_class_method">
            
              <a name="method-i-test_eager_with_default_scope_as_class_method"></a><b>test_eager_with_default_scope_as_class_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_default_scope_as_class_method_source')" id="l_method-i-test_eager_with_default_scope_as_class_method_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_default_scope_as_class_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 704</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_default_scope_as_class_method</span>
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">EagerDeveloperWithClassMethodDefaultScope</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">projects</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:id</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">projects</span>, <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">projects</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_default_scope_as_lambda">
            
              <a name="method-i-test_eager_with_default_scope_as_lambda"></a><b>test_eager_with_default_scope_as_lambda</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_default_scope_as_lambda_source')" id="l_method-i-test_eager_with_default_scope_as_lambda_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_default_scope_as_lambda_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 712</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_default_scope_as_lambda</span>
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">EagerDeveloperWithLambdaDefaultScope</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">projects</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:id</span>).<span class="ruby-identifier">all</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">projects</span>, <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">projects</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_floating_point_numbers">
            
              <a name="method-i-test_eager_with_floating_point_numbers"></a><b>test_eager_with_floating_point_numbers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_floating_point_numbers_source')" id="l_method-i-test_eager_with_floating_point_numbers_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_floating_point_numbers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 819</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_floating_point_numbers</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># Before changes, the floating point numbers will be interpreted as table names and will cause this to run in one query</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;123.456 = 123.456&quot;</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_and_belongs_to_many_and_limit">
            
              <a name="method-i-test_eager_with_has_and_belongs_to_many_and_limit"></a><b>test_eager_with_has_and_belongs_to_many_and_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_and_belongs_to_many_and_limit_source')" id="l_method-i-test_eager_with_has_and_belongs_to_many_and_limit_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_and_belongs_to_many_and_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 546</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_and_belongs_to_many_and_limit</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:categories</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>[<span class="ruby-number">2</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:technology</span>))
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit">
            
              <a name="method-i-test_eager_with_has_many_and_limit"></a><b>test_eager_with_has_many_and_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_source')" id="l_method-i-test_eager_with_has_many_and_limit_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id asc'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-number">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_conditions">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_conditions"></a><b>test_eager_with_has_many_and_limit_and_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_conditions_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 475</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_conditions</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_adapter?</span>(<span class="ruby-value">:OpenBaseAdapter</span>)
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;FETCHBLOB(posts.body) = 'hello'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.body = 'hello'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">4</span>,<span class="ruby-number">5</span>], <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_conditions_array">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_conditions_array"></a><b>test_eager_with_has_many_and_limit_and_conditions_array</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_conditions_array_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_conditions_array_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_conditions_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_conditions_array</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_adapter?</span>(<span class="ruby-value">:OpenBaseAdapter</span>)
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;FETCHBLOB(posts.body) = ?&quot;</span>, <span class="ruby-string">'hello'</span> ], <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;posts.body = ?&quot;</span>, <span class="ruby-string">'hello'</span> ], <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-number">4</span>,<span class="ruby-number">5</span>], <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers"></a><b>test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 495</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_conditions_array_on_the_eagers</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;authors.name = ?&quot;</span>, <span class="ruby-string">'David'</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>

  <span class="ruby-identifier">count</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;authors.name = ?&quot;</span>, <span class="ruby-string">'David'</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers"></a><b>test_eager_with_has_many_and_limit_and_conditions_on_the_eagers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_conditions_on_the_eagers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 572</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_conditions_on_the_eagers</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>,
    <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>,
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment'&quot;</span>,
    <span class="ruby-value">:limit</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>
  )
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>

  <span class="ruby-identifier">count</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">count</span>(
    <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span>, <span class="ruby-value">:author</span> ],
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;authors.name = 'David' AND (comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment')&quot;</span>,
    <span class="ruby-value">:limit</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>
  )
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_high_offset">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_high_offset"></a><b>test_eager_with_has_many_and_limit_and_high_offset</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_high_offset_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_high_offset_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_high_offset_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_high_offset</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;authors.name = ?&quot;</span>, <span class="ruby-string">'David'</span> ])
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions"></a><b>test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 508</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_high_offset_and_multiple_array_conditions</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>,
      <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;authors.name = ? and comments.body = ?&quot;</span>, <span class="ruby-string">'David'</span>, <span class="ruby-string">'go crazy'</span> ])
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions"></a><b>test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 516</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_high_offset_and_multiple_hash_conditions</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>,
      <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">'authors.name'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'David'</span>, <span class="ruby-string">'comments.body'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'go crazy'</span> })
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers"></a><b>test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 607</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_scoped_and_explicit_conditions_on_the_eagers</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:with_scope</span>, <span class="ruby-value">:find</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1=1&quot;</span> }) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>,
      <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>,
      <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment'&quot;</span>,
      <span class="ruby-value">:limit</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>
    )
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>

    <span class="ruby-identifier">count</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">count</span>(
      <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span>, <span class="ruby-value">:author</span> ],
      <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;authors.name = 'David' AND (comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment')&quot;</span>,
      <span class="ruby-value">:limit</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>
    )
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers">
            
              <a name="method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers"></a><b>test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers_source')" id="l_method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_and_scoped_conditions_on_the_eagers</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:with_scope</span>, <span class="ruby-value">:find</span> =<span class="ruby-operator">&gt;</span> {
    <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>,
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment'&quot;</span>
  }) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:with_scope</span>, <span class="ruby-value">:find</span> =<span class="ruby-operator">&gt;</span> {
    <span class="ruby-value">:include</span>    =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span>, <span class="ruby-value">:author</span> ],
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;authors.name = 'David' AND (comments.body like 'Normal%' OR comments.#{QUOTED_TYPE}= 'SpecialComment')&quot;</span>
  }) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">count</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_and_limit_with_no_results">
            
              <a name="method-i-test_eager_with_has_many_and_limit_with_no_results"></a><b>test_eager_with_has_many_and_limit_with_no_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_and_limit_with_no_results_source')" id="l_method-i-test_eager_with_has_many_and_limit_with_no_results_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_and_limit_with_no_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 529</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_and_limit_with_no_results</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span> ], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.title = 'magic forest'&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through">
            
              <a name="method-i-test_eager_with_has_many_through"></a><b>test_eager_with_has_many_through</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_source')" id="l_method-i-test_eager_with_has_many_through_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through</span>
  <span class="ruby-identifier">posts_with_comments</span> = <span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-identifier">posts_with_author</span> = <span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-identifier">posts_with_comments_and_author</span> = <span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span>, <span class="ruby-value">:author</span> ], <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id'</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts_with_comments</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-number">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_author</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">author</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_comments_and_author</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">author</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_a_belongs_to_association">
            
              <a name="method-i-test_eager_with_has_many_through_a_belongs_to_association"></a><b>test_eager_with_has_many_through_a_belongs_to_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_a_belongs_to_association_source')" id="l_method-i-test_eager_with_has_many_through_a_belongs_to_association_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_a_belongs_to_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 421</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_a_belongs_to_association</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>)
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:author</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">author</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;TITLE&quot;</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;BODY&quot;</span>)
  <span class="ruby-identifier">author</span>.<span class="ruby-identifier">author_favorites</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:favorite_author_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
  <span class="ruby-identifier">author</span>.<span class="ruby-identifier">author_favorites</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:favorite_author_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
  <span class="ruby-identifier">posts_with_author_favorites</span> = <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_favorites</span>)
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">posts_with_author_favorites</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">author_favorites</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">author_id</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_an_sti_join_model">
            
              <a name="method-i-test_eager_with_has_many_through_an_sti_join_model"></a><b>test_eager_with_has_many_through_an_sti_join_model</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_an_sti_join_model_source')" id="l_method-i-test_eager_with_has_many_through_an_sti_join_model_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_an_sti_join_model_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_an_sti_join_model</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:special_post_comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'authors.id'</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comments</span>(<span class="ruby-value">:does_it_hurt</span>)], <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">author</span>.<span class="ruby-identifier">special_post_comments</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both">
            
              <a name="method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both"></a><b>test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both_source')" id="l_method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_an_sti_join_model_with_conditions_on_both</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:special_nonexistant_post_comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'authors.id'</span>)
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">author</span>.<span class="ruby-identifier">special_nonexistant_post_comments</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_join_model_ignores_default_includes">
            
              <a name="method-i-test_eager_with_has_many_through_join_model_ignores_default_includes"></a><b>test_eager_with_has_many_through_join_model_ignores_default_includes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_join_model_ignores_default_includes_source')" id="l_method-i-test_eager_with_has_many_through_join_model_ignores_default_includes_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_join_model_ignores_default_includes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_join_model_ignores_default_includes</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">comments_on_posts_with_default_include</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_join_model_with_conditions">
            
              <a name="method-i-test_eager_with_has_many_through_join_model_with_conditions"></a><b>test_eager_with_has_many_through_join_model_with_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_join_model_with_conditions_source')" id="l_method-i-test_eager_with_has_many_through_join_model_with_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_join_model_with_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_join_model_with_conditions</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:hello_post_comments</span>,
                           <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'authors.id'</span>).<span class="ruby-identifier">hello_post_comments</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>),
               <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'authors.id'</span>).<span class="ruby-identifier">hello_post_comments</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:id</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level">
            
              <a name="method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level"></a><b>test_eager_with_has_many_through_join_model_with_conditions_on_top_level</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level_source')" id="l_method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_join_model_with_conditions_on_top_level_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 446</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_join_model_with_conditions_on_top_level</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">comments</span>(<span class="ruby-value">:more_greetings</span>), <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments_with_order_and_conditions</span>).<span class="ruby-identifier">comments_with_order_and_conditions</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_join_model_with_include">
            
              <a name="method-i-test_eager_with_has_many_through_join_model_with_include"></a><b>test_eager_with_has_many_through_join_model_with_include</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_join_model_with_include_source')" id="l_method-i-test_eager_with_has_many_through_join_model_with_include_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_join_model_with_include_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 450</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_join_model_with_include</span>
  <span class="ruby-identifier">author_comments</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments_with_include</span>).<span class="ruby-identifier">comments_with_include</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">author_comments</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">title</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include">
            
              <a name="method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include"></a><b>test_eager_with_has_many_through_with_conditions_join_model_with_include</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include_source')" id="l_method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_many_through_with_conditions_join_model_with_include_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_many_through_with_conditions_join_model_with_include</span>
  <span class="ruby-identifier">post_tags</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>).<span class="ruby-identifier">misc_tags</span>
  <span class="ruby-identifier">eager_post_tags</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:misc_tags</span>).<span class="ruby-identifier">misc_tags</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post_tags</span>, <span class="ruby-identifier">eager_post_tags</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent">
            
              <a name="method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent"></a><b>test_eager_with_has_one_dependent_does_not_destroy_dependent</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent_source')" id="l_method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_one_dependent_does_not_destroy_dependent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 666</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_one_dependent_does_not_destroy_dependent</span>
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">companies</span>(<span class="ruby-value">:first_firm</span>).<span class="ruby-identifier">account</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:account</span>,
          <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;companies.name = ?&quot;</span>, <span class="ruby-string">&quot;37signals&quot;</span>])
  <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">account</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">companies</span>(<span class="ruby-value">:first_firm</span>, <span class="ruby-value">:reload</span>).<span class="ruby-identifier">account</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">account</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through">
            
              <a name="method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through"></a><b>test_eager_with_has_one_through_join_model_with_conditions_on_the_through</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through_source')" id="l_method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_has_one_through_join_model_with_conditions_on_the_through_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_has_one_through_join_model_with_conditions_on_the_through</span>
  <span class="ruby-identifier">member</span> = <span class="ruby-constant">Member</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">members</span>(<span class="ruby-value">:some_other_guy</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:favourite_club</span>)
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">favourite_club</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_inheritance">
            
              <a name="method-i-test_eager_with_inheritance"></a><b>test_eager_with_inheritance</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_inheritance_source')" id="l_method-i-test_eager_with_inheritance_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_inheritance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 642</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_inheritance</span>
  <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span> ])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_invalid_association_reference">
            
              <a name="method-i-test_eager_with_invalid_association_reference"></a><b>test_eager_with_invalid_association_reference</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_invalid_association_reference_source')" id="l_method-i-test_eager_with_invalid_association_reference_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_invalid_association_reference_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 681</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_invalid_association_reference</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigurationError</span>, <span class="ruby-string">&quot;Association was not found; perhaps you misspelled it?  You specified :include =&gt; :monkeys&quot;</span>) {
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">6</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value">:monkeys</span> )
  }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigurationError</span>, <span class="ruby-string">&quot;Association was not found; perhaps you misspelled it?  You specified :include =&gt; :monkeys&quot;</span>) {
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">6</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span>[ <span class="ruby-value">:monkeys</span> ])
  }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigurationError</span>, <span class="ruby-string">&quot;Association was not found; perhaps you misspelled it?  You specified :include =&gt; :monkeys&quot;</span>) {
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">6</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span>[ <span class="ruby-string">'monkeys'</span> ])
  }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigurationError</span>, <span class="ruby-string">&quot;Association was not found; perhaps you misspelled it?  You specified :include =&gt; :monkeys, :elephants&quot;</span>) {
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">6</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span>[ <span class="ruby-value">:monkeys</span>, <span class="ruby-value">:elephants</span> ])
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size">
            
              <a name="method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size"></a><b>test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size_source')" id="l_method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 674</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_multi_table_conditional_properly_counts_the_records_when_using_size</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">posts_with_no_comments</span> = <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">blank?</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts_with_no_comments</span>.<span class="ruby-identifier">size</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts_with_no_comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts_with_no_comments</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts_with_no_comments</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_multiple_associations_with_same_table_belongs_to">
            
              <a name="method-i-test_eager_with_multiple_associations_with_same_table_belongs_to"></a><b>test_eager_with_multiple_associations_with_same_table_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_multiple_associations_with_same_table_belongs_to_source')" id="l_method-i-test_eager_with_multiple_associations_with_same_table_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_multiple_associations_with_same_table_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 806</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_multiple_associations_with_same_table_belongs_to</span>
  <span class="ruby-identifier">firm_types</span> = [<span class="ruby-value">:firm</span>, <span class="ruby-value">:firm_with_basic_id</span>, <span class="ruby-value">:firm_with_other_name</span>, <span class="ruby-value">:firm_with_condition</span>]
  <span class="ruby-identifier">d1</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-constant">Client</span>)
  <span class="ruby-identifier">d2</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-constant">Client</span>, <span class="ruby-identifier">firm_types</span>)
  <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">each_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>])
    <span class="ruby-identifier">firm_types</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">type</span>), <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">type</span>)) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm">
            
              <a name="method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm"></a><b>test_eager_with_multiple_associations_with_same_table_has_many_and_habtm</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm_source')" id="l_method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_multiple_associations_with_same_table_has_many_and_habtm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 769</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_multiple_associations_with_same_table_has_many_and_habtm</span>
  <span class="ruby-comment"># Eager includes of has many and habtm associations aren't necessarily sorted in the same way</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">assert_equal_after_sort</span>(<span class="ruby-identifier">item1</span>, <span class="ruby-identifier">item2</span>, <span class="ruby-identifier">item3</span> = <span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">item1</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}, <span class="ruby-identifier">item2</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>})
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">item3</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}, <span class="ruby-identifier">item2</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>}) <span class="ruby-keyword">if</span> <span class="ruby-identifier">item3</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># Test regular association, association with conditions, association with</span>
  <span class="ruby-comment"># STI, and association with conditions assured not to be true</span>
  <span class="ruby-identifier">post_types</span> = [<span class="ruby-value">:posts</span>, <span class="ruby-value">:other_posts</span>, <span class="ruby-value">:special_posts</span>]
  <span class="ruby-comment"># test both has_many and has_and_belongs_to_many</span>
  [<span class="ruby-constant">Author</span>, <span class="ruby-constant">Category</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">className</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">d1</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-identifier">className</span>)
    <span class="ruby-comment"># test including all post types at once</span>
    <span class="ruby-identifier">d2</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-identifier">className</span>, <span class="ruby-identifier">post_types</span>)
    <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">each_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>])
      <span class="ruby-identifier">assert_equal_after_sort</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">posts</span>, <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">posts</span>)
      <span class="ruby-identifier">post_types</span>[<span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">post_type</span><span class="ruby-operator">|</span>
        <span class="ruby-comment"># test including post_types together</span>
        <span class="ruby-identifier">d3</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-identifier">className</span>, [<span class="ruby-value">:posts</span>, <span class="ruby-identifier">post_type</span>])
        <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">d3</span>[<span class="ruby-identifier">i</span>])
        <span class="ruby-identifier">assert_equal_after_sort</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">posts</span>, <span class="ruby-identifier">d3</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">posts</span>)
        <span class="ruby-identifier">assert_equal_after_sort</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">post_type</span>), <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">post_type</span>), <span class="ruby-identifier">d3</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">post_type</span>))
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_multiple_associations_with_same_table_has_one">
            
              <a name="method-i-test_eager_with_multiple_associations_with_same_table_has_one"></a><b>test_eager_with_multiple_associations_with_same_table_has_one</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_multiple_associations_with_same_table_has_one_source')" id="l_method-i-test_eager_with_multiple_associations_with_same_table_has_one_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_multiple_associations_with_same_table_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 797</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_multiple_associations_with_same_table_has_one</span>
  <span class="ruby-identifier">d1</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-constant">Firm</span>)
  <span class="ruby-identifier">d2</span> = <span class="ruby-identifier">find_all_ordered</span>(<span class="ruby-constant">Firm</span>, <span class="ruby-value">:account</span>)
  <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">each_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>])
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">d1</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">account</span>, <span class="ruby-identifier">d2</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">account</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope">
            
              <a name="method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope"></a><b>test_eager_with_scoped_order_using_association_limiting_without_explicit_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope_source')" id="l_method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_scoped_order_using_association_limiting_without_explicit_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 625</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_scoped_order_using_association_limiting_without_explicit_scope</span>
  <span class="ruby-identifier">posts_with_explicit_order</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id is not null'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id DESC'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
  <span class="ruby-identifier">posts_with_scoped_order</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:with_scope</span>, <span class="ruby-value">:find</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'posts.id DESC'</span>}) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id is not null'</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts_with_explicit_order</span>, <span class="ruby-identifier">posts_with_scoped_order</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eager_with_valid_association_as_string_not_symbol">
            
              <a name="method-i-test_eager_with_valid_association_as_string_not_symbol"></a><b>test_eager_with_valid_association_as_string_not_symbol</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eager_with_valid_association_as_string_not_symbol_source')" id="l_method-i-test_eager_with_valid_association_as_string_not_symbol_source">show</a>
                
              </p>
              <div id="method-i-test_eager_with_valid_association_as_string_not_symbol_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 815</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eager_with_valid_association_as_string_not_symbol</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments'</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once">
            
              <a name="method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once"></a><b>test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once_source')" id="l_method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once_source">show</a>
                
              </p>
              <div id="method-i-test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_finding_with_includes_on_belongs_to_association_with_same_include_includes_only_once</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">post</span>.<span class="ruby-identifier">author</span>
  <span class="ruby-identifier">author_address</span> = <span class="ruby-identifier">author</span>.<span class="ruby-identifier">author_address</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">2</span> <span class="ruby-operator">:</span> <span class="ruby-number">3</span>) { <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">post</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:author_with_address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_address</span>}) } <span class="ruby-comment"># find the post, then find the author, then find the address</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">author</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">author_with_address</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">author_address</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">author_with_address</span>.<span class="ruby-identifier">author_address</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once">
            
              <a name="method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once"></a><b>test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once_source')" id="l_method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once_source">show</a>
                
              </p>
              <div id="method-i-test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_finding_with_includes_on_has_many_association_with_same_include_includes_only_once</span>
  <span class="ruby-identifier">author_id</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">3</span>) { <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">author_id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:posts_with_comments</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>}) } <span class="ruby-comment"># find the author, then find the posts, then find the comments</span>
  <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts_with_comments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">post_with_comments</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post_with_comments</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">post_with_comments</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">count</span>
    <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">post_with_comments</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">uniq!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once">
            
              <a name="method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once"></a><b>test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once_source')" id="l_method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once_source">show</a>
                
              </p>
              <div id="method-i-test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_finding_with_includes_on_has_one_assocation_with_same_include_includes_only_once</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>)
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">author</span>.<span class="ruby-identifier">post_about_thinking_with_last_comment</span>
  <span class="ruby-identifier">last_comment</span> = <span class="ruby-identifier">post</span>.<span class="ruby-identifier">last_comment</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">2</span> <span class="ruby-operator">:</span> <span class="ruby-number">3</span>) { <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">author</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:post_about_thinking_with_last_comment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:last_comment</span>})} <span class="ruby-comment"># find the author, then find the posts, then find the comments</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">post_about_thinking_with_last_comment</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last_comment</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">post_about_thinking_with_last_comment</span>.<span class="ruby-identifier">last_comment</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once">
            
              <a name="method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once"></a><b>test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once_source')" id="l_method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once_source">show</a>
                
              </p>
              <div id="method-i-test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_finding_with_includes_on_null_belongs_to_association_with_same_include_includes_only_once</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)
  <span class="ruby-identifier">post</span>.<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-value">:author</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">post</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:author_with_address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_address</span>}) } <span class="ruby-comment"># find the post, then find the author which is null so no query for the author or address</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">author_with_address</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association">
            
              <a name="method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association"></a><b>test_finding_with_includes_on_null_belongs_to_polymorphic_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association_source')" id="l_method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association_source">show</a>
                
              </p>
              <div id="method-i-test_finding_with_includes_on_null_belongs_to_polymorphic_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_finding_with_includes_on_null_belongs_to_polymorphic_association</span>
  <span class="ruby-identifier">sponsor</span> = <span class="ruby-identifier">sponsors</span>(<span class="ruby-value">:moustache_club_sponsor_for_groucho</span>)
  <span class="ruby-identifier">sponsor</span>.<span class="ruby-identifier">update_attributes!</span>(<span class="ruby-value">:sponsorable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">sponsor</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-constant">Sponsor</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">sponsor</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:sponsorable</span>) }
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">sponsor</span>.<span class="ruby-identifier">sponsorable</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times">
            
              <a name="method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times"></a><b>test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times</b>()
            
          </div>
          
          
            <div class="description">
              <p>This is only really relevant when the identity map is off. Since the
preloader for habtm gets raw row hashes from the database and then
instantiates them, this test ensures that it only instantiates one actual
object per record from the database.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times_source')" id="l_method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times_source">show</a>
                
              </p>
              <div id="method-i-test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 559</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_has_and_belongs_to_many_should_not_instantiate_same_records_multiple_times</span>
  <span class="ruby-identifier">welcome</span>    = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)
  <span class="ruby-identifier">categories</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:posts</span>)

  <span class="ruby-identifier">general</span>    = <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>) }
  <span class="ruby-identifier">technology</span> = <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:technology</span>) }

  <span class="ruby-identifier">post1</span> = <span class="ruby-identifier">general</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>) }
  <span class="ruby-identifier">post2</span> = <span class="ruby-identifier">technology</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>) }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">post1</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">post2</span>.<span class="ruby-identifier">object_id</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_has_many_using_primary_key">
            
              <a name="method-i-test_include_has_many_using_primary_key"></a><b>test_include_has_many_using_primary_key</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_has_many_using_primary_key_source')" id="l_method-i-test_include_has_many_using_primary_key_source">show</a>
                
              </p>
              <div id="method-i-test_include_has_many_using_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 978</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_has_many_using_primary_key</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">clients_using_primary_key</span>.<span class="ruby-identifier">sort_by</span>(&amp;<span class="ruby-value">:name</span>)
  <span class="ruby-comment"># Oracle adapter truncates alias to 30 characters</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_adapter?</span>(<span class="ruby-value">:OracleAdapter</span>)
    <span class="ruby-identifier">firm</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span> <span class="ruby-number">1</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:clients_using_primary_key</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'clients_using_primary_keys_companies'</span>[<span class="ruby-number">0</span>,<span class="ruby-number">30</span>]<span class="ruby-operator">+</span><span class="ruby-string">'.name'</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">firm</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span> <span class="ruby-number">1</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:clients_using_primary_key</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'clients_using_primary_keys_companies.name'</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">firm</span>.<span class="ruby-identifier">clients_using_primary_key</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_include_has_one_using_primary_key">
            
              <a name="method-i-test_include_has_one_using_primary_key"></a><b>test_include_has_one_using_primary_key</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_include_has_one_using_primary_key_source')" id="l_method-i-test_include_has_one_using_primary_key_source">show</a>
                
              </p>
              <div id="method-i-test_include_has_one_using_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 999</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_include_has_one_using_primary_key</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">accounts</span>(<span class="ruby-value">:signals37</span>)
  <span class="ruby-identifier">firm</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:account_using_primary_key</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'accounts.id'</span>).<span class="ruby-identifier">detect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span>}
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account_using_primary_key</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_including_duplicate_objects_from_belongs_to">
            
              <a name="method-i-test_including_duplicate_objects_from_belongs_to"></a><b>test_including_duplicate_objects_from_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_including_duplicate_objects_from_belongs_to_source')" id="l_method-i-test_including_duplicate_objects_from_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_including_duplicate_objects_from_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_including_duplicate_objects_from_belongs_to</span>
  <span class="ruby-identifier">popular_post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I like cars!&quot;</span>)
  <span class="ruby-identifier">comment</span> = <span class="ruby-identifier">popular_post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;lol&quot;</span>)
  <span class="ruby-identifier">popular_post</span>.<span class="ruby-identifier">readers</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:person</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">people</span>(<span class="ruby-value">:michael</span>))
  <span class="ruby-identifier">popular_post</span>.<span class="ruby-identifier">readers</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:person</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">people</span>(<span class="ruby-value">:david</span>))

  <span class="ruby-identifier">readers</span> = <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;post_id = ?&quot;</span>, <span class="ruby-identifier">popular_post</span>.<span class="ruby-identifier">id</span>],
                              <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:post</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>})
  <span class="ruby-identifier">readers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reader</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comment</span>], <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_including_duplicate_objects_from_has_many">
            
              <a name="method-i-test_including_duplicate_objects_from_has_many"></a><b>test_including_duplicate_objects_from_has_many</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_including_duplicate_objects_from_has_many_source')" id="l_method-i-test_including_duplicate_objects_from_has_many_source">show</a>
                
              </p>
              <div id="method-i-test_including_duplicate_objects_from_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_including_duplicate_objects_from_has_many</span>
  <span class="ruby-identifier">car_post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'foo'</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I like cars!&quot;</span>)
  <span class="ruby-identifier">car_post</span>.<span class="ruby-identifier">categories</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:general</span>)
  <span class="ruby-identifier">car_post</span>.<span class="ruby-identifier">categories</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">categories</span>(<span class="ruby-value">:technology</span>)

  <span class="ruby-identifier">comment</span> = <span class="ruby-identifier">car_post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hmm&quot;</span>)
  <span class="ruby-identifier">categories</span> = <span class="ruby-constant">Category</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;posts.id=?&quot;</span>, <span class="ruby-identifier">car_post</span>.<span class="ruby-identifier">id</span>],
                               <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:posts</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>})
  <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">category</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comment</span>], <span class="ruby-identifier">category</span>.<span class="ruby-identifier">posts</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">comments</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_join_eager_with_empty_order_should_generate_valid_sql">
            
              <a name="method-i-test_join_eager_with_empty_order_should_generate_valid_sql"></a><b>test_join_eager_with_empty_order_should_generate_valid_sql</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_join_eager_with_empty_order_should_generate_valid_sql_source')" id="l_method-i-test_join_eager_with_empty_order_should_generate_valid_sql_source">show</a>
                
              </p>
              <div id="method-i-test_join_eager_with_empty_order_should_generate_valid_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_join_eager_with_empty_order_should_generate_valid_sql</span>
  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">order</span>(<span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:comments</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Thank you for the welcome&quot;</span>}).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_join_eager_with_nil_order_should_generate_valid_sql">
            
              <a name="method-i-test_join_eager_with_nil_order_should_generate_valid_sql"></a><b>test_join_eager_with_nil_order_should_generate_valid_sql</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_join_eager_with_nil_order_should_generate_valid_sql_source')" id="l_method-i-test_join_eager_with_nil_order_should_generate_valid_sql_source">show</a>
                
              </p>
              <div id="method-i-test_join_eager_with_nil_order_should_generate_valid_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1058</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_join_eager_with_nil_order_should_generate_valid_sql</span>
  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">order</span>(<span class="ruby-keyword">nil</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:comments</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Thank you for the welcome&quot;</span>}).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_joins_with_includes_should_preload_via_joins">
            
              <a name="method-i-test_joins_with_includes_should_preload_via_joins"></a><b>test_joins_with_includes_should_preload_via_joins</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_joins_with_includes_should_preload_via_joins_source')" id="l_method-i-test_joins_with_includes_should_preload_via_joins_source">show</a>
                
              </p>
              <div id="method-i-test_joins_with_includes_should_preload_via_joins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1044</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_joins_with_includes_should_preload_via_joins</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">1</span>) { <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">joins</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">order</span>(<span class="ruby-string">'posts.id desc'</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">first</span> }

  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">0</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_limited_eager_with_multiple_order_columns">
            
              <a name="method-i-test_limited_eager_with_multiple_order_columns"></a><b>test_limited_eager_with_multiple_order_columns</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_limited_eager_with_multiple_order_columns_source')" id="l_method-i-test_limited_eager_with_multiple_order_columns_source">show</a>
                
              </p>
              <div id="method-i-test_limited_eager_with_multiple_order_columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 745</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_limited_eager_with_multiple_order_columns</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>, <span class="ruby-value">:sti_comments</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;authors.name = 'David'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'UPPER(posts.title)'</span>, <span class="ruby-string">'posts.id'</span>], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_post_and_comments</span>, <span class="ruby-value">:sti_comments</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;authors.name = 'David'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'UPPER(posts.title) DESC'</span>, <span class="ruby-string">'posts.id'</span>], <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_limited_eager_with_numeric_in_association">
            
              <a name="method-i-test_limited_eager_with_numeric_in_association"></a><b>test_limited_eager_with_numeric_in_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_limited_eager_with_numeric_in_association_source')" id="l_method-i-test_limited_eager_with_numeric_in_association_source">show</a>
                
              </p>
              <div id="method-i-test_limited_eager_with_numeric_in_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 750</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_limited_eager_with_numeric_in_association</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">people</span>(<span class="ruby-value">:david</span>, <span class="ruby-value">:susan</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:readers</span>, <span class="ruby-value">:primary_contact</span>, <span class="ruby-value">:number1_fan</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;number1_fans_people.first_name like 'M%'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'people.id'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_limited_eager_with_order">
            
              <a name="method-i-test_limited_eager_with_order"></a><b>test_limited_eager_with_order</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_limited_eager_with_order_source')" id="l_method-i-test_limited_eager_with_order_source">show</a>
                
              </p>
              <div id="method-i-test_limited_eager_with_order_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 740</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_limited_eager_with_order</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>, <span class="ruby-value">:sti_comments</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;authors.name = 'David'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'UPPER(posts.title)'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_post_and_comments</span>, <span class="ruby-value">:sti_comments</span>), <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author</span>, <span class="ruby-value">:comments</span>], <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;authors.name = 'David'&quot;</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'UPPER(posts.title) DESC'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed">
            
              <a name="method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed"></a><b>test_load_associated_records_in_one_query_when_a_few_ids_passed</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed_source')" id="l_method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed_source">show</a>
                
              </p>
              <div id="method-i-test_load_associated_records_in_one_query_when_a_few_ids_passed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_associated_records_in_one_query_when_a_few_ids_passed</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-number">3</span>)

  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit">
            
              <a name="method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit"></a><b>test_load_associated_records_in_one_query_when_adapter_has_no_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit_source')" id="l_method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit_source">show</a>
                
              </p>
              <div id="method-i-test_load_associated_records_in_one_query_when_adapter_has_no_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_associated_records_in_one_query_when_adapter_has_no_limit</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">nil</span>)

  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>)
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_associated_records_in_several_queries_when_many_ids_passed">
            
              <a name="method-i-test_load_associated_records_in_several_queries_when_many_ids_passed"></a><b>test_load_associated_records_in_several_queries_when_many_ids_passed</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_associated_records_in_several_queries_when_many_ids_passed_source')" id="l_method-i-test_load_associated_records_in_several_queries_when_many_ids_passed_source">show</a>
                
              </p>
              <div id="method-i-test_load_associated_records_in_several_queries_when_many_ids_passed_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_associated_records_in_several_queries_when_many_ids_passed</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-number">1</span>)

  <span class="ruby-identifier">post1</span>, <span class="ruby-identifier">post2</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>), <span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>)
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">3</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">post1</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">post2</span>.<span class="ruby-identifier">id</span>]).<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_with_sti_sharing_association">
            
              <a name="method-i-test_load_with_sti_sharing_association"></a><b>test_load_with_sti_sharing_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_with_sti_sharing_association_source')" id="l_method-i-test_load_with_sti_sharing_association_source">show</a>
                
              </p>
              <div id="method-i-test_load_with_sti_sharing_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_with_sti_sharing_association</span>
  <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) <span class="ruby-keyword">do</span> <span class="ruby-comment">#should not do 1 query per subclass</span>
    <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:post</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_conditions_with_or">
            
              <a name="method-i-test_loading_conditions_with_or"></a><b>test_loading_conditions_with_or</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_conditions_with_or_source')" id="l_method-i-test_loading_conditions_with_or_source">show</a>
                
              </p>
              <div id="method-i-test_loading_conditions_with_or_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_conditions_with_or</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;comments.body like 'Normal%' OR comments.#{QUOTED_TYPE} = 'SpecialComment'&quot;</span>)
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">author_id</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span> },
    <span class="ruby-string">&quot;expected to find only david's posts&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_from_an_association">
            
              <a name="method-i-test_loading_from_an_association"></a><b>test_loading_from_an_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_from_an_association_source')" id="l_method-i-test_loading_from_an_association_source">show</a>
                
              </p>
              <div id="method-i-test_loading_from_an_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_from_an_association</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_from_an_association_that_has_a_hash_of_conditions">
            
              <a name="method-i-test_loading_from_an_association_that_has_a_hash_of_conditions"></a><b>test_loading_from_an_association_that_has_a_hash_of_conditions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_from_an_association_that_has_a_hash_of_conditions_source')" id="l_method-i-test_loading_from_an_association_that_has_a_hash_of_conditions_source">show</a>
                
              </p>
              <div id="method-i-test_loading_from_an_association_that_has_a_hash_of_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_from_an_association_that_has_a_hash_of_conditions</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:hello_posts_with_hash_conditions</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:hello_posts_with_hash_conditions</span>).<span class="ruby-identifier">hello_posts</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_with_multiple_associations">
            
              <a name="method-i-test_loading_with_multiple_associations"></a><b>test_loading_with_multiple_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_with_multiple_associations_source')" id="l_method-i-test_loading_with_multiple_associations_source">show</a>
                
              </p>
              <div id="method-i-test_loading_with_multiple_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_with_multiple_associations</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-value">:comments</span>, <span class="ruby-value">:author</span>, <span class="ruby-value">:categories</span> ], <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_with_no_associations">
            
              <a name="method-i-test_loading_with_no_associations"></a><b>test_loading_with_no_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_with_no_associations_source')" id="l_method-i-test_loading_with_no_associations_source">show</a>
                
              </p>
              <div id="method-i-test_loading_with_no_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_with_no_associations</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:authorless</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author</span>).<span class="ruby-identifier">author</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_with_one_association">
            
              <a name="method-i-test_loading_with_one_association"></a><b>test_loading_with_one_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_with_one_association_source')" id="l_method-i-test_loading_with_one_association_source">show</a>
                
              </p>
              <div id="method-i-test_loading_with_one_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_with_one_association</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>)
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>))

  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.title = 'Welcome to the weblog'&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>))

  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:last_comment</span>)
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">last_comment</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">last_comment</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_with_one_association_with_non_preload">
            
              <a name="method-i-test_loading_with_one_association_with_non_preload"></a><b>test_loading_with_one_association_with_non_preload</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loading_with_one_association_with_non_preload_source')" id="l_method-i-test_loading_with_one_association_with_non_preload_source">show</a>
                
              </p>
              <div id="method-i-test_loading_with_one_association_with_non_preload_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loading_with_one_association_with_non_preload</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:last_comment</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comments.id DESC'</span>)
  <span class="ruby-identifier">post</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-number">1</span>).<span class="ruby-identifier">last_comment</span>, <span class="ruby-identifier">post</span>.<span class="ruby-identifier">last_comment</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_loading_with_no_associations">
            
              <a name="method-i-test_nested_loading_with_no_associations"></a><b>test_nested_loading_with_no_associations</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_loading_with_no_associations_source')" id="l_method-i-test_nested_loading_with_no_associations_source">show</a>
                
              </p>
              <div id="method-i-test_nested_loading_with_no_associations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_loading_with_no_associations</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:authorless</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:author</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:author_addresss</span>})
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_order_on_join_table_with_include_and_limit">
            
              <a name="method-i-test_order_on_join_table_with_include_and_limit"></a><b>test_order_on_join_table_with_include_and_limit</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_order_on_join_table_with_include_and_limit_source')" id="l_method-i-test_order_on_join_table_with_include_and_limit_source">show</a>
                
              </p>
              <div id="method-i-test_order_on_join_table_with_include_and_limit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 884</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_order_on_join_table_with_include_and_limit</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'projects'</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'developers_projects.joined_on DESC'</span>, <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>).<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_polymorphic_type_condition">
            
              <a name="method-i-test_polymorphic_type_condition"></a><b>test_polymorphic_type_condition</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_polymorphic_type_condition_source')" id="l_method-i-test_polymorphic_type_condition_source">show</a>
                
              </p>
              <div id="method-i-test_polymorphic_type_condition_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 762</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_polymorphic_type_condition</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">taggings</span>(<span class="ruby-value">:thinking_general</span>))
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">SpecialPost</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:thinking</span>).<span class="ruby-identifier">id</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:taggings</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">taggings</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">taggings</span>(<span class="ruby-value">:thinking_general</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preconfigured_includes_with_belongs_to">
            
              <a name="method-i-test_preconfigured_includes_with_belongs_to"></a><b>test_preconfigured_includes_with_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preconfigured_includes_with_belongs_to_source')" id="l_method-i-test_preconfigured_includes_with_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_preconfigured_includes_with_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 826</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preconfigured_includes_with_belongs_to</span>
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">author_with_posts</span>
  <span class="ruby-identifier">assert_no_queries</span> {<span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preconfigured_includes_with_habtm">
            
              <a name="method-i-test_preconfigured_includes_with_habtm"></a><b>test_preconfigured_includes_with_habtm</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preconfigured_includes_with_habtm_source')" id="l_method-i-test_preconfigured_includes_with_habtm_source">show</a>
                
              </p>
              <div id="method-i-test_preconfigured_includes_with_habtm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 845</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preconfigured_includes_with_habtm</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_categories</span>
  <span class="ruby-identifier">one</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">one</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preconfigured_includes_with_has_many">
            
              <a name="method-i-test_preconfigured_includes_with_has_many"></a><b>test_preconfigured_includes_with_has_many</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preconfigured_includes_with_has_many_source')" id="l_method-i-test_preconfigured_includes_with_has_many_source">show</a>
                
              </p>
              <div id="method-i-test_preconfigured_includes_with_has_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 836</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preconfigured_includes_with_has_many</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_comments</span>
  <span class="ruby-identifier">one</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">one</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preconfigured_includes_with_has_many_and_habtm">
            
              <a name="method-i-test_preconfigured_includes_with_has_many_and_habtm"></a><b>test_preconfigured_includes_with_has_many_and_habtm</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preconfigured_includes_with_has_many_and_habtm_source')" id="l_method-i-test_preconfigured_includes_with_has_many_and_habtm_source">show</a>
                
              </p>
              <div id="method-i-test_preconfigured_includes_with_has_many_and_habtm_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preconfigured_includes_with_has_many_and_habtm</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-identifier">authors</span>(<span class="ruby-value">:david</span>).<span class="ruby-identifier">posts_with_comments_and_categories</span>
  <span class="ruby-identifier">one</span> = <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">5</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">one</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">one</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preconfigured_includes_with_has_one">
            
              <a name="method-i-test_preconfigured_includes_with_has_one"></a><b>test_preconfigured_includes_with_has_one</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preconfigured_includes_with_has_one_source')" id="l_method-i-test_preconfigured_includes_with_has_one_source">show</a>
                
              </p>
              <div id="method-i-test_preconfigured_includes_with_has_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 831</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preconfigured_includes_with_has_one</span>
  <span class="ruby-identifier">comment</span> = <span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_comments</span>).<span class="ruby-identifier">very_special_comment_with_post</span>
  <span class="ruby-identifier">assert_no_queries</span> {<span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-value">:sti_comments</span>), <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">post</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_belongs_to_uses_exclusive_scope">
            
              <a name="method-i-test_preload_belongs_to_uses_exclusive_scope"></a><b>test_preload_belongs_to_uses_exclusive_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_belongs_to_uses_exclusive_scope_source')" id="l_method-i-test_preload_belongs_to_uses_exclusive_scope_source">show</a>
                
              </p>
              <div id="method-i-test_preload_belongs_to_uses_exclusive_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 954</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_belongs_to_uses_exclusive_scope</span>
  <span class="ruby-identifier">people</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">males</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:primary_contact</span>)
  <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">people</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">0</span>
  <span class="ruby-identifier">people</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_no_queries</span> {<span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">person</span>.<span class="ruby-identifier">primary_contact</span>}
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">person</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">primary_contact</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">primary_contact</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_has_many_uses_exclusive_scope">
            
              <a name="method-i-test_preload_has_many_uses_exclusive_scope"></a><b>test_preload_has_many_uses_exclusive_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_has_many_uses_exclusive_scope_source')" id="l_method-i-test_preload_has_many_uses_exclusive_scope_source">show</a>
                
              </p>
              <div id="method-i-test_preload_has_many_uses_exclusive_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 963</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_has_many_uses_exclusive_scope</span>
  <span class="ruby-identifier">people</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">males</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:agents</span>
  <span class="ruby-identifier">people</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">person</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">agents</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">agents</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_has_many_using_primary_key">
            
              <a name="method-i-test_preload_has_many_using_primary_key"></a><b>test_preload_has_many_using_primary_key</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_has_many_using_primary_key_source')" id="l_method-i-test_preload_has_many_using_primary_key_source">show</a>
                
              </p>
              <div id="method-i-test_preload_has_many_using_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 970</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_has_many_using_primary_key</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>).<span class="ruby-identifier">clients_using_primary_key</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">firm</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:clients_using_primary_key</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">firm</span>.<span class="ruby-identifier">clients_using_primary_key</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_has_one_using_primary_key">
            
              <a name="method-i-test_preload_has_one_using_primary_key"></a><b>test_preload_has_one_using_primary_key</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_has_one_using_primary_key_source')" id="l_method-i-test_preload_has_one_using_primary_key_source">show</a>
                
              </p>
              <div id="method-i-test_preload_has_one_using_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 991</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_has_one_using_primary_key</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">accounts</span>(<span class="ruby-value">:signals37</span>)
  <span class="ruby-identifier">firm</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:first</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:account_using_primary_key</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'companies.id'</span>
  <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account_using_primary_key</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preload_with_interpolation">
            
              <a name="method-i-test_preload_with_interpolation"></a><b>test_preload_with_interpolation</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preload_with_interpolation_source')" id="l_method-i-test_preload_with_interpolation_source">show</a>
                
              </p>
              <div id="method-i-test_preload_with_interpolation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 754</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preload_with_interpolation</span>
  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:comments_with_interpolated_conditions</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>)], <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments_with_interpolated_conditions</span>

  <span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">joins</span>(<span class="ruby-value">:comments_with_interpolated_conditions</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">posts</span>(<span class="ruby-value">:welcome</span>).<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">comments</span>(<span class="ruby-value">:greetings</span>)], <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments_with_interpolated_conditions</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_empty_belongs_to">
            
              <a name="method-i-test_preloading_empty_belongs_to"></a><b>test_preloading_empty_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_empty_belongs_to_source')" id="l_method-i-test_preloading_empty_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_empty_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1007</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_empty_belongs_to</span>
  <span class="ruby-identifier">c</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Foo'</span>, <span class="ruby-value">:client_of</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Company</span>.<span class="ruby-identifier">maximum</span>(<span class="ruby-value">:id</span>) <span class="ruby-operator">+</span> <span class="ruby-number">1</span>)

  <span class="ruby-identifier">client</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) { <span class="ruby-constant">Client</span>.<span class="ruby-identifier">preload</span>(<span class="ruby-value">:firm</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span>) }
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_empty_belongs_to_polymorphic">
            
              <a name="method-i-test_preloading_empty_belongs_to_polymorphic"></a><b>test_preloading_empty_belongs_to_polymorphic</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_empty_belongs_to_polymorphic_source')" id="l_method-i-test_preloading_empty_belongs_to_polymorphic_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_empty_belongs_to_polymorphic_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1014</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_empty_belongs_to_polymorphic</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:taggable_type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Post'</span>, <span class="ruby-value">:taggable_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">maximum</span>(<span class="ruby-value">:id</span>) <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-value">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tags</span>(<span class="ruby-value">:general</span>))

  <span class="ruby-identifier">tagging</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">IdentityMap</span>.<span class="ruby-identifier">enabled?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">2</span>) { <span class="ruby-constant">Tagging</span>.<span class="ruby-identifier">preload</span>(<span class="ruby-value">:taggable</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span>) }
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">tagging</span>.<span class="ruby-identifier">taggable</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle">
            
              <a name="method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle"></a><b>test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle_source')" id="l_method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_habtm_in_multiple_queries_with_more_ids_than_database_can_handle</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-number">5</span>)
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:categories</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">11</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle">
            
              <a name="method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle"></a><b>test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source')" id="l_method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_habtm_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:categories</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">11</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle">
            
              <a name="method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle"></a><b>test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle_source')" id="l_method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_has_many_in_multiple_queries_with_more_ids_than_database_can_handle</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-number">5</span>)
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:comments</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">11</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle">
            
              <a name="method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle"></a><b>test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source')" id="l_method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_has_many_in_one_queries_when_database_has_no_limit_on_ids_it_can_handle</span>
  <span class="ruby-constant">Post</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:in_clause_length</span>).<span class="ruby-identifier">at_least_once</span>.<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:comments</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">11</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_has_many_through_with_uniq">
            
              <a name="method-i-test_preloading_has_many_through_with_uniq"></a><b>test_preloading_has_many_through_with_uniq</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_has_many_through_with_uniq_source')" id="l_method-i-test_preloading_has_many_through_with_uniq_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_has_many_through_with_uniq_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1028</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_has_many_through_with_uniq</span>
  <span class="ruby-identifier">mary</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:unique_categorized_posts</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">authors</span>(<span class="ruby-value">:mary</span>).<span class="ruby-identifier">id</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">mary</span>.<span class="ruby-identifier">unique_categorized_posts</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">mary</span>.<span class="ruby-identifier">unique_categorized_post_ids</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_polymorphic_with_custom_foreign_type">
            
              <a name="method-i-test_preloading_polymorphic_with_custom_foreign_type"></a><b>test_preloading_polymorphic_with_custom_foreign_type</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_polymorphic_with_custom_foreign_type_source')" id="l_method-i-test_preloading_polymorphic_with_custom_foreign_type_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_polymorphic_with_custom_foreign_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1034</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_polymorphic_with_custom_foreign_type</span>
  <span class="ruby-identifier">sponsor</span> = <span class="ruby-identifier">sponsors</span>(<span class="ruby-value">:moustache_club_sponsor_for_groucho</span>)
  <span class="ruby-identifier">groucho</span> = <span class="ruby-identifier">members</span>(<span class="ruby-value">:groucho</span>)

  <span class="ruby-identifier">sponsor</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) {
    <span class="ruby-constant">Sponsor</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:thing</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sponsor</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">first</span>
  }
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">groucho</span>, <span class="ruby-identifier">sponsor</span>.<span class="ruby-identifier">thing</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preloading_through_empty_belongs_to">
            
              <a name="method-i-test_preloading_through_empty_belongs_to"></a><b>test_preloading_through_empty_belongs_to</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preloading_through_empty_belongs_to_source')" id="l_method-i-test_preloading_through_empty_belongs_to_source">show</a>
                
              </p>
              <div id="method-i-test_preloading_through_empty_belongs_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 1021</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preloading_through_empty_belongs_to</span>
  <span class="ruby-identifier">c</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Foo'</span>, <span class="ruby-value">:client_of</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Company</span>.<span class="ruby-identifier">maximum</span>(<span class="ruby-value">:id</span>) <span class="ruby-operator">+</span> <span class="ruby-number">1</span>)

  <span class="ruby-identifier">client</span> = <span class="ruby-identifier">assert_queries</span>(<span class="ruby-number">2</span>) { <span class="ruby-constant">Client</span>.<span class="ruby-identifier">preload</span>(<span class="ruby-value">:accounts</span>).<span class="ruby-identifier">find</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span>) }
  <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">accounts</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_string_id_column_joins">
            
              <a name="method-i-test_string_id_column_joins"></a><b>test_string_id_column_joins</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_string_id_column_joins_source')" id="l_method-i-test_string_id_column_joins_source">show</a>
                
              </p>
              <div id="method-i-test_string_id_column_joins_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 383</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_string_id_column_joins</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-constant">Subscriber</span>.<span class="ruby-identifier">create!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> = <span class="ruby-string">&quot;PL&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">b</span> = <span class="ruby-constant">Book</span>.<span class="ruby-identifier">create!</span>

  <span class="ruby-constant">Subscription</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-value">:subscriber_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;PL&quot;</span>, <span class="ruby-value">:book_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">reload</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">book_ids</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">book_ids</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_ordering">
            
              <a name="method-i-test_with_ordering"></a><b>test_with_ordering</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_ordering_source')" id="l_method-i-test_with_ordering_source">show</a>
                
              </p>
              <div id="method-i-test_with_ordering_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_ordering</span>
  <span class="ruby-identifier">list</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:comments</span>, <span class="ruby-value">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;posts.id DESC&quot;</span>)
  [<span class="ruby-value">:other_by_mary</span>, <span class="ruby-value">:other_by_bob</span>, <span class="ruby-value">:misc_by_mary</span>, <span class="ruby-value">:misc_by_bob</span>, <span class="ruby-value">:eager_other</span>,
   <span class="ruby-value">:sti_habtm</span>, <span class="ruby-value">:sti_post_and_comments</span>, <span class="ruby-value">:sti_comments</span>, <span class="ruby-value">:authorless</span>, <span class="ruby-value">:thinking</span>, <span class="ruby-value">:welcome</span>
  ].<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">post</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">posts</span>(<span class="ruby-identifier">post</span>), <span class="ruby-identifier">list</span>[<span class="ruby-identifier">index</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_with_two_tables_in_from_without_getting_double_quoted">
            
              <a name="method-i-test_with_two_tables_in_from_without_getting_double_quoted"></a><b>test_with_two_tables_in_from_without_getting_double_quoted</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_with_two_tables_in_from_without_getting_double_quoted_source')" id="l_method-i-test_with_two_tables_in_from_without_getting_double_quoted_source">show</a>
                
              </p>
              <div id="method-i-test_with_two_tables_in_from_without_getting_double_quoted_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/test/cases/associations/eager_test.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_with_two_tables_in_from_without_getting_double_quoted</span>
  <span class="ruby-identifier">posts</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">select</span>(<span class="ruby-string">&quot;posts.*&quot;</span>).<span class="ruby-identifier">from</span>(<span class="ruby-string">&quot;authors, posts&quot;</span>).<span class="ruby-identifier">eager_load</span>(<span class="ruby-value">:comments</span>).<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;posts.author_id = authors.id&quot;</span>).<span class="ruby-identifier">order</span>(<span class="ruby-string">&quot;posts.id&quot;</span>).<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    