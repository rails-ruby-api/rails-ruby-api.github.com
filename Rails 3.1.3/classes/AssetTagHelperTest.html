<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>AssetTagHelperTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            AssetTagHelperTest 
            
                <span class="parent">&lt; 
                    
                    <a href="ActionView/TestCase.html">ActionView::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/actionpack/test/template/asset_tag_helper_test_rb.html">actionpack/test/template/asset_tag_helper_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-call">call</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-host_with_port">host_with_port</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-protocol">protocol</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ssl-3F">ssl?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown">teardown</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_audio_path">test_audio_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_audio_tag">test_audio_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_auto_discovery_link_tag">test_auto_discovery_link_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request">test_caching_image_path_with_caching_and_proc_asset_host_using_request</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_off">test_caching_javascript_include_tag_when_caching_off</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file">test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on">test_caching_javascript_include_tag_when_caching_on</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri">test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file">test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory">test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host">test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host">test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host">test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file">test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file">test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off">test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_javascript_include_tag_with_relative_url_root">test_caching_javascript_include_tag_with_relative_url_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_include_tag_when_caching_off">test_caching_stylesheet_include_tag_when_caching_off</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file">test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_when_caching_on">test_caching_stylesheet_link_tag_when_caching_on</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file">test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host">test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off">test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_caching_stylesheet_link_tag_with_relative_url_root">test_caching_stylesheet_link_tag_with_relative_url_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_concat_stylesheet_link_tag_when_caching_off">test_concat_stylesheet_link_tag_when_caching_off</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name">test_custom_javascript_and_stylesheet_expansion_with_same_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions">test_custom_javascript_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end">test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions_return_unique_set">test_custom_javascript_expansions_return_unique_set</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions_with_empty_array_value">test_custom_javascript_expansions_with_empty_array_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions_with_nil_value">test_custom_javascript_expansions_with_nil_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_javascript_expansions_with_undefined_symbol">test_custom_javascript_expansions_with_undefined_symbol</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_stylesheet_expansions">test_custom_stylesheet_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_stylesheet_expansions_return_unique_set">test_custom_stylesheet_expansions_return_unique_set</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_stylesheet_expansions_with_empty_array_value">test_custom_stylesheet_expansions_with_empty_array_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_stylesheet_expansions_with_nil_value">test_custom_stylesheet_expansions_with_nil_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_stylesheet_expansions_with_unknown_symbol">test_custom_stylesheet_expansions_with_unknown_symbol</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_favicon_link_tag">test_favicon_link_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_alt">test_image_alt</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_path">test_image_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_tag">test_image_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_tag_interpreting_email_adding_optional_alt_tag">test_image_tag_interpreting_email_adding_optional_alt_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_tag_interpreting_email_cid_correctly">test_image_tag_interpreting_email_cid_correctly</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_image_tag_windows_behaviour">test_image_tag_windows_behaviour</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_is_html_safe">test_javascript_include_tag_is_html_safe</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice">test_javascript_include_tag_should_not_output_the_same_asset_twice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice">test_javascript_include_tag_should_not_output_the_same_expansion_twice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_with_blank_asset_id">test_javascript_include_tag_with_blank_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_with_given_asset_id">test_javascript_include_tag_with_given_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_include_tag_with_missing_source">test_javascript_include_tag_with_missing_source</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_javascript_path">test_javascript_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_path_to_audio_alias_for_audio_path">test_path_to_audio_alias_for_audio_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_path_to_image_alias_for_image_path">test_path_to_image_alias_for_image_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_path_to_javascript_alias_for_javascript_path">test_path_to_javascript_alias_for_javascript_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_path_to_stylesheet_alias_for_stylesheet_path">test_path_to_stylesheet_alias_for_stylesheet_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_path_to_video_alias_for_video_path">test_path_to_video_alias_for_video_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preset_empty_asset_id">test_preset_empty_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_proc_asset_id">test_proc_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_registering_javascript_expansions_merges_with_existing_expansions">test_registering_javascript_expansions_merges_with_existing_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions">test_registering_stylesheet_expansions_merges_with_existing_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_reset_javascript_expansions">test_reset_javascript_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_not_modify_source_string">test_should_not_modify_source_string</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_skip_asset_id_on_complete_url">test_should_skip_asset_id_on_complete_url</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_skip_asset_id_on_scheme_relative_url">test_should_skip_asset_id_on_scheme_relative_url</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_should_use_preset_asset_id">test_should_use_preset_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions">test_single_javascript_asset_keys_should_take_precedence_over_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions">test_single_stylesheet_asset_keys_should_take_precedence_over_expansions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_string_asset_id">test_string_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag">test_stylesheet_link_tag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag_escapes_options">test_stylesheet_link_tag_escapes_options</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag_is_html_safe">test_stylesheet_link_tag_is_html_safe</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice">test_stylesheet_link_tag_should_not_output_the_same_asset_twice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice">test_stylesheet_link_tag_should_not_output_the_same_expansion_twice</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_link_tag_with_missing_source">test_stylesheet_link_tag_with_missing_source</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_stylesheet_path">test_stylesheet_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_timebased_asset_id">test_timebased_asset_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_timebased_asset_id_with_relative_url_root">test_timebased_asset_id_with_relative_url_root</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_video_path">test_video_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_video_tag">test_video_tag</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-url_for">url_for</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">AutoDiscoveryToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(auto_discovery_link_tag) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss)) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:atom)) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;ATOM&quot; type=&quot;application/atom+xml&quot; /&gt;),
%(auto_discovery_link_tag(:xml)) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;XML&quot; type=&quot;application/xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss, :action =&gt; &quot;feed&quot;)) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss, &quot;http://localhost/feed&quot;)) =&gt; %(&lt;link href=&quot;http://localhost/feed&quot; rel=&quot;alternate&quot; title=&quot;RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss, &quot;//localhost/feed&quot;)) =&gt; %(&lt;link href=&quot;//localhost/feed&quot; rel=&quot;alternate&quot; title=&quot;RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss, {:action =&gt; &quot;feed&quot;}, {:title =&gt; &quot;My RSS&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;My RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(:rss, {}, {:title =&gt; &quot;My RSS&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;My RSS&quot; type=&quot;application/rss+xml&quot; /&gt;),
%(auto_discovery_link_tag(nil, {}, {:type =&gt; &quot;text/html&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;&quot; type=&quot;text/html&quot; /&gt;),
%(auto_discovery_link_tag(nil, {}, {:title =&gt; &quot;No stream.. really&quot;, :type =&gt; &quot;text/html&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;No stream.. really&quot; type=&quot;text/html&quot; /&gt;),
%(auto_discovery_link_tag(:rss, {}, {:title =&gt; &quot;My RSS&quot;, :type =&gt; &quot;text/html&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;alternate&quot; title=&quot;My RSS&quot; type=&quot;text/html&quot; /&gt;),
%(auto_discovery_link_tag(:atom, {}, {:rel =&gt; &quot;Not so alternate&quot;})) =&gt; %(&lt;link href=&quot;http://www.example.com&quot; rel=&quot;Not so alternate&quot; title=&quot;ATOM&quot; type=&quot;application/atom+xml&quot; /&gt;),
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">JavascriptPathToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(javascript_path(&quot;xmlhr&quot;)) =&gt; %(/javascripts/xmlhr.js),
%(javascript_path(&quot;super/xmlhr&quot;)) =&gt; %(/javascripts/super/xmlhr.js),
%(javascript_path(&quot;/super/xmlhr.js&quot;)) =&gt; %(/super/xmlhr.js)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PathToJavascriptToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(path_to_javascript(&quot;xmlhr&quot;)) =&gt; %(/javascripts/xmlhr.js),
%(path_to_javascript(&quot;super/xmlhr&quot;)) =&gt; %(/javascripts/super/xmlhr.js),
%(path_to_javascript(&quot;/super/xmlhr.js&quot;)) =&gt; %(/super/xmlhr.js)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">JavascriptIncludeToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(javascript_include_tag(&quot;bank&quot;)) =&gt; %(&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;bank.js&quot;)) =&gt; %(&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;bank&quot;, :lang =&gt; &quot;vbscript&quot;)) =&gt; %(&lt;script lang=&quot;vbscript&quot; src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;common.javascript&quot;, &quot;/elsewhere/cools&quot;)) =&gt; %(&lt;script src=&quot;/javascripts/common.javascript&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/elsewhere/cools.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(:defaults)) =&gt; %(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(:all)) =&gt; %(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(:all, :recursive =&gt; true)) =&gt; %(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/subdir/subdir.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(:defaults, &quot;bank&quot;)) =&gt; %(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(:defaults, &quot;application&quot;)) =&gt; %(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;bank&quot;, :defaults)) =&gt; %(&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),

%(javascript_include_tag(&quot;http://example.com/all&quot;)) =&gt; %(&lt;script src=&quot;http://example.com/all&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;http://example.com/all.js&quot;)) =&gt; %(&lt;script src=&quot;http://example.com/all.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
%(javascript_include_tag(&quot;//example.com/all.js&quot;)) =&gt; %(&lt;script src=&quot;//example.com/all.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;),
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">StylePathToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(stylesheet_path(&quot;bank&quot;)) =&gt; %(/stylesheets/bank.css),
%(stylesheet_path(&quot;bank.css&quot;)) =&gt; %(/stylesheets/bank.css),
%(stylesheet_path('subdir/subdir')) =&gt; %(/stylesheets/subdir/subdir.css),
%(stylesheet_path('/subdir/subdir.css')) =&gt; %(/subdir/subdir.css)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PathToStyleToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(path_to_stylesheet(&quot;style&quot;)) =&gt; %(/stylesheets/style.css),
%(path_to_stylesheet(&quot;style.css&quot;)) =&gt; %(/stylesheets/style.css),
%(path_to_stylesheet('dir/file')) =&gt; %(/stylesheets/dir/file.css),
%(path_to_stylesheet('/dir/file.rcss')) =&gt; %(/dir/file.rcss)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">StyleLinkToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(stylesheet_link_tag(&quot;bank&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;bank.css&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;/elsewhere/file&quot;)) =&gt; %(&lt;link href=&quot;/elsewhere/file.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;subdir/subdir&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/subdir/subdir.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;bank&quot;, :media =&gt; &quot;all&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(:all)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(:all, :recursive =&gt; true)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/subdir/subdir.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(:all, :media =&gt; &quot;all&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;random.styles&quot;, &quot;/elsewhere/file&quot;)) =&gt; %(&lt;link href=&quot;/stylesheets/random.styles&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/elsewhere/file.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),

%(stylesheet_link_tag(&quot;http://www.example.com/styles/style&quot;)) =&gt; %(&lt;link href=&quot;http://www.example.com/styles/style&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;http://www.example.com/styles/style.css&quot;)) =&gt; %(&lt;link href=&quot;http://www.example.com/styles/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
%(stylesheet_link_tag(&quot;//www.example.com/styles/style.css&quot;)) =&gt; %(&lt;link href=&quot;//www.example.com/styles/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;),
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">ImagePathToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(image_path(&quot;xml&quot;))          =&gt; %(/images/xml),
%(image_path(&quot;xml.png&quot;))      =&gt; %(/images/xml.png),
%(image_path(&quot;dir/xml.png&quot;))  =&gt; %(/images/dir/xml.png),
%(image_path(&quot;/dir/xml.png&quot;)) =&gt; %(/dir/xml.png)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PathToImageToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(path_to_image(&quot;xml&quot;))          =&gt; %(/images/xml),
%(path_to_image(&quot;xml.png&quot;))      =&gt; %(/images/xml.png),
%(path_to_image(&quot;dir/xml.png&quot;))  =&gt; %(/images/dir/xml.png),
%(path_to_image(&quot;/dir/xml.png&quot;)) =&gt; %(/dir/xml.png)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">ImageLinkToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(image_tag(&quot;xml.png&quot;)) =&gt; %(&lt;img alt=&quot;Xml&quot; src=&quot;/images/xml.png&quot; /&gt;),
%(image_tag(&quot;rss.gif&quot;, :alt =&gt; &quot;rss syndication&quot;)) =&gt; %(&lt;img alt=&quot;rss syndication&quot; src=&quot;/images/rss.gif&quot; /&gt;),
%(image_tag(&quot;gold.png&quot;, :size =&gt; &quot;45x70&quot;)) =&gt; %(&lt;img alt=&quot;Gold&quot; height=&quot;70&quot; src=&quot;/images/gold.png&quot; width=&quot;45&quot; /&gt;),
%(image_tag(&quot;gold.png&quot;, &quot;size&quot; =&gt; &quot;45x70&quot;)) =&gt; %(&lt;img alt=&quot;Gold&quot; height=&quot;70&quot; src=&quot;/images/gold.png&quot; width=&quot;45&quot; /&gt;),
%(image_tag(&quot;error.png&quot;, &quot;size&quot; =&gt; &quot;45&quot;)) =&gt; %(&lt;img alt=&quot;Error&quot; src=&quot;/images/error.png&quot; /&gt;),
%(image_tag(&quot;error.png&quot;, &quot;size&quot; =&gt; &quot;45 x 70&quot;)) =&gt; %(&lt;img alt=&quot;Error&quot; src=&quot;/images/error.png&quot; /&gt;),
%(image_tag(&quot;error.png&quot;, &quot;size&quot; =&gt; &quot;x&quot;)) =&gt; %(&lt;img alt=&quot;Error&quot; src=&quot;/images/error.png&quot; /&gt;),
%(image_tag(&quot;google.com.png&quot;)) =&gt; %(&lt;img alt=&quot;Google.com&quot; src=&quot;/images/google.com.png&quot; /&gt;),
%(image_tag(&quot;slash..png&quot;)) =&gt; %(&lt;img alt=&quot;Slash.&quot; src=&quot;/images/slash..png&quot; /&gt;),
%(image_tag(&quot;.pdf.png&quot;)) =&gt; %(&lt;img alt=&quot;.pdf&quot; src=&quot;/images/.pdf.png&quot; /&gt;),
%(image_tag(&quot;http://www.rubyonrails.com/images/rails.png&quot;)) =&gt; %(&lt;img alt=&quot;Rails&quot; src=&quot;http://www.rubyonrails.com/images/rails.png&quot; /&gt;),
%(image_tag(&quot;//www.rubyonrails.com/images/rails.png&quot;)) =&gt; %(&lt;img alt=&quot;Rails&quot; src=&quot;//www.rubyonrails.com/images/rails.png&quot; /&gt;),
%(image_tag(&quot;mouse.png&quot;, :mouseover =&gt; &quot;/images/mouse_over.png&quot;)) =&gt; %(&lt;img alt=&quot;Mouse&quot; onmouseover=&quot;this.src='/images/mouse_over.png'&quot; onmouseout=&quot;this.src='/images/mouse.png'&quot; src=&quot;/images/mouse.png&quot; /&gt;),
%(image_tag(&quot;mouse.png&quot;, :mouseover =&gt; image_path(&quot;mouse_over.png&quot;))) =&gt; %(&lt;img alt=&quot;Mouse&quot; onmouseover=&quot;this.src='/images/mouse_over.png'&quot; onmouseout=&quot;this.src='/images/mouse.png'&quot; src=&quot;/images/mouse.png&quot; /&gt;),
%(image_tag(&quot;mouse.png&quot;, :alt =&gt; nil)) =&gt; %(&lt;img src=&quot;/images/mouse.png&quot; /&gt;)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">FaviconLinkToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(favicon_link_tag) =&gt; %(&lt;link href=&quot;/favicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;),
%(favicon_link_tag 'favicon.ico') =&gt; %(&lt;link href=&quot;/images/favicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;),
%(favicon_link_tag 'favicon.ico', :rel =&gt; 'foo') =&gt; %(&lt;link href=&quot;/images/favicon.ico&quot; rel=&quot;foo&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;),
%(favicon_link_tag 'favicon.ico', :rel =&gt; 'foo', :type =&gt; 'bar') =&gt; %(&lt;link href=&quot;/images/favicon.ico&quot; rel=&quot;foo&quot; type=&quot;bar&quot; /&gt;),
%(favicon_link_tag 'mb-icon.png', :rel =&gt; 'apple-touch-icon', :type =&gt; 'image/png') =&gt; %(&lt;link href=&quot;/images/mb-icon.png&quot; rel=&quot;apple-touch-icon&quot; type=&quot;image/png&quot; /&gt;)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VideoPathToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(video_path(&quot;xml&quot;))          =&gt; %(/videos/xml),
%(video_path(&quot;xml.ogg&quot;))      =&gt; %(/videos/xml.ogg),
%(video_path(&quot;dir/xml.ogg&quot;))  =&gt; %(/videos/dir/xml.ogg),
%(video_path(&quot;/dir/xml.ogg&quot;)) =&gt; %(/dir/xml.ogg)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PathToVideoToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(path_to_video(&quot;xml&quot;))          =&gt; %(/videos/xml),
%(path_to_video(&quot;xml.ogg&quot;))      =&gt; %(/videos/xml.ogg),
%(path_to_video(&quot;dir/xml.ogg&quot;))  =&gt; %(/videos/dir/xml.ogg),
%(path_to_video(&quot;/dir/xml.ogg&quot;)) =&gt; %(/dir/xml.ogg)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VideoLinkToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(video_tag(&quot;xml.ogg&quot;)) =&gt; %(&lt;video src=&quot;/videos/xml.ogg&quot; /&gt;),
%(video_tag(&quot;rss.m4v&quot;, :autoplay =&gt; true, :controls =&gt; true)) =&gt; %(&lt;video autoplay=&quot;autoplay&quot; controls=&quot;controls&quot; src=&quot;/videos/rss.m4v&quot; /&gt;),
%(video_tag(&quot;rss.m4v&quot;, :autobuffer =&gt; true)) =&gt; %(&lt;video autobuffer=&quot;autobuffer&quot; src=&quot;/videos/rss.m4v&quot; /&gt;),
%(video_tag(&quot;gold.m4v&quot;, :size =&gt; &quot;160x120&quot;)) =&gt; %(&lt;video height=&quot;120&quot; src=&quot;/videos/gold.m4v&quot; width=&quot;160&quot; /&gt;),
%(video_tag(&quot;gold.m4v&quot;, &quot;size&quot; =&gt; &quot;320x240&quot;)) =&gt; %(&lt;video height=&quot;240&quot; src=&quot;/videos/gold.m4v&quot; width=&quot;320&quot; /&gt;),
%(video_tag(&quot;trailer.ogg&quot;, :poster =&gt; &quot;screenshot.png&quot;)) =&gt; %(&lt;video poster=&quot;/images/screenshot.png&quot; src=&quot;/videos/trailer.ogg&quot; /&gt;),
%(video_tag(&quot;error.avi&quot;, &quot;size&quot; =&gt; &quot;100&quot;)) =&gt; %(&lt;video src=&quot;/videos/error.avi&quot; /&gt;),
%(video_tag(&quot;error.avi&quot;, &quot;size&quot; =&gt; &quot;100 x 100&quot;)) =&gt; %(&lt;video src=&quot;/videos/error.avi&quot; /&gt;),
%(video_tag(&quot;error.avi&quot;, &quot;size&quot; =&gt; &quot;x&quot;)) =&gt; %(&lt;video src=&quot;/videos/error.avi&quot; /&gt;),
%(video_tag(&quot;http://media.rubyonrails.org/video/rails_blog_2.mov&quot;)) =&gt; %(&lt;video src=&quot;http://media.rubyonrails.org/video/rails_blog_2.mov&quot; /&gt;),
%(video_tag(&quot;//media.rubyonrails.org/video/rails_blog_2.mov&quot;)) =&gt; %(&lt;video src=&quot;//media.rubyonrails.org/video/rails_blog_2.mov&quot; /&gt;),
%(video_tag([&quot;multiple.ogg&quot;, &quot;multiple.avi&quot;])) =&gt; %(&lt;video&gt;&lt;source src=&quot;multiple.ogg&quot; /&gt;&lt;source src=&quot;multiple.avi&quot; /&gt;&lt;/video&gt;),
%(video_tag([&quot;multiple.ogg&quot;, &quot;multiple.avi&quot;], :size =&gt; &quot;160x120&quot;, :controls =&gt; true)) =&gt; %(&lt;video controls=&quot;controls&quot; height=&quot;120&quot; width=&quot;160&quot;&gt;&lt;source src=&quot;multiple.ogg&quot; /&gt;&lt;source src=&quot;multiple.avi&quot; /&gt;&lt;/video&gt;)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">AudioPathToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(audio_path(&quot;xml&quot;))          =&gt; %(/audios/xml),
%(audio_path(&quot;xml.wav&quot;))      =&gt; %(/audios/xml.wav),
%(audio_path(&quot;dir/xml.wav&quot;))  =&gt; %(/audios/dir/xml.wav),
%(audio_path(&quot;/dir/xml.wav&quot;)) =&gt; %(/dir/xml.wav)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">PathToAudioToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(path_to_audio(&quot;xml&quot;))          =&gt; %(/audios/xml),
%(path_to_audio(&quot;xml.wav&quot;))      =&gt; %(/audios/xml.wav),
%(path_to_audio(&quot;dir/xml.wav&quot;))  =&gt; %(/audios/dir/xml.wav),
%(path_to_audio(&quot;/dir/xml.wav&quot;)) =&gt; %(/dir/xml.wav)
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">AudioLinkToTag</td>
            <td>=</td>
            <td class="attr-value">{
%(audio_tag(&quot;xml.wav&quot;)) =&gt; %(&lt;audio src=&quot;/audios/xml.wav&quot; /&gt;),
%(audio_tag(&quot;rss.wav&quot;, :autoplay =&gt; true, :controls =&gt; true)) =&gt; %(&lt;audio autoplay=&quot;autoplay&quot; controls=&quot;controls&quot; src=&quot;/audios/rss.wav&quot; /&gt;),
%(audio_tag(&quot;http://media.rubyonrails.org/audio/rails_blog_2.mov&quot;)) =&gt; %(&lt;audio src=&quot;http://media.rubyonrails.org/audio/rails_blog_2.mov&quot; /&gt;),
%(audio_tag(&quot;//media.rubyonrails.org/audio/rails_blog_2.mov&quot;)) =&gt; %(&lt;audio src=&quot;//media.rubyonrails.org/audio/rails_blog_2.mov&quot; /&gt;),
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-call">
            
              <a name="method-i-call"></a><b>call</b>(source, request)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call_source')" id="l_method-i-call_source">show</a>
                
              </p>
              <div id="method-i-call_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 655</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">request</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
    <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;#{request.protocol}assets#{source.length}.example.com&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-host_with_port">
            
              <a name="method-i-host_with_port"></a><b>host_with_port</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-host_with_port_source')" id="l_method-i-host_with_port_source">show</a>
                
              </p>
              <div id="method-i-host_with_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">host_with_port</span>() <span class="ruby-string">'localhost'</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-protocol">
            
              <a name="method-i-protocol"></a><b>protocol</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-protocol_source')" id="l_method-i-protocol_source">show</a>
                
              </p>
              <div id="method-i-protocol_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">protocol</span>() <span class="ruby-string">'http://'</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-keyword">super</span>
  <span class="ruby-identifier">silence_warnings</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span>.<span class="ruby-identifier">send</span>(
      <span class="ruby-value">:const_set</span>,
      <span class="ruby-value">:JAVASCRIPTS_DIR</span>,
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/../fixtures/public/javascripts&quot;</span>
    )

    <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span>.<span class="ruby-identifier">send</span>(
      <span class="ruby-value">:const_set</span>,
      <span class="ruby-value">:STYLESHEETS_DIR</span>,
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/../fixtures/public/stylesheets&quot;</span>
    )

    <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span>.<span class="ruby-identifier">send</span>(
      <span class="ruby-value">:const_set</span>,
      <span class="ruby-value">:ASSETS_DIR</span>,
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/../fixtures/public&quot;</span>
    )
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">BasicController</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-ivar">@request</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">protocol</span>() <span class="ruby-string">'http://'</span> <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ssl?</span>() <span class="ruby-keyword">false</span> <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">host_with_port</span>() <span class="ruby-string">'localhost'</span> <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-ivar">@request</span>

  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:defaults</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'prototype'</span>, <span class="ruby-string">'effects'</span>, <span class="ruby-string">'dragdrop'</span>, <span class="ruby-string">'controls'</span>, <span class="ruby-string">'rails'</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ssl-3F">
            
              <a name="method-i-ssl-3F"></a><b>ssl?</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-ssl-3F_source')" id="l_method-i-ssl-3F_source">show</a>
                
              </p>
              <div id="method-i-ssl-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ssl?</span>() <span class="ruby-keyword">false</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown">
            
              <a name="method-i-teardown"></a><b>teardown</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_source')" id="l_method-i-teardown_source">show</a>
                
              </p>
              <div id="method-i-teardown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'RAILS_ASSET_ID'</span>)

  <span class="ruby-constant">JavascriptIncludeTag</span>.<span class="ruby-identifier">expansions</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-constant">StylesheetIncludeTag</span>.<span class="ruby-identifier">expansions</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_audio_path">
            
              <a name="method-i-test_audio_path"></a><b>test_audio_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_audio_path_source')" id="l_method-i-test_audio_path_source">show</a>
                
              </p>
              <div id="method-i-test_audio_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 475</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_audio_path</span>
  <span class="ruby-constant">AudioPathToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_audio_tag">
            
              <a name="method-i-test_audio_tag"></a><b>test_audio_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_audio_tag_source')" id="l_method-i-test_audio_tag_source">show</a>
                
              </p>
              <div id="method-i-test_audio_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_audio_tag</span>
  <span class="ruby-constant">AudioLinkToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_auto_discovery_link_tag">
            
              <a name="method-i-test_auto_discovery_link_tag"></a><b>test_auto_discovery_link_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_auto_discovery_link_tag_source')" id="l_method-i-test_auto_discovery_link_tag_source">show</a>
                
              </p>
              <div id="method-i-test_auto_discovery_link_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_auto_discovery_link_tag</span>
  <span class="ruby-constant">AutoDiscoveryToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request">
            
              <a name="method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request"></a><b>test_caching_image_path_with_caching_and_proc_asset_host_using_request</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request_source')" id="l_method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request_source">show</a>
                
              </p>
              <div id="method-i-test_caching_image_path_with_caching_and_proc_asset_host_using_request_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 548</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_image_path_with_caching_and_proc_asset_host_using_request</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ASSET_ID'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span>, <span class="ruby-identifier">request</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
      <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-node">&quot;#{request.protocol}assets#{source.length}.example.com&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>


  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:ssl?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://assets15.example.com/images/xml.png&quot;</span>, <span class="ruby-identifier">image_path</span>(<span class="ruby-string">&quot;xml.png&quot;</span>)

  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:ssl?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;http://localhost/images/xml.png&quot;</span>, <span class="ruby-identifier">image_path</span>(<span class="ruby-string">&quot;xml.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_off">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_off"></a><b>test_caching_javascript_include_tag_when_caching_off</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_off_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_off_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_off_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 794</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_off</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/subdir/subdir.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/subdir/subdir.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/version.1.0.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file"></a><b>test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 851</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_off_and_missing_javascript_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on"></a><b>test_caching_javascript_include_tag_when_caching_on</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 566</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-string">'http://a0.example.com'</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a0.example.com/javascripts/all.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a0.example.com/javascripts/money.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a0.example.com/absolute/test.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/absolute/test&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>, <span class="ruby-string">'test.js'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri"></a><b>test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 840</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_and_javascript_file_is_uri</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.js'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file"></a><b>test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 823</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_and_missing_javascript_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory"></a><b>test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 692</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_and_using_subdirectory</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-string">'http://a%d.example.com'</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Zlib</span>.<span class="ruby-identifier">crc32</span>(<span class="ruby-string">'/javascripts/cache/money.js'</span>) <span class="ruby-operator">%</span> <span class="ruby-number">4</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-node">%Q(&lt;script src=&quot;http://a#{hash}.example.com/javascripts/cache/money.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;cache/money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'cache'</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'cache'</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host"></a><b>test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 652</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_with_2_argument_object_asset_host</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ASSET_ID'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">request</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
        <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-node">&quot;#{request.protocol}assets#{source.length}.example.com&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/javascripts/vanilla.js'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">23</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://assets23.example.com/javascripts/vanilla.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'vanilla'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'vanilla.js'</span>))

  <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword ruby-title">@controller</span>.<span class="ruby-identifier">request</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">protocol</span>() <span class="ruby-string">'https://'</span> <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ssl?</span>() <span class="ruby-keyword">true</span> <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/javascripts/secure.js'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">22</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;https://localhost/javascripts/secure.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'secure'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'secure.js'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'vanilla.js'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'secure.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host"></a><b>test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 615</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_with_2_argument_proc_asset_host</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ASSET_ID'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span>, <span class="ruby-identifier">request</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
      <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-node">&quot;#{request.protocol}assets#{source.length}.example.com&quot;</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/javascripts/vanilla.js'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">23</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://assets23.example.com/javascripts/vanilla.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'vanilla'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'vanilla.js'</span>))

  <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword ruby-title">@controller</span>.<span class="ruby-identifier">request</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">protocol</span>() <span class="ruby-string">'https://'</span> <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ssl?</span>() <span class="ruby-keyword">true</span> <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/javascripts/secure.js'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">22</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;https://localhost/javascripts/secure.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'secure'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'secure.js'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'vanilla.js'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'secure.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host">
            
              <a name="method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host"></a><b>test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host_source')" id="l_method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 598</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_when_caching_on_with_proc_asset_host</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RAILS_ASSET_ID'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;http://a#{source.length}.example.com&quot;</span> }
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/javascripts/scripts.js'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">23</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a23.example.com/javascripts/scripts.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'scripts'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'scripts.js'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'scripts.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file">
            
              <a name="method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file"></a><b>test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file_source')" id="l_method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 708</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_with_all_and_recursive_puts_defaults_at_the_start_of_the_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-string">'http://a0.example.com'</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a0.example.com/javascripts/combined.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;combined&quot;</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))

  <span class="ruby-identifier">assert_equal</span>(
    <span class="ruby-string">%Q(// prototype js\n\n// effects js\n\n// dragdrop js\n\n// controls js\n\n// bank js\n\n// robber js\n\n// subdir js\n\n\n// version.1.0 js\n\n// application js)</span>,
    <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))
  )

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file">
            
              <a name="method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file"></a><b>test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file_source')" id="l_method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 729</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_with_all_puts_defaults_at_the_start_of_the_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-string">'http://a0.example.com'</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;http://a0.example.com/javascripts/combined.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;combined&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))

  <span class="ruby-identifier">assert_equal</span>(
    <span class="ruby-string">%Q(// prototype js\n\n// effects js\n\n// dragdrop js\n\n// controls js\n\n// bank js\n\n// robber js\n\n// version.1.0 js\n\n// application js)</span>,
    <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))
  )

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'combined.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off">
            
              <a name="method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off"></a><b>test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off_source')" id="l_method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 774</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_with_named_paths_and_relative_url_root_when_caching_off</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">relative_url_root</span> = <span class="ruby-string">&quot;/collaboration/hieraki&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/collaboration/hieraki/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'robber'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/collaboration/hieraki/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'robber'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_javascript_include_tag_with_relative_url_root">
            
              <a name="method-i-test_caching_javascript_include_tag_with_relative_url_root"></a><b>test_caching_javascript_include_tag_with_relative_url_root</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_javascript_include_tag_with_relative_url_root_source')" id="l_method-i-test_caching_javascript_include_tag_with_relative_url_root_source">show</a>
                
              </p>
              <div id="method-i-test_caching_javascript_include_tag_with_relative_url_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 750</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_javascript_include_tag_with_relative_url_root</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">relative_url_root</span> = <span class="ruby-string">&quot;/collaboration/hieraki&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/collaboration/hieraki/javascripts/all.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;script src=&quot;/collaboration/hieraki/javascripts/money.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>,
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'all.js'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JAVASCRIPTS_DIR</span>, <span class="ruby-string">'money.js'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_include_tag_when_caching_off">
            
              <a name="method-i-test_caching_stylesheet_include_tag_when_caching_off"></a><b>test_caching_stylesheet_include_tag_when_caching_off</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_include_tag_when_caching_off_source')" id="l_method-i-test_caching_stylesheet_include_tag_when_caching_off_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_include_tag_when_caching_off_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 1045</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_include_tag_when_caching_off</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/subdir/subdir.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/subdir/subdir.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>, <span class="ruby-value">:recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file">
            
              <a name="method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file"></a><b>test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file_source')" id="l_method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_when_caching_off_and_missing_css_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_when_caching_on">
            
              <a name="method-i-test_caching_stylesheet_link_tag_when_caching_on"></a><b>test_caching_stylesheet_link_tag_when_caching_on</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_when_caching_on_source')" id="l_method-i-test_caching_stylesheet_link_tag_when_caching_on_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_when_caching_on_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 868</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_when_caching_on</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-string">'a0.example.com'</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;http://a0.example.com/stylesheets/all.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">files_to_be_joined</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{ActionView::Helpers::AssetTagHelper::STYLESHEETS_DIR}/[^all]*.css&quot;</span>]

  <span class="ruby-identifier">expected_mtime</span> = <span class="ruby-identifier">files_to_be_joined</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">p</span>) }.<span class="ruby-identifier">max</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_mtime</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">bytes_added_by_join</span> = <span class="ruby-string">&quot;\n\n&quot;</span>.<span class="ruby-identifier">size</span> * <span class="ruby-identifier">files_to_be_joined</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-string">&quot;\n\n&quot;</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">expected_size</span> = <span class="ruby-identifier">files_to_be_joined</span>.<span class="ruby-identifier">sum</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">size</span>(<span class="ruby-identifier">p</span>) } <span class="ruby-operator">+</span> <span class="ruby-identifier">bytes_added_by_join</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_size</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">size</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;http://a0.example.com/stylesheets/money.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;http://a0.example.com/absolute/test.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/absolute/test&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>, <span class="ruby-string">'test.css'</span>))
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file">
            
              <a name="method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file"></a><b>test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file_source')" id="l_method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 936</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_when_caching_on_and_missing_css_file</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>) {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'bank'</span>, <span class="ruby-string">'robber'</span>, <span class="ruby-string">'missing_security_guard'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host">
            
              <a name="method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host"></a><b>test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host_source')" id="l_method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 978</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_when_caching_on_with_proc_asset_host</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;a#{source.length}.example.com&quot;</span> }
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'/stylesheets/styles.css'</span>.<span class="ruby-identifier">length</span>, <span class="ruby-number">23</span>
  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;http://a23.example.com/stylesheets/styles.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'styles'</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'styles.css'</span>))

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'styles.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off">
            
              <a name="method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off"></a><b>test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off_source')" id="l_method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 1022</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_with_named_paths_and_relative_url_root_when_caching_off</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">relative_url_root</span> = <span class="ruby-string">&quot;/collaboration/hieraki&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/collaboration/hieraki/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'robber'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/collaboration/hieraki/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'robber'</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_caching_stylesheet_link_tag_with_relative_url_root">
            
              <a name="method-i-test_caching_stylesheet_link_tag_with_relative_url_root"></a><b>test_caching_stylesheet_link_tag_with_relative_url_root</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_caching_stylesheet_link_tag_with_relative_url_root_source')" id="l_method-i-test_caching_stylesheet_link_tag_with_relative_url_root_source">show</a>
                
              </p>
              <div id="method-i-test_caching_stylesheet_link_tag_with_relative_url_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 995</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_caching_stylesheet_link_tag_with_relative_url_root</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">relative_url_root</span> = <span class="ruby-string">&quot;/collaboration/hieraki&quot;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/collaboration/hieraki/stylesheets/all.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">files_to_be_joined</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{ActionView::Helpers::AssetTagHelper::STYLESHEETS_DIR}/[^all]*.css&quot;</span>]

  <span class="ruby-identifier">expected_mtime</span> = <span class="ruby-identifier">files_to_be_joined</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">p</span>) }.<span class="ruby-identifier">max</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_mtime</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/collaboration/hieraki/stylesheets/money.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:cache</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_concat_stylesheet_link_tag_when_caching_off">
            
              <a name="method-i-test_concat_stylesheet_link_tag_when_caching_off"></a><b>test_concat_stylesheet_link_tag_when_caching_off</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_concat_stylesheet_link_tag_when_caching_off_source')" id="l_method-i-test_concat_stylesheet_link_tag_when_caching_off_source">show</a>
                
              </p>
              <div id="method-i-test_concat_stylesheet_link_tag_when_caching_off_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 906</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_concat_stylesheet_link_tag_when_caching_off</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/all.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:concat</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  )

  <span class="ruby-identifier">expected</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{ActionView::Helpers::AssetTagHelper::STYLESHEETS_DIR}/*.css&quot;</span>].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">p</span>) }.<span class="ruby-identifier">max</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/money.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:concat</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;money&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))

  <span class="ruby-identifier">assert_dom_equal</span>(
    <span class="ruby-string">%Q(&lt;link href=&quot;/absolute/test.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>,
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:concat</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/absolute/test&quot;</span>)
  )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>, <span class="ruby-string">'test.css'</span>))
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'all.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLESHEETS_DIR</span>, <span class="ruby-string">'money.css'</span>))
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">ASSETS_DIR</span>, <span class="ruby-string">'absolute'</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name">
            
              <a name="method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name"></a><b>test_custom_javascript_and_stylesheet_expansion_with_same_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name_source')" id="l_method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_and_stylesheet_expansion_with_same_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 326</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_and_stylesheet_expansion_with_same_name</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:robbery</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bank&quot;</span>, <span class="ruby-string">&quot;robber&quot;</span>]
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:robbery</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;money&quot;</span>, <span class="ruby-string">&quot;security&quot;</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'controls'</span>, <span class="ruby-value">:robbery</span>, <span class="ruby-string">'effects'</span>)
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;\n&lt;link href=&quot;/stylesheets/money.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;\n&lt;link href=&quot;/stylesheets/security.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;\n&lt;link href=&quot;/stylesheets/print.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'style'</span>, <span class="ruby-value">:robbery</span>, <span class="ruby-string">'print'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions">
            
              <a name="method-i-test_custom_javascript_expansions"></a><b>test_custom_javascript_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_source')" id="l_method-i-test_custom_javascript_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:robbery</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bank&quot;</span>, <span class="ruby-string">&quot;robber&quot;</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'controls'</span>, <span class="ruby-value">:robbery</span>, <span class="ruby-string">'effects'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end">
            
              <a name="method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end"></a><b>test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end_source')" id="l_method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions_and_defaults_puts_application_js_at_the_end</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:robbery</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bank&quot;</span>, <span class="ruby-string">&quot;robber&quot;</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'controls'</span>,<span class="ruby-value">:defaults</span>, <span class="ruby-value">:robbery</span>, <span class="ruby-string">'effects'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions_return_unique_set">
            
              <a name="method-i-test_custom_javascript_expansions_return_unique_set"></a><b>test_custom_javascript_expansions_return_unique_set</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_return_unique_set_source')" id="l_method-i-test_custom_javascript_expansions_return_unique_set_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_return_unique_set_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions_return_unique_set</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:defaults</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(prototype effects dragdrop controls rails application)</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions_with_empty_array_value">
            
              <a name="method-i-test_custom_javascript_expansions_with_empty_array_value"></a><b>test_custom_javascript_expansions_with_empty_array_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_with_empty_array_value_source')" id="l_method-i-test_custom_javascript_expansions_with_empty_array_value_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_with_empty_array_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions_with_empty_array_value</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:monkey</span> =<span class="ruby-operator">&gt;</span> []
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/first.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/last.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:monkey</span>, <span class="ruby-string">'last'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions_with_nil_value">
            
              <a name="method-i-test_custom_javascript_expansions_with_nil_value"></a><b>test_custom_javascript_expansions_with_nil_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_with_nil_value_source')" id="l_method-i-test_custom_javascript_expansions_with_nil_value_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_with_nil_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions_with_nil_value</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:monkey</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/first.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/last.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:monkey</span>, <span class="ruby-string">'last'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_javascript_expansions_with_undefined_symbol">
            
              <a name="method-i-test_custom_javascript_expansions_with_undefined_symbol"></a><b>test_custom_javascript_expansions_with_undefined_symbol</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_javascript_expansions_with_undefined_symbol_source')" id="l_method-i-test_custom_javascript_expansions_with_undefined_symbol_source">show</a>
                
              </p>
              <div id="method-i-test_custom_javascript_expansions_with_undefined_symbol_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_javascript_expansions_with_undefined_symbol</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:unknown</span>, <span class="ruby-string">'last'</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_stylesheet_expansions">
            
              <a name="method-i-test_custom_stylesheet_expansions"></a><b>test_custom_stylesheet_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_stylesheet_expansions_source')" id="l_method-i-test_custom_stylesheet_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_custom_stylesheet_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 373</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_stylesheet_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:robbery</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bank&quot;</span>, <span class="ruby-string">&quot;robber&quot;</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/version.1.0.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/subdir/subdir.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'version.1.0'</span>, <span class="ruby-value">:robbery</span>, <span class="ruby-string">'subdir/subdir'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_stylesheet_expansions_return_unique_set">
            
              <a name="method-i-test_custom_stylesheet_expansions_return_unique_set"></a><b>test_custom_stylesheet_expansions_return_unique_set</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_stylesheet_expansions_return_unique_set_source')" id="l_method-i-test_custom_stylesheet_expansions_return_unique_set_source">show</a>
                
              </p>
              <div id="method-i-test_custom_stylesheet_expansions_return_unique_set_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 379</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_stylesheet_expansions_return_unique_set</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:cities</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(wellington amsterdam london)</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/wellington.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/amsterdam.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/london.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:cities</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_stylesheet_expansions_with_empty_array_value">
            
              <a name="method-i-test_custom_stylesheet_expansions_with_empty_array_value"></a><b>test_custom_stylesheet_expansions_with_empty_array_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_stylesheet_expansions_with_empty_array_value_source')" id="l_method-i-test_custom_stylesheet_expansions_with_empty_array_value_source">show</a>
                
              </p>
              <div id="method-i-test_custom_stylesheet_expansions_with_empty_array_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_stylesheet_expansions_with_empty_array_value</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:monkey</span> =<span class="ruby-operator">&gt;</span> []
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/first.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;\n&lt;link href=&quot;/stylesheets/last.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:monkey</span>, <span class="ruby-string">'last'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_stylesheet_expansions_with_nil_value">
            
              <a name="method-i-test_custom_stylesheet_expansions_with_nil_value"></a><b>test_custom_stylesheet_expansions_with_nil_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_stylesheet_expansions_with_nil_value_source')" id="l_method-i-test_custom_stylesheet_expansions_with_nil_value_source">show</a>
                
              </p>
              <div id="method-i-test_custom_stylesheet_expansions_with_nil_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_stylesheet_expansions_with_nil_value</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:monkey</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/first.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;\n&lt;link href=&quot;/stylesheets/last.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:monkey</span>, <span class="ruby-string">'last'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_stylesheet_expansions_with_unknown_symbol">
            
              <a name="method-i-test_custom_stylesheet_expansions_with_unknown_symbol"></a><b>test_custom_stylesheet_expansions_with_unknown_symbol</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_stylesheet_expansions_with_unknown_symbol_source')" id="l_method-i-test_custom_stylesheet_expansions_with_unknown_symbol_source">show</a>
                
              </p>
              <div id="method-i-test_custom_stylesheet_expansions_with_unknown_symbol_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 402</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_stylesheet_expansions_with_unknown_symbol</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'first'</span>, <span class="ruby-value">:unknown</span>, <span class="ruby-string">'last'</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_favicon_link_tag">
            
              <a name="method-i-test_favicon_link_tag"></a><b>test_favicon_link_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_favicon_link_tag_source')" id="l_method-i-test_favicon_link_tag_source">show</a>
                
              </p>
              <div id="method-i-test_favicon_link_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_favicon_link_tag</span>
  <span class="ruby-constant">FaviconLinkToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_alt">
            
              <a name="method-i-test_image_alt"></a><b>test_image_alt</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_alt_source')" id="l_method-i-test_image_alt_source">show</a>
                
              </p>
              <div id="method-i-test_image_alt_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_alt</span>
  [<span class="ruby-keyword">nil</span>, <span class="ruby-string">'/'</span>, <span class="ruby-string">'/foo/bar/'</span>, <span class="ruby-string">'foo/bar/'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">prefix</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'Rails'</span>, <span class="ruby-identifier">image_alt</span>(<span class="ruby-node">&quot;#{prefix}rails.png&quot;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'Rails'</span>, <span class="ruby-identifier">image_alt</span>(<span class="ruby-node">&quot;#{prefix}rails-9c0a079bdd7701d7e729bd956823d153.png&quot;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'Avatar-0000'</span>, <span class="ruby-identifier">image_alt</span>(<span class="ruby-node">&quot;#{prefix}avatar-0000.png&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_path">
            
              <a name="method-i-test_image_path"></a><b>test_image_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_path_source')" id="l_method-i-test_image_path_source">show</a>
                
              </p>
              <div id="method-i-test_image_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_path</span>
  <span class="ruby-constant">ImagePathToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_tag">
            
              <a name="method-i-test_image_tag"></a><b>test_image_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_tag_source')" id="l_method-i-test_image_tag_source">show</a>
                
              </p>
              <div id="method-i-test_image_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_tag</span>
  <span class="ruby-constant">ImageLinkToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_tag_interpreting_email_adding_optional_alt_tag">
            
              <a name="method-i-test_image_tag_interpreting_email_adding_optional_alt_tag"></a><b>test_image_tag_interpreting_email_adding_optional_alt_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_tag_interpreting_email_adding_optional_alt_tag_source')" id="l_method-i-test_image_tag_interpreting_email_adding_optional_alt_tag_source">show</a>
                
              </p>
              <div id="method-i-test_image_tag_interpreting_email_adding_optional_alt_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_tag_interpreting_email_adding_optional_alt_tag</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'&lt;img alt=&quot;Image&quot; src=&quot;cid:thi%25%25sis@acontentid&quot; /&gt;'</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;cid:thi%25%25sis@acontentid&quot;</span>, <span class="ruby-value">:alt</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Image&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_tag_interpreting_email_cid_correctly">
            
              <a name="method-i-test_image_tag_interpreting_email_cid_correctly"></a><b>test_image_tag_interpreting_email_cid_correctly</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_tag_interpreting_email_cid_correctly_source')" id="l_method-i-test_image_tag_interpreting_email_cid_correctly_source">show</a>
                
              </p>
              <div id="method-i-test_image_tag_interpreting_email_cid_correctly_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 508</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_tag_interpreting_email_cid_correctly</span>
  <span class="ruby-comment"># An inline image has no need for an alt tag to be automatically generated from the cid:</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'&lt;img src=&quot;cid:thi%25%25sis@acontentid&quot; /&gt;'</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;cid:thi%25%25sis@acontentid&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_image_tag_windows_behaviour">
            
              <a name="method-i-test_image_tag_windows_behaviour"></a><b>test_image_tag_windows_behaviour</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_image_tag_windows_behaviour_source')" id="l_method-i-test_image_tag_windows_behaviour_source">show</a>
                
              </p>
              <div id="method-i-test_image_tag_windows_behaviour_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_image_tag_windows_behaviour</span>
  <span class="ruby-identifier">old_asset_id</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>], <span class="ruby-string">&quot;1&quot;</span>
  <span class="ruby-comment"># This simulates the behavior of File#exist? on windows when testing a file ending in &quot;.&quot;</span>
  <span class="ruby-comment"># If the file &quot;rails.png&quot; exists, windows will return true when asked if &quot;rails.png.&quot; exists (notice trailing &quot;.&quot;)</span>
  <span class="ruby-comment"># OS X, linux etc will return false in this case.</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-value">:exist?</span>).<span class="ruby-identifier">with</span>(<span class="ruby-string">'template/../fixtures/public/images/rails.png.'</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?1&quot; /&gt;'</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">'rails.png'</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">old_asset_id</span>
    <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-identifier">old_asset_id</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_is_html_safe">
            
              <a name="method-i-test_javascript_include_tag_is_html_safe"></a><b>test_javascript_include_tag_is_html_safe</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_is_html_safe_source')" id="l_method-i-test_javascript_include_tag_is_html_safe_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_is_html_safe_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_is_html_safe</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>).<span class="ruby-identifier">html_safe?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">&quot;prototype&quot;</span>).<span class="ruby-identifier">html_safe?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice">
            
              <a name="method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice"></a><b>test_javascript_include_tag_should_not_output_the_same_asset_twice</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice_source')" id="l_method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_should_not_output_the_same_asset_twice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_should_not_output_the_same_asset_twice</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'prototype'</span>, <span class="ruby-string">'effects'</span>, <span class="ruby-value">:defaults</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice">
            
              <a name="method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice"></a><b>test_javascript_include_tag_should_not_output_the_same_expansion_twice</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice_source')" id="l_method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_should_not_output_the_same_expansion_twice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_should_not_output_the_same_expansion_twice</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>, <span class="ruby-value">:defaults</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_with_blank_asset_id">
            
              <a name="method-i-test_javascript_include_tag_with_blank_asset_id"></a><b>test_javascript_include_tag_with_blank_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_with_blank_asset_id_source')" id="l_method-i-test_javascript_include_tag_with_blank_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_with_blank_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_with_blank_asset_id</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">JavascriptIncludeToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_with_given_asset_id">
            
              <a name="method-i-test_javascript_include_tag_with_given_asset_id"></a><b>test_javascript_include_tag_with_given_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_with_given_asset_id_source')" id="l_method-i-test_javascript_include_tag_with_given_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_with_given_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_with_given_asset_id</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;1&quot;</span>
  <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/prototype.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/controls.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js?1&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_include_tag_with_missing_source">
            
              <a name="method-i-test_javascript_include_tag_with_missing_source"></a><b>test_javascript_include_tag_with_missing_source</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_include_tag_with_missing_source_source')" id="l_method-i-test_javascript_include_tag_with_missing_source_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_include_tag_with_missing_source_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 246</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_include_tag_with_missing_source</span>
  <span class="ruby-identifier">assert_nothing_raised</span> {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'missing_security_guard'</span>)
  }

  <span class="ruby-identifier">assert_nothing_raised</span> {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>, <span class="ruby-string">'missing_security_guard'</span>)
  }

  <span class="ruby-identifier">assert_nothing_raised</span> {
    <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'http://example.com/css/missing_security_guard'</span>)
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_javascript_path">
            
              <a name="method-i-test_javascript_path"></a><b>test_javascript_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_javascript_path_source')" id="l_method-i-test_javascript_path_source">show</a>
                
              </p>
              <div id="method-i-test_javascript_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_javascript_path</span>
  <span class="ruby-constant">JavascriptPathToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_path_to_audio_alias_for_audio_path">
            
              <a name="method-i-test_path_to_audio_alias_for_audio_path"></a><b>test_path_to_audio_alias_for_audio_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_path_to_audio_alias_for_audio_path_source')" id="l_method-i-test_path_to_audio_alias_for_audio_path_source">show</a>
                
              </p>
              <div id="method-i-test_path_to_audio_alias_for_audio_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_path_to_audio_alias_for_audio_path</span>
  <span class="ruby-constant">PathToAudioToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_path_to_image_alias_for_image_path">
            
              <a name="method-i-test_path_to_image_alias_for_image_path"></a><b>test_path_to_image_alias_for_image_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_path_to_image_alias_for_image_path_source')" id="l_method-i-test_path_to_image_alias_for_image_path_source">show</a>
                
              </p>
              <div id="method-i-test_path_to_image_alias_for_image_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_path_to_image_alias_for_image_path</span>
  <span class="ruby-constant">PathToImageToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_path_to_javascript_alias_for_javascript_path">
            
              <a name="method-i-test_path_to_javascript_alias_for_javascript_path"></a><b>test_path_to_javascript_alias_for_javascript_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_path_to_javascript_alias_for_javascript_path_source')" id="l_method-i-test_path_to_javascript_alias_for_javascript_path_source">show</a>
                
              </p>
              <div id="method-i-test_path_to_javascript_alias_for_javascript_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_path_to_javascript_alias_for_javascript_path</span>
  <span class="ruby-constant">PathToJavascriptToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_path_to_stylesheet_alias_for_stylesheet_path">
            
              <a name="method-i-test_path_to_stylesheet_alias_for_stylesheet_path"></a><b>test_path_to_stylesheet_alias_for_stylesheet_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_path_to_stylesheet_alias_for_stylesheet_path_source')" id="l_method-i-test_path_to_stylesheet_alias_for_stylesheet_path_source">show</a>
                
              </p>
              <div id="method-i-test_path_to_stylesheet_alias_for_stylesheet_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_path_to_stylesheet_alias_for_stylesheet_path</span>
  <span class="ruby-constant">PathToStyleToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_path_to_video_alias_for_video_path">
            
              <a name="method-i-test_path_to_video_alias_for_video_path"></a><b>test_path_to_video_alias_for_video_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_path_to_video_alias_for_video_path_source')" id="l_method-i-test_path_to_video_alias_for_video_path_source">show</a>
                
              </p>
              <div id="method-i-test_path_to_video_alias_for_video_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_path_to_video_alias_for_video_path</span>
  <span class="ruby-constant">PathToVideoToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preset_empty_asset_id">
            
              <a name="method-i-test_preset_empty_asset_id"></a><b>test_preset_empty_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preset_empty_asset_id_source')" id="l_method-i-test_preset_empty_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_preset_empty_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preset_empty_asset_id</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_proc_asset_id">
            
              <a name="method-i-test_proc_asset_id"></a><b>test_proc_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_proc_asset_id_source')" id="l_method-i-test_proc_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_proc_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_proc_asset_id</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_path</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">asset_path</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;/assets.v12345#{asset_path}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">expected_path</span> = <span class="ruby-string">&quot;/assets.v12345/images/rails.png&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;#{expected_path}&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_registering_javascript_expansions_merges_with_existing_expansions">
            
              <a name="method-i-test_registering_javascript_expansions_merges_with_existing_expansions"></a><b>test_registering_javascript_expansions_merges_with_existing_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_registering_javascript_expansions_merges_with_existing_expansions_source')" id="l_method-i-test_registering_javascript_expansions_merges_with_existing_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_registering_javascript_expansions_merges_with_existing_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_registering_javascript_expansions_merges_with_existing_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'bank'</span>]
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'robber'</span>]
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_javascript_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'bank'</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/bank.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/robber.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:can_merge</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions">
            
              <a name="method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions"></a><b>test_registering_stylesheet_expansions_merges_with_existing_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions_source')" id="l_method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_registering_stylesheet_expansions_merges_with_existing_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 416</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_registering_stylesheet_expansions_merges_with_existing_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'bank'</span>]
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'robber'</span>]
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:can_merge</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'bank'</span>]
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/bank.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/robber.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:can_merge</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_reset_javascript_expansions">
            
              <a name="method-i-test_reset_javascript_expansions"></a><b>test_reset_javascript_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_reset_javascript_expansions_source')" id="l_method-i-test_reset_javascript_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_reset_javascript_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 334</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_reset_javascript_expansions</span>
  <span class="ruby-constant">JavascriptIncludeTag</span>.<span class="ruby-identifier">expansions</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-value">:defaults</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_not_modify_source_string">
            
              <a name="method-i-test_should_not_modify_source_string"></a><b>test_should_not_modify_source_string</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_not_modify_source_string_source')" id="l_method-i-test_should_not_modify_source_string_source">show</a>
                
              </p>
              <div id="method-i-test_should_not_modify_source_string_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_not_modify_source_string</span>
  <span class="ruby-identifier">source</span> = <span class="ruby-string">'/images/rails.png'</span>
  <span class="ruby-identifier">copy</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">image_tag</span>(<span class="ruby-identifier">source</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">copy</span>, <span class="ruby-identifier">source</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_skip_asset_id_on_complete_url">
            
              <a name="method-i-test_should_skip_asset_id_on_complete_url"></a><b>test_should_skip_asset_id_on_complete_url</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_skip_asset_id_on_complete_url_source')" id="l_method-i-test_should_skip_asset_id_on_complete_url_source">show</a>
                
              </p>
              <div id="method-i-test_should_skip_asset_id_on_complete_url_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 523</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_skip_asset_id_on_complete_url</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;http://www.example.com/rails.png&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;http://www.example.com/rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_skip_asset_id_on_scheme_relative_url">
            
              <a name="method-i-test_should_skip_asset_id_on_scheme_relative_url"></a><b>test_should_skip_asset_id_on_scheme_relative_url</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_skip_asset_id_on_scheme_relative_url_source')" id="l_method-i-test_should_skip_asset_id_on_scheme_relative_url_source">show</a>
                
              </p>
              <div id="method-i-test_should_skip_asset_id_on_scheme_relative_url_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 527</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_skip_asset_id_on_scheme_relative_url</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;//www.example.com/rails.png&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;//www.example.com/rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_should_use_preset_asset_id">
            
              <a name="method-i-test_should_use_preset_asset_id"></a><b>test_should_use_preset_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_should_use_preset_asset_id_source')" id="l_method-i-test_should_use_preset_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_should_use_preset_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 531</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_should_use_preset_asset_id</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;4500&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?4500&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions">
            
              <a name="method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions"></a><b>test_single_javascript_asset_keys_should_take_precedence_over_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions_source')" id="l_method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_single_javascript_asset_keys_should_take_precedence_over_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_single_javascript_asset_keys_should_take_precedence_over_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'controls'</span>, <span class="ruby-value">:defaults</span>, <span class="ruby-string">'effects'</span>)
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;script src=&quot;/javascripts/controls.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/effects.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/prototype.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/dragdrop.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/rails.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascripts/application.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;)</span>, <span class="ruby-identifier">javascript_include_tag</span>(<span class="ruby-string">'controls'</span>, <span class="ruby-string">'effects'</span>, <span class="ruby-value">:defaults</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions">
            
              <a name="method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions"></a><b>test_single_stylesheet_asset_keys_should_take_precedence_over_expansions</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions_source')" id="l_method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions_source">show</a>
                
              </p>
              <div id="method-i-test_single_stylesheet_asset_keys_should_take_precedence_over_expansions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_single_stylesheet_asset_keys_should_take_precedence_over_expansions</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:cities</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(wellington amsterdam london)</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/london.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/wellington.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/amsterdam.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'london'</span>, <span class="ruby-value">:cities</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_string_asset_id">
            
              <a name="method-i-test_string_asset_id"></a><b>test_string_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_string_asset_id_source')" id="l_method-i-test_string_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_string_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_string_asset_id</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_path</span> = <span class="ruby-string">&quot;/assets.v12345%s&quot;</span>

  <span class="ruby-identifier">expected_path</span> = <span class="ruby-string">&quot;/assets.v12345/images/rails.png&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;#{expected_path}&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag">
            
              <a name="method-i-test_stylesheet_link_tag"></a><b>test_stylesheet_link_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_source')" id="l_method-i-test_stylesheet_link_tag_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">StyleLinkToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag_escapes_options">
            
              <a name="method-i-test_stylesheet_link_tag_escapes_options"></a><b>test_stylesheet_link_tag_escapes_options</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_escapes_options_source')" id="l_method-i-test_stylesheet_link_tag_escapes_options_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_escapes_options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag_escapes_options</span>
  <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-string">%Q(&lt;link href=&quot;/file.css&quot; media=&quot;&amp;lt;script&amp;gt;&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'/file'</span>, <span class="ruby-value">:media</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'&lt;script&gt;'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag_is_html_safe">
            
              <a name="method-i-test_stylesheet_link_tag_is_html_safe"></a><b>test_stylesheet_link_tag_is_html_safe</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_is_html_safe_source')" id="l_method-i-test_stylesheet_link_tag_is_html_safe_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_is_html_safe_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 363</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag_is_html_safe</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'dir/file'</span>).<span class="ruby-identifier">html_safe?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'dir/other/file'</span>, <span class="ruby-string">'dir/file2'</span>).<span class="ruby-identifier">html_safe?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice">
            
              <a name="method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice"></a><b>test_stylesheet_link_tag_should_not_output_the_same_asset_twice</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice_source')" id="l_method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_should_not_output_the_same_asset_twice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag_should_not_output_the_same_asset_twice</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/wellington.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/amsterdam.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'wellington'</span>, <span class="ruby-string">'wellington'</span>, <span class="ruby-string">'amsterdam'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice">
            
              <a name="method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice"></a><b>test_stylesheet_link_tag_should_not_output_the_same_expansion_twice</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice_source')" id="l_method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_should_not_output_the_same_expansion_twice_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 390</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag_should_not_output_the_same_expansion_twice</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetTagHelper</span><span class="ruby-operator">::</span><span class="ruby-identifier">register_stylesheet_expansion</span> <span class="ruby-value">:cities</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(wellington amsterdam london)</span>
  <span class="ruby-identifier">assert_dom_equal</span>  <span class="ruby-string">%Q(&lt;link href=&quot;/stylesheets/wellington.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/amsterdam.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n&lt;link href=&quot;/stylesheets/london.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;)</span>, <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-value">:cities</span>, <span class="ruby-value">:cities</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_link_tag_with_missing_source">
            
              <a name="method-i-test_stylesheet_link_tag_with_missing_source"></a><b>test_stylesheet_link_tag_with_missing_source</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_link_tag_with_missing_source_source')" id="l_method-i-test_stylesheet_link_tag_with_missing_source_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_link_tag_with_missing_source_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_link_tag_with_missing_source</span>
  <span class="ruby-identifier">assert_nothing_raised</span> {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'missing_security_guard'</span>)
  }

  <span class="ruby-identifier">assert_nothing_raised</span> {
    <span class="ruby-identifier">stylesheet_link_tag</span>(<span class="ruby-string">'http://example.com/css/missing_security_guard'</span>)
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_stylesheet_path">
            
              <a name="method-i-test_stylesheet_path"></a><b>test_stylesheet_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_stylesheet_path_source')" id="l_method-i-test_stylesheet_path_source">show</a>
                
              </p>
              <div id="method-i-test_stylesheet_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 339</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_stylesheet_path</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAILS_ASSET_ID&quot;</span>] = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-constant">StylePathToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_timebased_asset_id">
            
              <a name="method-i-test_timebased_asset_id"></a><b>test_timebased_asset_id</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_timebased_asset_id_source')" id="l_method-i-test_timebased_asset_id_source">show</a>
                
              </p>
              <div id="method-i-test_timebased_asset_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 487</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_timebased_asset_id</span>
  <span class="ruby-identifier">expected_time</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/../fixtures/public/images/rails.png&quot;</span>)).<span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?#{expected_time}&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_timebased_asset_id_with_relative_url_root">
            
              <a name="method-i-test_timebased_asset_id_with_relative_url_root"></a><b>test_timebased_asset_id_with_relative_url_root</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_timebased_asset_id_with_relative_url_root_source')" id="l_method-i-test_timebased_asset_id_with_relative_url_root_source">show</a>
                
              </p>
              <div id="method-i-test_timebased_asset_id_with_relative_url_root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 517</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_timebased_asset_id_with_relative_url_root</span>
  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">relative_url_root</span> = <span class="ruby-string">&quot;/collaboration/hieraki&quot;</span>
  <span class="ruby-identifier">expected_time</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/../fixtures/public/images/rails.png&quot;</span>)).<span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%Q(&lt;img alt=&quot;Rails&quot; src=&quot;#{@controller.config.relative_url_root}/images/rails.png?#{expected_time}&quot; /&gt;)</span>, <span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rails.png&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_video_path">
            
              <a name="method-i-test_video_path"></a><b>test_video_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_video_path_source')" id="l_method-i-test_video_path_source">show</a>
                
              </p>
              <div id="method-i-test_video_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_video_path</span>
  <span class="ruby-constant">VideoPathToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_video_tag">
            
              <a name="method-i-test_video_tag"></a><b>test_video_tag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_video_tag_source')" id="l_method-i-test_video_tag_source">show</a>
                
              </p>
              <div id="method-i-test_video_tag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_video_tag</span>
  <span class="ruby-constant">VideoLinkToTag</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">method</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-url_for">
            
              <a name="method-i-url_for"></a><b>url_for</b>(*args)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-url_for_source')" id="l_method-i-url_for_source">show</a>
                
              </p>
              <div id="method-i-url_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/test/template/asset_tag_helper_test.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">url_for</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-string">&quot;http://www.example.com&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    