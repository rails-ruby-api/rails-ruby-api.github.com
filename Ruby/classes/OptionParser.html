<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>OptionParser</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            OptionParser 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/Users/fschumac/_rvm/src/ruby-1_9_3-p0/lib/optparse/version_rb.html">/Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse/version.rb</a></li>
            
            <li><a href="../files/Users/fschumac/_rvm/src/ruby-1_9_3-p0/lib/optparse_rb.html">/Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="OptionParser.html">OptionParser</a> internal utility</p>

<h2 id="label-Developer+Documentation+%28not+for+RDoc+output%29">Developer Documentation (not for <a href="RDoc.html">RDoc</a> output)</h2>

<h3 id="label-Class+tree"><a href="Class.html">Class</a> tree</h3>
<ul><li><dl class="rdoc-list note-list"><dt><a href="OptionParser.html">OptionParser</a>
<dd>
<p>front end</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="OptionParser/Switch.html">OptionParser::Switch</a>
<dd>
<p>each switches</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="OptionParser/List.html">OptionParser::List</a>
<dd>
<p>options list</p>
</dd></dl>
</li><li><dl class="rdoc-list note-list"><dt><a href="OptionParser/ParseError.html">OptionParser::ParseError</a>
<dd>
<p>errors on parsing</p>
</dd></dl>
<ul><li>
<p><a
href="OptionParser/AmbiguousOption.html">OptionParser::AmbiguousOption</a></p>
</li><li>
<p><a
href="OptionParser/NeedlessArgument.html">OptionParser::NeedlessArgument</a></p>
</li><li>
<p><a
href="OptionParser/MissingArgument.html">OptionParser::MissingArgument</a></p>
</li><li>
<p><a href="OptionParser/InvalidOption.html">OptionParser::InvalidOption</a></p>
</li><li>
<p><a
href="OptionParser/InvalidArgument.html">OptionParser::InvalidArgument</a></p>
<ul><li>
<p><a
href="OptionParser/AmbiguousArgument.html">OptionParser::AmbiguousArgument</a></p>
</li></ul>
</li></ul>
</li></ul>

<h3 id="label-Object+relationship+diagram"><a href="Object.html">Object</a> relationship diagram</h3>

<pre class="ruby"><span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>
<span class="ruby-operator">|</span> <span class="ruby-constant">OptionParser</span> <span class="ruby-operator">|</span><span class="ruby-operator">&lt;</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>
<span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>       <span class="ruby-operator">|</span>                      <span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>
                       <span class="ruby-operator">|</span>                    ,<span class="ruby-operator">-</span><span class="ruby-operator">|</span> <span class="ruby-constant">Switch</span> <span class="ruby-operator">|</span>
     <span class="ruby-identifier">on_head</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>    <span class="ruby-regexp">%r  +--------+
     accept/</span><span class="ruby-identifier">reject</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">|</span> <span class="ruby-constant">List</span>          <span class="ruby-operator">|</span><span class="ruby-operator">&lt;</span><span class="ruby-operator">|</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">-</span>
                      <span class="ruby-operator">|</span>               <span class="ruby-operator">|</span><span class="ruby-operator">&lt;</span><span class="ruby-operator">|</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">-</span>  <span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>
     <span class="ruby-identifier">on</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">+</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-operator">+</span>    <span class="ruby-value">%x-| argument |
                        :           :        |  class   |
                      +---------------+      |==========|
     on_tail --------&gt;|               |      |pattern   |
                      +---------------+      |----------|
OptionParser.accept -&gt;| DefaultList   |      |converter |
             reject   |(shared between|      +----------+
                      | all instances)|
                      +---------------+
</span></pre>

<h2 id="label-OptionParser"><a href="OptionParser.html">OptionParser</a></h2>

<h3 id="label-Introduction">Introduction</h3>

<p><a href="OptionParser.html">OptionParser</a> is a class for command-line
option analysis.  It is much more advanced, yet also easier to use, than <a
href="GetoptLong.html">GetoptLong</a>, and is a more Ruby-oriented
solution.</p>

<h3 id="label-Features">Features</h3>
<ol><li>
<p>The argument specification and the code to handle it are written in the
same place.</p>
</li><li>
<p>It can output an option summary; you donâ€™t need to maintain this string
separately.</p>
</li><li>
<p>Optional and mandatory arguments are specified very gracefully.</p>
</li><li>
<p>Arguments can be automatically converted to a specified class.</p>
</li><li>
<p>Arguments can be restricted to a certain set.</p>
</li></ol>

<p>All of these features are demonstrated in the examples below.  See <a
href="OptionParser.html#method-i-make_switch">make_switch</a> for full
documentation.</p>

<h3 id="label-Minimal+example">Minimal example</h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'optparse'</span>

<span class="ruby-identifier">options</span> = {}
<span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opts</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-string">&quot;Usage: example.rb [options]&quot;</span>

  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-v&quot;</span>, <span class="ruby-string">&quot;--[no-]verbose&quot;</span>, <span class="ruby-string">&quot;Run verbosely&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">options</span>[:<span class="ruby-identifier">verbose</span>] = <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>.<span class="ruby-identifier">parse!</span>

<span class="ruby-identifier">p</span> <span class="ruby-identifier">options</span>
<span class="ruby-identifier">p</span> <span class="ruby-constant">ARGV</span>
</pre>

<h3 id="label-Complete+example">Complete example</h3>

<p>The following example is a complete Ruby program.  You can run it and see
the effect of specifying various options.  This is probably the best way to
learn the features of <code>optparse</code>.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'optparse'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'optparse/time'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'ostruct'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'pp'</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">OptparseExample</span>

  <span class="ruby-constant">CODES</span> = <span class="ruby-node">%w[iso-2022-jp shift_jis euc-jp utf8 binary]</span>
  <span class="ruby-constant">CODE_ALIASES</span> = { <span class="ruby-string">&quot;jis&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;iso-2022-jp&quot;</span>, <span class="ruby-string">&quot;sjis&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;shift_jis&quot;</span> }

  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># Return a structure describing the options.</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">args</span>)
    <span class="ruby-comment"># The options specified on the command line will be collected in *options*.</span>
    <span class="ruby-comment"># We set default values here.</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-constant">OpenStruct</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">library</span> = []
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">inplace</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-string">&quot;utf8&quot;</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">transfer_type</span> = :<span class="ruby-identifier">auto</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-keyword">false</span>

    <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opts</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-string">&quot;Usage: example.rb [options]&quot;</span>

      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">separator</span> <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">separator</span> <span class="ruby-string">&quot;Specific options:&quot;</span>

      <span class="ruby-comment"># Mandatory argument.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-r&quot;</span>, <span class="ruby-string">&quot;--require LIBRARY&quot;</span>,
              <span class="ruby-string">&quot;Require the LIBRARY before executing your script&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">library</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">lib</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Optional argument; multi-line description.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-i&quot;</span>, <span class="ruby-string">&quot;--inplace [EXTENSION]&quot;</span>,
              <span class="ruby-string">&quot;Edit ARGV files in place&quot;</span>,
              <span class="ruby-string">&quot;  (make backup if EXTENSION supplied)&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ext</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">inplace</span> = <span class="ruby-keyword">true</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">extension</span> = <span class="ruby-identifier">ext</span> <span class="ruby-operator">||</span> <span class="ruby-string">''</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">extension</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">%r\A\.?(?=.)/</span>, <span class="ruby-string">&quot;.&quot;</span>)  <span class="ruby-comment"># Ensure extension begins with dot.</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Cast 'delay' argument to a Float.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;--delay N&quot;</span>, <span class="ruby-constant">Float</span>, <span class="ruby-string">&quot;Delay N seconds before executing&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delay</span> = <span class="ruby-identifier">n</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Cast 'time' argument to a Time object.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-t&quot;</span>, <span class="ruby-string">&quot;--time [TIME]&quot;</span>, <span class="ruby-constant">Time</span>, <span class="ruby-string">&quot;Begin execution at given time&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">time</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">time</span> = <span class="ruby-identifier">time</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Cast to octal integer.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-F&quot;</span>, <span class="ruby-string">&quot;--irs [OCTAL]&quot;</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">OctalInteger</span>,
              <span class="ruby-string">&quot;Specify record separator (default \\0)&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rs</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">record_separator</span> = <span class="ruby-identifier">rs</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># List of arguments.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;--list x,y,z&quot;</span>, <span class="ruby-constant">Array</span>, <span class="ruby-string">&quot;Example 'list' of arguments&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">list</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">list</span> = <span class="ruby-identifier">list</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Keyword completion.  We are specifying a specific set of arguments (CODES</span>
      <span class="ruby-comment"># and CODE_ALIASES - notice the latter is a Hash), and the user may provide</span>
      <span class="ruby-comment"># the shortest unambiguous text.</span>
      <span class="ruby-identifier">code_list</span> = (<span class="ruby-constant">CODE_ALIASES</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-constant">CODES</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">','</span>)
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;--code CODE&quot;</span>, <span class="ruby-constant">CODES</span>, <span class="ruby-constant">CODE_ALIASES</span>, <span class="ruby-string">&quot;Select encoding&quot;</span>,
              <span class="ruby-node">&quot;  (#{code_list})&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">encoding</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">encoding</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Optional argument with keyword completion.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;--type [TYPE]&quot;</span>, [:<span class="ruby-identifier">text</span>, :<span class="ruby-identifier">binary</span>, :<span class="ruby-identifier">auto</span>],
              <span class="ruby-string">&quot;Select transfer type (text, binary, auto)&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">transfer_type</span> = <span class="ruby-identifier">t</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Boolean switch.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;-v&quot;</span>, <span class="ruby-string">&quot;--[no-]verbose&quot;</span>, <span class="ruby-string">&quot;Run verbosely&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">v</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">separator</span> <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">separator</span> <span class="ruby-string">&quot;Common options:&quot;</span>

      <span class="ruby-comment"># No argument, shows at tail.  This will print an options summary.</span>
      <span class="ruby-comment"># Try it and see!</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on_tail</span>(<span class="ruby-string">&quot;-h&quot;</span>, <span class="ruby-string">&quot;--help&quot;</span>, <span class="ruby-string">&quot;Show this message&quot;</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-identifier">opts</span>
        <span class="ruby-identifier">exit</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-comment"># Another typical switch to print the version.</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on_tail</span>(<span class="ruby-string">&quot;--version&quot;</span>, <span class="ruby-string">&quot;Show version&quot;</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">'.'</span>)
        <span class="ruby-identifier">exit</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">end</span>  <span class="ruby-comment"># parse()</span>

<span class="ruby-keyword">end</span>  <span class="ruby-comment"># class OptparseExample</span>

<span class="ruby-identifier">options</span> = <span class="ruby-constant">OptparseExample</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">ARGV</span>)
<span class="ruby-identifier">pp</span> <span class="ruby-identifier">options</span>
</pre>

<h3 id="label-Shell+Completion"><a href="Shell.html">Shell</a> <a href="OptionParser/Completion.html">Completion</a></h3>

<p>For modern shells (e.g. bash, zsh, etc.), you can use shell completion for
command line options.</p>

<h3 id="label-Further+documentation">Further documentation</h3>

<p>The above examples should be enough to learn how to use this class.  If you
have any questions, email me (gsinclair@soyabean.com.au) and I will update
this document.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="OptionParser/Acceptables.html">OptionParser::Acceptables</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="OptionParser/Arguable.html">OptionParser::Arguable</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="OptionParser/Completion.html">OptionParser::Completion</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/AmbiguousArgument.html">OptionParser::AmbiguousArgument</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/AmbiguousOption.html">OptionParser::AmbiguousOption</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/CompletingHash.html">OptionParser::CompletingHash</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/InvalidArgument.html">OptionParser::InvalidArgument</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/InvalidOption.html">OptionParser::InvalidOption</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/List.html">OptionParser::List</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/MissingArgument.html">OptionParser::MissingArgument</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/NeedlessArgument.html">OptionParser::NeedlessArgument</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/OptionMap.html">OptionParser::OptionMap</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/ParseError.html">OptionParser::ParseError</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="OptionParser/Switch.html">OptionParser::Switch</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-abort">abort</a>,
              </li>
            
              
              <li>
                <a href="#method-c-accept">accept</a>,
              </li>
            
              
              <li>
                <a href="#method-i-accept">accept</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-banner">banner</a>,
              </li>
            
              
              <li>
                <a href="#method-i-base">base</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-candidate">candidate</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-def_head_option">def_head_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-def_option">def_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-def_tail_option">def_tail_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define">define</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define_head">define_head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-define_tail">define_tail</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-each_const">each_const</a>,
              </li>
            
              
              <li>
                <a href="#method-i-environment">environment</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-getopts">getopts</a>,
              </li>
            
              
              <li>
                <a href="#method-i-getopts">getopts</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-help">help</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-inc">inc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inc">inc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-load">load</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-make_switch">make_switch</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-on">on</a>,
              </li>
            
              
              <li>
                <a href="#method-i-on_head">on_head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-on_tail">on_tail</a>,
              </li>
            
              
              <li>
                <a href="#method-i-order">order</a>,
              </li>
            
              
              <li>
                <a href="#method-i-order-21">order!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-parse">parse</a>,
              </li>
            
              
              <li>
                <a href="#method-i-parse-21">parse!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-permute">permute</a>,
              </li>
            
              
              <li>
                <a href="#method-i-permute-21">permute!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-program_name">program_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reject">reject</a>,
              </li>
            
              
              <li>
                <a href="#method-i-release">release</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove">remove</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-search_const">search_const</a>,
              </li>
            
              
              <li>
                <a href="#method-i-separator">separator</a>,
              </li>
            
              
              <li>
                <a href="#method-c-show_version">show_version</a>,
              </li>
            
              
              <li>
                <a href="#method-i-summarize">summarize</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-terminate">terminate</a>,
              </li>
            
              
              <li>
                <a href="#method-c-terminate">terminate</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_a">to_a</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>,
              </li>
            
              
              <li>
                <a href="#method-i-top">top</a>,
              </li>
            
              
              <li>
                <a href="#method-c-top">top</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-ver">ver</a>,
              </li>
            
              
              <li>
                <a href="#method-i-version">version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-warn">warn</a>,
              </li>
            
              
              <li>
                <a href="#method-c-with">with</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-accept">
            
              <a name="method-c-accept"></a><b>accept</b>(*args, &amp;blk)
            
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-accept">accept</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-accept_source')" id="l_method-c-accept_source">show</a>
                
              </p>
              <div id="method-c-accept_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 919</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">accept</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">accept</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-each_const">
            
              <a name="method-c-each_const"></a><b>each_const</b>(path, base = ::Object)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-each_const_source')" id="l_method-c-each_const_source">show</a>
                
              </p>
              <div id="method-c-each_const_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse/version.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">each_const</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">base</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Object</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">%r::|\//</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">base</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-identifier">path</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">klass</span>
    <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">%r#{name}/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">c</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">c</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-getopts">
            
              <a name="method-c-getopts"></a><b>getopts</b>(*args)
            
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-getopts">getopts</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-getopts_source')" id="l_method-c-getopts_source">show</a>
                
              </p>
              <div id="method-c-getopts_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1500</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">getopts</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">getopts</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inc">
            
              <a name="method-c-inc"></a><b>inc</b>(arg, default = nil)
            
          </div>
          
          
            <div class="description">
              <p>Returns an incremented value of <code>default</code> according to
<code>arg</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-inc_source')" id="l_method-c-inc_source">show</a>
                
              </p>
              <div id="method-c-inc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 855</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">inc</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">arg</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">nonzero?</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">default</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <a name="method-c-new"></a><b>new</b>(banner = nil, width = 32, indent = ' ' * 4)
            
          </div>
          
          
            <div class="description">
              <p>Initializes the instance and yields itself if called with a block.</p>
<dl class="rdoc-list note-list"><dt>banner
<dd>
<p>Banner message.</p>
</dd><dt>width
<dd>
<p>Summary width.</p>
</dd><dt><code>indent</code>
<dd>
<p>Summary indent.</p>
</dd></dl>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">banner</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">width</span> = <span class="ruby-number">32</span>, <span class="ruby-identifier">indent</span> = <span class="ruby-string">' '</span> * <span class="ruby-number">4</span>)
  <span class="ruby-ivar">@stack</span> = [<span class="ruby-constant">DefaultList</span>, <span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>]
  <span class="ruby-ivar">@program_name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@banner</span> = <span class="ruby-identifier">banner</span>
  <span class="ruby-ivar">@summary_width</span> = <span class="ruby-identifier">width</span>
  <span class="ruby-ivar">@summary_indent</span> = <span class="ruby-identifier">indent</span>
  <span class="ruby-ivar">@default_argv</span> = <span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">add_officious</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-reject">
            
              <a name="method-c-reject"></a><b>reject</b>(*args, &amp;blk)
            
          </div>
          
          
            <div class="description">
              <p>See <a href="OptionParser.html#method-i-reject">reject</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-reject_source')" id="l_method-c-reject_source">show</a>
                
              </p>
              <div id="method-c-reject_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 932</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">reject</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">reject</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-search_const">
            
              <a name="method-c-search_const"></a><b>search_const</b>(klass, name)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-search_const_source')" id="l_method-c-search_const_source">show</a>
                
              </p>
              <div id="method-c-search_const_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse/version.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">search_const</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">klasses</span> = [<span class="ruby-identifier">klass</span>]
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cname</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">cname</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">const</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">cname</span>)
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">const</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">cname</span>
      <span class="ruby-identifier">klasses</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">const</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">const</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">const</span> <span class="ruby-operator">!=</span> <span class="ruby-operator">::</span><span class="ruby-constant">Object</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-show_version">
            
              <a name="method-c-show_version"></a><b>show_version</b>(*pkgs)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-show_version_source')" id="l_method-c-show_version_source">show</a>
                
              </p>
              <div id="method-c-show_version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse/version.rb, line 4</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">show_version</span>(*<span class="ruby-identifier">pkgs</span>)
  <span class="ruby-identifier">progname</span> = <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">program_name</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">show</span> = <span class="ruby-identifier">proc</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">version</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;#{progname}&quot;</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">Object</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">cname</span> <span class="ruby-operator">==</span> <span class="ruby-value">:VERSION</span>
      <span class="ruby-identifier">version</span> = <span class="ruby-identifier">version</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;.&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">version</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;: #{klass}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Object</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; version #{version}&quot;</span>
    <span class="ruby-keyword">end</span>
    [<span class="ruby-value">:Release</span>, <span class="ruby-value">:RELEASE</span>].<span class="ruby-identifier">find</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rel</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">rel</span>)
        <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{klass.const_get(rel)})&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-identifier">str</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pkgs</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">pkgs</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;all&quot;</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">search_const</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Object</span>, <span class="ruby-regexp">%r\AV(?:ERSION|ersion)\z/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>, <span class="ruby-identifier">version</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cname</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">==</span> <span class="ruby-number">ee</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Version</span>)
        <span class="ruby-identifier">show</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cname</span>.<span class="ruby-identifier">intern</span>, <span class="ruby-identifier">version</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pkgs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pkg</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">pkg</span> = <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">%r::|\//</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Object</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">c</span>)}
        <span class="ruby-identifier">v</span> = <span class="ruby-keyword">case</span>
            <span class="ruby-keyword">when</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Version</span>)
              <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">n</span> = <span class="ruby-value">:Version</span>)
            <span class="ruby-keyword">when</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:VERSION</span>)
              <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">n</span> = <span class="ruby-value">:VERSION</span>)
            <span class="ruby-keyword">else</span>
              <span class="ruby-identifier">n</span> = <span class="ruby-keyword">nil</span>
              <span class="ruby-string">&quot;unknown&quot;</span>
            <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">show</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">pkg</span>, <span class="ruby-identifier">n</span>, <span class="ruby-identifier">v</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-terminate">
            
              <a name="method-c-terminate"></a><b>terminate</b>(arg = nil)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-terminate_source')" id="l_method-c-terminate_source">show</a>
                
              </p>
              <div id="method-c-terminate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 899</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">terminate</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">throw</span> <span class="ruby-value">:terminate</span>, <span class="ruby-identifier">arg</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-top">
            
              <a name="method-c-top"></a><b>top</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-top_source')" id="l_method-c-top_source">show</a>
                
              </p>
              <div id="method-c-top_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 904</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">top</span>() <span class="ruby-constant">DefaultList</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with">
            
              <a name="method-c-with"></a><b>with</b>(*args, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Initializes a new instance and evaluates the optional block in context of
the instance. Arguments <code>args</code> are passed to <a
href="OptionParser.html#method-i-new">new</a>, see there for description of
parameters.</p>

<p>This method is <strong>deprecated</strong>, its behavior corresponds to the
older <a href="OptionParser.html#method-i-new">new</a> method.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_source')" id="l_method-c-with_source">show</a>
                
              </p>
              <div id="method-c-with_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 846</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">with</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">new</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">instance_eval</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">opts</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-abort">
            
              <a name="method-i-abort"></a><b>abort</b>(mesg = $!)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-abort_source')" id="l_method-i-abort_source">show</a>
                
              </p>
              <div id="method-i-abort_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1013</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">abort</span>(<span class="ruby-identifier">mesg</span> = <span class="ruby-identifier">$!</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-node">&quot;#{program_name}: #{mesg}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-accept">
            
              <a name="method-i-accept"></a><b>accept</b>(*args, &amp;blk)
            
          </div>
          
          
            <div class="description">
              <p>Directs to accept specified class <code>t</code>. The argument string is
passed to the block in which it should be converted to the desired class.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including <a
href="Class.html">Class</a>.</p>
</dd><dt><code>pat</code>
<dd>
<p>Pattern for argument, defaults to <code>t</code> if it responds to match.</p>
</dd></dl>

<pre>accept(t, pat, &amp;block)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-accept_source')" id="l_method-i-accept_source">show</a>
                
              </p>
              <div id="method-i-accept_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 915</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">accept</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">accept</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-banner">
            
              <a name="method-i-banner"></a><b>banner</b>()
            
          </div>
          
          
            <div class="description">
              <p>Heading banner preceding summary.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-banner_source')" id="l_method-i-banner_source">show</a>
                
              </p>
              <div id="method-i-banner_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">banner</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@banner</span>
    <span class="ruby-ivar">@banner</span> = <span class="ruby-node">&quot;Usage: #{program_name} [options]&quot;</span>
    <span class="ruby-identifier">visit</span>(<span class="ruby-value">:add_banner</span>, <span class="ruby-ivar">@banner</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@banner</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-base">
            
              <a name="method-i-base"></a><b>base</b>()
            
          </div>
          
          
            <div class="description">
              <p>Subject of <a href="OptionParser.html#method-i-on_tail">on_tail</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-base_source')" id="l_method-i-base_source">show</a>
                
              </p>
              <div id="method-i-base_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1027</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">base</span>
  <span class="ruby-ivar">@stack</span>[<span class="ruby-number">1</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-candidate">
            
              <a name="method-i-candidate"></a><b>candidate</b>(word)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-candidate_source')" id="l_method-i-candidate_source">show</a>
                
              </p>
              <div id="method-i-candidate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1547</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">candidate</span>(<span class="ruby-identifier">word</span>)
  <span class="ruby-identifier">list</span> = []
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">word</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r\A--/</span>
    <span class="ruby-identifier">word</span>, <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">%r=/</span>, <span class="ruby-number">2</span>)
    <span class="ruby-identifier">argpat</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">regexp</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">false</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">arg</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">long</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r\A-(!-)/</span>
    <span class="ruby-identifier">short</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r\A-/</span>
    <span class="ruby-identifier">long</span> = <span class="ruby-identifier">short</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">pat</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">regexp</span>(<span class="ruby-identifier">word</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-value">:each_option</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Switch</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">opt</span>
    <span class="ruby-identifier">opts</span> = (<span class="ruby-identifier">long</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">long</span> <span class="ruby-operator">:</span> []) <span class="ruby-operator">+</span> (<span class="ruby-identifier">short</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">short</span> <span class="ruby-operator">:</span> [])
    <span class="ruby-identifier">opts</span> = <span class="ruby-constant">Completion</span>.<span class="ruby-identifier">candidate</span>(<span class="ruby-identifier">word</span>, <span class="ruby-keyword">true</span>, <span class="ruby-identifier">pat</span>, &amp;<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:each</span>)).<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:first</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">pat</span>
    <span class="ruby-keyword">if</span> <span class="ruby-regexp">%r\A=/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">arg</span>
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">sw</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sw</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;=&quot;</span>}
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">CompletingHash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">pattern</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">candidate</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">false</span>, <span class="ruby-identifier">argpat</span>)
          <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">map!</span>(&amp;<span class="ruby-value">:last</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">list</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">list</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_head_option">
            
              <a name="method-i-def_head_option"></a><b>def_head_option</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_option">
            
              <a name="method-i-def_option"></a><b>def_option</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-def_tail_option">
            
              <a name="method-i-def_tail_option"></a><b>def_tail_option</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define">
            
              <a name="method-i-define"></a><b>define</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_option">def_option</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_source')" id="l_method-i-define_source">show</a>
                
              </p>
              <div id="method-i-define_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1276</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">append</span>(*(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define_head">
            
              <a name="method-i-define_head"></a><b>define_head</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_head_option">def_head_option</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_head_source')" id="l_method-i-define_head_source">show</a>
                
              </p>
              <div id="method-i-define_head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1291</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define_head</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">prepend</span>(*(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-define_tail">
            
              <a name="method-i-define_tail"></a><b>define_tail</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-def_tail_option">def_tail_option</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-define_tail_source')" id="l_method-i-define_tail_source">show</a>
                
              </p>
              <div id="method-i-define_tail_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1305</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">define_tail</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">append</span>(*(<span class="ruby-identifier">sw</span> = <span class="ruby-identifier">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-identifier">sw</span>[<span class="ruby-number">0</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-environment">
            
              <a name="method-i-environment"></a><b>environment</b>(env = File.basename($0, '.*'))
            
          </div>
          
          
            <div class="description">
              <p>Parses environment variable <code>env</code> or its uppercase with
splitting like a shell.</p>

<p><code>env</code> defaults to the basename of the program.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-environment_source')" id="l_method-i-environment_source">show</a>
                
              </p>
              <div id="method-i-environment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1604</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">environment</span>(<span class="ruby-identifier">env</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">'.*'</span>))
  <span class="ruby-identifier">env</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">env</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">env</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'shellwords'</span>
  <span class="ruby-identifier">parse</span>(*<span class="ruby-constant">Shellwords</span>.<span class="ruby-identifier">shellwords</span>(<span class="ruby-identifier">env</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-getopts">
            
              <a name="method-i-getopts"></a><b>getopts</b>(*args)
            
          </div>
          
          
            <div class="description">
              <p>Wrapper method for getopts.rb.</p>

<pre>params = ARGV.getopts(&quot;ab:&quot;, &quot;foo&quot;, &quot;bar:&quot;)
# params[:a] = true   # -a
# params[:b] = &quot;1&quot;    # -b1
# params[:foo] = &quot;1&quot;  # --foo
# params[:bar] = &quot;x&quot;  # --bar x</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-getopts_source')" id="l_method-i-getopts_source">show</a>
                
              </p>
              <div id="method-i-getopts_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1466</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">getopts</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">default_argv</span>
  <span class="ruby-identifier">single_options</span>, *<span class="ruby-identifier">long_options</span> = *<span class="ruby-identifier">args</span>

  <span class="ruby-identifier">result</span> = {}

  <span class="ruby-identifier">single_options</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">%r(.)(:)?/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span>, <span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;-#{opt} VAL&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;-#{opt}&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">single_options</span>

  <span class="ruby-identifier">long_options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">opt</span>, <span class="ruby-identifier">val</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">':'</span>, <span class="ruby-number">2</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-identifier">val</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">val</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;--#{opt} VAL&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">define</span>(<span class="ruby-node">&quot;--#{opt}&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">parse_in_order</span>(<span class="ruby-identifier">argv</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:[]=</span>))
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-help">
            
              <a name="method-i-help"></a><b>help</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns option summary string.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="OptionParser.html#method-i-to_s">to_s</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-help_source')" id="l_method-i-help_source">show</a>
                
              </p>
              <div id="method-i-help_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1068</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help</span>; <span class="ruby-identifier">summarize</span>(<span class="ruby-identifier">banner</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r\n?\z/</span>, <span class="ruby-string">&quot;\n&quot;</span>)) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inc">
            
              <a name="method-i-inc"></a><b>inc</b>(*args)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inc_source')" id="l_method-i-inc_source">show</a>
                
              </p>
              <div id="method-i-inc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 863</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inc</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">inc</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-load">
            
              <a name="method-i-load"></a><b>load</b>(filename = nil)
            
          </div>
          
          
            <div class="description">
              <p>Loads options from file names as <code>filename</code>. Does nothing when
the file is not present. Returns whether successfully loaded.</p>

<p><code>filename</code> defaults to basename of the program without suffix in
a directory ~/.options.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-load_source')" id="l_method-i-load_source">show</a>
                
              </p>
              <div id="method-i-load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1584</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">load</span>(<span class="ruby-identifier">filename</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">filename</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">'.*'</span>), <span class="ruby-string">'~/.options'</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parse</span>(*<span class="ruby-constant">IO</span>.<span class="ruby-identifier">readlines</span>(<span class="ruby-identifier">filename</span>).<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">chomp!</span>})
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOTDIR</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-make_switch">
            
              <a name="method-i-make_switch"></a><b>make_switch</b>(opts, block = nil)
            
          </div>
          
          
            <div class="description">
              <p>Creates an <a href="OptionParser/Switch.html">OptionParser::Switch</a> from
the parameters. The parsed argument value is passed to the given block,
where it can be processed.</p>

<p>See at the beginning of <a href="OptionParser.html">OptionParser</a> for
some full examples.</p>

<p><code>opts</code> can include the following elements:</p>
<dl class="rdoc-list label-list"><dt>Argument style:
<dd>
<p>One of the following:</p>

<pre>:NONE, :REQUIRED, :OPTIONAL</pre>
</dd><dt>Argument pattern:
<dd>
<p>Acceptable option argument format, must be pre-defined with <a
href="OptionParser.html#method-i-accept">#accept</a> or <a
href="OptionParser.html#method-i-accept">#accept</a>, or <a
href="Regexp.html">Regexp</a>. This can appear once or assigned as String
if not present, otherwise causes an <a
href="ArgumentError.html">ArgumentError</a>. Examples:</p>

<pre>Float, Time, Array</pre>
</dd><dt>Possible argument values:
<dd>
<p><a href="Hash.html">Hash</a> or Array.</p>

<pre class="ruby">[:<span class="ruby-identifier">text</span>, :<span class="ruby-identifier">binary</span>, :<span class="ruby-identifier">auto</span>]
<span class="ruby-node">%w[iso-2022-jp shift_jis euc-jp utf8 binary]</span>
{ <span class="ruby-string">&quot;jis&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;iso-2022-jp&quot;</span>, <span class="ruby-string">&quot;sjis&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;shift_jis&quot;</span> }
</pre>
</dd><dt>Long style switch:
<dd>
<p>Specifies a long style switch which takes a mandatory, optional or no
argument. Itâ€™s a string of the following form:</p>

<pre>&quot;--switch=MANDATORY&quot; or &quot;--switch MANDATORY&quot;
&quot;--switch[=OPTIONAL]&quot;
&quot;--switch&quot;</pre>
</dd><dt>Short style switch:
<dd>
<p>Specifies short style switch which takes a mandatory, optional or no
argument. Itâ€™s a string of the following form:</p>

<pre>&quot;-xMANDATORY&quot;
&quot;-x[OPTIONAL]&quot;
&quot;-x&quot;</pre>

<p>There is also a special form which matches character range (not full set of
regular expression):</p>

<pre>&quot;-[a-z]MANDATORY&quot;
&quot;-[a-z][OPTIONAL]&quot;
&quot;-[a-z]&quot;</pre>
</dd><dt>Argument style and description:
<dd>
<p>Instead of specifying mandatory or optional arguments directly in the
switch parameter, this separate parameter can be used.</p>

<pre>&quot;=MANDATORY&quot;
&quot;=[OPTIONAL]&quot;</pre>
</dd><dt>Description:
<dd>
<p>Description string for the option.</p>

<pre>&quot;Run verbosely&quot;</pre>
</dd><dt>Handler:
<dd>
<p>Handler for the parsed argument value. Either give a block or pass a <a
href="Proc.html">Proc</a> or <a href="Method.html">Method</a> as an
argument.</p>
</dd></dl>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-make_switch_source')" id="l_method-i-make_switch_source">show</a>
                
              </p>
              <div id="method-i-make_switch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1152</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">make_switch</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">block</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-identifier">nolong</span>, <span class="ruby-identifier">style</span>, <span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span>, <span class="ruby-identifier">not_style</span> = [], [], []
  <span class="ruby-identifier">ldesc</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">arg</span> = [], [], []
  <span class="ruby-identifier">default_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
  <span class="ruby-identifier">default_pattern</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">klass</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># argument class</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">not_style</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">not_style</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
        <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pat</span>, <span class="ruby-identifier">c</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># directly specified pattern(any object possible to match)</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span>(<span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Symbol</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">o</span>)) <span class="ruby-keyword">and</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:match</span>)
      <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">pattern</span>, <span class="ruby-string">'pattern'</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert</span>)
        <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:convert</span>).<span class="ruby-identifier">to_proc</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">conv</span> = <span class="ruby-constant">SPLAT_PROC</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># anything others</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">o</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Proc</span>, <span class="ruby-constant">Method</span>
      <span class="ruby-identifier">block</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">block</span>, <span class="ruby-string">'block'</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>, <span class="ruby-constant">Hash</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-keyword">when</span> <span class="ruby-constant">CompletingHash</span>
      <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">pattern</span> = <span class="ruby-constant">CompletingHash</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:convert</span>).<span class="ruby-identifier">to_proc</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:convert</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;argument pattern given twice&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">pat</span>, *<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pattern</span>[<span class="ruby-identifier">pat</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-number">0</span>) {<span class="ruby-identifier">pat</span>}}
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Module</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unsupported argument type: #{o}&quot;</span>, <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-identifier">caller</span>(<span class="ruby-number">4</span>))
    <span class="ruby-keyword">when</span> *<span class="ruby-constant">ArgumentStyle</span>.<span class="ruby-identifier">keys</span>
      <span class="ruby-identifier">style</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">ArgumentStyle</span>[<span class="ruby-identifier">o</span>], <span class="ruby-identifier">style</span>, <span class="ruby-string">'style'</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^--no-([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">a</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">:</span> <span class="ruby-constant">TrueClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
      <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">not_style</span>
      <span class="ruby-identifier">not_style</span> = (<span class="ruby-identifier">not_style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
      <span class="ruby-identifier">default_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
      <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">FalseClass</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--no-#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'no-'</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">q</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
      <span class="ruby-identifier">nolong</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">q</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^--\[no-\]([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">a</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">:</span> <span class="ruby-constant">TrueClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--[no-]#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">o</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
      <span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">FalseClass</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">not_style</span>
      <span class="ruby-identifier">not_style</span> = <span class="ruby-constant">Switch</span><span class="ruby-operator">::</span><span class="ruby-constant">NoArgument</span>
      <span class="ruby-identifier">nolong</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'no-'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">o</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^--([^\[\]=\s]*)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">NilClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">ldesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--#{q}&quot;</span>
      <span class="ruby-identifier">long</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">o</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">downcase</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^-(\[\^?\]?(?:[^\\\]]|\\.)*\])(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">Object</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">sdesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-#{q}&quot;</span>
      <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">q</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^-(.)(.+)?/</span>
      <span class="ruby-identifier">q</span>, <span class="ruby-identifier">a</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
        <span class="ruby-identifier">o</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-constant">NilClass</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-string">'type'</span>)
        <span class="ruby-identifier">default_style</span> = <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">o</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">sdesc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-#{q}&quot;</span>
      <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">q</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^=/</span>
      <span class="ruby-identifier">style</span> = <span class="ruby-identifier">notwice</span>(<span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-identifier">o</span>), <span class="ruby-identifier">style</span>, <span class="ruby-string">'style'</span>)
      <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-constant">Object</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">o</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">default_pattern</span>, <span class="ruby-identifier">conv</span> = <span class="ruby-identifier">search</span>(<span class="ruby-value">:atype</span>, <span class="ruby-identifier">default_style</span>.<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">default_pattern</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">short</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">empty?</span>)
    <span class="ruby-identifier">s</span> = (<span class="ruby-identifier">style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pattern</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_pattern</span>,
                                     <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">ldesc</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">style</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;no switch given&quot;</span>, <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-identifier">caller</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">s</span> = <span class="ruby-identifier">desc</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">short</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">pattern</span>
    <span class="ruby-identifier">s</span> = (<span class="ruby-identifier">style</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_style</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pattern</span>,
                                     <span class="ruby-identifier">conv</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>,
    (<span class="ruby-identifier">not_style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">not_pattern</span>, <span class="ruby-identifier">not_conv</span>, <span class="ruby-identifier">sdesc</span>, <span class="ruby-identifier">ldesc</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">not_style</span>),
    <span class="ruby-identifier">nolong</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new">
            
              <a name="method-i-new"></a><b>new</b>()
            
          </div>
          
          
            <div class="description">
              <p>Pushes a new <a href="OptionParser/List.html">List</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new_source')" id="l_method-i-new_source">show</a>
                
              </p>
              <div id="method-i-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1034</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new</span>
  <span class="ruby-ivar">@stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on">
            
              <a name="method-i-on"></a><b>on</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Add option switch and handler. See <a
href="OptionParser.html#method-i-make_switch">make_switch</a> for an
explanation of parameters.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_source')" id="l_method-i-on_source">show</a>
                
              </p>
              <div id="method-i-on_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1285</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_head">
            
              <a name="method-i-on_head"></a><b>on_head</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Add option switch like with <a href="OptionParser.html#method-i-on">on</a>,
but at head of summary.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_head_source')" id="l_method-i-on_head_source">show</a>
                
              </p>
              <div id="method-i-on_head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1299</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_head</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_head</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_tail">
            
              <a name="method-i-on_tail"></a><b>on_tail</b>(*opts, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Add option switch like with <a href="OptionParser.html#method-i-on">on</a>,
but at tail of summary.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_tail_source')" id="l_method-i-on_tail_source">show</a>
                
              </p>
              <div id="method-i-on_tail_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1313</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_tail</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_tail</span>(*<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-order">
            
              <a name="method-i-order"></a><b>order</b>(*argv, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in order. When a block is
given, each non-option argument is yielded.</p>

<p>Returns the rest of <code>argv</code> left unparsed.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-order_source')" id="l_method-i-order_source">show</a>
                
              </p>
              <div id="method-i-order_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1332</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">order</span>(*<span class="ruby-identifier">argv</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-order-21">
            
              <a name="method-i-order-21"></a><b>order!</b>(argv = default_argv, &amp;nonopt)
            
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-order">order</a>, but removes
switches destructively.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-order-21_source')" id="l_method-i-order-21_source">show</a>
                
              </p>
              <div id="method-i-order-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">order!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>, &amp;<span class="ruby-identifier">nonopt</span>)
  <span class="ruby-identifier">parse_in_order</span>(<span class="ruby-identifier">argv</span>, &amp;<span class="ruby-identifier">nonopt</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parse">
            
              <a name="method-i-parse"></a><b>parse</b>(*argv)
            
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-parse_source')" id="l_method-i-parse_source">show</a>
                
              </p>
              <div id="method-i-parse_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1441</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">parse</span>(*<span class="ruby-identifier">argv</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">argv</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parse-21">
            
              <a name="method-i-parse-21"></a><b>parse!</b>(argv = default_argv)
            
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-parse">parse</a>, but removes
switches destructively.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-parse-21_source')" id="l_method-i-parse-21_source">show</a>
                
              </p>
              <div id="method-i-parse-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1449</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">parse!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">'POSIXLY_CORRECT'</span>)
    <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">permute!</span>(<span class="ruby-identifier">argv</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-permute">
            
              <a name="method-i-permute"></a><b>permute</b>(*argv)
            
          </div>
          
          
            <div class="description">
              <p>Parses command line arguments <code>argv</code> in permutation mode and
returns list of non-option arguments.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-permute_source')" id="l_method-i-permute_source">show</a>
                
              </p>
              <div id="method-i-permute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1422</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">permute</span>(*<span class="ruby-identifier">argv</span>)
  <span class="ruby-identifier">argv</span> = <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">argv</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">permute!</span>(<span class="ruby-identifier">argv</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-permute-21">
            
              <a name="method-i-permute-21"></a><b>permute!</b>(argv = default_argv)
            
          </div>
          
          
            <div class="description">
              <p>Same as <a href="OptionParser.html#method-i-permute">permute</a>, but
removes switches destructively.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-permute-21_source')" id="l_method-i-permute-21_source">show</a>
                
              </p>
              <div id="method-i-permute-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1430</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">permute!</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-identifier">default_argv</span>)
  <span class="ruby-identifier">nonopts</span> = []
  <span class="ruby-identifier">order!</span>(<span class="ruby-identifier">argv</span>, &amp;<span class="ruby-identifier">nonopts</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:&lt;&lt;</span>))
  <span class="ruby-identifier">argv</span>[<span class="ruby-number">0</span>, <span class="ruby-number">0</span>] = <span class="ruby-identifier">nonopts</span>
  <span class="ruby-identifier">argv</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-program_name">
            
              <a name="method-i-program_name"></a><b>program_name</b>()
            
          </div>
          
          
            <div class="description">
              <p>Program name to be emitted in error message and default banner, defaults to
$0.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-program_name_source')" id="l_method-i-program_name_source">show</a>
                
              </p>
              <div id="method-i-program_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 969</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">program_name</span>
  <span class="ruby-ivar">@program_name</span> <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">$0</span>, <span class="ruby-string">'.*'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reject">
            
              <a name="method-i-reject"></a><b>reject</b>(*args, &amp;blk)
            
          </div>
          
          
            <div class="description">
              <p>Directs to reject specified class argument.</p>
<dl class="rdoc-list note-list"><dt>t
<dd>
<p>Argument class specifier, any object including <a
href="Class.html">Class</a>.</p>
</dd></dl>

<pre>reject(t)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reject_source')" id="l_method-i-reject_source">show</a>
                
              </p>
              <div id="method-i-reject_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 928</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reject</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-identifier">top</span>.<span class="ruby-identifier">reject</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-release">
            
              <a name="method-i-release"></a><b>release</b>()
            
          </div>
          
          
            <div class="description">
              <p>Release code</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-release_source')" id="l_method-i-release_source">show</a>
                
              </p>
              <div id="method-i-release_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 994</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">release</span>
  <span class="ruby-ivar">@release</span> <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Release</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Release</span>) <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RELEASE</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">RELEASE</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove">
            
              <a name="method-i-remove"></a><b>remove</b>()
            
          </div>
          
          
            <div class="description">
              <p>Removes the last <a href="OptionParser/List.html">List</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_source')" id="l_method-i-remove_source">show</a>
                
              </p>
              <div id="method-i-remove_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1046</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove</span>
  <span class="ruby-ivar">@stack</span>.<span class="ruby-identifier">pop</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-separator">
            
              <a name="method-i-separator"></a><b>separator</b>(string)
            
          </div>
          
          
            <div class="description">
              <p>Add separator in summary.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-separator_source')" id="l_method-i-separator_source">show</a>
                
              </p>
              <div id="method-i-separator_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1322</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">separator</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">top</span>.<span class="ruby-identifier">append</span>(<span class="ruby-identifier">string</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-summarize">
            
              <a name="method-i-summarize"></a><b>summarize</b>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)
            
          </div>
          
          
            <div class="description">
              <p>Puts option summary into <code>to</code> and returns <code>to</code>.
Yields each line if a block is given.</p>
<dl class="rdoc-list note-list"><dt>to
<dd>
<p>Output destination, which must have method &lt;&lt;. Defaults to [].</p>
</dd><dt><code>width</code>
<dd>
<p>Width of left side, defaults to @summary_width.</p>
</dd><dt><code>max</code>
<dd>
<p>Maximum length allowed for left side, defaults to <code>width</code> - 1.</p>
</dd><dt><code>indent</code>
<dd>
<p>Indentation, defaults to @summary_indent.</p>
</dd></dl>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-summarize_source')" id="l_method-i-summarize_source">show</a>
                
              </p>
              <div id="method-i-summarize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1059</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">summarize</span>(<span class="ruby-identifier">to</span> = [], <span class="ruby-identifier">width</span> = <span class="ruby-ivar">@summary_width</span>, <span class="ruby-identifier">max</span> = <span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">indent</span> = <span class="ruby-ivar">@summary_indent</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">blk</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-identifier">to</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">l</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">$/</span>, <span class="ruby-number">-1</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$/</span>)}
  <span class="ruby-identifier">visit</span>(<span class="ruby-value">:summarize</span>, {}, {}, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">indent</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">to</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-terminate">
            
              <a name="method-i-terminate"></a><b>terminate</b>(arg = nil)
            
          </div>
          
          
            <div class="description">
              <p>Terminates option parsing. Optional parameter <code>arg</code> is a string
pushed back to be the first non-option argument.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-terminate_source')" id="l_method-i-terminate_source">show</a>
                
              </p>
              <div id="method-i-terminate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 896</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">terminate</span>(<span class="ruby-identifier">arg</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">terminate</span>(<span class="ruby-identifier">arg</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_a">
            
              <a name="method-i-to_a"></a><b>to_a</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns option summary list.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_a_source')" id="l_method-i-to_a_source">show</a>
                
              </p>
              <div id="method-i-to_a_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1074</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_a</span>; <span class="ruby-identifier">summarize</span>(<span class="ruby-identifier">banner</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">dup</span>) <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <a name="method-i-to_s"></a><b>to_s</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-top">
            
              <a name="method-i-top"></a><b>top</b>()
            
          </div>
          
          
            <div class="description">
              <p>Subject of <a href="OptionParser.html#method-i-on">on</a> / <a
href="OptionParser.html#method-i-on_head">on_head</a>, <a
href="OptionParser.html#method-i-accept">accept</a> / <a
href="OptionParser.html#method-i-reject">reject</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-top_source')" id="l_method-i-top_source">show</a>
                
              </p>
              <div id="method-i-top_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1020</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">top</span>
  <span class="ruby-ivar">@stack</span>[<span class="ruby-number">-1</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ver">
            
              <a name="method-i-ver"></a><b>ver</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns version string from <a
href="OptionParser.html#method-i-program_name">#program_name</a>, version
and release.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-ver_source')" id="l_method-i-ver_source">show</a>
                
              </p>
              <div id="method-i-ver_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1001</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ver</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-identifier">version</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;#{program_name} #{[v].join('.')}&quot;</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{v})&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-identifier">release</span>
    <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-version">
            
              <a name="method-i-version"></a><b>version</b>()
            
          </div>
          
          
            <div class="description">
              <p>Version</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-version_source')" id="l_method-i-version_source">show</a>
                
              </p>
              <div id="method-i-version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 987</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">version</span>
  <span class="ruby-ivar">@version</span> <span class="ruby-operator">||</span> (<span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Version</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Version</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-warn">
            
              <a name="method-i-warn"></a><b>warn</b>(mesg = $!)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-warn_source')" id="l_method-i-warn_source">show</a>
                
              </p>
              <div id="method-i-warn_source" class="dyn-source">
                <pre><span class="ruby-comment"># File /Users/fschumac/.rvm/src/ruby-1.9.3-p0/lib/optparse.rb, line 1009</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">warn</span>(<span class="ruby-identifier">mesg</span> = <span class="ruby-identifier">$!</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-node">&quot;#{program_name}: #{mesg}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    